//>>built
require({cache:{"xl/player/PlayerViewer":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-style dojo/text!./templates/PlayerViewer.html xl/player/_PlayerViewerBase".split(" "),function(s,q,l,h,n,f){return s("xl.player.PlayerViewer",[f,q,l],{templateString:n,baseClass:"playerViewer",buttonShowWorkClass:"showWork",widgetsInTemplate:!0,constructor:function(f){this.inherited(arguments)},getMenu:function(){return this.menu},getMenuHolder:function(){return this.menuHolder},
getRemediationButton:function(){return this.remediationButton},updateTitle:function(f,c){this.inherited(arguments);this.statusTitle.innerHTML=f||"";this.statusTitle.title=c||""},_updateMasteryInfo:function(f,c){this.inherited(arguments);this.isRemediationQuestion?this._setBarMasteryGroup(c,f.masteryReasonCode,f.masteryTopic,this.masteryLevel):(h.set(this.barMasteryGroup,{display:"none"}),this.messageMastery.innerHTML="",this.updateStatusTitleGroup())}})})},"xl/player/_PlayerViewerBase":function(){define("dojo/_base/declare dojo/json xl/util/logger ./PlayerController ./actions/ActionHandler dijit/focus dojo/dom-attr dojo/dom-style dojo/dom dojo/dom-class dojo/dom-geometry dojo/topic dojo/touch dojo/when dojo/_base/kernel dojo/query dijit/registry dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/BorderContainer dijit/form/Button dojo/on dojo/_base/connect dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/promise/all dojo/has dijit/DialogUnderlay dijit/Dialog dijit/ProgressBar xl/player/PlayerControlPanel xl/player/PlayerControlPanelMobile xl/util/array xl/dijit-bootstrap/bootstrapUtils dojo/_base/config xl/player/controls/MultipleChoice xl/player/controls/MultipleChoiceAnswer xl/player/controls/VectorMoment xl/player/ContentPanel dijit/Menu dijit/MenuItem dijit/MenuSeparator dijit/CheckedMenuItem xl/player/controls/Fillin xl/player/controls/MathImage xl/player/controls/InputField xl/player/controls/AccessibleInputField xl/player/PlayerMenu xl/player/controls/RolloverStep xl/player/controls/PopupStep xl/player/controls/WebLink xl/eqeditor/EqLabel xl/player/controls/MathPalette xl/player/controls/InlineMathPalette xl/player/controls/Tab xl/dijit-bootstrap/Button xl/player/controls/Collection xl/player/controls/AccountingTable xl/player/controls/DataTable xl/player/controls/NumberUnits xl/player/controls/AccessibleNumberUnits xl/player/controls/XYGraph xl/player/controls/XYGraphMobile xl/player/controls/XYCursor xl/figure/Figure xl/grapher/NumberLine xl/grapher/NumberLineCursor xl/grapher/IPBarChart xl/grapher/IPPieChart xl/editgraph/GraphControl xl/player/controls/SDGrapherButton xl/player/controls/EssayMceEditor xl/player/LearningAidMenu xl/player/controls/Timeline xl/player/forms/MediaPreReqsForm xl/player/forms/MediaLandingPageForm xl/player/ExternalPlayer xl/player/AssignedMediaDropdown xl/player/forms/PartnerGradedForm xl/player/forms/CalculatorForm xl/player/forms/GradePanel xl/player/forms/EmbeddedMediaForm xl/util/localStore xl/player/tdxInfoDialog xl/grammarapply/GrammarApply xl/grammarapply/GrammarApplyInfoPanel xl/grammarapply/GrammarApplyControlPanel xl/draganddrop/DragSource xl/draganddrop/DragSourceContainer xl/draganddrop/DropTarget xl/draganddrop/DropTargetContainer xl/draganddrop/DragItem xl/draganddrop/DnDLabeling xl/draganddrop/DnDVocab xl/draganddrop/DnDSorting xl/draganddrop/DnDRanking xl/util/localization!html5player/popup xl/player/dialogs/ConfirmationDialog xl/util/standbyHandler xl/util/localization!html5player/player xl/player/controls/IdleCheck xl/player/dialogs/CountdownDialog xl/player/controls/Image xl/player/controls/AccessibleFillin xl/player/controls/StepAction xl/player/controls/Hint xl/player/dialogs/HintDialog xl/draganddrop/DropTargetEquivalency xl/draganddrop/DropTargetContainerEquivalency xl/draganddrop/DnDNestedTarget xl/draganddrop/DnDFreeSpace ./RemediationReasonCodes ./RemediationTopics xl/assignment/AssignmentEnums xl/player/dialogs/CommunicationErrorDialog xl/util/DijitLoadMonitor xl/util/AriaAttributes xl/util/stringUtils xl/util/gaLogger".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W,$,U,ba,da,X,fa,ga,aa,Z,ca,ia,la,ja,ha,N,ea,ka,Y,pa,ua,ya,za,Aa,ra,oa,Ba,Ca,sa,Ea,wa,Fa,ma,na,Ia,La,Ma,Na,Oa,Pa,Ja,Qa,Ra,Ga,xa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,Ka,ta,va,Sa,Ta,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,Da,qa,Ua,Va,Wa,sb,tb,Ha){return s("xl.player._PlayerViewerBase",[D,z],{_controller:null,_actionsHandler:null,_problemState:null,_problemSettings:null,_postUrl:null,_downloadUrl:null,tabStyles:null,sequenceNodeId:null,
playMode:"",showAltText:!1,popups:null,_postingCommand:null,_calculator:null,_lastFocusedInput:null,_title:null,_correctness:null,isAdaptive:!1,isReview:!1,_waitingForAdaptiveQuestion:!1,_pendingActions:null,_pendingCommands:null,_errorLoading:!1,_idleCheck:null,iconShowWorkClass:null,uiMode:"Desktop",_questionStatus:null,otherInputParents:null,disableCheckAnswerButton:!1,remediationTitlePrerequisite:!1,communicationErrorDialog:null,_debugFocus:!1,activityFormat:null,_dijitLoadMonitor:null,autoHeight:!1,
feedbackOpened:!1,profView:!1,problemType:"",isMedia:!1,contentName:"",viewerResizedByWindow:!1,viewerResizedByXYGraph:!1,correctnessIconHost:null,useSentenceCase:!1,setHeaderFocus:!0,_timeoutDeferred:null,isTdx2:!1,constructor:function(a){this._controller=a.controller;this.isTdx2=a.isTdx2;this._parent=a.parent;this._actionHandler=new xl.player.actions.ActionHandler;this._log=[];this._inputList=[];this.popups=[];this.otherInputParents={};this._pendingCommands=[];this._pendingActions=[];this.tabStyles=
{};this.locPlayer=a.locPlayer||Sa;this.fpPopupRes=a.fpPopupRes||Ka;this.communicationErrorDialog=Va;if(null==this._controller)throw Error("The player viewer requires a controller object.");this.own(x.subscribe("input_added",w.hitch(this,this.inputAdded)),x.subscribe("input_removed",w.hitch(this,this.inputRemoved)),x.subscribe("update_message",w.hitch(this,this.updateMessage)),k.subscribe("invalidate_layout",w.hitch(this,this._invalidateLayout)));a=Ga.getItem("showAltText");this.showAltText=null!=
a&&("true"===a||!0===a);this._debugFocus&&this._debugFocusMessages()},_debugFocusMessages:function(){f.watch("curNode",function(a,b,t){console.log("Focused node was",b,"now is",t)});f.watch("activeStack",function(a,b,t){console.log("Focused widget + ancestors: ",t.join(", "))});f.on("widget-focus",function(a){console.log("Focused widget",a)});f.on("widget-blur",function(a){console.log("Blurred widget",a)})},_onKeyDown:function(a){var b=/INPUT|SELECT|TEXTAREA|PASSWORD|FILE/i;if(8===a.keyCode&&(!b.test(a.target.tagName)||
a.target.disabled||a.target.readOnly))a.preventDefault(),a.stopPropagation()},postCreate:function(){this.inherited(arguments);this.mathPalette&&(this.mathPalette.owner=this);this.menu&&(this.menu.on("commandSent",w.hitch(this,this.postCommand)),this.menu.on("playActions",w.hitch(this,this.playActions)));this.own(A(document,"keydown",w.hitch(this,this._onKeyDown)),A(document,"keypress",w.hitch(this,this._onKeyDown)),A(this.domNode,"input_changed",w.hitch(this,this.inputChanged)),A(this.domNode,"input_entered",
w.hitch(this,this._inputEntered)),A(this.domNode,"sample_essay",w.hitch(this,this.sampleEssayClicked)),A(this.domNode,"input_clicked",w.hitch(this,this._inputClickedEvent)),k.subscribe("input_clicked",w.hitch(this,this._inputClickedTopic)),A(document,"click",w.hitch(this,this._onClick)),A(document,"focus",w.hitch(this,this._onFocus)));H("ios8")&&(b.add(this.domNode,"ios8"),b.add(this.domNode.ownerDocument.body,"ios8"));this._dijitLoadMonitor=new Wa(this);this.correctnessIconHost=this.iconResult},
setupKeyboard:function(a){(this.keyboard=a)&&this.own(A(this.keyboard,"show",w.hitch(this,this._keyboardShown)),A(this.keyboard,"hide",w.hitch(this,this._keyboardHidden)))},_keyboardShown:function(){this._keyboardVisible=!0},_keyboardHidden:function(){this._keyboardVisible=!1;this._parent&&this._parent.resize&&this._parent.resize()},_log:null,log:function(a){if(a instanceof Array){var b=this;M.forEach(a,function(a){b._log.push(a)})}else this._log.push(a)},updateResultIcon:function(a,t,c,d){var e=
["incorrect","partial","correct","warningicon"],k="";(this._warningResultText=c)&&(a="warningicon");this.correctnessIconHost.title=c?c:"";a||t?((this._correctness=a)&&(k=a.toLowerCase()),d&&(d.requestedResult.isEssay&&!d.requestedResult.graded)&&(k=""),b.replace(this.correctnessIconHost,k,e),this._updateTitleGroup(k)):this._hasIconResultClass(e)||this._updateTitleGroup(k)},_updateTitleGroup:function(a){switch(a){case "correct":a=this.locPlayer["acc.correct"];break;case "partial":a=this.locPlayer["acc.partial_correct"];
break;case "incorrect":a=this.locPlayer["acc.incorrect"];break;default:a=""}this.accResult.innerHTML=a+", ";this.updateStatusTitleGroup();this.updateItemScoreIconTooltip(this._warningResultText||a||this.locPlayer["acc.incomplete"])},_hasIconResultClass:function(a){var t=this;return a.some(function(a){return b.contains(t.correctnessIconHost,a)})},updateStatusTitleGroup:function(){var a=this.isRemediationQuestion&&!this.isReview;c.set(this.statusTitleGroup,{display:(this._title||this._correctness)&&
!a?"":"none"})},_updateMasteryInfo:function(a,b){a.skillBuilderMasteryLevel&&(this.masteryLevel=a.skillBuilderMasteryLevel);var t=a.masteryReasonCode,c=a.masteryTopic;this.remediationTitlePrerequisite=!1;if(t||c)this.hadPrevPrerequisiteItem=t===Da.PrerequisiteItem||c===qa.Prerequisite||t===Da.ProgressingSlowly&&this.hadPrevPrerequisiteItem;c===qa.Target&&(this.remediationTitlePrerequisite=!1);this.isRemediationQuestion||(this.prevTopicCode=null);c&&c!==this.prevTopicCode&&(this.handleMasteryTopicTransition(c),
this.prevTopicCode=c)},_setBarMasteryGroup:function(a,b,t,d){if(this._isRemediationTitlePrerequisite(a,b,t))this.remediationTitlePrerequisite=!0,c.set(this.barMastery,{display:"none"});else{if(d||0===d)if(this.updateMasteryBar(d),b||!this.hadPrevPrerequisiteItem)this.messageMastery.innerHTML=this.getMasteryMessage(d,b,t);if(b){a="";if(b===Da.PrerequisiteItem||t===qa.Prerequisite)a="none",this.remediationTitlePrerequisite=!0;c.set(this.barMastery,{display:a})}}c.set(this.barMasteryGroup,{display:""});
c.set(this.statusTitleGroup,{display:"none"})},_setSkillBuilderLevel:function(a,t,c,d){this._isRemediationTitlePrerequisite(a,t,c)?this.remediationTitlePrerequisite=!0:(b.remove(this.skillBuilderProgressLevel1,"levelOne"),b.remove(this.skillBuilderProgressLevel2,"levelTwo"),b.remove(this.skillBuilderProgressLevel3,"levelThree"),b.remove(this.skillBuilderProgressLevel1,"levelOneCompleate"),b.remove(this.skillBuilderProgressLevel2,"levelTwoCompleate"),b.remove(this.skillBuilderProgressLevel3,"levelThreeCompleate"),
1===d?(b.add(this.skillBuilderProgressLevel1,"levelOneCompleate"),b.add(this.skillBuilderProgressLevel2,"levelTwo"),b.add(this.skillBuilderProgressLevel3,"levelThree"),this.skillBuilderProgressLevel.innerHTML="Level 1"):2===d?(b.add(this.skillBuilderProgressLevel1,"levelOneCompleate"),b.add(this.skillBuilderProgressLevel2,"levelTwoCompleate"),b.add(this.skillBuilderProgressLevel3,"levelThree"),this.skillBuilderProgressLevel.innerHTML="Level 2"):3===d?(b.add(this.skillBuilderProgressLevel1,"levelOneCompleate"),
b.add(this.skillBuilderProgressLevel2,"levelTwoCompleate"),b.add(this.skillBuilderProgressLevel3,"levelThreeCompleate"),this.skillBuilderProgressLevel.innerHTML="Level 3"):(b.add(this.skillBuilderProgressLevel1,"levelOne"),b.add(this.skillBuilderProgressLevel2,"levelTwo"),b.add(this.skillBuilderProgressLevel3,"levelThree"),this.skillBuilderProgressLevel.innerHTML="Level 0"))},_isRemediationTitlePrerequisite:function(a,b,t){return a&&this.hadPrevPrerequisiteItem||this.hadPrevPrerequisiteItem&&b===
Da.ProgressingSlowly&&t!==qa.Target?!0:!1},handleMasteryTopicTransition:function(a){var b=null;a===qa.Prerequisite&&this.prevTopicCode===qa.Target?b=this.fpPopupRes.skillbuilder_topic_to_prerequisite:a===qa.Target&&this.prevTopicCode===qa.Prerequisite&&(b=this.fpPopupRes.skillbuilder_topic_to_target);b&&(a=ta.BUTTON.OK,a["default"]=!0,ta.displayText(b,this.fpPopupRes.skillbuilder_topic_title,[a],null,"adaptiveConfirmationDialog"))},updateMasteryInfo:function(a){this._updateMasteryInfo(a,!0)},updateMasteryBar:function(a){a||
(a=0);b.replace(this.barMastery,"SkillLevel"+a,["SkillLevel0","SkillLevel1","SkillLevel2","SkillLevel3"])},getMasteryMessage:function(a,b,t){if(b===Da.PrerequisiteItem||t===qa.Prerequisite)return this.locPlayer["ah.masterymessagepre"];a||(a=0);return this.locPlayer["ah.masterymessage"+a]},updateTitle:function(a,b){this._title=a;this.updateStatusTitleGroup()},_skillBuilderTitlePrefix:function(){return(this.remediationTitlePrerequisite?this.locPlayer.prerequisite:this.locPlayer.objective)+": "},updateSkillBuilderTitle:function(a){a=
a?this._skillBuilderTitlePrefix()+a:this.locPlayer["acc.skillbuilder"];this.sendAssignmentAction({action:"updateremediationtitle",value:{title:a,buttonLabel:this.locPlayer["button.returntohw"]}})},resetDisplay:function(){this.mathPalette&&this.mathPalette.isInline&&this.mathPalette._hide();C.empty(this.ariaContentHolder)},initDisplay:function(a){this.isAdaptive=a.isAdaptive;this.isReview=a.isReview;this.isStopAndResume=a.isStopAndResume;this.isPreview=a.isPreview;this.isRemediationQuestion=a.isRemediationQuestion;
this.masteryLevel=a.skillBuilderMasteryLevel;this.updateTitle(a.title,a.tooltip);this.updateResultIcon(null);this._updateMasteryInfo(a);this.uiMode=a.uiMode;this.activityFormat=a.activityFormat;this.previewUnrolled=a.previewUnrolled;this.profView=a.profView;this.problemType=a.problemType;this.isMedia=a.isMedia;this.contentName=a.contentName;Ha.setProblemInfo(a.problemType,a.isMedia,a.contentName);this.isSkillBuilderRequired=a.isSkillBuilderRequired;a.isRemediationQuestion&&this.updateSkillBuilderTitle(a.skillBuilderTitle);
if(a.playMode){this.playMode=a.playMode;var t="playmode-"+this.playMode.toLowerCase();b.replace(this.domNode,t,["playmode-test","playmode-homework","playmode-normal"])}this.setupControlPanel();this.remediationButton=this.getRemediationButton();this.showHelpButton=a.showHelpButton;this.helpButton&&(R.setVisible(this.helpButton,a.showHelpButton),this.helpButton.set("aria-label",this.locPlayer["acc.help"]),this.helpButton.set("title",this.locPlayer["acc.help"]));this.showRemediationButton=a.showRemediationButton;
R.setVisible(this.remediationButton,a.showRemediationButton);t=this.isReview&&!this.isPreview?this.locPlayer["acc.reviewskillbuilder"]:this.locPlayer["acc.skillbuilder"];this.remediationButton.set("disabled",!a.enableRemediationButton&&!a.isPreview);this.remediationButton.set("aria-label",t);this.remediationButton.set("title",t);this.remediationButton.set("label",t);a.printMessage&&(this.printErrorMessageDiv?this.printErrorMessageDiv.innerHTML=a.printMessage:(this.printErrorMessageDiv=C.create("div",
{"class":"printErrorMessage",innerHTML:a.printMessage},document.body),b.add(this.domNode,"hidePrinted")));a.playMode&&(this.playMode=a.playMode,t="playmode-"+this.playMode.toLowerCase(),b.replace(this.domNode,t,["playmode-test","playmode-homework","playmode-normal"]));a.previewUnrolled?b.add(this.domNode,"previewUnrolled"):b.remove(this.domNode,"previewUnrolled");"Desktop"!==this.uiMode&&this.messagePanelContentPane&&c.set(this.messagePanelContentPane.domNode,"visibility","hidden");this.focusFirstContentFrame()},
setupMenu:function(a,b){b||(b=this.menu);if(b)if(a.dontClear||b.dropDown.destroyDescendants(!1),a.label&&(m.set(b._buttonNode,"aria-label",a.label),m.set(b._buttonNode,"title",a.label)),0==a.menuItems.length)c.set(this.getMenuHolder(),"display","none");else{c.set(this.getMenuHolder(),"display","");for(var d=0;d<a.menuItems.length;d++){var e=a.menuItems[d];if("Separator"==e.type)e=new U,b.dropDown.addChild(e);else{var k;e.isToggle?("showalttexttoggle"==e.command&&(e.initialState=this.showAltText),
k=new ba({label:e.label,checked:e.initialState,data:e})):k=new $({label:e.label,data:e});if("Command"==e.type)k.on("click",function(){this.data.isToggle&&(void 0==this.data.commandArgs&&(this.data.commandArgs={}),this.data.commandArgs.checked=this.checked);"about"==this.data.command?b.emit("commandSent",this.data.command,{dojoVersion:t.version.toString()}):b.emit("commandSent",this.data.command,this.data.commandArgs)});else if("Actions"==e.type)k.on("click",function(){b.emit("playActions",this.data.actions)});
b.dropDown.addChild(k)}}}},setupControlPanel:function(){this.controlPanel&&(this.controlPanel.destroy(),this.controlPanel=null);"Desktop"!==this.uiMode?this.controlPanel||(this.controlPanel=new Q({region:"bottom",layoutPriority:1}),A(this.controlPanel,"buttonClick",w.hitch(this,this._controlButtonClicked)),C.place(this.controlPanel.domNode,this.containerNode,"last")):this.controlPanel||(this.controlPanel=new O({region:"bottom",layoutPriority:1,className:"controlPanel"}),A(this.controlPanel,"buttonClick",
w.hitch(this,this._controlButtonClicked)),C.place(this.controlPanel.domNode,this.controlPanelContainer,"only"))},updateCtlPanel:function(a){if(this.controlPanel){var b=this.controlPanel;b.clear();a.isGrammarApply?(b.enableGrammarApplyPanel(this),this.addControlPanelButtons(a.buttons),b.finishButtonAdd(),b.updateGrammarApplyPanel()):(b.disableGrammarApplyPanel(this),b.updateProgressBar(a.progressBarStatus),this.addControlPanelButtons(a.buttons),b.finishButtonAdd(),b.isAdaptive=a.isAdaptive,b.updateNavigation(a.navigationInfo),
b.update(this))}},updateControlPanelButtonDisplay:function(){this.controlPanel.update(this)},addControlPanelButtons:function(a){var b=this.controlPanel;M.forEach(a,function(a){b.addButton(a)})},updateRemediationButton:function(a){R.setVisible(this.remediationButton,a)},updateStatusPanelFromAction:function(a){},createIdleCheck:function(a,b){this.inactivityTimeoutCountdown=b;this._idleCheck=new Ta({idleTimeout:a});this._idleCheck.start()},resetIdleCheck:function(){var a=this;this.postCommand("inactivitytimeoutreset").then(function(){a._idleCheck.reset();
a._idleCheck.start()})},getLog:function(){return this._log},_inputList:null,_isMyInput:function(a){return e.isDescendant(a.domNode,this.domNode)},_isOtherInput:function(a){for(var b in this.otherInputParents)if(this.otherInputParents.hasOwnProperty(b)&&e.isDescendant(a.domNode,this.otherInputParents[b]))return!0;return!1},_isProblemPopupInput:function(a){return this.guided&&e.isDescendant(a.domNode,this.guided.domNode)||this.sample&&e.isDescendant(a.domNode,this.sample.domNode)?!0:!1},isRegisteredInput:function(a,
b){return b?0<=this._inputList.indexOf(a)&&e.isDescendant(a.domNode,b):0<=this._inputList.indexOf(a)},getQuestionStatus:function(){return"Test"===this.playMode?this.allInputsFilled()?"Completed":this.anyInputsFilled()?"InProgress":"NotStarted":"COMPLETE"===this.tdxState?"Completed":this.anyInputsFilled(!0)?"InProgress":"NotStarted"},doQuestionStatusChanged:function(){var a=this.getQuestionStatus();if(null==this._questionStatus||a!==this._questionStatus)this._questionStatus=a,this.emit("questionstatuschanged",
{questionStatus:a})},inputChanged:function(a){a.sourceObject&&this.isRegisteredInput(a.sourceObject)&&(this.controlPanel.update(this),this.doQuestionStatusChanged())},inputAdded:function(a){this._isProblemPopupInput(a)||!this._isMyInput(a)&&!this._isOtherInput(a)||(this._inputList.push(a),this.updateAccessibleName(a))},updateAccessibleName:function(a){switch(a.declaredClass){case "xl.player.controls.Fillin":case "xl.player.controls.AccessibleFillin":a.accessibleNumber=this._getControlAriaLabelId("xl.player.controls.Fillin",
"xl.player.controls.AccessibleFillin");break;case "xl.player.controls.InputField":case "xl.player.controls.AccessibleInputField":a.accessibleNumber=this._getControlAriaLabelId("xl.player.controls.InputField","xl.player.controls.AccessibleInputField");break;case "xl.player.controls.MultipleChoice":a.accessibleNumber=this._getControlAriaLabelId("xl.player.controls.MultipleChoice");break;case "xl.player.controls.VectorMoment":a.accessibleNumber=this._getControlAriaLabelId("xl.player.controls.VectorMoment");
break;case "xl.player.controls.NumberUnits":case "xl.player.controls.AccessibleNumberUnits":a.accessibleNumber=this._getControlAriaLabelId("xl.player.controls.NumberUnits","xl.player.controls.AccessibleNumberUnits");break;default:return}a.setAccessibleAttributes()},_getControlAriaLabelId:function(a,b){var t=0;M.forEach(this._inputList,function(c){(c.declaredClass===a||c.declaredClass===b)&&t++});return t},inputRemoved:function(a){this.isRegisteredInput(a)&&M.removeItem(this._inputList,a)},_inputClickedEvent:function(a){a.sourceObject&&
(a=a.sourceObject,this.isRegisteredInput(a)&&this._inputClicked(a))},_inputClickedTopic:function(a){a&&this._inputClicked(a)},_inputClicked:function(a){this.keyboard.setHost(a);this.keyboard.show()},_inputEntered:function(a){if(!this.feedbackOpened){if(a.sourceObject){a=a.sourceObject;if(!this.isRegisteredInput(a)||this.focusToNextInput(a))return;this.blurFromInput(a)}"Test"===this.playMode?this._keyboardVisible&&this.keyboard.hide():this.disableCheckAnswerButton||this.postCommand("checkanswer")}},
focusToNextInput:function(a,b){var t,c=this.getNextUnFilledInput(a,b);t=b?this.allInputFilledInScope(b):this.allInputsFilled();!t&&c&&(c.topNode&&c.topNode.click?c.topNode.click():c.domNode.click&&c.domNode.click(),f.focus(c.focusNode||c.domNode));return!t},blurFromInput:function(a){a.focusNode&&a.focusNode.blur?a.focusNode.blur():a.domNode&&a.domNode.blur&&a.domNode.blur();a.setOskFocused&&a.setOskFocused(!1)},sendEvent:function(a,b){if(a.fireEvent)a.fireEvent("on"+b);else{var t=document.createEvent("Events");
t.initEvent(b,!0,!1);a.dispatchEvent(t)}},getNextUnFilledInput:function(a,b){var t;t=a.controlManager?a.controlManager.inputs:b?this.getActiveInputInScope(b):this.getActiveInputs();var c=M.indexOf(t,a),d=null,e=c+1;do{e>=t.length&&(e=0);if(0>=t.length)break;t[e]&&!t[e].inputFilled&&(d=t[e]);if(e++===c)break}while(null==d&&e!==c);return d},anyInputsFilled:function(a){return M.some(this.getActiveInputs(a),function(a){return!a.isInputEmpty()})},allInputsFilled:function(){return M.every(this.getActiveInputs(),
function(a){return a.inputFilled})},allInputFilledInScope:function(a,b){var t=this.getActiveInputInScope(a,b);return M.every(t,function(a){return a.inputFilled})},getActiveInputInScope:function(a,b){return M.filter(this._inputList,function(t){var c=t.isAnswered||t.controlManager,d=e.isDescendant(t.domNode,a);if(!b)return!c&&d;t=0<u("[id\x3d'"+a+"'] [class*\x3d'"+b+"'] [id\x3d'"+t.id+"']").length;return!c&&d&&!t})},getActiveInputs:function(a){return M.filter(this._inputList,function(b){return!(b.isAnswered||
b.controlManager)||a})},updateMessage:function(a){this._actionHandler._handlers.updatestatus.process({message:a.message,style:"bottomStatusText"},this)},displayFullError:function(a){this._actionHandler.playSingleAction({action:"layout",layout:"full"},this);this._actionHandler.playSingleAction({action:"displayloadingerror",message:a,target:"full"},this)},_processSequenceNodeLoaded:function(a,b){b.statusCode=b.statusCode||b.status;this.sequenceNodeId=a["@id"];this._errorLoading=200===b.statusCode?!1:
!0},loadSequence:function(a){var b=a.targetActivity,t=this;if(!b)return this.loadSequenceNode(a).then(function(b){t._processSequenceNodeLoaded(a,b);return b});var c=a.playerSettings||{};c.resultUri=c.resultUri||a.resultUri;c.playMode=c.playMode||a.playMode;return this.loadActivity(b,c).then(function(b){t._processSequenceNodeLoaded(a,b);return b})},loadActivity:function(a,b){var t={type:"external",activityUri:a};b&&w.mixin(t,b);return this.loadProblem(t)},loadSequenceNode:function(a){return this.loadProblem({type:"sequencenode",
sequenceNode:a})},loadItemAttempt:function(a){a.type="attemptItem";return this.loadProblem(a)},loadProblem:function(a){this._dijitLoadMonitor.loadStarted();this._clearQueues("loading problem");0<this._pendingCommands.length&&console.error("Command was queued while attempting to load a new problem");this._postingCommand&&console.error("Command is being posted while attempting load a new problem:",this._postingCommand);this._loadingProblem&&console.error("Loading a problem while another problem is currently loading.");
var t=va.startStandby();this._enableCommandComplete=a.enableCommandComplete||!1;this._keyboardVisible&&(this.keyboard.hide(),this._keyboardHidden());this.resetDisplay();if(a.sequenceNode){a.sequenceNode.extra||(a.sequenceNode.extra={});void 0!=P.useOsk?a.sequenceNode.extra.useOsk=P.useOsk:H("iPad")&&(a.sequenceNode.extra.useOsk=!0);void 0!==P.accessible&&(a.sequenceNode.extra.accessible=P.accessible);void 0!==P.useMobileUI&&(a.sequenceNode.extra.useMobileUI=P.useMobileUI);var c=Ga.getItem("localeOverride");
c&&(a.sequenceNode.extra.cultureId=c)}else void 0==a.useOsk&&H("iPad")&&(a.useOsk=!0);(this.autoHeight=a.autoHeight)?b.add(this.domNode,"autoHeight"):b.remove(this.domNode,"autoHeight");this._idleCheck&&this._idleCheck.stop();this._loadingProblem=!0;this.startTime=(new Date).getTime();var d=this;return this._controller.getProblem(a,this._getHeaders()).then(function(a){d._clearQueues("problem loaded");d._problemState=a.state;d._problemSettings=a.settings;d._postUrl=a.postUrl;d._downloadUrl=a.downloadUrl;
d._loadingProblem=!1;d.playActions(a.actions).then(function(){va.endStandby(t);d.mainPanel&&d.mainPanel.resize();d._focusFirstInput()});d.postLoadProblem();Ha.logProblemEvent({startTime:d.startTime,command:"initial"});return a},function(a){d._loadingProblem=!1;d.displayFullError(a.errorMessage||"Unknown error loading question.  Please try another question.");va.endStandby(t);d._logError(a,!0);d.postLoadProblem();return a})},isPreviewAndAddMode:function(){return!1},postLoadProblem:function(){this.mainPanel&&
this.mainPanel.resize();this._waitingForAdaptiveQuestion=!1;this.emit("loaded");this.refreshTdxInfoWindow();this.doQuestionStatusChanged();this._idleCheck&&this._idleCheck.start()},focusFirstContentFrame:function(){this.contentPanel.focusFirstPanel()},postNodeResultRequest:function(a){var b=this;if(!this.checkPendingGrade(function(){b.postNodeResultRequest(a)}))if(this._requestingNodeResult||this._waitingForAdaptiveQuestion&&!this.isReview)console.warn("ignoring nodeResultRequest since we're already processing one or waiting for adaptive question.",
a);else{var t=a.skipCompleteCheck?!0:!1;delete a.skipCompleteCheck;this._errorLoading?this._actionHandler.playSingleAction({action:"resultsposted",nodeResultResponse:{originalMsgId:a.msgId,context:"http://purl.org/pearson/paf/v1/ctx/core/NodeResultResponse","@type":"NodeResultResponse",statusCode:200}},this):a.requestedNode&&this.sequenceNodeId!==a.requestedNode?console.error("Requesting node result doesn't match current sequencenode.  Ignoring..."):(this._requestingNodeResult=!0,this.postCommand("noderesultrequest",
{nodeResultRequest:a,skipCompleteCheck:t,autoSaveShowWork:this.autoSaveShowWork()}).then(function(){b._requestingNodeResult=!1},function(){b._requestingNodeResult=!1}))}},_getInputData:function(){this.commandAlert&&this.commandAlert.innerHTML===Ka.clearAll&&(this.commandAlert.innerHTML="");var a=this.getActiveInputs();return J(a.map(function(a){return a.getInputData()})).then(function(b){return b.map(function(b,t){return{id:a[t].id,inputData:b}})})},_clearAllInputs:function(){this.postCommand("clearall");
M.forEach(this.getActiveInputs(),function(a){a.clear()});this.commandAlert.innerHTML=Ka.clearAll},_logError:function(a,b){var t={};try{a.response&&a.response.text&&(t=q.parse(a.response.text))}catch(c){a.responseText&&(t.errorMessage=a.responseText)}l.log(t.errorMessage||a.message,{error:a,severity:l.severity.Critical,guid:t.errorAuditGuid,serverName:t.serverName,category:l.category.General},b);return t},playerCommand:function(a,b){"ShowTdxInfo"===a?this.showTdxInfo():this.postCommand(a,b)},_hideKeyboardAndPalette:function(){this._keyboardVisible&&
(this.keyboard.hide(),this._keyboardHidden());if(this.mathPalette&&this.mathPalette.isInline&&this.mathPalette._visible){var a=this;this.deferredTimeOut().then(function(){a.mathPalette._hide()})}},_clearPendingCommands:function(a){M.forEach(this._pendingCommands,function(b){b.deferred.cancel(a)});this._pendingCommands=[]},_queueCommand:function(a,b,t){console.log("Queuing command:",a,b);console.log("--current command:",this._postingCommand);this._pendingCommands.push({command:a,args:b,deferred:t})},
_processQueuedCommands:function(){setTimeout(w.hitch(this,this._processNextPendingCommand),10)},_processNextPendingCommand:function(){if(this._postingCommand)0<this._pendingCommands.length&&console.warn("Attempting to process queued commands while still posting another command.  Ignore for now.");else{var a=this._pendingCommands.shift();a&&this.postCommand(a.command,a.args,a.deferred)}},_isDuplicateCommand:function(a){return this._postingCommand&&this._postingCommand.command===a.command?!0:!1},_getHeaders:function(){return this.piToken?
{"x-authorization":this.piToken}:null},postCommand:function(b,t,c){var d=c||new E;if(null==this._postUrl||"undefined"==typeof this._postUrl||""===this._postUrl)return d.reject("Can not execute a command before the first one is finished"),d;c={command:b,args:t};if(this._isDuplicateCommand(c))return console.warn("Duplicate command being ignored",c),d.reject("Duplicate command being ignored"),d;if(this._postingCommand)return this._queueCommand(b,t,d),d;this._postingCommand=c;var e=va.startStandby();
this._hideKeyboardAndPalette();var k={command:b,arguments:t,state:this._problemState,settings:this._problemSettings},r=this;this._loadingProblem&&console.error("Posting problem while problem is loading.  This should not be happening");this._getInputData().then(function(b){k.inputs=b;return this._controller.postProblem(this._postUrl,k,this._getHeaders()).then(function(b){null==r._postingCommand||r._loadingProblem?(console.warn("Previous post was canceled when attempting to post this one",k),d.cancel("post cancelled due to _postingCommand set to null"),
va.endStandby(e),r._processQueuedCommands()):(r._problemState=b.state,r._problemSettings=b.settings,r._postingCommand=null,r._commandComplete(k,b.response),200!==b.statusCode&&(!b.actions||0===b.actions.length)&&r.communicationErrorDialog.show(b.errorAuditGuid),r.playActions(b.actions).then(function(){r._loadingProblem&&console.error("processing post problem actions while problem it loading");r.mainPanel&&r.deferredTimeOut().then(function(){r.mainPanel.resize()});r._focusFirstInput();"similarexercise"===
k.command&&r.focusFirstContentFrame();d.resolve(b.response);va.endStandby(e);r.doQuestionStatusChanged()}),0<r._pendingActions.length&&r.mainPanel&&r.deferredTimeOut().then(function(){r.mainPanel.resize()}),"gettdxinfo"!==k.command&&"reloadtdxinfo"!==k.command?a(r.refreshTdxInfoWindow(),function(){r._processQueuedCommands()}):r._processQueuedCommands())},function(a){r._postingCommand=null;if(8E3===a.status){var b=q.parse(a.responseText).errorAuditGuid;r.communicationErrorDialog.show(b)}else r._logError(a,
!0);d.reject(a.response||a);va.endStandby(e);r._processQueuedCommands()})}.bind(this));return d},_commandComplete:function(a,b){this._enableCommandComplete&&this.emit("commandcomplete",{command:a.command,response:b})},_clearPendingActions:function(a){M.forEach(this._pendingActions,function(b){b.cancel(a)});this._pendingActions=[]},playActions:function(a){var b=this._actionHandler.playActions(a,this);this._pendingActions.push(b);var t=this;return b.then(function(){var a=t._pendingActions.indexOf(b);
0<=a&&t._pendingActions.splice(a,1)})},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();(!a||!a.isLayoutContainer)&&this.resize()}},layout:function(){var a=d.getContentBox(this.domNode);this.mainPanel.resize(a)},resize2:function(a){a&&c.set(this.domNode,{width:a.w+"px",height:a.h+"px",overflow:"auto",position:"relative"});this.mainPanel.resize()},_clearQueues:function(a){this._clearPendingActions(a);this._clearPendingCommands(a);this._postingCommand=
null;this._requestingNodeResult=!1},initViewer:function(){this._clearQueues("initing viewer");this._layoutTimer=null;var a=this.contentPanel;a.set("layoutType","");a.destroyDescendants(!1);C.empty(a.domNode);this.sample&&(this.sample.destroy(!1),this.sample=null);this.guided&&(this.guided.destroy(!1),this.guided=null);this.initialValSelect&&(this.initialValSelect.destroy(!1),this.initialValSelect=null);this.selectedInitialValSelect&&(this.selectedInitialValSelect.destroy(!1),this.selectedInitialValSelect=
null);this.initialValHolder&&(C.destroy(this.initialValHolder),this.initialValHolder=null);a=this.popups.slice();M.forEach(a,function(a){a.destroyRecursive()});this._calculator&&this._calculator.close();this.tdxState=this._questionStatus=this._lastFocusedInput=null;this.mathPalette&&!this.mathPalette.isInline&&(this.mathPalette.set("state","minimized"),this.mathPalette.set("docked",!0),this.mathPalette._setTargetWidget(null));this.assignedMediaDropdown&&(this.assignedMediaDropdown.clearItems(),R.hide(this.assignedMediaDropdown))},
_controlButtonClicked:function(a){var b=a.targetButton.command;"clear"===b?this._clearAllInputs():"nextquestion"===b?this.nextQuestion():"prevquestion"===b?this.previousQuestion():"saveforlater"===b?this.saveForLater():"giveup"===b?this._giveUp():"closequestion"===b?this.closeQuestion():(!this.feedbackOpened||"checkanswer"!==b)&&this.postCommand(a.targetButton.command)},_giveUp:function(){this.playActions([{action:"giveup"}])},sendAssignmentCommand:function(a,b){this.emit("assignmentcommand",{command:a,
arguments:b})},sendAssignmentAction:function(a){this.emit(Ua.EVENT_ASSIGNMENT_ACTION,{action:a})},nextQuestion:function(){this.emit("navigate",{direction:"next",previousCorrect:this._isCorrect()})},previousQuestion:function(){this.emit("navigate",{direction:"previous"})},closeQuestion:function(){this.emit("navigate",{direction:"close"})},remediationQuestion:function(a){this._onRemediationClick(a)},saveForLater:function(){this.emit("navigate",{direction:"saveforlater"})},inactivityTimeout:function(){this.emit("navigate",
{direction:"inactivitytimeout"})},inactivityTimeoutDialog:function(){return this.postCommand("inactivitytimeoutdialog")},_onShowWorkClick:function(){this.postCommand("learningaid",{data:"showwork"})},_onRemediationClick:function(a){this.isPreview?ta.displayText(this.locPlayer["ah.previewmodewarning"],this.fpPopupRes.warning,[ta.BUTTON.OK]):(a.target===this.remediationButton.domNode&&(a.eventAction="HeaderButton"),this.emit("navigate",{direction:"remediation",eventAction:a.eventAction,previousCorrect:this._isCorrect()}))},
_onReturnToHWClick:function(){this.emit("navigate",{direction:"backfromremediation"})},_onQuestionHelp:function(){this.postCommand("help",{type:"main"})},_isCorrect:function(){return this._correctness?"correct"===this._correctness.toLowerCase():null},testCommand:function(a){this.postCommand("test",{testCase:a})},tdxInfoLoaded:function(){xa.loaded()},refreshTdxInfoWindow:function(a){return xa.exists()?this.postCommand("gettdxinfo",null).then(function(){a&&xa.focus()}):null},updateTdxInfoData:function(a){a.log=
this.getLog();xa.setData(a)},reloadTdxInfo:function(){this.postCommand("reloadtdxinfo")},_tdxInfoSource:function(){return this.guided?this.guided:this.sample?this.sample:this},showTdxInfo:function(){this._tdxInfoSource().playActions([{action:"showtdxinfo"}])},doResultsPosted:function(a){var b=a.nodeResultResponse;this.isAdaptive&&(this._waitingForAdaptiveQuestion=!0);if(b.requestedResult){var t=b.requestedResult.correctness;"NotAttempted"===b.requestedResult.status&&(t=null);this._correctness=t;this.isRemediationQuestion||
this.updateResultIcon(t,null,null,a.nodeResultResponse);this.isRemediationQuestion&&!this.hadPrevPrerequisiteItem&&this._updateMasteryInfo(a)}this.emit("resultsposted",{nodeResultResponse:b})},doSubmitGrade:function(a){this.emit("submitgrade",{info:a})},closeActivity:function(a){this.emit("closeactivity",{reason:a})},updateGradePanel:function(a){this.gradePanel&&(this.gradePanel._opt.score=a.score,this.gradePanel._opt.graded=a.graded,this.gradePanel.updateDisplay(this.gradePanel._opt,this))},updateEssayPalette:function(){this.essayPalette&&
this.mathPalette&&(this.essayPalette.setToolButtons(this.mathPalette.getToolButtons()),this.essayPalette.setMoreToolButtons(this.mathPalette.getMoreToolButtons()))},registerPopup:function(a){this.popups.push(a)},deRegisterPopup:function(a){a=this.popups.indexOf(a);0<=a&&this.popups.splice(a,1)},_focusFirstInput:function(){10>=H("ie")&&(this.domNode&&this.domNode.focus)&&(this.domNode.focus(),this.domNode.focus())},guidedSolutionClosed:function(a,b){this.postCommand("guidedsolutionclosed",{interactions:a,
completed:b});this.guided=null;Ha.setProblemInfo(this.problemType,this.isMedia,this.contentName)},sampleProblemClosed:function(a){this.postCommand("sampleproblemclosed",{interactions:a});this.sample=null;Ha.setProblemInfo(this.problemType,this.isMedia,this.contentName)},postDownload:function(a,b){var t=this._downloadUrl,c={};c.contents=a;c.filename=b;this.postForm(t,c)},postForm:function(a,b){var t=document.createElement("form");t.setAttribute("method","post");t.setAttribute("action",a);for(var c in b)if(b.hasOwnProperty(c)){var d=
document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name",c);d.setAttribute("value",b[c]);t.appendChild(d)}document.body.appendChild(t);t.submit()},getCalculator:function(){this._calculator||(this._calculator=new Ja);this._calculator.close();this._calculator.targetWidget=this.getLastFocusedInput();this._calculator.targetWidget||(this._calculator.targetWidget=this,this._calculator.needsCentering=!0);return this._calculator},getLastFocusedInput:function(){var a=this.getActiveInputs();
if(this._lastFocusedInput)for(var b=0;b<a.length;b++)if(a[b]===this._lastFocusedInput)return this._lastFocusedInput;return a[0]},storeLastFocusedInput:function(a){this._lastFocusedInput=a},_onClick:function(a){this.closeOverviewUponFocus();if(this._keyboardVisible&&!this._isDomNodeChildOfEditorOrKeyboard(a.target)){var b=this;setTimeout(function(){b.keyboard.hide()},250)}},_onFocus:function(){this.closeOverviewUponFocus()},closeOverviewUponFocus:function(){k.publish("closeOverview")},onOverviewClosed:function(a){},
_isDomNodeChildOfEditorOrKeyboard:function(a){do{if(b.contains(a,"eqEditor")||b.contains(a,"xlKeyboardDialog")||b.contains(a,"matrixSizeBaseDialog"))return!0;a=a.parentElement}while(a&&a.parentElement);return!1},_gradeDialogShown:!1,checkPendingGrade:function(a){if(!this._gradeDialogShown&&this.isReview&&""===this.gradePanel.domNode.style.display&&this.gradePanel.gradeModified()){this._gradeDialogShown=!0;var b=this;ta.displayText(this.fpPopupRes.gradeWarning,"\x26nbsp;",[ta.BUTTON.YES,ta.BUTTON.NO],
"300px").then(function(t){t&&t.command===ta.BUTTON.YES.command&&a();b._gradeDialogShown=!1});return!0}return!1},autoSaveShowWork:function(){var a=v.byId("ShowWork");if(!a)return null;var b=null;a.popoutWindow&&!a.popoutWindow.closed?b=a.popoutWindow:a.open&&a.frame.loaded&&(b=a.frame.domNode.contentWindow);if(!b)return null;a=(a=b.showWorkPlayer)?a.getShowWorkData():null;b.postMessage(q.stringify({"@type":"Close",isAutoClose:!0}));return a},doJavascriptError:function(){console(null.abc,"should never get here")},
getProperty:function(a){return this.postCommand("getproperty",{property:a})},_layoutTimer:null,_invalidateLayout:function(){var a=this;console.log("invalid layput");null==this._layoutTimer&&(a._layoutTimer=setTimeout(function(){null!=a._layoutTimer&&(a._layoutTimer=null,a.mainPanel&&(a.viewerResizedByXYGraph=!0,a.mainPanel.resize()))},500))},checkAllDigitsLoaded:function(){this._dijitLoadMonitor.setSequenceNodeLoadedStatus(!0);this._dijitLoadMonitor.checkCompleted()},updateEmbeddedAssignmentControls:function(a){},
destroy:function(){this.inherited(arguments);this._dijitLoadMonitor=null},sampleEssayClicked:function(a){this.postCommand(a.command,{sourceEssayID:a.sourceObjectId})},setLearningAids:function(a){var b=this.questionHelpMenu.dropDown;b.destroyDescendants(!1);R.hide(this.connectToTutorButton);var t;this.questionHelpMenu.buttonLabel.innerHTML=a.menuText;if(0==a.learningAids.length)c.set(this.questionHelpMenu.domNode,"display","none");else{c.set(this.questionHelpMenu.domNode,"display","");for(var d=0,
e=this,k=0;k<a.learningAids.length;k++){var r=a.learningAids[k];if(r.isSeparator)t=new U;else if("connecttotutor"===r.data)t=null,this.connectToTutorButton.data=r.data,this.connectToTutorButton.set("label",r.label),r.disabled&&this.connectToTutorButton.set("disabled",!0),this.connectToTutorButton.on("click",function(){e.getMenu().emit("commandSent","learningaid",{data:this.data})}),R.show(this.connectToTutorButton);else{t=new $({label:r.label,iconClass:r.iconClass});t.data=r.data;r.disabled&&t.set("disabled",
!0);if("remediation"===t.data)t.on("click",function(a){a.eventAction="QuestionHelpButton";e._onRemediationClick(a)});else t.on("click",function(){e.getMenu().emit("commandSent","learningaid",{data:this.data})});d++}t&&b.addChild(t)}0===d&&c.set(this.questionHelpMenu.domNode,"display","none")}},addAdditionalSettings:function(a){},getItemPlayerSettings:function(){return this.itemPlayerSettings},_initAssignmentReviewNav:function(){},setRemediationTitles:function(){},updateSkillBuilderNavigation:function(){},
getAssignedMediaDropdown:function(){return this.assignedMediaDropdown},updateItemScoreIconTooltip:function(){},updateOverviewText:function(){},deferredTimeOut:function(){this._timeoutDeferred||(this._timeoutDeferred=new E);var a=this;setTimeout(function(){a._timeoutDeferred.resolve("success")},5);return this._timeoutDeferred.promise},closeAssignment:function(a){this.sendAssignmentAction({action:"closeassignment",arguments:a})},playToolAction:function(a){},updateAttempt:function(){}})})},"xl/player/PlayerController":function(){define(["dojo/_base/declare",
"./PlayerService","xl/util/logger"],function(s){return s("xl.player.PlayerController",null,{_service:null,constructor:function(q){this._service=q.service;if(null===this._service)throw Error("The player controller requires a service object.");},getProblem:function(q,l){return this._service.getProblem(q,l)},postProblem:function(q,l,h){return this._service.postProblem(q,l,h)}})})},"xl/player/PlayerService":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/lang xl/util/logger dojo/_base/json xl/player/AssemblyInfo xl/util/_CommandProcessor xl/util/stringUtils xl/util/correlationIdUtil xl/util/clientRequestErrorLogger xl/util/gaLogger".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.player.PlayerService",[m],{_origBaseUrl:null,_baseUrl:null,constructor:function(b){this._baseUrl=this._origBaseUrl=b.baseUrl},updateUrl:function(b){this._baseUrl=b+this._origBaseUrl},getUrl:function(){return this._baseUrl},_checkUrl:function(){if(null===this._baseUrl)throw Error("baseUrl needs to be specified for this service.");},_getHeaders:function(b){b=l.mixin(b,{"Content-Type":"application/json",Accept:"application/json"});e.addCorrelationId(b);"/"!==
this._baseUrl[0]&&(b["X-Requested-With"]="");return b},_callService:function(c,d,a){d||(d={});d.clientVersion=f;a=this._getHeaders(a);var t=a[e.getCorrelationHeaderName()];return q.get({url:c,content:d,handleAs:"json",headers:a,withCredentials:!0,error:function(a){return b.LogError(a,t)}})},_put:function(b,c,a){c||(c={});c.clientVersion=f;var t=n.toJson(c);"null"===t&&(t=n.toJson(l.mixin({},c)));return q.put({url:b,putData:t,handleAs:"json",withCredentials:!0,headers:this._getHeaders(a)})},constructUrl:function(b){this._checkUrl();
void 0===b.type&&(b.type="exercise");switch(b.type){case "sequencenode":return l.replace("{0}sequenceNode?node\x3d{1}",[this._baseUrl,this._getSequenceNodeId(b)]);case "sequencenodecommand":return l.replace("{0}sequenceNodeCommand/{1}?node\x3d{2}",[this._baseUrl,b.command.command,this._getSequenceNodeId(b)]);case "external":return l.replace("{0}activity",[this._baseUrl]);case "rest":return b.activityUri;case "exercise":return l.replace("{0}exercise/{1}/{2}/{3}/{4}",[this._baseUrl,b.bookCode,b.chapterId,
b.sectionId,b.exerciseId]);case "local":return l.replace("{0}localfile/{1}/{2}",[this._baseUrl,b.repository,b.filename]);case "attemptItem":return l.replace("{0}attempt/{1}/item/{2}",[this._baseUrl,b.attemptId,b.itemId]);default:return h.log("Invalid request type: "+b.type,{severity:h.severity.Critical},!0),""}},_getSequenceNodeId:function(b){return"undefined"===typeof b.sequenceNode?"":encodeURIComponent(b.sequenceNode["@id"])},getProblem:function(b,c){var a=this.constructUrl(b);return"rest"===b.type||
"external"===b.type?this._put(a,b,c):"sequencenode"===b.type?this._put(a,b.sequenceNode,c):"sequencenodecommand"===b.type?this._put(a,b,c):"attemptItem"===b.type?this._callService(a,{},c):this._put(a,{cultureId:b.cultureId,theme:b.theme,style:b.style,useSI:b.useSI,useCommaPeriods:b.useCommaPeriods,useCommaDecimals:b.useCommaDecimals,useSemicolons:b.useSemicolons},c)},postProblem:function(b,c,a){var t=(new Date).getTime();b=this._post(b,c,this._getHeaders(a));d.logProblemEvent(l.mixin({startTime:t},
c));return b}})})},"xl/util/_CommandProcessor":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang xl/player/AssemblyInfo dojo/_base/config xl/util/stringUtils xl/util/correlationIdUtil xl/util/logger xl/util/clientRequestErrorLogger".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("_CommandProcessor",null,{_post:function(d,e,r){e||(e={});e.command&&("/"!==d[d.length-1]&&(d+="/"),d+="command/"+e.command);200<d.length&&(d=d.substr(0,200));r=h.mixin(r,{"Content-Type":"application/json",
Accept:"application/json"});c.addCorrelationIdFromArgs(r,e);e.clientVersion=n;var a=l.toJson(e);"null"===a&&(a=l.toJson(h.mixin({},e)));var t=r[c.getCorrelationHeaderName()];return q.post({url:d,postData:a,handleAs:"json",headers:r,timeout:f.clientTimeout,withCredentials:!0,error:function(a){return b.LogError(a,t)}})}})})},"xl/util/correlationIdUtil":function(){define(["dojo/_base/lang","dojo/json","xl/util/stringUtils"],function(s,q,l){var h={getCorrelationHeaderName:function(){return"correlation-id"}},
n=function(f,m){var c=h.getCorrelationHeaderName();if(m[c])m[c]=f;else{var e={};e[c]=f;m=s.mixin(m,e)}return m};h.addCorrelationId=function(f){var m="",m=h.getCorrelationHeaderName();if(f&&f[m])return f;m="tdx-cli:".concat(l.guid());return n(m,f)};h.addCorrelationIdFromArgs=function(f,m){var c=h.getCorrelationHeaderName(),e="";if(f&&f[c])return f;e=m.correlationId?m.correlationId:"tdx-cli:".concat(l.guid());return n(e,f)};return h})},"xl/util/clientRequestErrorLogger":function(){define(["xl/util/logger"],
function(s){return{LogError:function(q,l){var h={requestCorrelationId:l,category:s.category.ClientRequest,severity:s.severity.Critical,status:0,url:null};if(void 0!=q.status){h.status=q.status;q.response&&(h.url=q.response.url);if(0===q.status||408===q.status)h.severity=s.severity.Timeout,s.log(q.message,h,!1),q.response&&(q.response=null,q.status=8E3);500<=q.status&&600>q.status&&(h.severity=504===q.status?s.severity.Timeout:s.severity.Critical,s.log(q.message,h,!1),q.response&&(q.response=null,
q.status=8E3))}return q}}})},"xl/util/gaLogger":function(){define(["dojo/_base/declare","xl/util/ga"],function(s,q){return new (s("xl.util.gaLogger",null,{_problemType:"",_isMedia:!1,_contentName:"",logProblemEvent:function(l){if(l.command){var h,n,f=l.label?l.label:this._IsMedia?this._ContentName:this._ProblemType,m=0;"initial"===l.command?h=this._IsMedia?"MediaInitialCommand":"ProblemInitialCommand":"learningaid"===l.command?h="LearningAid."+l.arguments.data:(n=this.logToGoogleCommands.get(l.command.toLowerCase()))&&
(h=n);n=l.category?l.category:"initial"===l.command?this._IsMedia?"MediaLoaded":"ProblemLoaded":this._IsMedia?"MediaInteraction":"ProblemInteraction";l.startTime&&(m=(new Date).getTime()-l.startTime);n&&h&&q.sendEvent(n,h,f,m)}},logAssignmentEvent:function(l){if(l.command){var h,n,f=l.label?l.label:"assignment."+l.data.playMode.toLowerCase(),m=0;if("initial"===l.command)h="AssignmentInitialCommand";else if("noderesult"===l.command)l.data&&(l.data.command&&l.data.commandArgs)&&(h=l.data.commandArgs.eventAction,
f=null,"remediation"===l.data.command?n=l.data.reviewMode?"RemediationReviewEnter":"RemediationEnter":"loadsequencenode"===l.data.command?n="RemediationStayed":"reloadquestion"===l.data.command&&(n=l.data.reviewMode?"RemediationReviewExit":"RemediationExit"));else{var c=this.logToGoogleCommands.get(l.command.toLowerCase());c&&(h=c)}n=n||l.category||("initial"==l.command?"AssignmentLoaded":"AssignmentInteraction");l.startTime&&(m=(new Date).getTime()-l.startTime);n&&h&&q.sendEvent(n,h,f,m)}},setProblemInfo:function(l,
h,n){this._problemType=l;this._isMedia=h;this._contentName=n},logToGoogleCommands:new Map([["about","AboutCommand"],["applycorrectanswer","ApplyCorrectAnswerCommand"],["assignmentinitial","AssignmentInitialCommand"],["changeaccessibility","ChangeAccessibilityCommand"],["changelanguage","ChangeLanguageCommand"],["changeuseosk","ChangeUseOskCommand"],["checkanswer","CheckAnswerCommand"],["clearall","ClearAllCommand"],["confirmrecord","ConfirmRecordCommand"],["containerinitial","ContainerInitialCommand"],
["continue","ContinueCommand"],["continueworking","ContinueWorkingCommand"],["displaydatagrapher","DisplayDataGrapherCommand"],["donewversion","DoNewVersionCommand"],["download","DownloadCommand"],["errortryagain","ErrorTryAgainCommand"],["essayanswer","EssayAnswerCommand"],["fakeaction","FakeActionCommand"],["finish","FinishCommand"],["getinputfeedback","GetInputFeedbackCommand"],["getpopupstepcontent","GetPopupStepContentCommand"],["getreviewdata","GetReviewDataCommand"],["gettdxinfo","GetTdxInfoCommand"],
["gettincanmessage","GetTinCanMessageCommand"],["giveup","GiveUpCommand"],["gototab","GotoTabCommand"],["grammarapplycheckanswer","GrammarApplyCheckAnswerCommand"],["grammarapplygetanswer","GrammarApplyGetAnswerCommand"],["grammarapplyhint","GrammarApplyHintCommand"],["graphzoom","GraphZoomCommand"],["headerbutton","HeaderButton"],["help","HelpCommand"],["hintopen","HintOpenCommand"],["hintsopen","HintsOpenCommand"],["holdsteptoggle","HoldStepToggleCommand"],["inactivitytimeoutdialog","InactivityTimeoutDialogCommand"],
["inactivitytimeoutreset","InactivityTimeoutResetCommand"],["interactionanimateplot","InteractionAnimatePlotCommand"],["interactionplotmarker","InteractionPlotMarkerCommand"],["interactionreset","InteractionResetCommand"],["learningaid.addcomment","LearningAid.addcomment"],["learningaid.addinstructortip","LearningAid.addinstructortip"],["learningaid.animation","LearningAid.animation"],["learningaid.askinstructor","LearningAid.askinstructor"],["learningaid.calculateexcel","LearningAid.calculateexcel"],
["learningaid.calculator","LearningAid.calculator"],["learningaid.conceptbook","LearningAid.conceptbook"],["learningaid.connecttotutor","LearningAid.connecttotutor"],["learningaid.demodoc","LearningAid.demodoc"],["learningaid.econspreadsheet","LearningAid.econspreadsheet"],["learningaid.example","LearningAid.example"],["learningaid.extrahelp","LearningAid.extrahelp"],["learningaid.financialcalc","LearningAid.financialcalc"],["learningaid.flashcards","LearningAid.flashcards"],["learningaid.glossary",
"LearningAid.glossary"],["learningaid.grapher","LearningAid.grapher"],["learningaid.guidedlecture","LearningAid.guidedlecture"],["learningaid.guidedsolution","LearningAid.guidedsolution"],["learningaid.instructortip","LearningAid.instructortip"],["learningaid.mathtools","LearningAid.mathtools"],["learningaid.morehelp","LearningAid.morehelp"],["learningaid.powerpoint","LearningAid.powerpoint"],["learningaid.print","LearningAid.print"],["learningaid.review","LearningAid.review"],["learningaid.showwork",
"LearningAid.showwork"],["learningaid.spreadsheet","LearningAid.spreadsheet"],["learningaid.statcrunch","LearningAid.statcrunch"],["learningaid.suggestionbox","LearningAid.suggestionbox"],["learningaid.techhelp","LearningAid.techhelp"],["learningaid.templates","LearningAid.templates"],["learningaid.textbook","LearningAid.textbook"],["learningaid.textbookextras","LearningAid.textbookextras"],["learningaid.video","LearningAid.video"],["learningaid.viewcomment","LearningAid.viewcomment"],["loadguidedsolution",
"LoadGuidedSolutionCommand"],["loadinitialvalues","LoadInitialValuesCommand"],["loadoverridevalues","LoadOverrideValuesCommand"],["loadquestion","LoadQuestionCommand"],["loadquestions","LoadQuestionsCommand"],["loadreviewdata","LoadReviewDataCommand"],["loadsequencenode","LoadSequenceNodeCommand"],["mediainitial","MediaInitialCommand"],["medianoderesult","MediaNodeResultCommand"],["noncefailure","NonceFailureCommand"],["openexcel","OpenExcelCommand"],["openstatcrunch","OpenStatCrunchCommand"],["overview",
"OverviewCommand"],["print","PrintCommand"],["probleminitial","ProblemInitialCommand"],["reloadquestion","ReloadQuestionCommand"],["reloadtdxinfo","ReloadTdxInfoCommand"],["remediationincorrect","RemediationIncorrect"],["resetdatagrapher","ResetDataGrapherCommand"],["returntohomeworkheaderbutton","ReturnToHomeworkHeaderButton"],["saveforlater","SaveForLaterCommand"],["setshowworkdata","SetShowWorkDataCommand"],["showalttexttoggle","ShowAltTextToggleCommand"],["showanswer","ShowAnswerCommand"],["showcompletedproblem",
"ShowCompletedProblemCommand"],["showoverridevalues","ShowOverrideValuesCommand"],["showworkread","ShowWorkReadCommand"],["similarexercise","SimilarExerciseCommand"],["similarexercisereview","SimilarExerciseReviewCommand"],["skipstep","SkipStepCommand"],["skiptoend","SkipToEndCommand"],["startover","StartOverCommand"],["submitgrade","SubmitGradeCommand"],["getproblemstate","GetProblemStateCommand"]])}))})},"xl/player/actions/ActionHandler":function(){define("dojo/_base/declare xl/util/_ActionHandlerBase ./LayoutAction ./DisplayAction ./AlertAction ./UpdateTdxInfoAction ./ControlPanelAction ./AddCssAction ./UpdateControlAction ./FeedbackAction ./ShowTdxInfoAction ./SetupMenuAction ./UpdateStatusAction ./PopupStepContentAction ./LogAction ./SetToolButtonsAction ./SetTabStylesAction ./GraphZoomAction ./PrintQuestionAction ./ResultsPostedAction ./ShowReviewDataAction ./ShowOverrideValuesAction ./OpenSampleProblemAction ./CloseSampleProblemAction ./OpenGuidedSolutionAction ./CloseGuidedSolutionAction ./DisplayDataGrapherAction ./SetAvailableLearningAidsAction ./OpenCalculatorAction ./OpenLearningAidAction ./InteractionPlotMarkerAction ./InteractionResetAction ./InteractionAnimatePlotAction ./ConfirmationDialogAction ./OpenPopupAction ./OpenPopoverAction ./DisplayLoadingErrorAction ./DisplayAssignedMediaAction ./ShowAltTextAction ./OpenChoosePrintModeDialogAction ./UpdateResultAction ./GradeEssayAction ./GrammarApplyShowDialogAction ./GrammarApplyDialogDisplayIncorrectAction ./GrammarApplyDisplayIncorrectAction ./GrammarApplyReplDisplayAction ./GrammarApplyIdDisplayAction ./GrammarApplyIdReplDisplayAction ./GrammarApplyCsfsDisplayAction ./GrammarApplyInsDragDisplayAction ./GrammarApplyInsDisplayAction ./GrammarApplyDelDisplayAction ./GrammarApplyHintAction ./GrammarApplyUpdateScoreAction ./GrammarApplyScoreDetailsAction ./SetupAnalyticsDimensionsAction ./DisplayShowWorkButtonAction ./ChangeServerUrlAction ./CloseActivityAction ./AnnounceQuestionAction ./ChangeUseOskAction ./SetItemPlayerSettingsAction ./ChangeAccessibilityAction ./ChangeLanguageAction ./GiveUpAction ./ChangeUseMobileUIAction ./SetInactivityTimeoutAction ./DisplayFollowupAction ./DisplayTaglineAction ./SendAssignmentCommandAction ./ShowTinCanMessageAction ./RenderInitialValuesAction ./HintOpenAction ./HintDialogAction ./StepControlPanelAction ./HintNestedAction ./ShowWorkImageSavedAction ./ProblemStatementAction ./CheckAnswerAction ./InactivityTimeoutDialogAction ./SaveResultCancelledAction xl/assignment/actions/CloseAssignmentAction ./ShowProblemStateAction ./DisplayExternalAction ./CloseExternalAction".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W,$,U,ba,da,X,fa,ga,aa,Z,ca,ia,la,ja,ha,N,ea,ka,Y,pa,ua,ya,za,Aa,ra,oa,Ba,Ca,sa,Ea,wa,Fa,ma,na,Ia,La,Ma,Na,Oa,Pa,Ja,Qa,Ra,Ga,xa){return s("xl.player.actions.ActionHandler",q,{constructor:function(){this.registerActions()},registerActions:function(){this._handlers.layout=new l;this._handlers.display=new h;this._handlers.problemstatement=new Na;this._handlers.alert=new n;this._handlers.updatetdxinfo=new f;this._handlers.controlpanel=
new m;this._handlers.addcss=new c;this._handlers.updatecontrol=new e;this._handlers.feedback=new b;this._handlers.showtdxinfo=new d;this._handlers.setupmenu=new k;this._handlers.updatestatus=new r;this._handlers.popupstepcontent=new a;this._handlers.log=new t;this._handlers.settoolbuttons=new u;this._handlers.settabstyles=new v;this._handlers.graphzoom=new D;this._handlers.printquestion=new z;this._handlers.resultsposted=new B;this._handlers.showreviewdata=new F;this._handlers.showoverridevalues=
new A;this._handlers.opensampleproblem=new x;this._handlers.closesampleproblem=new w;this._handlers.openguidedsolution=new C;this._handlers.closeguidedsolution=new E;this._handlers.displaydatagrapher=new J;this._handlers.setavailablelearningaids=new H;this._handlers.opencalculator=new G;this._handlers.openlearningaid=new I;this._handlers.interactionplotmarker=new L;this._handlers.interactionreset=new O;this._handlers.interactionanimateplot=new Q;this._handlers.confirmationdialog=new M;this._handlers.openpopover=
new P;this._handlers.openpopup=new R;this._handlers.displayloadingerror=new V;this._handlers.displayassignedmedia=new S;this._handlers.showalttext=new K;this._handlers.openchooseprintmodedialog=new T;this._handlers.updateresult=new W;this._handlers.gradeessay=new $;this._handlers.ga_showdialog=new U;this._handlers.ga_display_incorrect=new da;this._handlers.ga_dialog_incorrect=new ba;this._handlers.ga_repl_display=new X;this._handlers.ga_id_display=new fa;this._handlers.ga_idrepl_display=new ga;this._handlers.ga_csfs_display=
new aa;this._handlers.ga_insdrag_display=new Z;this._handlers.ga_ins_display=new ca;this._handlers.ga_del_display=new ia;this._handlers.ga_hint=new la;this._handlers.ga_updatescore=new ja;this._handlers.ga_scoredetails=new ha;this._handlers.setupanalyticsdimensions=new N;this._handlers.displayshowworkbutton=new ea;this._handlers.changeserverurl=new ka;this._handlers.closeactivity=new Y;this._handlers.announcequestion=new pa;this._handlers.changeuseosk=new ua;this._handlers.setitemplayersettings=new ya;
this._handlers.changeaccessibility=new za;this._handlers.changelanguage=new Aa;this._handlers.giveup=new ra;this._handlers.changeusemobileui=new oa;this._handlers.setinactivitytimeout=new Ba;this._handlers.displayfollowup=new Ca;this._handlers.displaytagline=new sa;this._handlers.sendassignmentcommand=new Ea;this._handlers.showtincanmessage=new wa;this._handlers.hintopen=new ma;this._handlers.hintdialog=new na;this._handlers.stepcontrolpanel=new Ia;this._handlers.hintnested=new La;this._handlers.renderinitialvalues=
new Fa;this._handlers.showworkimagesaved=new Ma;this._handlers.checkanswer=new Oa;this._handlers.inactivitytimeoutdialog=new Pa;this._handlers.saveresultcancelled=new Ja;this._handlers.closeassignment=new Qa;this._handlers.showproblemstate=new Ra;this._handlers.displayexternal=new Ga;this._handlers.closeexternal=new xa}})})},"xl/util/_ActionHandlerBase":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","xl/util/logger","dojo/_base/Deferred"],function(s,q,l,h,n){return s("xl.util.ActionHandlerBase",
null,{_handlers:[],playActions:function(f,m){var c=new n,e=l.clone(f);this._playNextAction(e,m,c);return c},_playNextAction:function(f,m,c){if(null==f||0===f.length)c.resolve("ok");else{var e=f.shift(),b=this._handlers[e.action];if(null==b)h.log("Invalid Action: "+e.action,{category:h.category.VersionMismatch,silent:!0}),this._playNextAction(f,m,c);else{var d=this;try{n.when(b.process(e,m),function(){d._playNextAction(f,m,c)},function(b){h.log(b.message,{category:h.category.Javascript,error:b,severity:h.severity.Critical});
d._playNextAction(f,m,c)})}catch(k){h.log(k.message,{category:h.category.Javascript,error:k,severity:h.severity.Critical}),d._playNextAction(f,m,c)}}}},playSingleAction:function(f,m){var c=this._handlers[f.action];return null==c?(h.log("Invalid Action: "+f.action,{category:h.category.VersionMismatch,silent:!0}),null):c.process(f,m)}})})},"xl/player/actions/LayoutAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom dojo/dom-construct xl/util/localization!html5player/player dojo/dom-style xl/player/layout/TopBottomLayout xl/player/layout/_BaseLayoutContainer xl/player/layout/LeftRightLayout xl/player/layout/FullLayout xl/player/layout/SplitTopLayout xl/player/layout/SplitBottomLayout xl/player/layout/SplitLeftLayout xl/player/layout/SplitRightLayout".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.actions.LayoutAction",null,{process:function(a,b){var c=a.layout,d=a.namespace?a.namespace:"";b.namespace=d;this.layoutViewer(c,b,d);this.initDisplay(b,a)},initDisplay:function(a,b){a.initDisplay(b)},layoutViewer:function(a,b,c){b.initViewer();b={region:"center",splitter:!0,viewer:b,namespace:c};switch(a){case "full":b.splitter=!1;this.fullLayout(b);break;case "topbottom":this.topBottomLayout(b);break;case "leftright":this.leftRightLayout(b);
break;case "splittop":this.splitTopLayout(b);break;case "splitbottom":this.splitBottomLayout(b);break;case "splitleft":this.splitLeftLayout(b);break;case "splitright":this.splitRightLayout(b);break;default:q.log("Unsupported layout:"+a,{severity:q.severity.Critical},!0)}},fullLayout:function(a){var c=new b(a);a.viewer.isPrintingMode||a.viewer.contentPanel.setLayout(c)},topBottomLayout:function(a){var b=new m(a);a.viewer.isPrintingMode||a.viewer.contentPanel.setLayout(b)},leftRightLayout:function(a){var b=
new e(a);a.viewer.isPrintingMode||a.viewer.contentPanel.setLayout(b)},splitTopLayout:function(a){var b=new d(a);a.viewer.isPrintingMode||a.viewer.contentPanel.setLayout(b)},splitBottomLayout:function(a){var b=new k(a);a.viewer.isPrintingMode||a.viewer.contentPanel.setLayout(b)},splitLeftLayout:function(a){var b=new r(a);a.viewer.isPrintingMode||a.viewer.contentPanel.setLayout(b)},splitRightLayout:function(b){var c=new a(b);b.viewer.isPrintingMode||b.viewer.contentPanel.setLayout(c)}})})},"xl/player/layout/TopBottomLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/on xl/util/ga".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.layout.TopBottomLayout",[d,q],{postCreate:function(){this.isSplitterMoved=!1;this.viewer.viewerResizedByWindow=!1;this.viewer.viewerResizedByXYGraph=!1;this.viewer.isPrintingMode?this._setTopBottomPrintLayout():(this.set("style","border:none; width:100%; height:100%"),this._setTopBottomLayout())},layout:function(){this.viewer.viewerResizedByWindow&&(this.isSplitterMoved=!1);this.isCreating&&this.inherited(arguments);this._layoutTopBottom();
this.inherited(arguments)},focus:function(){var a=this.getPanel("top");a&&a.domNode&&a.domNode.focus()},getInnerContentHeight:function(){var a=this.getPanel("top"),b=this.getPanel("bottom");return this.getInnerHeight(a)+Math.max(this.getInnerHeight(b),this.minBottomHeight)},_setTopBottomLayout:function(a){a=new h({id:this.namespace+"top",region:"top","class":"framePanel top",splitter:!0,style:{borderTop:"none"}});this.addChild(a);this.setAccessibleAttributes(a.domNode,"acc.ContentTop");a=new h({id:this.namespace+
"bottom",region:"center","class":"framePanel bottom",splitter:!1,style:{borderTop:"none"}});this.addChild(a);this.setAccessibleAttributes(a.domNode,"acc.ContentBottom");this.startup();this.horizontalSplitterHandler(this.namespace,this._splitterNameTop);this._layoutTopBottom();this._setDragHandlerEvents()},_setTopBottomPrintLayout:function(a){a=this.viewer.contentPanel;var b=new h({id:this.namespace+"top",region:"top","class":"framePanel top"});a.addChild(b);this.setAccessibleAttributes(b.domNode,
"acc.ContentTop");b=new h({id:this.namespace+"bottom",region:"bottom","class":"framePanel bottom"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottom");a.set("layoutType","topbottom")},_layoutTopBottom:function(){var a=c.mixin({},this._contentBox),d=this.getPanel("top");if(d){var e=b.getContentBox(this.domNode).h,k=this.minBottomHeight,r=Math.min(this.topMaxHeight,e-k);r<k&&(r=e/2);d.resize({w:a.w});a=this.getFixedHeight(d.domNode,r);r=Math.min(a.h,r);this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?
d.resize({h:d.h}):d.resize({h:r})}if(d=this.getSplitter(this._splitterNameTop))r=this.getHorizontalSplitterPosition(d),this.setAriaValueNow(d.domNode,r)},_setDragHandlerEvents:function(){var a=this.getSplitter(this._splitterNameTop);r(a.domNode,"keydown",c.hitch(this,this._onKeyDown));r(a.domNode,"click",c.hitch(this,this._onMouseClick))},_onMouseClick:function(a){if(a=this.getSplitter(this._splitterNameTop)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);
this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTop,"mouseMove","topBottomHorizontal")},_onKeyDown:function(a){if(38===a.keyCode||40===a.keyCode){if(a=this.getSplitter(this._splitterNameTop)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTop,"keyboardMove","topBottomHorizontal")}}})})},"xl/player/layout/_BaseLayoutContainer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry dijit/layout/BorderContainer dojo/dom-attr xl/util/localization!html5player/player dojo/dom dojo/dom-construct xl/util/ga".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){return s("xl.player.layout._BaseLayoutContainer",[d,l],{_splitterNameTop:"top_splitter",_splitterNameTopLeft:"topleft_splitter",_splitterNameTopRight:"topright_splitter",_splitterNameLeft:"left_splitter",_splitterNameBottomLeft:"bottomleft_splitter",minBottomHeight:120,topMaxHeight:230,isSplitterMoved:!1,isCreating:!0,startup:function(){this.inherited(arguments);this.isCreating=!1},horizontalSplitterHandler:function(a,b){var c=n.byId(a+b);e.set(c.domNode,
"height","44px");e.set(c.domNode,"cursor","move");k.set(c.domNode,"aria-label",r["layout.splitter_accessibility"]);k.set(c.domNode,"aria-valuemin",0);k.set(c.domNode,"aria-valuemax",100);k.set(c.domNode,"class","horizontalSplitterHandler");for(var d=t.create("div",{className:"horizontalsplitterHandle"},c.domNode),u=0;3>u;u++)2>u?t.create("span",{className:"horizontalHandleSpan2"},d):t.create("span",{className:"horizontalHandleSpan2 horizontalHandleSpanLast"},d);t.create("div",{className:"splitterHorizontalLine"},
c.domNode)},verticalSplitterHandler:function(a,b){var c=n.byId(a+b);e.set(c.domNode,"width","44px");e.set(c.domNode,"cursor","move");k.set(c.domNode,"aria-label",r["layout.splitter_accessibility"]);k.set(c.domNode,"aria-valuemin",0);k.set(c.domNode,"aria-valuemax",100);k.set(c.domNode,"class","verticalSplitterHandler");var d=t.create("div",{className:"splitterVerticalHandle"},c.domNode);t.create("div",{className:"splitterVerticalLine"},c.domNode);b===this._splitterNameTop&&e.set(d,"padding-top","4px");
for(c=0;3>c;c++)(0==c?t.create("span",{className:"splitterVerticalHandleSpan splitterVerticalHandleSpanTop"},d):t.create("span",{className:"splitterVerticalHandleSpan"},d)).textContent="."},getVerticalSplitterPosition:function(a){var b=c.mixin({},this._contentBox);a=a.l;var b=b.w,t=50;0<b&&0<a&&(t=parseInt(100*(a/b)));return t},getHorizontalSplitterPosition:function(a){var b=c.mixin({},this._contentBox);a=a.t;var b=b.h,t=50;0<a&&0<b&&(t=parseInt(100*(a/b)));return t},setAccessibleAttributes:function(a,
b){k.set(a,"role","presentation");k.set(a,"tabindex","0");k.set(a,"aria-description",r[b])},setAriaValueNow:function(a,b){k.set(a,"aria-valuenow",b)},getPanel:function(a){this.namespace&&(a=this.namespace+a);return n.byId(a)},getFixedHeight:function(a,t){var c=b.getMarginBox(a),d=Math.min(a.scrollHeight,t);d>c.h&&(b.setMarginBox(a,{h:d}),c=b.getMarginBox(a));return c},getInnerHeight:function(a){return a&&a.domNode&&a.domNode.firstChild?b.getMarginBox(a.domNode.firstChild).h:0},getSplitter:function(a){var b=
"",b=this.namespace?this.namespace+a:a;return n.byId(b)},setGAData:function(a,b,t){if(a=this.getSplitter(a))a=this.getVerticalSplitterPosition(a),u.sendEvent("Splitter",b,t,a)}})})},"xl/player/layout/LeftRightLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/dom dojo/on xl/util/ga".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){return s("xl.player.layout.LeftRightLayout",[d,q],{postCreate:function(){this.isSplitterMoved=!1;this.viewer.viewerResizedByWindow=!1;this.viewer.viewerResizedByXYGraph=!1;this.viewer.isPrintingMode?this._setLeftRightPrintLayout():(this.set("style","border:none; width:100%; height:100%"),this._setLeftRightLayout())},layout:function(){this.viewer.viewerResizedByWindow&&(this.isSplitterMoved=!1);this.isCreating&&this.inherited(arguments);this._layoutLeftRight();
this.inherited(arguments)},focus:function(){var a=this.getPanel("left");a&&a.domNode&&a.domNode.focus()},getInnerContentHeight:function(){var a=this.getPanel("left"),b=this.getPanel("right");return Math.max(this.getInnerHeight(a),this.getInnerHeight(b))},_setLeftRightLayout:function(){var a=new h({id:this.namespace+"left",region:"left","class":"framePanel left",splitter:!0,style:{width:"50%",border:"none"}});this.addChild(a);this.setAccessibleAttributes(a.domNode,"acc.ContentLeft");a=new h({id:this.namespace+
"right",region:"center","class":"framePanel right",splitter:!0,style:{border:"none"}});this.addChild(a);this.setAccessibleAttributes(a.domNode,"acc.ContentRight");e.set(a.domNode,"border-left","none");this.startup();this.verticalSplitterHandler(this.namespace,this._splitterNameLeft);this._layoutLeftRight();this._setDragHandlerEvents()},_setLeftRightPrintLayout:function(){var a=this.viewer.contentPanel,b=new h({id:this.namespace+"left",region:"left","class":"framePanel left"});a.addChild(b);this.setAccessibleAttributes(b.domNode,
"acc.ContentLeft");b=new h({id:this.namespace+"right",region:"right","class":"framePanel right"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentRight");a.set("layoutType","leftright")},_layoutLeftRight:function(){var a=c.mixin({},this._contentBox),b=this.getPanel("left"),t=a.w/2,d=a.w/2;b&&(this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?(b.resize({h:a.h}),t=a.w-b.w,d=b.w):b.resize({w:t,h:a.h}));(b=this.getPanel("right"))&&b.resize({l:d+10,w:t,h:a.h});if(a=this.getSplitter(this._splitterNameLeft))t=
this.getVerticalSplitterPosition(a),this.setAriaValueNow(a.domNode,t)},_setDragHandlerEvents:function(){var b=this.getSplitter(this._splitterNameLeft);a(b.domNode,"click",c.hitch(this,this._onMouseClickV));a(b.domNode,"keydown",c.hitch(this,this._onKeyDown))},_onKeyDown:function(a){if(37===a.keyCode||39===a.keyCode){if(a=this.getSplitter(this._splitterNameLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameLeft,
"keyboardMove","leftRightVertical")}},_onMouseClickV:function(a){if(a=this.getSplitter(this._splitterNameLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameLeft,"mouseMove","leftRightVertical")}})})},"xl/player/layout/FullLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/dom-attr".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.layout.FullLayout",[d,q],{postCreate:function(){this.viewer.isPrintingMode?(this._setFullLayout(this.viewer.contentPanel),this.viewer.contentPanel.set("layoutType","full")):(this._setFullLayout(this),this.set("style","border:none; width:100%; height:100%"),this._layoutFull())},layout:function(){this.inherited(arguments);this._layoutFull()},focus:function(){var a=this.getPanel("full");a&&a.domNode&&a.domNode.focus()},getInnerContentHeight:function(){var a=
this.getPanel("full");return a?this.getInnerHeight(a):0},_setFullLayout:function(a){var b=new h({id:this.namespace+"full",region:"full","class":"framePanel full"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentFull")},_layoutFull:function(){var a=c.mixin({},this._contentBox),b=this.getPanel("full");b&&b.resize({w:a.w,h:a.h})}})})},"xl/player/layout/SplitTopLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/on xl/util/ga".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.layout.SplitTopLayout",[d,q],{postCreate:function(){this.isSplitterMoved=!1;this.viewer.viewerResizedByWindow=!1;this.viewer.viewerResizedByXYGraph=!1;this.viewer.isPrintingMode?this._setsplitTopLayoutPrint():(this.set("style","border:none; width:100%; height:100%"),this._setsplitTopLayout())},layout:function(){this.viewer.viewerResizedByWindow&&(this.isSplitterMoved=!1);this.isCreating&&this.inherited(arguments);this._layoutSplitTop();this.inherited(arguments)},
focus:function(){var a=this.getPanel("topleft");a&&a.domNode&&a.domNode.focus()},getInnerContentHeight:function(){var a=this.getPanel("topleft"),b=this.getPanel("topright"),c=this.getPanel("bottom");return Math.max(this.getInnerHeight(c),this.minBottomHeight)+Math.max(this.getInnerHeight(a),this.getInnerHeight(b))},_setsplitTopLayout:function(a){a=new k({id:this.namespace+"top",region:"top","class":"framePanel top",splitter:!0,style:{border:"none"}});this.addChild(a);var b=new h({id:this.namespace+
"topleft",region:"left","class":"framePanel topLeft",splitter:!0,style:{width:"50%",border:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopLeft");b=new h({id:this.namespace+"topright",region:"center","class":"framePanel topRight",splitter:!0,style:{border:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopRight");a=h({id:this.namespace+"bottom",region:"center","class":"framePanel bottom",splitter:!0,style:{border:"none"}});this.addChild(a);
this.setAccessibleAttributes(a.domNode,"acc.ContentBottom");this.startup();this.horizontalSplitterHandler(this.namespace,this._splitterNameTop);this.verticalSplitterHandler(this.namespace,this._splitterNameTopLeft);this._layoutSplitTop();this._setDragHandlerEvents()},_setsplitTopLayoutPrint:function(a){a=this.viewer.contentPanel;var b=new h({id:this.namespace+"topleft",region:"topleft","class":"framePanel topLeft"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopLeft");b=new h({id:this.namespace+
"topright",region:"topright","class":"framePanel topRight"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopRight");b=h({id:this.namespace+"bottom",region:"bottom","class":"framePanel bottom"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottom");a.set("layoutType","splittop")},_layoutSplitTop:function(){var a=c.mixin({},this._contentBox),d={},e={},k,r,f=this.getPanel("topleft"),m=a.w/2,h=this.minBottomHeight;f&&(k=b.getContentBox(this.domNode).h,r=Math.min(this.topMaxHeight,
k-h),r<h&&(r=k/2),this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?(f.resize({w:f.w}),m=a.w-f.w):f.resize({w:m}),d=this.getFixedHeight(f.domNode,r));if(a=this.getPanel("topright"))k=b.getContentBox(this.domNode).h,h=this.minBottomHeight,r=Math.min(this.topMaxHeight,k-h),r<h&&(r=k/2),a.resize({w:m}),e=this.getFixedHeight(a.domNode,r);e=Math.max(d.h,e.h);d=this.getPanel("top");r=Math.min(e,r);d&&(this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?d.resize({h:d.h}):d.resize({h:r}));if(d=
this.getSplitter(this._splitterNameTop))r=this.getHorizontalSplitterPosition(d),this.setAriaValueNow(d.domNode,r);if(d=this.getSplitter(this._splitterNameTopLeft))r=this.getVerticalSplitterPosition(d),this.setAriaValueNow(d.domNode,r)},_setDragHandlerEvents:function(){var a=this.getSplitter(this._splitterNameTop);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownH));r(a.domNode,"click",c.hitch(this,this._onMouseClickH));a=this.getSplitter(this._splitterNameTopLeft);r(a.domNode,"keydown",c.hitch(this,
this._onKeyDownV));r(a.domNode,"click",c.hitch(this,this._onMouseClickV))},_onKeyDownH:function(a){if(38===a.keyCode||40===a.keyCode){if(a=this.getSplitter(this._splitterNameTop)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTop,"keyboardMove","splitTopHorizontal")}},_onMouseClickH:function(a){if(a=this.getSplitter(this._splitterNameTop)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=
!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTop,"mouseMove","splitTopHorizontal")},_onKeyDownV:function(a){if(37===a.keyCode||39===a.keyCode){if(a=this.getSplitter(this._splitterNameTopLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTopLeft,"keyboardMove","splitTopVertical")}},_onMouseClickV:function(a){if(a=
this.getSplitter(this._splitterNameTopLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTopLeft,"mouseMove","splitTopVertical")}})})},"xl/player/layout/SplitBottomLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/on xl/util/ga".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.layout.SplitBottomLayout",[d,q],{postCreate:function(){this.isSplitterMoved=!1;this.viewer.viewerResizedByWindow=!1;this.viewer.viewerResizedByXYGraph=!1;this.viewer.isPrintingMode?this._setsplitBottomLayoutPrint():(this.set("style","border:none; width:100%; height:100%"),this._setsplitBottomLayout())},layout:function(){this.viewer.viewerResizedByWindow&&(this.isSplitterMoved=!1);this._creating&&this.inherited(arguments);this._layoutSplitBottom();
this.inherited(arguments)},focus:function(){var a=this.getPanel("top");a&&a.domNode&&a.domNode.focus()},getInnerContentHeight:function(){var a=this.getPanel("top"),b=this.getPanel("bottomleft"),c=this.getPanel("bottomright");return this.getInnerHeight(a)+Math.max(this.getInnerHeight(b),this.getInnerHeight(c),this.minBottomHeight)},_setsplitBottomLayoutPrint:function(){var a=this.viewer.contentPanel,b=h({id:this.namespace+"top",region:"top","class":"framePanel top"});a.addChild(b);this.setAccessibleAttributes(b.domNode,
"acc.ContentTop");b=new h({id:this.namespace+"bottomleft",region:"bottomleft","class":"framePanel bottomLeft"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomLeft");b=new h({id:this.namespace+"bottomright",region:"bottomright","class":"framePanel bottomRight"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomRight");a.set("layoutType","splitbottom")},_setsplitBottomLayout:function(a){a=h({id:this.namespace+"top",region:"top","class":"framePanel top",
splitter:!0,style:{borderTop:"none"}});this.addChild(a);this.setAccessibleAttributes(a.domNode,"acc.ContentTop");a=new k({id:this.namespace+"bottom",region:"center","class":"framePanel bottom",splitter:!0,style:{borderTop:"none"}});this.addChild(a);e.set(a.domNode,"border-top","none");var b=new h({id:this.namespace+"bottomleft",region:"left","class":"framePanel bottomLeft",splitter:!0,style:{width:"50%",borderTop:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomLeft");
e.set(b.domNode,"border-top","none");b=new h({id:this.namespace+"bottomright",region:"center","class":"framePanel bottomRight borderTopNone",splitter:!0,style:{borderTop:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomRight");e.set(b.domNode,"border-top","none");e.set(b.domNode,"border-left","none");this.startup();this.horizontalSplitterHandler(this.namespace,this._splitterNameTop);this.verticalSplitterHandler(this.namespace,this._splitterNameBottomLeft);this._layoutSplitBottom();
this._setDragHandlerEvents()},_layoutSplitBottom:function(){var a=c.mixin({},this._contentBox),d=this.getPanel("top"),e=this.minBottomHeight;if(d){var k=b.getContentBox(this.domNode).h,r=Math.min(this.topMaxHeight,k-e);r<e&&(r=k/2);d.resize({w:a.w});e=this.getFixedHeight(d.domNode,r);r=Math.min(e.h,r);this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?(d.resize({h:d.h}),r=d.h):d.resize({h:r});a.t+=r;a.h-=r}r=this.getPanel("bottomleft");d=a.w/2;r&&(this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?
(r.resize({w:r.w}),d=a.w-r.w):r.resize({w:d-5}));(a=this.getPanel("bottomright"))&&a.resize({l:d+10,w:d-5});if(d=this.getSplitter(this._splitterNameTop))a=this.getHorizontalSplitterPosition(d),this.setAriaValueNow(d.domNode,a);if(d=this.getSplitter(this._splitterNameBottomLeft))a=this.getVerticalSplitterPosition(d),this.setAriaValueNow(d.domNode,a)},_setDragHandlerEvents:function(){var a=this.getSplitter(this._splitterNameTop);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownH));r(a.domNode,"click",
c.hitch(this,this._onMouseClickH));a=this.getSplitter(this._splitterNameBottomLeft);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownV));r(a.domNode,"click",c.hitch(this,this._onMouseClickV))},_onKeyDownH:function(a){if(38===a.keyCode||40===a.keyCode){if(a=this.getSplitter(this._splitterNameTop)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTop,"keyboardMove","splitBottomHorizontal")}},
_onMouseClickH:function(a){if(a=this.getSplitter(this._splitterNameTop)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTop,"mouseMove","splitBottomHorizontal")},_onKeyDownV:function(a){if(37===a.keyCode||39===a.keyCode){if(a=this.getSplitter(this._splitterNameBottomLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);
this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameBottomLeft,"keyboardMove","splitBottomVertical")}},_onMouseClickV:function(a){if(a=this.getSplitter(this._splitterNameBottomLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameBottomLeft,"mouseMove","splitBottomVertical")}})})},"xl/player/layout/SplitLeftLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/on xl/util/ga".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.layout.SplitLeftLayout",[d,q],{postCreate:function(){this.isSplitterMoved=!1;this.viewer.viewerResizedByWindow=!1;this.viewer.viewerResizedByXYGraph=!1;this.viewer.isPrintingMode?this._setsplitLeftLayoutPrint():(this.set("style","border:none; width:100%; height:100%"),this._setsplitLeftLayout())},layout:function(){this.viewer.viewerResizedByWindow&&(this.isSplitterMoved=!1);this.isCreating&&this.inherited(arguments);this._layoutSplitLeft();
this.inherited(arguments)},focus:function(){var a=this.getPanel("topleft");a&&a.domNode&&a.domNode.focus()},getInnerContentHeight:function(){var a=this.getPanel("right"),b=this.getPanel("topleft"),c=this.getPanel("bottomleft");return Math.max(this.getInnerHeight(a),Math.max(this.getInnerHeight(c),this.minBottomHeight)+this.getInnerHeight(b))},_setsplitLeftLayoutPrint:function(a){a=this.viewer.contentPanel;var b=h({id:this.namespace+"topleft",region:"topleft","class":"framePanel topLeft"});a.addChild(b);
this.setAccessibleAttributes(b.domNode,"acc.ContentTopLeft");b=new h({id:this.namespace+"bottomleft",region:"bottomleft","class":"framePanel bottomLeft"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomLeft");b=new h({id:this.namespace+"right",region:"right","class":"framePanel right"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentRight");a.set("layoutType","splitleft")},_setsplitLeftLayout:function(a){a=k({id:this.namespace+"left",region:"left","class":"framePanel left",
splitter:!0,style:{width:"50%",border:"none"}});this.addChild(a);var b=h({id:this.namespace+"topleft",region:"top","class":"framePanel topLeft",splitter:!0,style:{border:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopLeft");b=new h({id:this.namespace+"bottomleft",region:"center","class":"framePanel bottomLeft",splitter:!0,style:{border:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomLeft");a=new h({id:this.namespace+"right",region:"center",
"class":"framePanel right",splitter:!0,style:{border:"none"}});this.addChild(a);this.setAccessibleAttributes(a.domNode,"acc.ContentRight");this.startup();this.horizontalSplitterHandler(this.namespace,this._splitterNameTopLeft);this.verticalSplitterHandler(this.namespace,this._splitterNameLeft);this._layoutSplitLeft();this._setDragHandlerEvents()},_layoutSplitLeft:function(){var a=c.mixin({},this._contentBox),d=a.w/2,e=this.getPanel("left");e&&(this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?
(e.resize({w:e.w,h:a.h}),d=a.w-e.w):e.resize({w:d,h:a.h}));var a=this.getPanel("topleft"),k=this.minBottomHeight;if(a){var r=b.getContentBox(this.domNode).h,e=Math.min(this.topMaxHeight,r-k);e<k&&(e=r/2);a.resize({w:d});d=this.getFixedHeight(a.domNode,e);d=Math.min(d.h,e);this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?a.resize({h:a.h}):a.resize({h:d})}if(a=this.getSplitter(this._splitterNameTopLeft))d=this.getHorizontalSplitterPosition(a),this.setAriaValueNow(a.domNode,d);if(a=this.getSplitter(this._splitterNameLeft))d=
this.getVerticalSplitterPosition(a),this.setAriaValueNow(a.domNode,d)},_setDragHandlerEvents:function(){var a=this.getSplitter(this._splitterNameTopLeft);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownH));r(a.domNode,"click",c.hitch(this,this._onMouseClickH));a=this.getSplitter(this._splitterNameLeft);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownV));r(a.domNode,"click",c.hitch(this,this._onMouseClickV))},_onKeyDownH:function(a){if(38===a.keyCode||40===a.keyCode){if(a=this.getSplitter(this._splitterNameTopLeft)){this.isSplitterMoved=
!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTopLeft,"keyboardMove","splitLeftHorizontal")}},_onKeyDownV:function(a){if(37===a.keyCode||39===a.keyCode){if(a=this.getSplitter(this._splitterNameLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameLeft,"keyboardMove","splitLeftVertical")}},
_onMouseClickH:function(a){if(a=this.getSplitter(this._splitterNameTopLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getHorizontalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTopLeft,"mouseMove","splitLeftHorizontal")},_onMouseClickV:function(a){if(a=this.getSplitter(this._splitterNameLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,
b)}this.setGAData(this._splitterNameLeft,"mouseMove","splitLeftVertical")}})})},"xl/player/layout/SplitRightLayout":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry xl/player/layout/_BaseLayoutContainer dijit/layout/BorderContainer dojo/on xl/util/ga".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.layout.SplitRightLayout",[d,
q],{postCreate:function(){this.isSplitterMoved=!1;this.viewer.viewerResizedByWindow=!1;this.viewer.viewerResizedByXYGraph=!1;this.viewer.isPrintingMode?this._setsplitRightLayoutPrint():(this.set("style","border:none; width:100%; height:100%"),this._setsplitRightLayout())},layout:function(){this.viewer.viewerResizedByWindow&&(this.isSplitterMoved=!1);this.isCreating&&this.inherited(arguments);this._layoutSplitRight();this.inherited(arguments)},focus:function(){var a=this.getPanel("left");a&&a.domNode&&
a.domNode.focus()},getInnerContentHeight:function(){var a=this.getPanel("left"),b=this.getPanel("topright"),c=this.getPanel("bottomright");Math.max(this.getInnerHeight(a),Math.max(this.getInnerHeight(c),this.minBottomHeight)+this.getInnerHeight(b))},_setsplitRightLayoutPrint:function(a){a=this.viewer.contentPanel;var b=new h({id:this.namespace+"left",region:"left","class":"framePanel left"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentLeft");b=h({id:this.namespace+"topright",
region:"topright","class":"framePanel topRight"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopRight");b=new h({id:this.namespace+"bottomright",region:"bottomright","class":"framePanel bottomRight"});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomRight");a.set("layoutType","splitright")},_setsplitRightLayout:function(a){a=new h({id:this.namespace+"left",region:"left","class":"framePanel left",splitter:!0,style:{width:"50%",border:"none"}});this.addChild(a);
this.setAccessibleAttributes(a.domNode,"acc.ContentLeft");a=k({id:this.namespace+"right",region:"center","class":"framePanel right",splitter:!0,style:{border:"none"}});this.addChild(a);var b=h({id:this.namespace+"topright",region:"top","class":"framePanel topRight",splitter:!0,style:{border:"none"}});a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentTopRight");b=new h({id:this.namespace+"bottomright",region:"center","class":"framePanel bottomRight",splitter:!0,style:{border:"none"}});
a.addChild(b);this.setAccessibleAttributes(b.domNode,"acc.ContentBottomRight");this.startup();this.horizontalSplitterHandler(this.namespace,this._splitterNameTopRight);this.verticalSplitterHandler(this.namespace,this._splitterNameLeft);this._layoutSplitRight();this._setDragHandlerEvents()},_layoutSplitRight:function(){var a=c.mixin({},this._contentBox),d=a.w/2,e=this.getPanel("left");e&&(this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?(e.resize({w:e.w,h:a.h}),d=a.w-e.w):e.resize({w:d,h:a.h}));
var k=this.minBottomHeight;if(e=this.getPanel("topright")){var r=b.getContentBox(this.domNode).h,f=Math.min(this.topMaxHeight,r-k);f<k&&(f=r/2);e.resize({w:d});k=this.getFixedHeight(e.domNode,f);f=Math.min(k.h,f);this.isSplitterMoved&&this.viewer.viewerResizedByXYGraph?(e.resize({h:e.h}),a.t+=e.h,a.h-=e.h):(e.resize({h:f}),a.t+=f,a.h-=f)}(e=this.getPanel("bottomright"))&&e.resize({w:d,t:a.t+15});if(d=this.getSplitter(this._splitterNameTopRight))a=this.getHorizontalSplitterPosition(d),this.setAriaValueNow(d.domNode,
a);if(d=this.getSplitter(this._splitterNameLeft))a=this.getVerticalSplitterPosition(d),this.setAriaValueNow(d.domNode,a)},_setDragHandlerEvents:function(){var a=this.getSplitter(this._splitterNameTopRight);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownH));r(a.domNode,"click",c.hitch(this,this._onMouseClickH));a=this.getSplitter(this._splitterNameLeft);r(a.domNode,"keydown",c.hitch(this,this._onKeyDownV));r(a.domNode,"click",c.hitch(this,this._onMouseClickV))},_onKeyDownH:function(a){if(38===a.keyCode||
40===a.keyCode){if(a=this.getSplitter(this._splitterNameTopRight)){var b=this.getHorizontalSplitterPosition(a);this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTopRight,"keyboardMove","splitRightHorizontal")}},_onKeyDownV:function(a){if(37===a.keyCode||39===a.keyCode){if(a=this.getSplitter(this._splitterNameLeft)){var b=this.getVerticalSplitterPosition(a);this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;this.setAriaValueNow(a.domNode,
b)}this.setGAData(this._splitterNameLeft,"keyboardMove","splitRightVertical")}},_onMouseClickH:function(a){if(a=this.getSplitter(this._splitterNameTopRight)){var b=this.getHorizontalSplitterPosition(a);this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=!1;this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameTopRight,"mouseMove","splitRightHorizontal")},_onMouseClickV:function(a){if(a=this.getSplitter(this._splitterNameLeft)){this.isSplitterMoved=!0;this.viewer.viewerResizedByWindow=
!1;var b=this.getVerticalSplitterPosition(a);this.setAriaValueNow(a.domNode,b)}this.setGAData(this._splitterNameLeft,"mouseMove","splitRightVertical")}})})},"xl/player/actions/DisplayAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/dom","dijit/registry","./_DisplayAction"],function(s,q,l,h,n){return s("xl.player.actions.DisplayAction",n,{process:function(f,m){var c=f.target,e=h.byId(c);e?(f.clear&&e.set("content",""),this.appendContent(e,f.content,m,f.disableScroll,"step",f.rvTableMerging)):
q.log("Display action could not find target \x3d "+c)}})})},"xl/player/actions/_DisplayAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom dojo/dom-attr dijit/focus dijit/registry dojo/dom-construct dojo/dom-class dojo/html dojo/window dojo/query dojo/on dojo/dom-geometry dojo/has dojo/topic dojo/parser dojo/_base/lang xl/util/localization!html5player/player xl/util/localStore".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z){return s("xl.player.actions._DisplayAction",
null,{appendContent:function(t,r,f,z,w,C){function l(){if("step tagline"==w){var a=d(".tagline",t.containerNode);if(0<a.length&&(h.set(a[a.length-1],{role:"header",level:"5",tabindex:"-1",id:"part"+a.length}),L=a[a.length-1],a=d("h5",t.containerNode),0<a.length))for(var b=0;b<a.length;b++)m.destroy(a[b])}else a=d(".step",t.containerNode),h.get(t.containerNode,"id"),0==d(".tagline",t.containerNode).length&&(b="\x3ch5 class\x3d'sr-only' tabindex\x3d'-1' id\x3d'part"+a.length+"'\x3e"+v.replace(D.partTitle,
[a.length])+"\x3c/h5\x3e",L=m.place(b,a[a.length-1],"first"))}function q(a,b,e){function t(a){return Array.from(a).reduce(function(a,b){return a+b.colSpan||1},0)}function k(a,b){return d(a,b).filter(function(a){return a.parentNode===b})}if(!1===e)return null;e=a&&k("table.rvTable",a);if(!(e&&1!=e.length)){e=e[0];var r=b&&k("table.rvTable",b);if(!(r&&1!=r.length)){r=r[0];if(r.parentNode.closest("table.rvTable")||e.parentNode.closest("table.rvTable"))return null;var u=d("tbody",r),v=(u=u.length&&u[0].children)&&
u.length,f=d("tbody",e),D=f.length&&f[0].children,B=D&&D.length;if(v&&B)if(c.contains(a,"startonnext"))a=t(u[v-1].children),B=D[0].children,v=t(B),B=Array.from(B).some(function(a){return"TH"===a.tagName&&"col"===a.scope}),a!=v||B||(h.has(r,"role")||h.remove(e,"role"),Array.from(u).reverse().forEach(function(a){m.place(a,f[0],"first")}),m.destroy(b));else if(c.contains(a,"sameline")&&(b=Array.from(D).some(function(a){return Array.from(a).some(function(a){return"TH"===a.nodeName&&"row"===a.scope})}),
!(v!=B||b))){h.has(r,"role")||h.remove(e,"role");b=d("colgroup",r);var z=d("colgroup",e);z.length&&b.length&&Array.from(b[0].children).reverse().forEach(function(a){m.place(a,z[0],"first")});for(var w=0;w<v;w++)Array.from(u[w].children).reverse().forEach(function(a){m.place(a,D[w],"first")});m.destroy(r)}}}}var H=0<=r.indexOf("EssayMceEditor"),s=t.containerNode.lastChild,I=void 0,L=void 0;if(s)for(I=s.lastChild.lastChild;I&&!c.contains(I,"rvParagraph");)I=I.previousSibling;else m.create("h4",{"class":"sr-only",
tabindex:"-1",innerHTML:h.get(t.containerNode,"aria-description")},t.containerNode);var O;O=a("ff")&&"printerPlayer"===f.id&&("leftHolder"===t.containerNode.parentElement.className||"rightHolder"===t.containerNode.parentElement.className)?m.create("div",{"class":"printContentHolder"},t.containerNode):m.create("div",{"class":"contentHolder",id:"contentHolder"+t.containerNode.id},t.containerNode);e.set(O,"\x3cspan class\x3d'"+w+"'\x3e"+r+"\x3c/span\x3e",{parseContent:!H});var Q=O.firstChild;if(I&&O.firstChild.firstChild&&
c.contains(O.firstChild.firstChild,"sameline")){r=O.firstChild.firstChild;var M=r.className.split(" "),R=!0,P;for(P=0;P<M.length;P++)"p"===M[P][0]&&(M[P]!=="p"+f.namespace+"Normal"&&!c.contains(I,M[P]))&&(R=!1);if(R){M=r.childNodes.length;for(P=0;P<M;P++)q(r,I,C),m.place(r.childNodes[0],I);m.destroy(r);0===O.firstChild.childNodes.length&&(m.destroy(O),O=null,Q=I)}}else"hintStep"!==w&&l();I=d("img",O);if(O&&s){for(;0<O.childNodes.length;)P=O.childNodes[0],r=d("div:first-of-type",P),M=s.lastChild.lastChild,
r.length&&M&&q(r[0],M,C),m.place(P,s);m.destroy(O)}H&&u.parse(Q);t.resize();!z&&3!==Q.nodeType&&window.setTimeout(function(){b.scrollIntoView(Q);a("ios")&&setTimeout(function(){0<t.containerNode.scrollTop&&(t.containerNode.scrollTop-=1)},0)},250);I.forEach(function(a){k.once(a,"load",function(){f.contentPanel.resize()})});L&&f.setHeaderFocus&&(z=h.get(L,"id"),h.set(L.parentNode,"id","step"+z),n.focus(L),f.setHeaderFocus=!1)},getScrollableParent:function(a){for(;a.parentNode;){if(a.parentNode.scrollHeight)return a.parentNode;
a=a.parentNode}return null}})})},"xl/util/localStore":function(){define([],function(){var s;try{localStorage.getItem("dontCareWhatThisIs"),s=localStorage}catch(q){s=(new function(){var l=[],h={};Object.defineProperty(h,"getItem",{value:function(h){return h?this[h]:null},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(h,"key",{value:function(h){return l[h]},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(h,"setItem",{value:function(h,f){h&&(document.cookie=escape(h)+
"\x3d"+escape(f)+"; expires\x3dTue, 19 Jan 2038 03:14:07 GMT; path\x3d/",this[h]=f)},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(h,"length",{get:function(){return l.length},configurable:!1,enumerable:!1});Object.defineProperty(h,"removeItem",{value:function(h){h&&(document.cookie=escape(h)+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; path\x3d/",delete this[h])},writable:!1,configurable:!1,enumerable:!1});this.get=function(){var n,f;for(f in h)n=l.indexOf(f),-1===n?h.setItem(f,
h[f]):l.splice(n,1),delete h[f];for(n=0;n<l.length;n++)h.removeItem(l[n]);l=[];for(var m=0,c=document.cookie.split(/\s*;\s*/);m<c.length;m++)n=c[m].split(/\s*=\s*/),1<n.length&&(h[f=unescape(n[0])]=unescape(n[1]),l.push(f));return h};this.configurable=!1;this.enumerable=!0}).get()}return s})},"xl/player/actions/AlertAction":function(){define(["dojo/_base/declare","xl/util/logger","xl/util/stringUtils","xl/player/dialogs/ConfirmationDialog"],function(s,q,l,h){return s("xl.player.actions.AlertAction",
null,{process:function(n,f){var m=n.content,c=f.useSentenceCase?l.sentenceCase(n.title):n.title;c||(c="Alert");return h.displayHtml(m,c,[h.BUTTON.OK],n.width,"xlAlert")}})})},"xl/player/dialogs/ConfirmationDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/html dojo/query dojo/on dojo/_base/Deferred dijit/registry xl/dijit-bootstrap/Button xl/util/stringUtils ./ModalBaseDialog xl/util/ga xl/util/localization!html5player/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v){var D=/\d+(\.\d+)?/,z=s("xl.player.dialogs.ConfirmationDialog",[t],{contentString:"Set the contentString property to display text",commandButtons:null,executeCommand:null,_focusButton:null,postMixInProperties:function(){this.ariaRole="alertdialog";this.htmlContent&&(this.contentString=this.htmlContent);this.inherited(arguments);this.commandButtons&&m.forEach(this.commandButtons,function(a){this.addButton({label:a.label},a,!1,a["default"],!0)},this)},setupFooter:function(){var a=
this.inherited(arguments);this.defaultButton?this._focusButton=this.defaultButton:a&&(this._focusButton=a)},show:function(){var a=this.inherited(arguments),b=this;a.then(function(){b._focusButton.focus()});return a},_size:function(){if((buttons=this.getDialogButtons())&&0<buttons.length){var a=this._calcButtonsWidth();this._setDialogWidthStyle(a)}this.inherited(arguments)},_setDialogWidthStyle:function(a){var b=this.domNode,c=h.getComputedStyle(b),d=c.minWidth.match(D)||[0],e=c.width.match(D)||[0],
e=Math.max(parseFloat(d[0]),parseFloat(e[0]));a=n.getPadExtents(b,c).w+Math.ceil(a);dialogWith=Math.max(e,a);h.set(b,{width:dialogWith+"px"})},_calcButtonsWidth:function(){for(var a=0,b=0;b<buttons.length;b++)var c=h.getComputedStyle(buttons[b].domNode),d=c.width.match(/\d+(\.\d+)?/)||[0],c=n.getMarginExtents(buttons[b].domNode,c),a=a+(c.l+parseFloat(d[0])+c.r);return a},buttonClicked:function(a,b){this.executeCommand=b;this.hide()},onCancel:function(a){this.inherited(arguments);for(var b=0;b<this.commandButtons.length;b++){var c=
this.commandButtons[b].command;c&&(c.arguments&&c.arguments.isRemediationQuestion)&&u.sendEvent("RemediationStayed","FeedbackCancelButton","",0);if(c=this.commandButtons[b].actions)for(var d=0;d<c.length;d++)"saveresultcancelled"===c[d].action&&(this.executeCommand=this.commandButtons[b])}}});z.COMMAND={CANCEL:"cancel",OK:"ok",YES:"yes",NO:"no"};z.BUTTON={YES:{command:z.COMMAND.YES,label:v.yes},NO:{command:z.COMMAND.NO,label:v.no},OK:{command:z.COMMAND.OK,label:v.ok},CANCEL:{command:z.COMMAND.CANCEL,
label:v.cancel}};z.DEFAULT_WIDTH="400px";z.displayHtml=function(a,b,c,e,t){var k=new z({title:b,htmlContent:a,commandButtons:c,style:"width:"+(e||z.DEFAULT_WIDTH),"class":t||""}),r=new d;k.on("hide",function(a){r.resolve(k.executeCommand);k.destroy()});k.show();return r};z.displayText=function(b,c,d,e,t){return z.displayHtml(a.textToHtml(b),c,d,e,t)};return z})},"xl/player/dialogs/ModalBaseDialog":function(){define(["dojo/_base/declare","./BaseDialog","dojo/topic"],function(s,q){return s("xl.player.dialogs.ModalBaseDialog ",
[q],{isModal:!0})})},"xl/player/actions/UpdateTdxInfoAction":function(){define(["dojo/_base/declare","xl/util/logger"],function(s,q){return s("xl.player.actions.UpdateTdxInfoAction",null,{process:function(l,h){try{h.updateTdxInfoData(l)}catch(n){q.log("Error updating TdxInfo dialog",{category:q.category.Javascript,error:n,severity:q.severity.Critical})}}})})},"xl/player/actions/ControlPanelAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom dijit/registry dojo/dom-construct dojo/html dojo/_base/array".split(" "),
function(s,q,l,h,n,f,m){return s("xl.player.actions.ControlPanelAction",null,{process:function(c,e){e.updateStatusPanelFromAction(c);e.updateCtlPanel(c);e.updateRemediationButton(c.showRemediation);e.updateSkillBuilderNavigation(c.navigationInfo);e.tdxState=c.tdxState}})})},"xl/player/actions/AddCssAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom dijit/registry dojo/dom-construct dojo/html".split(" "),function(s,q,l,h,n,f){return s("xl.player.actions.AddCssAction",null,{process:function(m,
c){var e=m.css,b=n.create("style",{type:"text/css"},c.contentPanel.domNode,"first");f.set(b,e,null)}})})},"xl/player/actions/UpdateControlAction":function(){define(["dojo/_base/declare","dojo/dom-class","xl/util/logger","dijit/registry","xl/util/array"],function(s,q,l,h,n){return s("xl.player.actions.UpdateControlAction",null,{process:function(f,m){var c=m.previewUnrolled,e=h.byId(f.clientId);if(e)if(e.processCommand){var b=this;n.forEach(f.commands,function(d,k){e.processCommand(d.command,d.args);
if(!c){var r=b._findParentPane(e.domNode);r&&(r.scrollTop=r.scrollHeight-r.clientHeight)}})}else l.log("UpdateControl: dijit "+e.declaredClass+" needs to implement a processCommand method");else l.log("UpdateControl: could not find djit with id \x3c"+f.clientId+"\x3e")},_findParentPane:function(f){do f=f.parentElement;while(null!=f&&!q.contains(f,"framePanel"));return f}})})},"xl/player/actions/FeedbackAction":function(){define("dojo/_base/declare xl/util/logger dojo/_base/Deferred ../dialogs/FeedbackMessage dojo/topic xl/util/standbyHandler xl/util/higherEdUtils xl/util/stringUtils".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.player.actions.MessageAction",null,{process:function(e,b){var d=e.content,k=e.title,r=e.className,a=!e.modal,t=null;d&&(t=d.join("\n"));var u=new h({refocus:a,contentString:t});e.widthInChars&&0<e.widthInChars&&(u.contentWidth=e.widthInChars);k&&(b.useSentenceCase&&(k=c.sentenceCase(k)),u.set("title",k));r&&u.set("class",r);b.useSentenceCase&&m.sentenceCaseLabels(e.buttons);u.set("buttons",e.buttons);u.setFocusable();var v=new l,D=f.startModal();b.feedbackOpened=
!0;u.on("hide",function(a){b.feedbackOpened=!1;u.destroyRecursive(!1);v.resolve("done");f.endModal(D);if(u.commandClicked)switch(u.commandClicked){case "similar":b.postCommand("similarexercise");break;case "next":b.nextQuestion();break;case "guidedsolution":b.postCommand("learningaid",{data:"guidedsolution"});break;case "sampleproblem":b.postCommand("learningaid",{data:"example"});break;case "remediation":a.eventAction="FeedbackButton",b.remediationQuestion(a)}});u.on("show",function(){e.hideHeader&&
u.hideHeader()});u.show();e.hideCloseButton&&(u.hideCloseButton(),u.closable=!1);return v}})})},"xl/player/dialogs/FeedbackMessage":function(){define("dojo/_base/declare xl/player/dialogs/ResizableDialog xl/dijit-bootstrap/Button dijit/_WidgetsInTemplateMixin dijit/focus dojo/text!./templates/FeedbackMessage.html dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/html xl/util/localization!html5player/feedback xl/util/ga dojo/dom-attr".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.dialogs.FeedbackMessage",
[q,h],{isModal:!0,templateString:f,contentWidth:70,minHeight:107,minWidth:130,_showAction:!1,postCreate:function(){this.inherited(arguments)},_sortByTabIndex:function(a,b){return a.tabIndex-b.tabIndex},calcContentWidth:function(){return 7*this.contentWidth},zIndex:965,layoutContents:function(){var a=e.getContentBox(this.domNode);this._resizeMessage(a)},_updateContainerSize:function(a){var b=e.getMarginBox(this.titleBar),c=e.getMarginBox(this.buttonBar);e.setMarginBox(this.messageHolder,{h:a.h-b.h-
c.h,w:a.w});m.set(this.containerNode,"overflow","auto");a=e.getContentBox(this.messageHolder);e.setMarginBox(this.containerNode,{w:a.w,h:a.h})},_resizeMessage:function(a){if(this._showAction)this._showAction=!1;else{this._dialogMaxHeight&&a.h>this._dialogMaxHeight&&(a.h=this._dialogMaxHeight);a.h<this.minHeight&&(a.h=this.minHeight);var b=!1;this._dialogMaxWidth&&a.w>this._dialogMaxWidth&&(a.w=this._dialogMaxWidth,b=!0);a.w<this.minWidth&&(a.w=this.minWidth,b=!0);b&&e.setMarginBox(this.domNode,{w:a.w});
this._updateContainerSize(a);this._dialogMaxWidth=this._dialogMaxHeight=null}},_updateMinSize:function(){this.contentString&&(this.minHeight=170,this.minWidth=240)},_fixFirefoxScrollbarIssue:function(){if(this.contentString){var a=e.getMarginBox(this.domNode);if(a.h<this.minHeight||a.w<this.minWidth)a.h<this.minHeight&&(a.h=this.minHeight),a.w<this.minWidth&&(a.w=this.minWidth),this._updateContainerSize(a)}},_adjustSize:function(){this.contentString&&(m.set(this.messageHolder,{display:"block"}),m.set(this.containerNode,
{display:"block"}));var a=this.calcContentWidth();a&&!this.preferredContainerWidth&&(this.preferredContainerWidth=a+"px")},show:function(){this._showAction=!0;this._adjustSize();this.inherited(arguments);this._fixFirefoxScrollbarIssue();n.focus(this.domNode)},hideHeader:function(){m.set(this.titleBar,{display:"none"});m.set(this.messageHolder,{"padding-top":"40px"})},hideCloseButton:function(){m.set(this.closeButtonNode,{display:"none"})},_setButtonsAttr:function(a){if("undefined"==typeof a||null==
a||0==a.length)a=[{type:"Ok",label:d.ok}];c.add(this.btnOk.domNode,"hidden");c.add(this.btnNextQuestion.domNode,"hidden");c.add(this.btnSimilar.domNode,"hidden");c.add(this.btnGuidedSolution.domNode,"hidden");c.add(this.btnSampleProblem.domNode,"hidden");c.add(this.btnRemediationQuestion.domNode,"hidden");for(var b="",e=0;e<a.length;e++){var k;switch(a[e].type){case "Ok":k=this.btnOk;break;case "NextQuestion":k=this.btnNextQuestion;break;case "SimilarExercise":k=this.btnSimilar;break;case "GuidedSolution":k=
this.btnGuidedSolution;break;case "SampleProblem":k=this.btnSampleProblem;break;case "Remediation":k=this.btnRemediationQuestion;break;default:return}c.remove(k.domNode,"hidden");k.set("label",a[e].label);b=d.button?b+a[e].label+" "+d.button+" ":b+a[e].label+" button. ";a[e].tabIndex?k.set("tabindex",a[e].tabIndex+1):k.set("tabindex",e+1);1===a.length&&c.add(k.domNode,"btnOnly")}r.set(this.buttonBar,"aria-label",b.trim())},okClicked:function(a){this.onExecute(a)},similarClicked:function(a){this.commandClicked=
"similar";this.onExecute(a)},nextQuestionClicked:function(a){this.commandClicked="next";this.onExecute(a)},gsClicked:function(a){this.commandClicked="guidedsolution";this.onExecute(a)},spClicked:function(a){this.commandClicked="sampleproblem";this.onExecute(a)},remediationQuestionClicked:function(a){this.commandClicked="remediation";this.onExecute(a)},onCancel:function(a){this.inherited(arguments);"none"!=m.get(this.btnRemediationQuestion.domNode,"display")&&k.sendEvent("RemediationSkipped","FeedbackCancelButton",
"",0)}})})},"xl/player/dialogs/ResizableDialog":function(){define("dojo/_base/declare dojo/dom-geometry dojo/dom-class dojo/dom-construct dojo/_base/connect dojo/window ./BaseDialog xl/dijit/ResizeHandle".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.player.dialogs.ResizableDialog",[m],{minHeight:30,minWidth:50,intermediateChanges:!0,canManualResize:!0,enableClickShield:function(){this.containerNode&&l.add(this.containerNode,"nopointerevents")},disableClickShield:function(){this.containerNode&&
l.remove(this.containerNode,"nopointerevents")},postCreate:function(){this.inherited(arguments);if(this.canManualResize){this._updateMinSize();this._resizeHandleTL=this.createResizeHandle("dojoxResizeHandleTL","TL");this._resizeHandleTR=this.createResizeHandle("dojoxResizeHandleTR","TR");this._resizeHandleBL=this.createResizeHandle("dojoxResizeHandleBL","BL");this._resizeHandleBR=this.createResizeHandle("dojoxResizeHandle","BR");var c=this;this.own(n.subscribe(c._resizeHandleTR.startTopic,null,function(){c.enableClickShield()}),
n.subscribe(c._resizeHandleTR.endTopic,null,function(){c.disableClickShield()}))}},onresize:function(){},_updateMinSize:function(){},_changeDialogSize:function(){this.manuallySized=!0;this.resize(!1);return q.getContentBox(this.domNode)},createResizeHandle:function(e,b){var d=new c({targetContainer:this.domNode,animateSizing:!1,activeResize:!0,minHeight:this.minHeight,minWidth:this.minWidth,intermediateChanges:this.intermediateChanges,className:e,position:b,dialogNode:this.domNode});d.placeAt(this.domNode);
var k=this;this.own(d.on("resize",function(){var b=k._changeDialogSize();b.manualResize=!0;k.emit("resize",b)}),d);return d}})})},"xl/dijit/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin dojo/_base/declare dojo/touch".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,
a,t,u,v,D){s=v("xl.dijit.ResizeHandle",[t,u],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',
position:"BR",dialogNode:null,postCreate:function(){this.connect(this.resizeHandle,D.press,"_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=a.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new z({id:"dojoxGlobalResizeHelper"})).placeAt(m.body()),d.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=
this._resizeY=!1;var b=q.partial(d.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;b("dojoxResizeNW");break;case "x":this._resizeX=!0;b("dojoxResizeW");break;case "y":this._resizeY=!0,b("dojoxResizeN")}},_beginSizing:function(c){if(!this._isSizing&&(l.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=a.byId(this.targetId))?this.targetWidget.domNode:b.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),
this.targetDomNode)){this.domNode.style.zIndex&&r.set(this._resizeHelper.domNode,{zIndex:this.domNode.style.zIndex+1});if(!this.activeResize){var d=k.position(this.targetDomNode,!0);this._resizeHelper.resize({l:d.x,t:d.y,w:d.w,h:d.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:d.x,t:d.y})}this._isSizing=!0;this.startPoint={x:c.clientX,y:c.clientY};var d=r.getComputedStyle(this.targetDomNode),e="border-model"===k.boxModel?{w:0,h:0}:k.getPadBorderExtents(this.targetDomNode,
d),t=k.getMarginExtents(this.targetDomNode,d);this.startSize={w:r.get(this.targetDomNode,"width",d),h:r.get(this.targetDomNode,"height",d),pbw:e.w,pbh:e.h,mw:t.w,mh:t.h};!this.isLeftToRight()&&"absolute"===dojo.style(this.targetDomNode,"position")&&(d=k.position(this.targetDomNode,!0),this.startPosition={l:d.x,t:d.y});this._pconnects=[l.connect(m.doc,D.move,this,"_updateSizing"),l.connect(m.doc,D.release,this,"_endSizing")];n.stop(c)}},_updateSizing:function(a){if(0===a.buttons&&("undefined"===typeof a.touches||
0===a.touches.length))this._endSizing(a);else if(!this._isOutsideWindow(a)){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()}},_isOutsideWindow:function(a){var b=e.getBox();return a.pageX<b.l||a.pageY<b.t||a.pageX>b.w||a.pageY>b.h},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(d){return!1}this._activeResizeLastEvent=a;var e=(this.isLeftToRight()&&
!this._isLeft()?1:-1)*(this.startPoint.x-a.clientX);a=(!this._isTop()?1:-1)*(this.startPoint.y-a.clientY);var t=this.startSize.w-(this._resizeX?e:0),k=this._checkConstraints(t,this.startSize.h-(this._resizeY?a:0));this._isLeft()&&k.w>this.minSize.w&&(k.l=this.startPoint.x+e);this._isTop()&&k.h>this.minSize.h&&(k.t=this.startPoint.y+a);if((c=c||this.startPosition)&&this._resizeX)k.l=c.l+e,k.w!==t&&(k.l+=t-k.w),k.t=c.t;switch(b){case "margin":k.w+=this.startSize.mw,k.h+=this.startSize.mh;case "border":k.w+=
this.startSize.pbw,k.h+=this.startSize.pbh}return k},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=this.startSize.w,d=this.startSize.h,e=c*b-d*a;0>e?a=b*c/d:0<e&&(b=a*d/c)}return{w:a,h:b}},_changeSizing:function(a){var b=this.targetWidget&&q.isFunction(this.targetWidget.resize),d=this._getNewCoords(a,b&&"margin");if(!1!==d&&(b?this.targetWidget.resize(d):
this.animateSizing?c[this.animateMethod]([f.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:d.w}},duration:this.animateDuration}),f.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:d.h}},duration:this.animateDuration})]).play():(r.set(this.targetDomNode,{width:d.w+"px",height:d.h+"px"}),d.l&&this.dialogNode&&r.set(this.dialogNode,{left:d.l+"px"}),d.t&&this.dialogNode&&r.set(this.dialogNode,{top:d.t+"px"})),this.intermediateChanges))this.onResize(a)},
_endSizing:function(a){h.forEach(this._pconnects,l.disconnect);var b=q.partial(l.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(){},_isLeft:function(){return"L"===this.position[1]},_isTop:function(){return"T"===this.position[0]}});var z=v("dojox.layout._ResizeHelper",t,{show:function(){r.set(this.domNode,"display","")},hide:function(){r.set(this.domNode,
"display","none")},resize:function(a){k.setMarginBox(this.domNode,a)}});return s})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){l.isAsync||b(0,function(){d(["./fx/Toggler"])});l=l.fx={};b={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var k=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=
null;this.duration=0;h.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};k.prototype=new q;s.extend(k,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=n.after(this._current,"onAnimate",s.hitch(this,"_onAnimate"),
!0),this._onEndCtx=n.after(this._current,"onEnd",s.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=n.after(this._current,"beforeBegin",s.hitch(this,function(){this._fire("beforeBegin")}),!0),d=n.after(this._current,"onBegin",s.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),e=n.after(this._current,"onPlay",s.hitch(this,function(a){this._fire("onPlay",
arguments);c.remove();d.remove();e.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=n.after(this._current,"onAnimate",s.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=n.after(this._current,"onEnd",s.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=n.after(this._current,"onPause",s.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);
this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;h.some(this._animations,function(a){if(a.duration<=c)return this._current=a,!0;c-=a.duration;return!1});this._current&&this._current.gotoPercent(c/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=n.after(this._current,
"onStop",s.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});s.extend(k,b);l.chain=function(a){return new k(a)};var r=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;h.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);
this.duration<b&&(this.duration=b);this._connects.push(n.after(a,"onEnd",s.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new f.Animation({curve:[0,1],duration:this.duration});var b=this;h.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(n.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};s.extend(r,{_doAction:function(a,b){h.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>
this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;h.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",
arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){h.forEach(this._connects,function(a){a.remove()})}});s.extend(r,b);l.combine=function(a){return new r(a)};l.wipeIn=function(a){var b=a.node=m.byId(a.node),d=b.style,e;a=f.animateProperty(s.mixin({properties:{height:{start:function(){e=d.overflow;d.overflow="hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var a=c.get(b,
"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a));var k=function(){d.height="auto";d.overflow=e};n.after(a,"onStop",k,!0);n.after(a,"onEnd",k,!0);return a};l.wipeOut=function(a){var b=(a.node=m.byId(a.node)).style,c;a=f.animateProperty(s.mixin({properties:{height:{end:1}}},a));n.after(a,"beforeBegin",function(){c=b.overflow;b.overflow="hidden";b.display=""},!0);var d=function(){b.overflow=c;b.height="auto";b.display="none"};n.after(a,"onStop",d,!0);n.after(a,"onEnd",d,!0);
return a};l.slideTo=function(a){var b=null,d=null,k=function(a){return function(){var k=c.getComputedStyle(a),r=k.position;b="absolute"==r?a.offsetTop:parseInt(k.top)||0;d="absolute"==r?a.offsetLeft:parseInt(k.left)||0;"absolute"!=r&&"relative"!=r&&(k=e.position(a,!0),b=k.y,d=k.x,a.style.position="absolute",a.style.top=b+"px",a.style.left=d+"px")}}(a.node=m.byId(a.node));k();a=f.animateProperty(s.mixin({properties:{top:a.top||0,left:a.left||0}},a));n.after(a,"beforeBegin",k,!0);return a};return l})},
"xl/util/higherEdUtils":function(){define(["xl/util/array","xl/util/stringUtils"],function(s,q){return{sentenceCaseLabels:function(l){l&&l.length&&s.forEach(l,function(h){h.label&&"string"===typeof h.label&&(h.label=q.sentenceCase(h.label))})}}})},"xl/player/actions/ShowTdxInfoAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/on","xl/util/popupWindow","xl/player/tdxInfoDialog"],function(s,q,l,h,n){return s("xl.player.actions.ShowTdxInfoAction",null,{process:function(f,m){n.exists()?
n.focus():m.postCommand("gettdxinfo",null).then(function(){n.display()})}})})},"xl/util/popupWindow":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/fx dojo/_base/Deferred dojo/_base/lang dijit/focus dojo/dom-construct dojo/on".split(" "),function(s,q,l,h,n,f,m,c){var e=[],b=[],d;s=location.href.indexOf("?");d=0>s?location.href:location.href.substring(0,s);d=d.substring(0,d.lastIndexOf("/")+1);return{popupUseTop:!1,popupDefWidth:400,popupDefHeight:300,popupTimeout:5550,open:function(c,
r,a){var t=!0,u=!1,f=!1,m=!1,h=!1,B=this.popupDefWidth,n=0,A=-1,x=-1,w=!0,C=!0,l=!1,q=!1,H=!0;"undefined"!=typeof a&&("undefined"!=typeof a.toolbar&&(u=a.toolbar),"undefined"!=typeof a.location&&(f=a.location),"undefined"!=typeof a.scrollbar&&(t=a.scrollbar),"undefined"!=typeof a.titlebar&&(m=a.titlebar),"undefined"!=typeof a.statusbar&&(h=a.statusbar),"undefined"!=typeof a.width&&(B=a.width),"undefined"!=typeof a.height&&(n=a.height),"undefined"!=typeof a.left&&(A=a.left),"undefined"!=typeof a.top&&
(x=a.top),"undefined"!=typeof a.autoClose&&(w=a.autoClose),"undefined"!=typeof a.resizable&&(C=a.resizeable),"undefined"!=typeof a.menubar&&(q=a.menubar),"undefined"!=typeof a.directories&&(H=a.directories));0==n&&(l=!0,n=this.popupDefHeight);if(!l&&(screen.availHeight==screen.height||35>screen.availHeight-n))screen.availHeight<n?(x=0,n=screen.availHeight-105):35>screen.availHeight-n&&(x=0,n-=70);10>screen.availWidth-B&&(A=0,B=screen.availWidth-10);a=[];t&&a.push("scrollbars\x3d1");u&&a.push("toolbar\x3d1");
f?a.push("location\x3d1"):a.push("location\x3d0");h?a.push("status\x3d1"):a.push("status\x3d0");m&&a.push("titlebar\x3d1");q&&a.push("menubar\x3d1");C&&a.push("resizable\x3d1");H||a.push("directories\x3d0");a.push("height\x3d"+n);a.push("width\x3d"+B);0>A&&(A=(screen.availWidth-B)/2);0>x&&(x=(screen.availHeight-n)/2);a.push("left\x3d"+A);a.push("top\x3d"+x);t=a.join(",");u=this.popupUseTop?x.window:window;f=!1;0==r.indexOf("http")&&(f=!0);""!=r&&("/"!=r.charAt(0)&&!f&&(r=d+r),r=!f&&l?this.replaceParam(r,
"autoh","yes"):this.removeParam(r,"autoh"),r=!f&&(0<=A||0<=x)?this.replaceParam(r,"centerwin","yes"):this.removeParam(r,"centerwin"));if((A=this.closePopup(c))&&!A.closed)return A;A=u.open("/Blank.html",c,t);if(!A)return console.log("Your security setting don't allow to open popup window. Please change that and try again."),null;r&&(A.location=r);e[c]=A;b[c]=w;A&&A.focus();w&&(u.attachEvent?u.attachEvent("onunload",this.popupMainWindowUnloaded):u.addEventListener&&u.addEventListener("unload",this.popupMainWindowUnloaded,
!1));return A},openerHasFunction:function(b){try{if(window.opener&&eval("window.opener."+b))return!0}catch(c){}return!1},getPopupWindows:function(){return e},getPopup:function(b){"string"==typeof b&&(b=e[b]);return b&&!b.closed?b:null},replaceParam:function(b,c,a){b=new String(b);b=this.removeParam(b,c);return b=0<=b.indexOf("?")?b+"\x26"+c+"\x3d"+a:b+"?"+c+"\x3d"+a},removeParam:function(b,c){var a;a=new String(b);a=a.replace(RegExp("[\\?|\\\x26]"+c+"\x3d(([^\\\x26]*)|s*$)","gi"),"");-1==a.indexOf("?")&&
-1!=a.indexOf("\x26")&&(a=a.replace(/\&/,"?"));return a},popupMainWindowUnloaded:function(){for(var c in e){var d=e[c];d&&("object"==typeof d&&!d.closed&&b[c])&&(e[c]=null,b[c]=!1,d.close())}},reset:function(c){e[c]=null;b[c]=!1},getPopupWindows:function(b){"string"==typeof b&&(b=e[b]);return b&&!b.closed?b:null},closePopup:function(b){"string"==typeof b&&(b=e[b]);b&&!b.closed&&b.close();return b},focusPopup:function(b){"string"==typeof b&&(b=e[b]);b&&!b.closed&&b.focus()}}})},"xl/player/tdxInfoDialog":function(){define(["dojo/_base/lang",
"xl/util/popupWindow","dojo/on"],function(s,q,l){return{tdxInfoWindow:null,display:function(){this.tdxInfoWindow=q.open("tdxInfo","/Player/TdxInfo.aspx"+location.search,{height:580,status:!1,width:650});var h=this;l.once(this.tdxInfoWindow,"unload",function(){h._tdxInfoWindow=null})},exists:function(){return this.tdxInfoWindow&&!this.tdxInfoWindow.closed&&this.tdxInfoWindow.tdxInfoViewerObj},setData:function(h){this.exists()?this.tdxInfoWindow.tdxInfoViewerObj.setData(h):this._data=h},focus:function(){this.exists()&&
this.tdxInfoWindow.focus()},loaded:function(){this.exists()&&this._data&&this.tdxInfoWindow.tdxInfoViewerObj.setData(this._data);this._data=null}}})},"xl/player/actions/SetupMenuAction":function(){define("dojo/_base/declare xl/util/logger dijit/MenuItem dijit/MenuSeparator dijit/CheckedMenuItem dojo/dom-style dojo/_base/kernel dojo/dom-attr".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.player.actions.SetupMenuAction",null,{process:function(c,b){b&&b.setupMenu(c,b.getMenu())}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){m=s("dijit.MenuItem"+(f("dojo-bidi")?"_NoBidi":""),[c,e,b,d],{templateString:k,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(b){this._set("label",b);var a="",c;c=b.search(/{\S}/);if(0<=c){var a=b.charAt(c+1),d=b.substr(0,c);b=b.substr(c+3);c=d+a+b;b=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+a+"\x3c/span\x3e"+b}else c=b;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=b;this._set("shortcutKey",a)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(b){b&&!("label"in this.params)&&this._set("label",b.innerHTML)},buildRendering:function(){this.inherited(arguments);l.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&l.set(this.accelKeyNode,"id",this.id+"_accel");q.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==f("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(b){}},_onFocus:function(){this.getParent()._onItemFocus(this);
this.inherited(arguments)},_setSelected:function(b){h.toggle(this.domNode,"dijitMenuItemSelected",b)},setLabel:function(b){n.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},setDisabled:function(b){n.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},_setDisabledAttr:function(b){this.focusNode.setAttribute("aria-disabled",b?"true":"false");this._set("disabled",
b)},_setAccelKeyAttr:function(b){this.accelKeyNode&&(this.accelKeyNode.style.display=b?"":"none",this.accelKeyNode.innerHTML=b,l.set(this.containerNode,"colSpan",b?"1":"2"));this._set("accelKey",b)}});f("dojo-bidi")&&(m=s("dijit.MenuItem",m,{_setLabelAttr:function(b){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return m})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),
function(s,q,l,h,n,f){return s("dijit.MenuSeparator",[l,h,n],{templateString:f,buildRendering:function(){this.inherited(arguments);q.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(s,q,l,h){return s("dijit.CheckedMenuItem",l,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:h,checked:!1,_setCheckedAttr:function(h){this.domNode.setAttribute("aria-checked",
h?"true":"false");this._set("checked",h)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(h){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(h)}})})},"xl/player/actions/UpdateStatusAction":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(s,q){return s("xl.player.actions.UpdateStatusAction",null,{process:function(l,h){h.messagePanel&&(q.empty(h.messagePanel),q.create("span",{innerHTML:l.message||
"\x26nbsp;","class":l.style},h.messagePanel))}})})},"xl/player/actions/PopupStepContentAction":function(){define(["dojo/_base/declare","dijit/registry"],function(s,q){return s("xl.player.actions.PopupStepContentAction",null,{process:function(l){q.byId(l.clientId).loadSteps(l.steps,l.isError)}})})},"xl/player/actions/LogAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.LogAction",null,{process:function(q,l){l.log(q.contents)}})})},"xl/player/actions/SetToolButtonsAction":function(){define(["dojo/_base/declare"],
function(s){return s("xl.player.actions.SetToolButtonsAction",[],{process:function(q,l){q.showToolPalette?(l.mathPalette.showPalette=!q.useOsk,l.keyboard.setShowToolButtons(!0),l.mathPalette.setSiSemicolonDelimiter(q.siSemicolonDelimiter),l.keyboard.setSiSemicolonDelimiter(q.siSemicolonDelimiter),q.toolButtons&&(l.mathPalette.setToolButtons(q.toolButtons),l.keyboard.setToolButtons(q.toolButtons)),q.moreToolButtons&&(l.mathPalette.setMoreToolButtons(q.moreToolButtons),l.keyboard.setMoreToolButtons(q.moreToolButtons)),
l.updateEssayPalette()):(l.mathPalette.showPalette=!1,l.keyboard.setShowToolButtons(!1))}})})},"xl/player/actions/SetTabStylesAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.SetTabStylesAction",[],{process:function(q,l){l.tabStyles=q.styles}})})},"xl/player/actions/GraphZoomAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom dijit/registry dojo/dom-construct dojo/dom-geometry dojo/html dojo/_base/Deferred ../dialogs/GraphZoomPopup dojo/window dojo/has dojo/topic xl/util/standbyHandler".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.actions.GraphZoomAction",null,{process:function(a,c){var d=a.content,k=h.byId(a.graphId),f=b.getBox(c.ownerDocument),m={w:Math.min(f.w,640),h:Math.min(f.h,555),l:0,t:0};m.l=(f.w-m.w)/2;var B=new e({viewportSize:m,contentString:d,baseGraph:k});B.setSize(m.w-20,m.h-20);B.on("show",function(){var b=h.byId(a.graphId);b&&b.doGraphZoomed(B.getGraph())});var n=r.startModal();B.on("hide",function(){B.destroyRecursive();r.endModal(n)});B.show()}})})},
"xl/player/dialogs/GraphZoomPopup":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/_base/array dojo/window dojo/text!./templates/GraphPopup.html dojo/dom-style dojo/dom-geometry dijit/registry dojo/Evented xl/grapher/XYGraph2 xl/player/dialogs/BaseDialog dojox/xml/parser dojo/query xl/grapher/enums xl/util/stringUtils xl/util/IPMath xl/util/localization!html5player/player dojo/dom-class xl/editgraph/enums dojo/topic xl/util/localization!html5player/graphmanager xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/editgraph/GraphStatus dojo/parser xl/player/controls/GraphToolBar xl/util/mobileMethods dijit/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G){return s("xl.player.dialogs.GraphZoomPopup",[k],{contentString:f,_initialWidth:null,_initialHeight:null,_graphSize:null,isModal:!0,statusPromptNode:null,statusPositionNode:null,statusTableNode:null,_toolBar:null,_orientationHandler:null,postCreate:function(){this.inherited(arguments);H.preventDoubleTabZoom(this.domNode,this);this.getGraph().disableDraw=!0;this.getGraph().allowPalette=!1;this._orientationHandler=F.subscribe("fullHeightOrientationChanged",
q.hitch(this,this._orientationChanged));z.add(this.domNode,"xlGraphZoomPopup")},setSize:function(a,b){this._initialWidth=a;this._initialHeight=b},destroy:function(){this._orientationHandler&&this._orientationHandler.remove();var a=this.getGraph();a&&(a.getGraphControl()&&a.getGraphControl()._hideTransformPalette(),a.destroyRecursive());this.inherited(arguments);if(this.baseGraph){if(a=this.baseGraph.getGraphControl().getPalette())a.showPalette=!0,a.visible=!0;this.baseGraph.domNode.blur();this.baseGraph=
null}},baseGraph:null,_isEditable:!1,_started:!1,showToolbar:function(a){a||(a=this.getGraph());return a.hasXyCursor||a.hasSdGrapher&&a.getGraphControl().editable},show:function(){this._initialWidth&&c.setMarginBox(this.domNode,{w:this._initialWidth});this._initialHeight&&c.setMarginBox(this.domNode,{h:this._initialHeight});this.inherited(arguments);if(this.showToolbar()){this.statusPanel.setGraph(this.getGraph());z.remove(this.dialogHeader,"hidden");if(this.getGraph().hasXyCursor){if(this.updateStatusPrompt(D["status.xy_popup_selected"]),
this.getGraph().showXyCursor){var a=this.getGraph().getXYCursorBlobObject();a&&(a.on("moved",q.hitch(this,this.coordsUpdate)),this.coordsUpdate({x:a.getLocationX(),y:a.getLocationY()}))}}else this.updateStatusPrompt(A["sdg.none"]);this.getGraph().getGraphControl().getGraphManager().on(B.GraphObjectEvent.CURSOR_MOVED,q.hitch(this,this.coordsUpdate));F.subscribe(B.GraphObjectEvent.UPDATE_MESSAGE,q.hitch(this,this.updateMessage));this.getGraph().getGraphControl().statusPanel.setShowCoords(!1);this.statusPanel.allowEditCoords=
this.getGraph().getGraphControl().getGraphManager().getAllowTypedCoordinates();this.getGraph().getGraphControl().setStatusPanelVisiblity(!1);m.set(this.statusPanel.domNode,"paddingRight","0px");this.getGraph().getGraphControl().getGraphManager().doUpdateMessage()}this.getGraph().disableDraw=!1;this._createToolBar();this._size();this._position()},_createToolBar:function(){if(!this._toolBar){var a=this.getGraph(),b=a.getGraphControl();this.showToolbar(a)&&!a.hasXyCursor&&(this._toolBar=new J({graphControl:b,
containerNode:this.containerNode}),this._toolBar.startup(),b.setPalette(this._toolBar))}},coordsUpdate:function(a){var b=this.getGraph().getGraphControl().getGraphManager().getCursorText();!b&&a&&(b="("+a.x.toFixed(1)+", "+a.y.toFixed(1)+")");this.statusPanel.setCursorText(b)},updateMessage:function(a){this.updateStatusPrompt(a.message)},updateStatusPrompt:function(a){this.statusPromptNode&&(this.statusPromptNode.innerHTML=a,this.statusPromptNode.offsetWidth>=this.statusPromptNode.scrollWidth&&m.set(this.expandCollapseNode,
"display","none"))},buildRendering:function(){this.inherited(arguments)},getGraph:function(){var a=null;try{this.containerNode&&(0<this.containerNode.children.length&&0<this.containerNode.children[0].children.length&&0<this.containerNode.children[0].children[0].children.length)&&(a=e.byId(this.containerNode.children[0].children[0].children[0].children[0].id))}catch(b){}return a},_size:function(){this.inherited(arguments);var a=c.getContentBox(this.domNode),b=c.getMarginBox(this.titleBar),d=c.getMarginBox(this.dialogHeader),
e=c.getMarginBox(this.dialogFooter),e=(this._initialHeight?this._initialHeight:a.h)-b.h-d.h-e.h,b=null,d=this.getGraph();if(this.showToolbar()){c.setMarginBox(this.containerNode,{h:e,w:Math.min(1.5*e,a.w)});var b=c.getContentBox(this.containerNode),k=!1;this._toolBar&&(z.remove(this._toolBar.domNode,"horizontal vertical"),a=n.getBox(),a.w>=a.h?(1E3>a.w&&m.set(this._toolBar.domNode,{width:"86px"}),z.add(this._toolBar.domNode,"vertical"),m.set(this.containerNode,{position:"relative"}),a=c.getMarginBox(this._toolBar.domNode),
b.w-=a.w,k=!0):(z.add(this._toolBar.domNode,"horizontal"),a=c.getMarginBox(this._toolBar.domNode),b.h-=a.h))}else c.setMarginBox(this.containerNode,{h:e}),b=c.getContentBox(this.containerNode);d.setSize(b.w,b.h-5);this.showToolbar()?k&&(k=c.getMarginBox(this.containerNode),c.setMarginBox(this.domNode,{w:k.w+5})):(k=c.getMarginBox(this.containerNode),c.setMarginBox(this.domNode,{w:k.w}));this.statusPanel.allowEditCoords&&m.set(this.graphStatusCell,"width","170px");k=c.getMarginBox(this.dialogHeader);
a=c.getMarginBox(this.graphStatusCell);b=c.getMarginBox(this.expandCollapseNode);m.set(this.statusPromptNode,{width:k.w-a.w-b.w+"px"})},_orientationChanged:function(a){this.getGraph()&&(this._initialHeight&&this._initialWidth&&(a=n.getBox(),this._initialWidth=a.w-10,this._initialHeight=a.h-10,c.setMarginBox(this.domNode,{w:this._initialWidth}),c.setMarginBox(this.domNode,{h:this._initialHeight})),this._size(),this._position())},_setContent:function(a,b){this.parseOnLoad=!0;this.inherited(arguments);
this.parseOnLoad=!1},setupFooter:function(){var a=!1;this.baseGraph.hasXyCursor&&h.forEach(this.baseGraph.getXYCursors(),function(b){a=a||!b.isAnswered});this.baseGraph.hasSdGrapher&&(a=a||this.baseGraph.getGraphControl().editable);a&&this.addButton({label:w.cancel,onClick:q.hitch(this,this.cancelClicked)});this.addButton({label:a?x["button.save"]:w.ok,onClick:q.hitch(this,this.okClicked)});this._isEditable=a;this.inherited(arguments)},setupHeader:function(){l.create("label",{innerHTML:""},this.titleNode);
var a=l.toDom('\x3ctable data-dojo-attach-point\x3d"statusTableNode" width\x3d"100%"\x3e\x3ctr\x3e\x3ctd style\x3d"display:inline-block;" class\x3d"collapsed"\x3e\x3cspan class\x3d"graphStatusPrompt" style\x3d"padding:0px;" data-dojo-attach-point\x3d"statusPromptNode"\x3e\x3c/span\x3e\x3c/td\x3e\x3ctd style\x3d"text-align:center;width:60px;"\x3e\x3cdiv data-dojo-type\x3d"xl.editgraph.GraphStatus" data-dojo-attach-point\x3d"statusPanel" style\x3d"font-size:12px"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd data-dojo-attach-point\x3d"expandCollapseNode" style\x3d"vertical-align:top; width:18px;"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e');
l.place(a,this.dialogHeader);var b=E.parse(a);this.statusTableNode=a;this.statusPromptNode=a.rows[0].cells[0];this.graphStatusCell=a.rows[0].cells[1];this.expandCollapseNode=a.rows[0].cells[2];this.statusPanel=b[0];this.inherited(arguments);this.expColButton=this.createButton({onClick:q.hitch(this,this.expColClicked),className:"expColBtn collapsed"});l.place(this.expColButton.domNode,this.expandCollapseNode)},expColClicked:function(a){z.toggle(this.statusPromptNode,"collapsed");z.toggle(this.expColButton.domNode,
"collapsed")},onCancel:function(){this.getGraph().doCancelZoomed(this.baseGraph)},okClicked:function(a){this._isEditable?this.getGraph().doOkZoomed(this.baseGraph):this.getGraph().resetToolTip();this.onExecute(a)},cancelClicked:function(a){this.hide()},DEF_FORMAT:"#",format:"#.##",formatNum:function(a){return v.isInfinite(a)?0<a?"\x26infin;":"-\x26infin;":!this.format||""==this.format?u.formatFloat(a,this.DEF_FORMAT):u.formatFloat(a,this.format)}})})},"xl/grapher/XYGraph2":function(){define("dojo/_base/declare dojo/_base/connect dijit/_WidgetBase dojo/string dojo/dom-construct dojo/dom-attr dojo/dom dojox/gfx dojo/dom-geometry dojo/_base/array dijit/_Container dojo/_base/event dojo/dom-style dojo/has dojo/query dojo/topic xl/util/IPMath xl/util/domMethods ./enums dojo/_base/lang dojox/gfx/canvas dojo/keys dijit/_FocusMixin dijit/focus dijit/place xl/player/controls/_AltTextToolTip dojo/string xl/grapher/XYGrid xl/grapher/IPGraphAxis xl/grapher/Rectangle xl/grapher/Margins xl/grapher/Point xl/grapher/IPGraphMetrics xl/grapher/IPGraphScatter xl/grapher/IPGraphCustomPlot xl/grapher/IPGraphHistogram xl/grapher/XYPointCursor ./IPNumberLinePlot xl/grapher/IPGraphFunction xl/grapher/IPGraphLabel xl/grapher/IPGraphRegion xl/grapher/IPGrapherKeyboard xl/grapher/IPGraphShape xl/grapher/IPGraphPart xl/grapher/IPGraphBlob xl/editgraph/IEditableGraphObject xl/util/graphUtils xl/util/imageProcessing dojo/on xl/player/controls/_NeedsPlayerViewer dojo/Evented dojo/dom-class xl/util/ForeignObject dojo/mouse dojo/touch dijit/TooltipDialog dijit/popup xl/player/dialogs/DataGrapherDialog xl/util/flex/DateFormatter xl/player/dialogs/InteractionsDialog xl/util/stringUtils dijit/registry dojo/_base/config xl/util/localization!html5player/player xl/util/localization!html5player/graphmanager xl/util/DijitLoadMonitor dojo/io-query xl/editgraph/GraphHoleObject".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W,$,U,ba,da,X,fa,ga,aa,Z,ca,ia,la,ja,ha,N,ea,ka,Y,pa,ua,ya,za,Aa,ra,oa,Ba,Ca){return s("xl.grapher.XYGraph2",[l,d,x,Z,E],{baseClass:"xygraph",_surface:null,_w:null,_h:null,plotMargins:null,_autoAdjustMargins:!0,renderMode:"svg",_surfaceList:null,_blobList:null,hasZoomButton:!1,_invalidating:null,_needsDrawing:!1,_lastMetrics:null,_grid:null,_xAxis:null,_yAxis:null,_yAxisAlt:null,_plotRect:null,dataGraphPrintData:null,
titlePosition:null,_gTitleLoc:null,_altXAxisTitlePos:null,_altYAxisTitlePos:null,_titleLeftMargin:0,_titleRightMargin:0,_titleSize:null,showGrid:!0,majorTickSize:5,minorTickSize:3,_plotList:null,_labelList:null,_regionList:null,_shapeList:null,extsize:15,titleFont:"Arial",titleFontSize:"10px",titleColor:"#080808",gridColor:"#919191",currentBlob:null,_resetting:!1,isZoomed:!1,isotropic:!1,isoVAlignTop:!1,squareGraph:!1,graphStyle:z.IPGraphStyle.NORMAL,showOutline:!1,outlineColor:"black",HINT_TOL:3.5,
_hintWindow:null,_trackBlob:null,_focusBlob:null,_dragBlob:null,_blobOffset:null,_lastPartClicked:null,_lastMouseX:0,_lastMouseY:0,_graphControl:null,clipFunctions:!1,enabled:!0,visible:!0,_blobLayerInvalidated:!1,_plotLayerInvalidated:!1,_labelLayerInvalidated:!1,_regionLayerInvalidated:!1,_hasDataGraph:!1,_dataGraphPlotIds:null,_hasInteractions:!1,hasSdGrapher:!1,hasXyCursor:!1,_xyCursors:null,showXyCursor:!1,defaultDateFormat:null,formatSettings:null,zoomScale:1,disableDraw:!1,selectedObj:null,
isObjectDeleting:!1,printing:!1,_disableInteractionDialog:!1,setDisableInteractionDialog:function(a){this._disableInteractionDialog=a},_setHasDataGraphAttr:function(a){this._hasDataGraph=a},_setHasInteractionsAttr:function(a){this._hasInteractions=a},getGraphControl:function(){return this._graphControl},setShowGrid:function(a){this.showGrid!=a&&(this.showGrid=a,this.invalidateGraph())},setIsotropic:function(a){this.isotropic!=a&&(this.isotropic=a,this.invalidateGraph())},setTitle:function(a){this.graphTitle!=
a&&(this.graphTitle=a,this.invalidateGraph())},setTitlePosition:function(a){this.titlePosition!=a&&(this.titlePosition=a,this.invalidateGraph())},constructor:function(a){this._plotList=[];this._labelList=[];this._regionList=[];this._shapeList=[];this._surfaceList={};this._blobList=[];this._dataGraphPlotIds=[];this._xyCursors=[];this.hasZoomButton=!0;this.plotMargins=new L({top:20,left:17,right:20,bottom:17});a.loadFromJson&&(this._w=a.width,this._h=a.height)},buildRendering:function(){this.inherited(arguments)},
postCreate:function(){this.domNode.setAttribute("tabindex",0);this.visible||r.set(this.domNode,"display","none");this._originalWidth=r.get(this.domNode,"width");this._originalHeight=r.get(this.domNode,"height");!this.isZoomed&&this.hasZoomButton&&(this.addZoomButton(),this._titleRightMargin+=this.zoomBtnWidth);this.own(aa(this.domNode,ha.move,B.hitch(this,this.mouseMoved)),aa(this.domNode,ha.press,B.hitch(this,this.mouseDown)),aa(this.domNode,ha.release,B.hitch(this,this.mouseUp)),aa(this.domNode,
"keydown",B.hitch(this,this._onKeyDown)));a("edge")&&a("touch")&&(r.set(this.domNode,"touch-action","none"),aa(this.domNode,"pointermove",B.hitch(this,this.mouseMoved)));this.printing&&r.set(this.domNode,"pointer-events","none");oa.staticFunctions.loadingStarted(this);this.inherited(arguments)},destroy:function(){this.inherited(arguments);this._tooltip&&this._tooltip.destroy();if(this._surfaceList)for(var a in this._surfaceList)if(this._surfaceList.hasOwnProperty(a)){var b=this._surfaceList[a];b.clearForeignObjects&&
b.clearForeignObjects();b.destroy()}},startup:function(){this._started||(this.initializeChildren(),this.inherited(arguments),this.initialize())},mouseMoved:function(a){if(this.domNode){var b,c;b=!1;var d=e.position(this.domNode,!0),k=this._lastMouseX=(a.pageX-d.x)/this.zoomScale,d=this._lastMouseY=(a.pageY-d.y)/this.zoomScale;this.processHints(k,d);this._trackBlob&&this._trackBlob.getVisible()&&(b=this.getAxisX().viewToWorld(k),c=this.getAxisY().viewToWorld(d),this._trackBlob.move(b,c,z.IPGraphBlobState.MOVED,
!1,!1),b=!0);this._dragBlob&&this._dragBlob.getVisible()&&this._dragBlob.getCanMove()&&(b=this.getAxisX().viewToWorld(k-this._blobOffset.x),c=this.getAxisY().viewToWorld(d-this._blobOffset.y),this._dragBlob.move(b,c,z.IPGraphBlobState.DRAGGED,!1),b=!0,a.preventDefault(),a.stopPropagation());b||(b=this.getAxisX().viewToWorld(k),c=this.getAxisY().viewToWorld(d),this.emit("graphMouseMoved",{graph:this,x:b,y:c,event:a}))}},_touchInteractor:null,mouseUp:function(a){if(this.enabled)if("graphZoomBtn"==a.target.className)a.stopPropagation();
else{var b=e.position(this.domNode,!0),c=(a.pageX-b.x)/this.zoomScale,b=(a.pageY-b.y)/this.zoomScale,c=this.getAxisX().viewToWorld(c),b=this.getAxisY().viewToWorld(b);this._dragBlob&&(this._dragBlob.move(this._dragBlob.getLocationX(),this._dragBlob.getLocationY(),z.IPGraphBlobState.UP,!0),this._dragBlob.redraw());this._dragBlob=null;this.emit("graphmouseup",{graph:this,x:c,y:b,event:a})}},mouseDown:function(a){var b=e.position(this.domNode,!0),c=(a.pageX-b.x)/this.zoomScale,b=(a.pageY-b.y)/this.zoomScale;
this.canFocus()&&this.setFocus();if("graphZoomBtn"==a.target.className){if(c=this.getGraphControl().getPalette())c.showPalette=!1}else if(0==a.button||"touchstart"==a.type){this._dragBlob=this.getBlobAtPos(c,b);a=this.getAxisX().viewToWorld(c);var d=this.getAxisY().viewToWorld(b);this._trackBlob&&this._dragBlob===this._trackBlob&&this._trackBlob.setLocation(a,d);this._dragBlob?this.pressDragBlob(c,b):((!this._focusBlob||!this._focusBlob.getStickyFocus())&&this.setFocusBlob(null),this.processLastObjectClicked(c,
b),this.doGraphClicked(a,d))}},pressDragBlob:function(a,b){if(this._dragBlob.getCanMove()){this.setFocusBlob(this._dragBlob);var c=this._dragBlob.getViewX(),d=this._dragBlob.getViewY();this._blobOffset={x:a-c,y:b-d}}c=this.getAxisX().viewToWorld(a);d=this.getAxisY().viewToWorld(b);this._dragBlob.move(c,d,z.IPGraphBlobState.PRESSED);this._dragBlob.redraw()},doGraphClicked:function(a,b){this.emit("graphclicked",{graph:this,x:a,y:b})},processLastObjectClicked:function(a,b){var c,d,e=null;this._lastPartClicked=
null;for(c=0;c<this.getPlotCount();c++)d=this.getPlot(c).getDistanceFrom(a,b),0<=d&&d<this.HINT_TOL&&(this.closestD=d,e=this.getPlot(c));e&&(this._lastPartClicked=e)},getBlobAtPos:function(a,b){for(var c=this.getAxisX().viewToWorld(a),d=this.getAxisY().viewToWorld(b),e=null,k=0;k<this.getBlobCount();k++){var t=this.getBlob(k);if(t.getVisible()&&t!==this._trackBlob&&(e=t.isUnderPoint(c,d)))return e.blob}this._trackBlob&&this._trackBlob.getVisible()&&(e=this._trackBlob);return e},setFocus:function(){},
_hintShowing:!1,_tooltip:null,processHints:function(a,b){var c,d,k,t;k=-1;t=null;if(!(0>a||a>this._w||0>b||b>this._h)){for(c=this._shapeList.length-1;0<=c;c--)if(this.getShape(c).hint&&(d=this.getShape(c).getDistanceFrom(a,b),0<=d&&d<this.HINT_TOL)){t=this.getShape(c);k=this.HINT_TOL/2;break}for(c=this.getPlotCount()-1;0<=c;c--)if(this.getPlot(c).hint&&(d=this.getPlot(c).getDistanceFrom(a,b),0<=d&&d<this.HINT_TOL&&(0>k||d<k)))k=d,t=this.getPlot(c);for(c=this.getLabelCount()-1;0<=c;c--)d=this.getLabel(c),
d.hint&&d.isUnderPoint(a,b)&&!d.isCorrect&&(t=d);if(t){if(this._tooltip||(this._tooltip=new N({id:t.id+"_tooltip","class":"graphTooltip"}),this._tooltip.set("closestPartId",t.id),aa.once(this._tooltip,"show",function(){this.startup()})),!this._hintShowing||this._tooltip.get("closestPartId")!=t.id)this._tooltip.set("content",t.hint),this._tooltip.set("closestPartId",t.id),c=e.position(this.domNode,!0),ea.open({parent:this,popup:this._tooltip,x:c.x+a,y:c.y+b,orient:["above-centered","above-alt","below",
"below-alt"]}),c=e.getMarginBox(this._tooltip.domNode),c=r.get(this._tooltip.domNode.parentNode,"top")-c.h+"px",r.set(this._tooltip.domNode.parentNode,"top",c),this._hintShowing=!0}else this._tooltip&&(ea.close(this._tooltip),this._tooltip.destroy(),this._tooltip=null),this._hintShowing=!1}},addMobileZoomOverlay:function(){},addZoomButton:function(){var a=D.closest(this.domNode,".graphControl");a&&(this._zoomScaleWrapper=D.closest(this.domNode,".scale-wrapper"),r.set(a,"minHeight","97px"),this._createActionMenu(a),
this._titleLeftMargin=25)},_zoomInBtn:null,_zoomOutBtn:null,_popOutBtn:null,_createActionMenu:function(a){this._fabContainer=n.create("ul",{"class":"fab open"},a);this._zoomInBtn=n.toDom(J.substitute("\x3cli class\x3d'inside first'\x3e\x3cbutton aria-label\x3d'${title}'\x3e\x3cspan class\x3d'zoomin'\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e",{title:ra["sdg.zoom_in"]}));n.place(this._zoomInBtn,this._fabContainer);this.own(aa(this._zoomInBtn.childNodes[0],ha.release,B.hitch(this,this._incrementZoomScale)));
this.own(aa(this._zoomInBtn.childNodes[0],"keypress",B.hitch(this,this._zoomInKeyboardPress)));this._zoomOutBtn=n.toDom(J.substitute("\x3cli class\x3d'inside disabled' aria-disabled\x3dtrue\x3e\x3cbutton aria-label\x3d'${title}'\x3e\x3cspan class\x3d'zoomout'\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e",{title:ra["sdg.zoom_out"]}));n.place(this._zoomOutBtn,this._fabContainer);this.own(aa(this._zoomOutBtn.childNodes[0],ha.release,B.hitch(this,this._decrementZoomScale)));this.own(aa(this._zoomOutBtn.childNodes[0],
"keypress",B.hitch(this,this._zoomOutKeyboardPress)));this._popOutBtn=n.toDom(J.substitute("\x3cli class\x3d'inside'\x3e\x3cbutton aria-label\x3d'${title}'\x3e\x3cspan class\x3d'zoompopout'\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e",{title:ra["sdg.pop_out"]}));n.place(this._popOutBtn,this._fabContainer);this.own(aa(this._popOutBtn.childNodes[0],ha.release,B.hitch(this,this.openZoom)));this.own(aa(this._popOutBtn.childNodes[0],"keypress",B.hitch(this,this._keyboardZoomPress)))},_minZoomScale:1,_maxZoomScale:4,
_incrementZoomScale:function(a){this.zoomScale<this._maxZoomScale&&(this.zoomScale+=0.25);this._scaleGraph(a);a&&a.stopPropagation()},_decrementZoomScale:function(a){this.zoomScale>this._minZoomScale&&(this.zoomScale-=0.25);this._scaleGraph(a);a&&a.stopPropagation()},_resetZoomScale:function(a){this.zoomScale=1;this._scaleGraph(a)},_scaleGraph:function(a){a=this.getGraphControl();r.set(this._zoomScaleWrapper,"transform",h.substitute("scale(${s})",{s:this.zoomScale}));r.set(a.statusPanel.domNode,"transform",
h.substitute("scale(${s})",{s:1/this.zoomScale}));this.zoomScale>this._minZoomScale?(f.set(this._zoomOutBtn,"aria-disabled","false"),ia.remove(this._zoomOutBtn,"disabled")):(f.set(this._zoomOutBtn,"aria-disabled","true"),ia.add(this._zoomOutBtn,"disabled"));this.zoomScale<this._maxZoomScale?(f.set(this._zoomInBtn,"aria-disabled","false"),ia.remove(this._zoomInBtn,"disabled")):(f.set(this._zoomInBtn,"aria-disabled","false"),ia.add(this._zoomInBtn,"disabled"));var b=this._zoomScaleWrapper.getBoundingClientRect();
r.set(a.domNode,"width",b.width+"px");r.set(a.domNode,"height",b.height+"px");this.emit("graphscale_changed",{bubbles:!0,cancelable:!0});u.publish("invalidate_layout")},_zoomCommand:"graphzoom",_isKeyboardActivationKeyCode:function(a){return 13===a||32===a},_keyboardZoomPress:function(a){this._isKeyboardActivationKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault(),this.openZoom())},_zoomInKeyboardPress:function(a){this._isKeyboardActivationKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault(),
this._incrementZoomScale())},_zoomOutKeyboardPress:function(a){this._isKeyboardActivationKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault(),this._decrementZoomScale())},openZoom:function(a){if(a&&"graphZoomBtn"===a.target.className){var b=this.getGraphControl().getPalette();b&&(b.showPalette=!1)}var b=this.getViewer(),c=e.getContentBox(b.domNode);b.postCommand(this._zoomCommand,{clientId:this.id,graphId:this.id,newWidth:c.w-50,newHeight:c.h-50});a&&a.stopPropagation()},onopenZoom:function(){},
reset:function(){if(!this._resetting){this._resetting=!0;this.isZoomed||(this._mobileHeightAdjusted&&(r.set(this.domNode,"width",this._originalWidth+"px"),r.set(this.domNode,"height",this._originalHeight+"px"),r.set(this.domNode.parentNode.parentNode,"height",this._originalHeight+"px"),this._mobileHeightAdjusted=!1),this._determineMobileHeight());var a=e.getContentBox(this.domNode);this._w=a.w;this._h=a.h;for(var b in this._surfaceList){var c=this._surfaceList[b];c.clear(!0);c.clearForeignObjects&&
c.clearForeignObjects();c.setDimensions(a.w,a.h);c.foreignObjectContainer&&c.foreignObjectContainer.resize()}this.getAxisX().destroyTickList();this.getAxisY().destroyTickList();(a=this.getAxisYAlt())&&a.destroyTickList();this.draw();this._resetting=!1}},initialize:function(){this.loadFromJson&&e.setMarginBox(this.domNode,{w:this._w,h:this._h});this.gfxSetup();var a=this;this._surfaceList.labelLayer.whenLoaded(this,function(){a.draw()})},gfxSetup:function(){var b=e.getContentBox(this.domNode);0==b.w&&
0==b.h&&(b.w=r.get(this.domNode,"width"),b.h=r.get(this.domNode,"height"));c.switchTo("canvas");this._surfaceList.regionLayer=c.createSurface(this.domNode,b.w,b.h);c.switchTo(this.renderMode);this._surfaceList.shapesLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.gridLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.axisLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.functionLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.barChartLayer=c.createSurface(this.domNode,
b.w,b.h);this._surfaceList.pieChartLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.regionMarkersLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.labelLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.blobLayer=c.createSurface(this.domNode,b.w,b.h);this._surfaceList.shapesLayer.rawNode.setAttribute("data-layer","shapes");this._surfaceList.gridLayer.rawNode.setAttribute("data-layer","grid");this._surfaceList.axisLayer.rawNode.setAttribute("data-layer","axis");
this._surfaceList.functionLayer.rawNode.setAttribute("data-layer","functions");this._surfaceList.barChartLayer.rawNode.setAttribute("data-layer","barChart");this._surfaceList.pieChartLayer.rawNode.setAttribute("data-layer","pieChart");this._surfaceList.regionMarkersLayer.rawNode.setAttribute("data-layer","regionMarkers");this._surfaceList.labelLayer.rawNode.setAttribute("data-layer","labels");this._surfaceList.blobLayer.rawNode.setAttribute("data-layer","blobs");this._surfaceList.regionLayer.rawNode.setAttribute("data-layer",
"regions");for(var d in this._surfaceList)this._surfaceList[d].rawNode.style.position="absolute",this._surfaceList[d].rawNode.style.top="0px",this._surfaceList[d].rawNode.style.left="0px",a("edge")&&r.set(this._surfaceList[d].rawNode,"pointer-events","none");this._w=b.w;this._h=b.h;aa(this.domNode,"dragstart",B.hitch(this,"_onDragStart"));aa(this.domNode,"selectstart",B.hitch(this,"_onSelectStart"));(this.graphHasDataGraph()||this.graphHasInteractions())&&aa(this.domNode,"click",B.hitch(this,"_onInteraction"))},
getBlobSurfaceLayer:function(){return this._surfaceList.blobLayer},getPlotSurfaceLayer:function(){return this._surfaceList.functionLayer},getLabelSurfaceLayer:function(){return this._surfaceList.labelLayer},getRegionSurfaceLayer:function(){return this._surfaceList.regionLayer},getRegionMarkerSurfaceLayer:function(){return this._surfaceList.regionMarkersLayer},_onKeyDown:function(a){this.printing?a.preventDefault():this.processKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault())},processKeyCode:function(a){var b=
!1;if(this.getFocusBlob()&&this.getFocusBlob().getVisible()&&this.getFocusBlob().getCanMove()){switch(a){case A.LEFT_ARROW:this.getFocusBlob().nudge(-1,0);b=!0;break;case A.RIGHT_ARROW:this.getFocusBlob().nudge(1,0);b=!0;break;case A.UP_ARROW:this.getFocusBlob().nudge(0,1);b=!0;break;case A.DOWN_ARROW:this.getFocusBlob().nudge(0,-1),b=!0}if(b){var c=this.getAxisX().worldToView(this.getFocusBlob().getLocationX()),d=this.getAxisY().worldToView(this.getFocusBlob().getLocationY());this._lastMouseX=c;
this._lastMouseY=d}}switch(a){case A.ENTER:if(this._dragBlob=this.getBlobAtPos(this._lastMouseX,this._lastMouseY))c=this.getAxisX().worldToView(this.getFocusBlob().getLocationX()),d=this.getAxisY().worldToView(this.getFocusBlob().getLocationY()),this.pressDragBlob(c,d),this.domNode.focus(),b=!0;this._dragBlob=null;this._lastMouseX=this._lastMouseY=0}return b},_onDragStart:function(a){k.stop(a)},_onSelectStart:function(a){k.stop(a)},initializeChildren:function(){if(this.loadFromJson){this.axisX&&this.axisX.location&&
(this.axisX.location=this._getAxisLocation(this.axisX.location));this._xAxis=new G(this.axisX);this._xAxis._graph=this;this._xAxis.startup();this.axisY&&this.axisY.location&&(this.axisY.location=this._getAxisLocation(this.axisY.location));this._yAxis=new G(this.axisY);this._yAxis._graph=this;this._yAxis.startup();this.axisYAlt&&(this.axisYAlt.location&&(this.axisYAlt.location=this._getAxisLocation(this.axisYAlt.location)),this.axisYAlt.visible=!1,this._yAxisAlt=new G(this.axisYAlt),this._yAxisAlt._graph=
this,this._yAxisAlt.startup());this.titlePosition=this.titlePosition?this._getTitlePosition(this.titlePosition):0;var a,c;if(this.plots)for(a=0;a<this.plots.length;a++)c=this.plots[a],("scatter"===c.plotType?new M(c):"numberlineplot"===c.plotType?new S(c):new K(c)).setGraph(this);if(this.labels)for(a=0;a<this.labels.length;a++)c=this.labels[a],c.locationUnits&&(c.locationUnits=this._getLocationUnits(c.locationUnits)),(new T(c)).setGraph(this);if(this.regions)for(a=0;a<this.regions.length;a++)c=this.regions[a],
(new W(c)).setGraph(this);if(this.shapes)for(a=0;a<this.shapes.length;a++)c=this.shapes[a],(new U(c)).setGraph(this)}else{a=this.getChildren();var d=this;b.forEach(a,function(a,b){a.isInstanceOf(G)?(a.get("orientation")==z.IPGraphAxisOrientation.HORIZONTAL?d._xAxis=a:a.get("orientation")==z.IPGraphAxisOrientation.VERTICAL&&a.get("isAlt")?d._yAxisAlt=a:a.get("orientation")==z.IPGraphAxisOrientation.VERTICAL&&(d._yAxis=a),a._graph=d):a.isInstanceOf(H)?(d._grid=a,a._graph=d):a.isInstanceOf(ba)&&(a.setGraph(d),
a.isInstanceOf(P)&&""!=a.label&&d._xAxis.customTicks.push({value:a.labelPosition,label:a.label,alignment:z.IPGraphAlignment.CENTER,tickType:z.IPGraphTickType.MAJOR,hideGrid:!0,noFormat:!0}))})}},getGraphObjectParams:function(a){var b,c,d={labels:[],plots:[],xAxis:[],yAxis:[],yAltAxis:[]};for(b=0;b<this.getPartCount();b++)if(c=this.getPart(b),a||0>c.getTag())c.objectParams&&(c.isInstanceOf(T)?d.labels.push(c.objectParams):(c.isInstanceOf(M)||c.isInstanceOf(K))&&d.plots.push(c.objectParams));this._hasDataGraph&&
(d.xAxis=this.getAxisX().getProperties(),d.yAxis=this.getAxisY().getProperties(),this.getAxisYAlt()&&(d.yAltAxis=this.getAxisYAlt().getProperties()));return d},getGraphData:function(a){var b,c=[];for(b=0;b<this.getPartCount();b++){var d=this.getPart(b);(a||0>d.getTag())&&d.isInstanceOf(X)&&c.push(d.getGraphData())}return c},setGraphData:function(a){var c=this;this.clearDialogObjects(!0);a.labels&&0<a.labels.length&&(this.clearMarkerList(),b.forEach(a.labels,function(a){var b=new T(a);b.objectParams=
a;b.setGraph(c)}));if(a.plots&&0<a.plots.length){var d=null;b.forEach(a.plots,function(a){if(c._hasDataGraph){var b=new M(a);b.objectParams=a;c.dataGraphAddPlot(b)}else{switch(a.graphType){case "scatter":d=new M(a);d.objectParams=a;break;case "function":d=new K(a),d.objectParams=a}d.setGraph(c)}})}c._hasDataGraph&&(this.getAxisX().setProperties(a.xAxis),this.getAxisY().setProperties(a.yAxis),this.getAxisYAlt()&&this.getAxisYAlt().setProperties(a.yAltAxis),this.reset(!0));this.validateGraph()},getWidth:function(){return this._w},
getHeight:function(){return this._h},getAxisX:function(){return this._xAxis},getAxisY:function(){return this._yAxis},getAxisYAlt:function(){return this._yAxisAlt},getPlotCount:function(){return this._plotList.length},getPlot:function(a){return this._plotList[a]},getLabelCount:function(){return this._labelList.length},getLabel:function(a){return this._labelList[a]},setupAllTitles:function(a){this.setupTitle(a);this.getAxisX().setupTitle(a);this.getAxisY().setupTitle(a);this.getAxisYAlt()&&this.getAxisYAlt().setupTitle(a)},
zoomBtnWidth:40,setupTitle:function(a){a=this._w;if(null===a||void 0===a)a=e.getContentBox(this.domNode).w;this.titlePosition==z.IPGraphTitlePosition.TOP&&(a=a-this._titleLeftMargin-this._titleRightMargin,this.hasZoomButton&&(a-=28));this._titleSize={h:fa.getWrappedTextHeight(this.titleFontSize,this.titleFont,this.graphTitle,a+"px"),w:a}},draw:function(){if(!this.disableDraw){if(0==this._w||0==this._h){var a=e.getContentBox(this.domNode);this._w=a.w;this._h=a.h}this.isZoomed||this._determineMobileHeight();
a=new I({left:0,top:0,right:this._w,bottom:this._h});this.calcPlotRect(a);this.adjustIsotropic();if(this._plotRect.right<=this._plotRect.left||this._plotRect.bottom<=this._plotRect.top)throw Error("the plot rectangle has invalid dimensions");this.setAxisPositions();this.titlePosition==z.IPGraphTitlePosition.TOP?this._gTitleLoc=this._plotRect.top:(this._gTitleLoc=this._plotRect.bottom+2,this._yAxis.showMinArrow&&(this._gTitleLoc+=this._yAxis.arrowExtensionLength));this._altXAxisTitlePos=this._plotRect.bottom;
this._altYAxisTitlePos=this._plotRect.left;this.drawRegion(this._surfaceList.regionLayer);this.drawGrid(this._surfaceList.gridLayer);this.drawOutline(this._surfaceList.gridLayer);this._surfaceList.axisLayer.clear();this._xAxis.draw(this._surfaceList.axisLayer);this._yAxis.draw(this._surfaceList.axisLayer);this._yAxisAlt&&this._yAxisAlt.draw(this._surfaceList.axisLayer);this._xAxis.drawTitle(this._surfaceList.axisLayer);this._yAxis.drawTitle(this._surfaceList.axisLayer);this._yAxisAlt&&this._yAxisAlt.drawTitle(this._surfaceList.axisLayer);
this.drawPlotList(this._surfaceList.functionLayer);this.drawShapesList(this._surfaceList.shapesLayer);this.drawRegionMarkers(this._surfaceList.regionMarkersLayer);this.drawLabels(this._surfaceList.labelLayer);this.drawBlobs(this._surfaceList.blobLayer);this.drawFunctionsExtra();this.drawTitle(this._surfaceList.gridLayer);this.dataGraphPrintData&&this.dataGraphPrintData.isPrinting&&this.displayDataGrapher();oa.staticFunctions.loadingCompleted(this)}},_maxMobileHeight:305,_originalWidth:null,_originalHeight:null,
_mobileHeightAdjusted:!1,_determineMobileHeight:function(){if(this.useMobileUI){var a;if(!this._mobileHeightAdjusted){this._originalWidth=r.get(this.domNode,"width");this._originalHeight=r.get(this.domNode,"height");var b=this._originalHeight/this._originalWidth;r.set(this.domNode,"width","100%");r.set(this.domNode.parentNode.parentNode,"width","100%");a=e.getMarginBox(this.domNode);var c=a.w*b;a=a.w;c>this._maxMobileHeight&&(b=this._maxMobileHeight/c,a*=b,r.set(this.domNode,"width",a+"px"),this._w=
a,this._h=c*b);r.set(this.domNode,"height",this._h+"px");r.set(this.domNode.parentNode.parentNode,"height",this._h+"px");a=e.getContentBox(this.domNode);this._w=a.w;this._h=a.h;this._mobileHeightAdjusted=!0;this.getViewer().resize()}}},drawFunctionsExtra:function(){},drawShapesList:function(a){a.clear(!0);for(var b=0;b<this._shapeList.length;b++)this._shapeList[b].draw(a)},drawOutline:function(a){this.showOutline&&fa.drawRectangle(a,this._plotRect.left,this._plotRect.top,this._plotRect.right-this._plotRect.left,
this._plotRect.bottom-this._plotRect.top,this.outlineColor,null)},drawBlobs:function(a){a.clear();for(var b=0;b<this._blobList.length;b++)this._blobList[b].draw(a)},getVisibleRegions:function(){for(var a=0;a<this._regionList.length;a++)if(this._regionList[a].getVisible())return!0;return!1},drawRegion:function(a){a.clear(!0);if(this.getVisibleRegions()){c.switchTo("canvas");var b;b=ga.toRGB("#FFFCFC");b.a=1;this.drawMaskPlotList(a,b);for(var d=0;d<this._regionList.length;d++)this._regionList[d].fill(a,
b);c.switchTo(this.renderMode)}},drawRegionMarkers:function(a){var b;a.clear(!0);for(b=0;b<this._regionList.length;b++)this._regionList[b].draw(a)},drawTitle:function(a){var b,c;this._titleFo&&a.createForeignObject&&(this._titleFo.destroy(),delete this._titleFo);if(this.graphTitle)if(this.titlePosition==z.IPGraphTitlePosition.TOP?(c=this._gTitleLoc-this._titleSize.h,b=this._titleLeftMargin):(c=this._gTitleLoc,b=0),a.createForeignObject){var d=n.create("div",{innerHTML:this.graphTitle,style:{width:this._titleSize.w+
"px"}});this._titleFo=a.createForeignObject({x:b,y:c,width:this._titleSize.w,height:this._titleSize.h,content:d,fontFamily:this.titleFont,fontSize:this.titleFontSize,classNames:"graphTitle"})}else b=fa.measureText(a,this.graphTitle,this.titleFontSize,this.titleFont),b=(this._w-b.width)/2,fa.drawText(a,b,c,this.graphTitle,this.titleColor,this.titleFontSize,this.titleFont)},adjustIsotropic:function(){var a,b,c,d;if(this.isotropic){a=this._plotRect.clone();try{b=Math.abs((this.getAxisY().getMaximum()-
this.getAxisY().getMinimum())/(this.getAxisX().getMaximum()-this.getAxisX().getMinimum()))}catch(e){b=0}a.right!=a.left?(c=1*(a.bottom-a.top)/(a.right-a.left),c=Math.abs(c)):c=0;b<c?(c=a.right-a.left,d=Math.round(b*c),b=a.bottom-a.top-d,this.isoVAlignTop?a.bottom-=b:(a.top+=Math.round(b/2),a.bottom-=Math.round(b-b/2))):0!=c&&(d=a.bottom-a.top,c=Math.round(d/b),b=a.right-a.left-c,a.left+=Math.round(b/2),a.right-=Math.round(b-b/2));this._plotRect=a.clone();this.getAxisX().setView(a.left,a.right);this.getAxisY().setView(a.bottom,
a.top);this.getAxisYAlt()&&this.getAxisYAlt().setView(a.bottom,a.top)}else this.squareGraph&&(a=this._plotRect.clone(),c=a.right-a.left,d=a.bottom-a.top,c>d?(a.left+=Math.round((c-d)/2),a.right=a.left+d):(a.top+=Math.round((d-c)/2),a.bottom=a.top+c),this._plotRect=a.clone(),this.getAxisX().setView(a.left,a.right),this.getAxisY().setView(a.bottom,a.top),this.getAxisYAlt()&&this.getAxisYAlt().setView(a.bottom,a.top))},adjustGTitlePos:function(a){this._gTitleLoc=this.titlePosition==z.IPGraphTitlePosition.TOP?
v.min(this._gTitleLoc,a):v.max(this._gTitleLoc,a)},drawPlotList:function(a){a.clear(!0);var b=[],c;for(c=0;c<this.getPlotCount();c++){var d=this.getPlot(c);d.getVisible()&&(d.isInstanceOf(xl.editgraph.GraphHoleObject)?b.push(d):d.draw(a))}if(0<b.length)for(c=0;c<b.length;c++)b[c].draw(a)},redrawPlot:function(a,b){b&&b.PolyLine&&(a.remove(b.PolyLine),b.getVisible()&&b.draw(a))},drawMaskPlotList:function(a,b){for(var c=0;c<this.getPlotCount();c++){var d=this.getPlot(c);d.getNoRegion()||d.drawMask(a,
b)}},drawLabels:function(a){a.clear(!0);a.clearForeignObjects&&a.clearForeignObjects();for(var b=0;b<this.getLabelCount();b++){var c=this.getLabel(b);c.getVisible()&&c.draw(a)}},drawGrid:function(a){a.clear(!0);this.showGrid&&(this._xAxis.drawGridLines(a,this.gridColor),this._yAxis.drawGridLines(a,this.gridColor))},validateCallBack:null,validateGraph:function(){this.validateCallBack||(this.validateCallBack=!0,setTimeout(B.hitch(this,this.validateCallbackFunction),0))},validateCallbackFunction:function(){this._destroyed||
(this._needsDrawing?(this._plotLayerInvalidated=this._blobLayerInvalidated=this._needsDrawing=!1,this.draw(),this.validateCallBack=!1):(this._blobLayerInvalidated&&(this._blobLayerInvalidated=!1,this.drawBlobs(this.getBlobSurfaceLayer())),this._plotLayerInvalidated&&(this._plotLayerInvalidated=!1,!this.isObjectDeleting&&this.selectedObj&&this.selectedObj.redrawWhenSelected?this.redrawPlot(this.getPlotSurfaceLayer(),this.selectedObj):this.drawPlotList(this.getPlotSurfaceLayer()),this.isObjectDeleting=
!1),this._labelLayerInvalidated&&(this._labelLayerInvalidated=!1,this.drawLabels(this.getLabelSurfaceLayer())),this._regionLayerInvalidated&&(this._regionLayerInvalidated=!1,this.drawRegion(this.getRegionSurfaceLayer()),this.drawRegionMarkers(this.getRegionMarkerSurfaceLayer())),this.validateCallBack=!1,aa.emit(this.domNode,"validationCompleted",{bubbles:!0,cancelable:!0,sourceObject:this})))},invalidatePlots:function(){this._plotLayerInvalidated=!0},invalidateBlobs:function(){this._blobLayerInvalidated=
!0},invalidateLabels:function(){this._labelLayerInvalidated=!0},invalidateRegions:function(){this._regionLayerInvalidated=!0},invalidateGraph:function(){this._invalidating||(this._needsDrawing=!0)},invalidateAllParts:function(){_invalidating=!0},setAxisPositions:function(){var a;this.getAxisY()&&(a=this.getAxisY().pixelLocation(),a=v.ensureRange(a,this._plotRect.left,this._plotRect.right),this.getAxisY().position=a);this.getAxisYAlt()&&(a=this.getAxisYAlt().pixelLocation(),a=v.ensureRange(a,this._plotRect.left,
this._plotRect.right),this.getAxisYAlt().position=a);this.getAxisX()&&(a=this.getAxisX().pixelLocation(),a=v.ensureRange(a,this._plotRect.top,this._plotRect.bottom),this.getAxisX().position=a)},calcPlotRect:function(a){var b,c,d,e,k,t=a.right-a.left,r=a.bottom-a.top;c=this.plotMargins;b=a.clone();this.getAxisX().setupTitle(this._surfaceList.axisLayer);this.getAxisY().setupTitle(this._surfaceList.axisLayer);this.getAxisYAlt()&&this.getAxisYAlt().visible&&this.getAxisYAlt().setupTitle(this._surfaceList.axisLayer);
this._autoAdjustMargins&&(this._plotRect=b.clone(),this.getAxisX().setView(b.left,b.right),this.getAxisY().setView(b.bottom,b.top),this.getAxisYAlt()&&this.getAxisYAlt().setView(b.bottom,b.top),this.setAxisPositions(),d=this.getAxisX().calcMarginsNeeded(this._surfaceList.axisLayer),e=this.getAxisY().calcMarginsNeeded(this._surfaceList.axisLayer),this.getAxisYAlt()&&this.getAxisYAlt().visible&&(k=this.getAxisYAlt().calcMarginsNeeded(this._surfaceList.axisLayer),e.top=v.max(e.top,k.top),e.left=v.max(e.left,
k.left),e.right=v.max(e.right,k.right),e.bottom=v.max(e.bottom,k.bottom)),!this.isZoomed&&this.hasZoomButton&&(d.right+=this.zoomBtnWidth),b.bottom-=v.max(d.bottom,e.bottom),b.top+=v.max(d.top,e.top),this.getAxisX().title&&this.getAxisX().altTitlePos&&this.getAxisX()._titleSize&&(b.bottom-=this.getAxisX()._titleSize.height),this.getAxisY().title&&this.getAxisY().altTitlePos&&this.getAxisY()._titleSize&&(b.left+=this.getAxisY()._titleSize.width+this.getAxisY().titleMargin),this.graphTitle&&(this.setupTitle(b),
this._titleSize&&0<this._titleSize.w&&(this.titlePosition==z.IPGraphTitlePosition.TOP?b.top+=this._titleSize.h:b.bottom-=this._titleSize.h)),b.left+=v.max(d.left,e.left),b.right-=v.max(d.right,e.right));this.adjustPlotRect(b);b.left=v.max(b.left,c.left);b.top=v.max(b.top,c.top);b.bottom=v.min(b.bottom,r-c.bottom);b.right=v.min(b.right,t-c.right);b.top=Math.round(b.top);b.bottom=Math.round(b.bottom);b.left=Math.round(b.left);b.right=Math.round(b.right);b.right<=b.left&&(b.left=Math.round((a.left+a.right)/
2),b.right=b.left+1);b.top>=b.bottom&&(b.top=Math.round((a.top+a.bottom)/2),b.bottom=b.top+1);this._plotRect=b;this.getAxisX().setView(b.left,b.right);this.getAxisY().setView(b.bottom,b.top);this.getAxisYAlt()&&this.getAxisYAlt().setView(b.bottom,b.top)},adjustPlotRect:function(a){},onFocus:function(){},onBlur:function(){},_keyboard:null,addBlob:function(a,b){a&&(this._blobList.push(a),this._surfaceList.blobLayer&&(!b&&a.visible)&&a.draw(this._surfaceList.blobLayer),this.currentBlob=a)},invalidateGraphPart:function(a){a.isInstanceOf(R)?
this.invalidatePlots():a.isInstanceOf(T)||(a.isInstanceOf(W)?this.invalidateRegions():a.isInstanceOf(U)||(a.isInstanceOf(da)?this.invalidateBlobs():this.invalidateGraph()))},addPart:function(a,b){a.isInstanceOf(R)?(this._plotList.push(a),this.invalidatePlots()):a.isInstanceOf(T)?(this._labelList.push(a),this.invalidateLabels()):a.isInstanceOf(W)?(this._regionList.push(a),this.invalidateRegions()):a.isInstanceOf(U)?this._shapeList.push(a):a.isInstanceOf(da)?(this._blobList.push(a),this.invalidateBlobs()):
console.log("unknown part:",a)},removePart:function(a){a.isInstanceOf(R)?(a=this._plotList.indexOf(a),this._plotList.splice(a,1),this.invalidatePlots()):a.isInstanceOf(T)?(a=this._labelList.indexOf(a),this._labelList.splice(a,1),this.invalidateLabels()):a.isInstanceOf(W)?(a=this._regionList.indexOf(a),this._regionList.splice(a,1),this.invalidateRegions()):a.isInstanceOf(U)?(a=this._shapeList.indexOf(a),this._shapeList.splice(a,1)):a.isInstanceOf(da)?(a=this._blobList.indexOf(a),this._blobList.splice(a,
1),this.invalidateBlobs()):console.log("unknown part:",a)},removeBlobs:function(){this._blobList.splice(0,this._blobList.length)},drawVerticalLine:function(a,b,c,d){var e,k;e=this.getAxisY().worldToViewF(this.getAxisY()._maximum);k=this.getAxisY().worldToViewF(this.getAxisY()._minimum);return fa.drawLine(a,b,e,b,k,d,c,1)},drawHorizontalLine:function(a,b,c,d){var e,k;e=this.getAxisX().worldToViewF(this.getAxisX()._maximum);k=this.getAxisX().worldToViewF(this.getAxisX()._minimum);return fa.drawLine(a,
e,b,k,b,d,c,1)},worldToView:function(a){for(var b=[],c=0;c<a.length;c++){var d={};d.x=this.getAxisX().worldToViewF(a[c].x);d.y=this.getAxisY().worldToViewF(a[c].y);b.push(d)}return b},percentXToView:function(a){return Math.round(0.01*a*this._w)},percentYToView:function(a){return Math.round(this._h-0.01*a*this._h)},percentXToViewF:function(a){return 0.01*a*this._w},percentYToViewF:function(a){return this._h-0.01*a*this._h},getShape:function(a){return this._shapeList[a]},getRegion:function(a){return this._regionList[a]},
getRegionList:function(){return this._regionList},getTrackBlob:function(){return this._trackBlob},setTrackBlob:function(a){this._trackBlob=a},getPlotRect:function(){return this._plotRect},getClipFunctions:function(){return this._clipFunctions},setClipFunctions:function(a){this._clipFunctions=a},getFocusBlob:function(){return this._focusBlob},canFocus:function(){return this.enabled&&this.visible},setFocusBlob:function(a){var b;this._focusBlob&&(b=this._focusBlob,this._focusBlob=null,b.focusLost());
this._focusBlob=null;a&&a.getGraph()==this&&((this._focusBlob=a)&&this._focusBlob.focusGained(),this._focusBlob.move(this._focusBlob.getLocationX(),this._focusBlob.getLocationY(),z.IPGraphBlobState.FOCUSED,!0))},setSize:function(a,b){e.setMarginBox(this.domNode,{w:a,h:b});this.isZoomed&&e.setMarginBox(this.domNode.parentNode.parentNode,{w:a,h:b});this.reset()},getBlob:function(a){return this._blobList[a]},getBlobCount:function(){return this._blobList.length},getPlotLabel:function(a){return this._labelList[a]},
getPart:function(a){var b,c,d,e,k;b=this._regionList.length;c=b+this._shapeList.length;d=c+this._plotList.length;e=d+this._labelList.length;k=e+this._blobList.length;return a<b?this.getRegion(a):a<c?this.getShape(a-b):a<d?this.getPlot(a-c):a<e?this.getPlotLabel(a-d):a<k?this.getBlob(a-e):null},getPartCount:function(){return this._regionList.length+this._shapeList.length+this._plotList.length+this._labelList.length+this._blobList.length},doGraphZoomed:function(a){var b=this.getGraphControl().getTransformPalette();
b&&b.hide();this.emit("graphZoomed",{graph:this,zoomedGraph:a});null!=this.dataGrapherOptions&&(b=this.dataGrapherOptions,b.zoomedGraphId=a.id,this.getViewer().postCommand(this._dataGrapherDialog._displayDataGrapherCommand,b))},doOkZoomed:function(a){this.emit("okZoomed",{zoomedGraph:this,graph:a})},doCancelZoomed:function(){this.emit("cancelZoomed",{})},resetToolTip:function(){this.emit("resetToolTip",{})},ongraphZoomed:function(a){},onokZoomed:function(a){},oncancelZoomed:function(a){},onresetToolTip:function(a){},
onFormatDate:function(a,b){var c=new Date(parseInt(a));if(!b||""==b)b=this.defaultDateFormat;return(new Y(b)).format(c)},graphHasDataGraph:function(){return this._hasDataGraph},graphHasInteractions:function(){return this._hasInteractions},_dataGrapherDialog:null,dataGrapherOptions:null,_InteractionsDialog:null,interactionsOptions:null,_onInteraction:function(a){!this.isZoomed&&(!this._graphControl.getControlData().isInDijitViewer&&!this._disableInteractionDialog)&&(this.graphHasDataGraph()?(null==
this._dataGrapherDialog&&(this._dataGrapherDialog=new ka({options:this.dataGraphOptions,graphId:this.id})),this._dataGrapherDialog.show(this.domNode,this)):this.graphHasInteractions&&(null==this._InteractionsDialog&&(this._InteractionsDialog=new pa({selectOptions:this.interactionsOptions,graphId:this.id})),this._InteractionsDialog.show(this.domNode,this)),a.stopPropagation())},clearPlotList:function(){for(var a=this._plotList.splice(0,this._plotList.length),b=0;b<a.length;b++)a[b].destroy();this.invalidatePlots()},
clearMarkerList:function(){for(var a=0;a<this._labelList.length;a++)this._labelList[a].isMarker&&(this._labelList.splice(a,1),a--);this.invalidateLabels()},resetMarkerColors:function(){for(var a=0;a<this._labelList.length;a++){var b=this._labelList[a];b.isMarker&&(b.fontColor="#808080",b.symbolBackground="#808080",b.symbolColor="#808080")}},getMarginTop:function(){return this.plotMargins.top},setMarginTop:function(a){a!=this.plotMargins.top&&(this.plotMargins.top=a,this.invalidateGraph())},getMarginBottom:function(){return this.plotMargins.bottom},
setMarginBottom:function(a){a!=this.plotMargins.bottom&&(this.plotMargins.bottom=a,this.invalidateGraph())},getMarginLeft:function(){return this.plotMargins.left},setMarginLeft:function(a){a!=this.plotMargins.left&&(this.plotMargins.left=a,this.invalidateGraph())},getMarginRight:function(){return this.plotMargins.right},setMarginRight:function(a){a!=this.plotMargins.right&&(this.plotMargins.right=a,this.invalidateGraph())},dataGraphAddPlot:function(a){this._dataGraphPlotIds.push(a.id);a.setGraph(this)},
_dataGraphRemovePlot:function(a){for(var b=0;b<this._plotList.length;b++)this._plotList[b].id==a&&this._plotList.splice(b,1)[0].destroy()},dataGraphRemoveAllPlots:function(){for(var a=0;a<this._dataGraphPlotIds.length;a++)this._dataGraphRemovePlot(this._dataGraphPlotIds[a]);this.invalidatePlots()},drawOnCanvas:function(a){var b=this.renderMode,d={};this.renderMode="canvas";c.switchTo(this.renderMode);var k=e.getContentBox(this.domNode),t;for(t in this._surfaceList)this._surfaceList.hasOwnProperty(t)&&
(d[t]=this._surfaceList[t],this._surfaceList[t]=c.createSurface(a,k.w,k.h));this.draw();a={};for(t in d)d.hasOwnProperty(t)&&(a[t]=this._surfaceList[t],this._surfaceList[t]=d[t]);this.renderMode=b;c.switchTo(this.renderMode);return a},onFormatNumber:function(a,b){return this.formatFloat(a,b)},formatFloat:function(a,b){var c=ua.getFormatInfo(b);c.sicommaformatting=this.formatSettings.siCommaFormatting;c.sicommachar=this.formatSettings.siCommaChar;c.sicommadecimal=this.formatSettings.siCommaDecimal;
return ua.formatFloatEx(a,c,this.formatSettings.currencyType)},getXYCursors:function(){return this._xyCursors},addXYCursor:function(a){this._xyCursors.push(a)},getXYCursorBlobObject:function(){for(var a=0;a<this._blobList.length;a++)if(this._blobList[a].isInstanceOf(V))return this._blobList[a];return null},displayDataGrapher:function(){this.getAxisX().setProperties(this.dataGraphPrintData.xAxis);this.getAxisY().setProperties(this.dataGraphPrintData.yAxis);this.getAxisYAlt().setProperties(this.dataGraphPrintData.yAltAxis);
this.dataGraphRemoveAllPlots();for(var a=0;a<this.dataGraphPrintData.drawObjects.length;a++){var b=new M(this.dataGraphPrintData.drawObjects[a]);this.dataGraphAddPlot(b)}this.reset(!0)},_locationNameMap:{custom:3,max:2,min:1},_titlePositionNameMap:{bottom:1},_locationUnitsNameMap:{yaxis:3,xaxis:2,graphpercent:1},_getAxisLocation:function(a){return"number"===typeof a?a:(a=this._locationNameMap[a.toLowerCase()])?a:0},setInputData:function(a){var b=this.getGraphControl();b.getGraphManager().clearGraphObjects();
b.getGraphManager().initGraphObjects(a,-1);b.getGraph().validateGraph()},_getLocationUnits:function(a){if("string"!==typeof a)return a;a=this._locationUnitsNameMap[a.toLowerCase()];return this._getReturnVal(a)},_getTitlePosition:function(a){if("string"!==typeof a)return a;a=this._titlePositionNameMap[a.toLowerCase()];return this._getReturnVal(a)},_getReturnVal:function(a){return a?a:0},isDialogObject:function(a){return a.isInstanceOf(T)||a.isInstanceOf(M)||a.isInstanceOf(K)},clearDialogObjects:function(a){var b,
c;for(b=0;b<this.getPartCount();b++)c=this.getPart(b),(a||0>c.getTag())&&this.isDialogObject(c)&&c.objectParams&&this.removePart(c)}})})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(s,q,l){q.switchTo(l);return q})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(s,q,l,h,n){var f=null;l.add("vml",function(f,c,e){e.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';f="adj"in e.firstChild;
e.innerHTML="";return f});return{load:function(m,c,e){function b(){c(["dojox/gfx/"+d],function(a){s.renderer=d;f=a;e(a)})}if(f&&"force"!=m)e(f);else{var d=n.forceGfxRenderer;m=!d&&(q.isString(n.gfxRenderer)?n.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var k,r;!d&&m.length;)switch(m.shift()){case "svg":"SVGAngle"in h.global&&(d="svg");break;case "vml":l("vml")&&(d="vml");break;case "silverlight":try{l("ie")?(k=new ActiveXObject("AgControl.AgControl"))&&k.IsVersionSupported("1.0")&&(r=
!0):navigator.plugins["Silverlight Plug-In"]&&(r=!0)}catch(a){r=!1}finally{k=null}r&&(d="silverlight");break;case "canvas":h.global.CanvasRenderingContext2D&&(d="canvas")}"canvas"===d&&!1!==n.canvasEvents&&(d="canvasWithEvents");n.isDebug&&console.log("gfx renderer \x3d "+d);"svg"==d&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(b):b()}}}})},"xl/grapher/enums":function(){define([],function(){return{IPGraphAxisOrientation:{HORIZONTAL:"horizontal",VERTICAL:"vertical"},IPGraphAxisOrigin:{ZERO:0,
MINIMUM:1,MAXIMUM:2,CUSTOM:3},IPGraphAxisType:{LINEAR:"linear",LOG:"log"},IPGraphTickType:{NONE:"none",MINOR:"minor",MAJOR:"major"},IPGraphAlignment:{LEFT:0,RIGHT:1,CENTER:2,TOP:0,BOTTOM:1,MIDDLE:2},IPGraphStyle:{NORMAL:"normal",TI82:"ti82"},IPGraphTickStyle:{NORMAL:"normal",INVERTED:"inverted",FULL:"full"},IPGraphLineStyle:{SOLID:"solid",DOTTED:"dot",DASHED:"dash",DASHDOT:"dashdot"},IPGrShapes:{NONE:"None",CIRCLE:"Circle",SQUARE:"Square",DIAMOND:"Diamond",CROSS:"Cross",PLUS:"Plus",TRIANGLE:"Triangle"},
IPGraphTitlePosition:{TOP:0,BOTTOM:1},IPGraphLocationUnits:{PLOTCOORDS:0,GRAPHPERCENT:1,XAXIS:2,YAXIS:3},IPBarOrientation:{BARVERTICAL:0,BARHORIZONTAL:1},IPPieLegendAlign:{LEFT:0,RIGHT:1,TOP:2,BOTTOM:3},IPPieLegendFormat:{PERCENT:0,DECIMAL:1,FRACTION:2,DATAVALUES:3,LABELONLY:4},IPGraphBlobState:{PRESSED:"pressed",DRAGGED:"dragged",UP:"up",MOVED:"moved",KEYBOARD:"keyboard",FOCUSED:"focused"},IPGraphBlobEvent:{BLOB_MOVED:"moved",BLOB_FOCUS_GAINED:"BLOB_FOCUS_GAINED",BLOB_FOCUS_LOST:"BLOB_FOCUS_LOST"},
IPSplineBoundary:{NATURAL:"natural",SLOPESTART:"slopestart",SLOPEEND:"slopeend",SLOPEBOTH:"slopeboth",PARABOLIC:"parabolic",CUBIC:"cubic"}}})},"dojox/gfx/canvas":function(){define("./_base dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-geometry dojo/dom ./shape ./path ./arc ./matrix ./decompose ./bezierutils".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){function a(a,b,c,d,e,k,t,r,u,f){var v,m,D=b.length,h=0;f?(m=f.l/e,h=f.i):m=b[0]/e;for(;k<t;)k+m>t&&(v={l:(k+m-t)*
e,i:h},m=t-k),h%2||(a.beginPath(),a.arc(c,d,e,k,k+m,r),u&&a.stroke()),k+=m,++h,m=b[h%D]/e;return v}function t(a,b,c,d){var e=0,k=0,t,u=0;d?(t=d.l,u=d.i):t=b[0];for(;1>k;)k=r.tAtLength(a,t),1==k&&(e=r.computeLength(a),e={l:t-e,i:u}),a=r.splitBezierAtT(a,k),u%2||c.push(a[0]),a=a[1],++u,t=b[u%b.length];return e}function u(a,b,c,d){var e=[b.last.x,b.last.y].concat(c),k=!(a instanceof Array);c=4===c.length?"quadraticCurveTo":"bezierCurveTo";var r=[];b=t(e,b.canvasDash,r,d);for(d=0;d<r.length;++d)e=r[d],
k?(a.moveTo(e[0],e[1]),a[c].apply(a,e.slice(2))):(a.push("moveTo",[e[0],e[1]]),a.push(c,e.slice(2)));return b}function v(a,b,c,d,e,k,t){var u=0,f=0,v=0,m=r.distance(c,d,e,k),D=0;b=b.canvasDash;var h=c,z=d,B,w=!(a instanceof Array);t?(v=t.l,D=t.i):v+=b[0];for(;0.01<Math.abs(1-f);)v>m&&(u={l:v-m,i:D},v=m),f=v/m,t=c+(e-c)*f,B=d+(k-d)*f,D++%2||(w?(a.moveTo(h,z),a.lineTo(t,B)):(a.push("moveTo",[h,z]),a.push("lineTo",[t,B]))),h=t,z=B,v+=b[D%b.length];return u}var D=s.canvas={},z=null,B=d.multiplyPoint,
F=Math.PI,A=2*F,x=F/2;k=q.extend;if(n.global.CanvasRenderingContext2D){n=n.doc.createElement("canvas").getContext("2d");var w="function"==typeof n.setLineDash,C="function"==typeof n.fillText}var E={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};D.Shape=h("dojox.gfx.canvas.Shape",c.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);
this._renderShape(a);this._renderFill(a,!0);this._renderStroke(a,!0);a.restore()},_renderClip:function(a){this.canvasClip&&(this.canvasClip.render(a),a.clip())},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(a){},_renderFill:function(a,b){if("canvasFill"in this){var c=this.fillStyle;if("canvasFillImage"in this){var d=c.width,e=c.height,k=this.canvasFillImage.width,
t=this.canvasFillImage.height,r=Math.min(d==k?1:d/k,e==t?1:e/t),u=(d-r*k)/2,f=(e-r*t)/2;z.width=d;z.height=e;var v=z.getContext("2d");v.clearRect(0,0,d,e);v.drawImage(this.canvasFillImage,0,0,k,t,u,f,r*k,r*t);this.canvasFill=a.createPattern(z,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;b&&("pattern"===c.type&&(0!==c.x||0!==c.y)&&a.translate(c.x,c.y),a.fill())}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,b){var c=this.strokeStyle;c?(a.strokeStyle=c.color.toString(),
a.lineWidth=c.width,a.lineCap=c.cap,"number"==typeof c.join?(a.lineJoin="miter",a.miterLimit=c.join):a.lineJoin=c.join,this.canvasDash?w?(a.setLineDash(this.canvasDash),b&&a.stroke()):this._renderDashedStroke(a,b):b&&a.stroke()):b||(a.strokeStyle="rgba(0,0,0,0.0)")},_renderDashedStroke:function(a,b){},getEventSource:function(){return null},on:function(){},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?
"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;this.canvasClip=a?J(b,a):null;this.parent&&this.parent._makeDirty();return this}});var J=function(a,b){switch(a){case "ellipse":return{canvasEllipse:L({shape:b}),render:function(a){return D.Ellipse.prototype._renderShape.call(this,a)}};case "rect":return{shape:q.delegate(b,{r:0}),render:function(a){return D.Rect.prototype._renderShape.call(this,a)}};case "path":return{canvasPath:H(b),render:function(a){this.canvasPath._renderShape(a)}};
case "polyline":return{canvasPolyline:b.points,render:function(a){return D.Polyline.prototype._renderShape.call(this,a)}}}return null},H=function(a){var b=new dojox.gfx.canvas.Path;b.canvasPath=[];b._setPath(a.d);return b},G=function(a,b,c){var d=a.prototype[b];a.prototype[b]=c?function(){this.parent&&this.parent._makeDirty();d.apply(this,arguments);c.call(this);return this}:function(){this.parent&&this.parent._makeDirty();return d.apply(this,arguments)}};G(D.Shape,"setTransform",function(){this.matrix?
this.canvasTransform=s.decompose(this.matrix):delete this.canvasTransform});G(D.Shape,"setFill",function(){var a=this.fillStyle,b;if(a){if("object"==typeof a&&"type"in a){var c=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":b="linear"==a.type?c.createLinearGradient(a.x1,a.y1,a.x2,a.y2):c.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);l.forEach(a.colors,function(a){b.addColorStop(a.offset,s.normalizeColor(a.color).toString())});break;case "pattern":z||(z=document.createElement("canvas")),
c=new Image,this.surface.downloadImage(c,a.src),this.canvasFillImage=c}}else b=a.toString();this.canvasFill=b}else delete this.canvasFill});G(D.Shape,"setStroke",function(){var a=this.strokeStyle;if(a){var b=this.strokeStyle.style.toLowerCase();b in E&&(b=E[b]);if(b instanceof Array){this.canvasDash=b=b.slice();var c;for(c=0;c<b.length;++c)b[c]*=a.width;if("butt"!=a.cap){for(c=0;c<b.length;c+=2)b[c]-=a.width,1>b[c]&&(b[c]=1);for(c=1;c<b.length;c+=2)b[c]+=a.width}}else delete this.canvasDash}else delete this.canvasDash;
this._needsDash=!w&&!!this.canvasDash});G(D.Shape,"setShape");D.Group=h("dojox.gfx.canvas.Group",D.Shape,{constructor:function(){c.Container._init.call(this)},_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},destroy:function(){c.Container.clear.call(this,!0);D.Shape.prototype.destroy.apply(this,arguments)}});D.Rect=h("dojox.gfx.canvas.Rect",[D.Shape,c.Rect],{_renderShape:function(a){var b=this.shape,
c=Math.min(b.r,b.height/2,b.width/2),d=b.x,e=d+b.width,k=b.y,b=k+b.height,t=d+c,r=e-c,u=k+c,f=b-c;a.beginPath();a.moveTo(t,k);c?(a.arc(r,u,c,-x,0,!1),a.arc(r,f,c,0,x,!1),a.arc(t,f,c,x,F,!1),a.arc(t,u,c,F,F+x,!1)):(a.lineTo(r,k),a.lineTo(e,f),a.lineTo(t,b),a.lineTo(d,u));a.closePath()},_renderDashedStroke:function(b,c){var d=this.shape,e=Math.min(d.r,d.height/2,d.width/2),k=d.x,t=k+d.width,r=d.y,u=r+d.height,f=k+e,m=t-e,D=r+e,h=u-e;e?(b.beginPath(),d=v(b,this,f,r,m,r),c&&b.stroke(),d=a(b,this.canvasDash,
m,D,e,-x,0,!1,c,d),b.beginPath(),d=v(b,this,t,D,t,h,d),c&&b.stroke(),d=a(b,this.canvasDash,m,h,e,0,x,!1,c,d),b.beginPath(),d=v(b,this,m,u,f,u,d),c&&b.stroke(),d=a(b,this.canvasDash,f,h,e,x,F,!1,c,d),b.beginPath(),d=v(b,this,k,h,k,D,d),c&&b.stroke(),a(b,this.canvasDash,f,D,e,F,F+x,!1,c,d)):(b.beginPath(),d=v(b,this,f,r,m,r),d=v(b,this,m,r,t,h,d),d=v(b,this,t,h,f,u,d),v(b,this,f,u,k,D,d),c&&b.stroke())}});var I=[];(function(){var a=b.curvePI4;I.push(a.s,a.c1,a.c2,a.e);for(var c=45;360>c;c+=45){var e=
d.rotateg(c);I.push(B(e,a.c1),B(e,a.c2),B(e,a.e))}})();var L=function(a){var b,c,e,k=[],r=a.shape,u=d.normalize([d.translate(r.cx,r.cy),d.scale(r.rx,r.ry)]);b=B(u,I[0]);k.push([b.x,b.y]);for(r=1;r<I.length;r+=3)c=B(u,I[r]),e=B(u,I[r+1]),b=B(u,I[r+2]),k.push([c.x,c.y,e.x,e.y,b.x,b.y]);if(a._needsDash){b=[];c=k[0];for(r=1;r<k.length;++r)e=[],t(c.concat(k[r]),a.canvasDash,e),c=[k[r][4],k[r][5]],b.push(e);a._dashedPoints=b}return k};D.Ellipse=h("dojox.gfx.canvas.Ellipse",[D.Shape,c.Ellipse],{setShape:function(){this.inherited(arguments);
this.canvasEllipse=L(this);return this},setStroke:function(){this.inherited(arguments);w||(this.canvasEllipse=L(this));return this},_renderShape:function(a){var b=this.canvasEllipse,c;a.beginPath();a.moveTo.apply(a,b[0]);for(c=1;c<b.length;++c)a.bezierCurveTo.apply(a,b[c]);a.closePath()},_renderDashedStroke:function(a,b){var c=this._dashedPoints;a.beginPath();for(var d=0;d<c.length;++d)for(var e=c[d],k=0;k<e.length;++k){var t=e[k];a.moveTo(t[0],t[1]);a.bezierCurveTo(t[2],t[3],t[4],t[5],t[6],t[7])}b&&
a.stroke()}});D.Circle=h("dojox.gfx.canvas.Circle",[D.Shape,c.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,b.r,0,A,1)},_renderDashedStroke:function(a,b){var c=this.shape,d=0,e,k=this.canvasDash.length;for(i=0;d<A;)e=this.canvasDash[i%k]/c.r,i%2||(a.beginPath(),a.arc(c.cx,c.cy,c.r,d,d+e,0),b&&a.stroke()),d+=e,++i}});D.Line=h("dojox.gfx.canvas.Line",[D.Shape,c.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)},
_renderDashedStroke:function(a,b){var c=this.shape;a.beginPath();v(a,this,c.x1,c.y1,c.x2,c.y2);b&&a.stroke()}});D.Polyline=h("dojox.gfx.canvas.Polyline",[D.Shape,c.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,d;this.bbox=null;this._normalizePoints();if(a.length)if("number"==typeof b)b=a;else{b=[];for(d=0;d<a.length;++d)c=a[d],b.push(c.x,c.y)}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();
a.moveTo(b[0],b[1]);for(var c=2;c<b.length;c+=2)a.lineTo(b[c],b[c+1])}},_renderDashedStroke:function(a,b){var c=this.canvasPolyline,d=0;a.beginPath();for(var e=0;e<c.length;e+=2)d=v(a,this,c[e],c[e+1],c[e+2],c[e+3],d);b&&a.stroke()}});D.Image=h("dojox.gfx.canvas.Image",[D.Shape,c.Image],{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,b.x,
b.y,b.width,b.height)}});D.Text=h("dojox.gfx.canvas.Text",[D.Shape,c.Text],{_setFont:function(){this.fontStyle?this.canvasFont=s.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,c;a.text&&(c=this.surface.rawNode.getContext("2d"),c.save(),this._renderTransform(c),this._renderFill(c,!1),this._renderStroke(c,!1),this.canvasFont&&(c.font=this.canvasFont),b=c.measureText(a.text).width,c.restore());return b},_render:function(a){a.save();this._renderTransform(a);
this._renderFill(a,!1);this._renderStroke(a,!1);this._renderShape(a);a.restore()},_renderShape:function(a){var b,c=this.shape;c.text&&(b="middle"===c.align?"center":c.align,a.textAlign=b,this.canvasFont&&(a.font=this.canvasFont),this.canvasFill&&a.fillText(c.text,c.x,c.y),this.strokeStyle&&(a.beginPath(),a.strokeText(c.text,c.x,c.y),a.closePath()))}});G(D.Text,"setFont");C||D.Text.extend({getTextWidth:function(){return 0},getBoundingBox:function(){return null},_renderShape:function(){}});var O={M:"_moveToA",
m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};D.Path=h("dojox.gfx.canvas.Path",[D.Shape,e.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];this._dashedPath=[];return this.inherited(arguments)},setStroke:function(){this.inherited(arguments);
w||(this.segmented=!1,this._confirmSegmented());return this},_setPath:function(){this._dashResidue=null;this.inherited(arguments)},_updateWithSegment:function(a){var b=q.clone(this.last);this[O[a.action]](this.canvasPath,a.action,a.args,this._needsDash?this._dashedPath:null);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;a.beginPath();for(var c=0;c<b.length;c+=2)a[b[c]].apply(a,b[c+1])},_renderDashedStroke:w?function(){}:function(a,b){var c=this._dashedPath;
a.beginPath();for(var d=0;d<c.length;d+=2)a[c[d]].apply(a,c[d+1]);b&&a.stroke()},_moveToA:function(a,b,c,d){a.push("moveTo",[c[0],c[1]]);d&&d.push("moveTo",[c[0],c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]),d&&(this._dashResidue=v(d,this,c[b-2],c[b-1],c[b],c[b+1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_moveToR:function(a,b,c,d){b="x"in this.last?[this.last.x+=c[0],this.last.y+=c[1]]:[this.last.x=c[0],this.last.y=c[1]];a.push("moveTo",
b);d&&d.push("moveTo",b);for(b=2;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_lineToA:function(a,b,c,d){for(b=0;b<c.length;b+=2)d&&(this._dashResidue=v(d,this,this.last.x,this.last.y,c[b],c[b+1],this._dashResidue)),a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_lineToR:function(a,b,c,
d){for(b=0;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_hLineToA:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[c[b],this.last.y]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],c[b],this.last.y,this._dashResidue));this.last.x=c[c.length-1];this.lastControl={}},_hLineToR:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",
[this.last.x+=c[b],this.last.y]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_vLineToA:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,c[b]]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,c[b],this._dashResidue));this.last.y=c[c.length-1];this.lastControl={}},_vLineToR:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,this.last.y+=c[b]]),d&&
(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_curveToA:function(a,b,c,d){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",c.slice(b,b+6)),d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="C"},_curveToR:function(a,b,c,d){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",
[this.last.x+c[b],this.last.y+c[b+1],this.lastControl.x=this.last.x+c[b+2],this.lastControl.y=this.last.y+c[b+3],this.last.x+c[b+4],this.last.y+c[b+5]]),d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue)),this.last.x+=c[b+4],this.last.y+=c[b+5];this.lastControl.type="C"},_smoothCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=4){var e="C"==this.lastControl.type;a.push("bezierCurveTo",[e?2*this.last.x-this.lastControl.x:this.last.x,e?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+
1],c[b+2],c[b+3]]);d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.x=c[b];this.lastControl.y=c[b+1];this.lastControl.type="C"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_smoothCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=4){var e="C"==this.lastControl.type;a.push("bezierCurveTo",[e?2*this.last.x-this.lastControl.x:this.last.x,e?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]);d&&
(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.x=this.last.x+c[b];this.lastControl.y=this.last.y+c[b+1];this.lastControl.type="C";this.last.x+=c[b+2];this.last.y+=c[b+3]}},_qCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",c.slice(b,b+4));d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type=
"Q"},_qCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+c[b],this.lastControl.y=this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]),d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue)),this.last.x+=c[b+2],this.last.y+=c[b+3];this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=2){var e="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=e?2*this.last.x-this.lastControl.x:
this.last.x,this.lastControl.y=e?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1]]);d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.type="Q"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_qSmoothCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=2){var e="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=e?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=e?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],
this.last.y+c[b+1]]);d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.type="Q";this.last.x+=c[b];this.last.y+=c[b+1]}},_arcTo:function(a,c,d,e){c="a"==c;for(var k=0;k<d.length;k+=7){var t=d[k+5],r=d[k+6];c&&(t+=this.last.x,r+=this.last.y);var f=b.arcAsBezier(this.last,d[k],d[k+1],d[k+2],d[k+3]?1:0,d[k+4]?1:0,t,r);l.forEach(f,function(b){a.push("bezierCurveTo",b)});e&&(this._dashResidue=u(e,this,p,this._dashResidue));this.last.x=t;this.last.y=r}this.lastControl={}},
_closePath:function(a,b,c,d){a.push("closePath",[]);d&&(this._dashResidue=v(d,this,this.last.x,this.last.y,d[1][0],d[1][1],this._dashResidue));this.lastControl={}}});l.forEach("moveTo lineTo hLineTo vLineTo curveTo smoothCurveTo qCurveTo qSmoothCurveTo arcTo closePath".split(" "),function(a){G(D.Path,a)});D.TextPath=h("dojox.gfx.canvas.TextPath",[D.Shape,e.TextPath],{_renderShape:function(a){},_setText:function(){},_setFont:function(){}});D.Surface=h("dojox.gfx.canvas.Surface",c.Surface,{constructor:function(){c.Container._init.call(this);
this.pendingImageCount=0;this.makeDirty()},destroy:function(){c.Container.clear.call(this,!0);this.inherited(arguments)},setDimensions:function(a,b){this.width=s.normalizedLength(a);this.height=s.normalizedLength(b);if(!this.rawNode)return this;var c=!1;this.rawNode.width!=this.width&&(this.rawNode.width=this.width,c=!0);this.rawNode.height!=this.height&&(this.rawNode.height=this.height,c=!0);c&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:
null},_render:function(a){if(a||!this.pendingImageCount)a=this.rawNode.getContext("2d"),a.clearRect(0,0,this.rawNode.width,this.rawNode.height),this.render(a),"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender)},render:function(a){a.save();for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},makeDirty:function(){!this.pendingImagesCount&&(!("pendingRender"in this)&&!this._batch)&&(this.pendingRender=setTimeout(q.hitch(this,this._render),
0))},downloadImage:function(a,b){var c=q.hitch(this,this.onImageLoad);!this.pendingImageCount++&&"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender);a.onload=c;a.onerror=c;a.onabort=c;a.src=b},onImageLoad:function(){--this.pendingImageCount||(this.onImagesLoaded(),this._render())},onImagesLoaded:function(){},getEventSource:function(){return null},connect:function(){},disconnect:function(){},on:function(){}});D.createSurface=function(a,b,c){if(!b&&!c){var d=f.position(a);
b=b||d.w;c=c||d.h}"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");d=new D.Surface;a=m.byId(a);var e=a.ownerDocument.createElement("canvas");e.width=s.normalizedLength(b);e.height=s.normalizedLength(c);a.appendChild(e);d.rawNode=e;d._parent=a;return d.surface=d};var Q=c.Container;h={openBatch:function(){++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this._makeDirty();return this},_makeDirty:function(){this._batch||this.surface.makeDirty()},add:function(a){this._makeDirty();
return Q.add.apply(this,arguments)},remove:function(a,b){this._makeDirty();return Q.remove.apply(this,arguments)},clear:function(){this._makeDirty();return Q.clear.apply(this,arguments)},getBoundingBox:Q.getBoundingBox,_moveChildToFront:function(a){this._makeDirty();return Q._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(a){this._makeDirty();return Q._moveChildToBack.apply(this,arguments)}};e={createObject:function(a,b){var c=new a;c.surface=this.surface;c.setShape(b);this.add(c);
return c}};k(D.Group,h);k(D.Group,c.Creator);k(D.Group,e);k(D.Surface,h);k(D.Surface,c.Creator);k(D.Surface,e);D.fixTarget=function(a,b){return!0};return D})},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(s,q,l){function h(b){var c=Math.cos(b);b=Math.sin(b);var e={x:c+4/3*(1-c),y:b-4/3*c*(1-c)/b};return{s:{x:c,y:-b},c1:{x:e.x,y:-e.y},c2:e,e:{x:c,y:b}}}var n=2*Math.PI,f=Math.PI/4,m=Math.PI/8,c=f+m,e=h(m);return s.arc={unitArcAsBezier:h,curvePI4:e,arcAsBezier:function(b,
d,k,r,a,t,u,v){a=Boolean(a);t=Boolean(t);var D=l._degToRad(r);r=d*d;var z=k*k,B=l.multiplyPoint(l.rotate(-D),{x:(b.x-u)/2,y:(b.y-v)/2}),F=B.x*B.x,A=B.y*B.y;r=Math.sqrt((r*z-r*A-z*F)/(r*A+z*F));isNaN(r)&&(r=0);r={x:r*d*B.y/k,y:-r*k*B.x/d};a==t&&(r={x:-r.x,y:-r.y});r=l.multiplyPoint([l.translate((b.x+u)/2,(b.y+v)/2),l.rotate(D)],r);d=l.normalize([l.translate(r.x,r.y),l.rotate(D),l.scale(d,k)]);r=l.invert(d);b=l.multiplyPoint(r,b);v=l.multiplyPoint(r,u,v);u=Math.atan2(b.y,b.x);v=Math.atan2(v.y,v.x);
r=u-v;t&&(r=-r);0>r?r+=n:r>n&&(r-=n);k=m;v=e;k=t?k:-k;b=[];for(a=r;0<a;a-=f)a<c&&(k=a/2,v=h(k),k=t?k:-k,a=0),B=l.normalize([d,l.rotate(u+k)]),t?(r=l.multiplyPoint(B,v.c1),D=l.multiplyPoint(B,v.c2),B=l.multiplyPoint(B,v.e)):(r=l.multiplyPoint(B,v.c2),D=l.multiplyPoint(B,v.c1),B=l.multiplyPoint(B,v.s)),b.push([r.x,r.y,D.x,D.y,B.x,B.y]),u+=2*k;return b}}})},"dojox/gfx/decompose":function(){define(["./_base","dojo/_base/lang","./matrix"],function(s,q,l){function h(c,b){return Math.abs(c-b)<=1E-6*(Math.abs(c)+
Math.abs(b))}function n(c,b,d,k){if(isFinite(c)){if(!isFinite(d))return c}else return d;b=Math.abs(b);k=Math.abs(k);return(b*c+k*d)/(b+k)}function f(c){c=l.normalize(c);var b=-c.xx-c.yy,d=c.xx*c.yy-c.xy*c.yx,k=Math.sqrt(b*b-4*d),b=-(b+(0>b?-k:k))/2,d=d/b,k=c.xy/(b-c.xx),r=1,a=c.xy/(d-c.xx),t=1;h(b,d)&&(k=1,a=r=0,t=1);isFinite(k)||(k=1,r=(b-c.xx)/c.xy,isFinite(r)||(k=(b-c.yy)/c.yx,r=1,isFinite(k)||(k=1,r=c.yx/(b-c.yy))));isFinite(a)||(a=1,t=(d-c.xx)/c.xy,isFinite(t)||(a=(d-c.yy)/c.yx,t=1,isFinite(a)||
(a=1,t=c.yx/(d-c.yy))));c=Math.sqrt(k*k+r*r);var u=Math.sqrt(a*a+t*t);if(!isFinite(k/=c))k=0;if(!isFinite(r/=c))r=0;if(!isFinite(a/=u))a=0;if(!isFinite(t/=u))t=0;return{value1:b,value2:d,vector1:{x:k,y:r},vector2:{x:a,y:t}}}function m(c,b){var d=0>c.xx*c.yy||0<c.xy*c.yx?-1:1,k=b.angle1=(Math.atan2(c.yx,c.yy)+Math.atan2(-d*c.xy,d*c.xx))/2,d=Math.cos(k),k=Math.sin(k);b.sx=n(c.xx/d,d,-c.xy/k,k);b.sy=n(c.yy/d,d,c.yx/k,k);return b}function c(c,b){var d=0>c.xx*c.yy||0<c.xy*c.yx?-1:1,k=b.angle2=(Math.atan2(d*
c.yx,d*c.xx)+Math.atan2(-c.xy,c.yy))/2,d=Math.cos(k),k=Math.sin(k);b.sx=n(c.xx/d,d,c.yx/k,k);b.sy=n(c.yy/d,d,-c.xy/k,k);return b}return s.decompose=function(e){var b=l.normalize(e);e={dx:b.dx,dy:b.dy,sx:1,sy:1,angle1:0,angle2:0};if(h(b.xy,0)&&h(b.yx,0))return q.mixin(e,{sx:b.xx,sy:b.yy});if(h(b.xx*b.yx,-b.xy*b.yy))return m(b,e);if(h(b.xx*b.xy,-b.yx*b.yy))return c(b,e);var d,k=new l.Matrix2D(b);d=q.mixin(k,{dx:0,dy:0,xy:k.yx,yx:k.xy});k=f([b,d]);d=f([d,b]);k=new l.Matrix2D({xx:k.vector1.x,xy:k.vector2.x,
yx:k.vector1.y,yy:k.vector2.y});d=new l.Matrix2D({xx:d.vector1.x,xy:d.vector1.y,yx:d.vector2.x,yy:d.vector2.y});b=new l.Matrix2D([l.invert(k),b,l.invert(d)]);m(d,e);b.xx*=e.sx;b.yy*=e.sy;c(k,e);b.xx*=e.sx;b.yy*=e.sy;return q.mixin(e,{sx:b.xx,sy:b.yy})}})},"dojox/gfx/bezierutils":function(){define(["./_base"],function(s){s=s.bezierutils={};s.tAtLength=function(m,c){var e=0,b=6==m.length,d=0,k=0,r=b?h:f,a=function(t,u){for(var f=0,D=0;D<t.length-2;D+=2)f+=l(t[D],t[D+1],t[D+2],t[D+3]);D=b?l(m[0],m[1],
m[4],m[5]):l(m[0],m[1],m[6],m[7]);f-D>u||d+f>c+u?(++k,f=r(t,0.5),a(f[0],u),Math.abs(d-c)<=u||a(f[1],u)):(d+=f,e+=1/(1<<k))};c&&a(m,0.5);return e};var q=s.computeLength=function(f){for(var c=6==f.length,e=0,b=0;b<f.length-2;b+=2)e+=l(f[b],f[b+1],f[b+2],f[b+3]);b=c?l(f[0],f[1],f[4],f[5]):l(f[0],f[1],f[6],f[7]);0.1<e-b&&(f=c?h(f,0.5):n(f,0.5),e=q(f[0],c),e+=q(f[1],c));return e},l=s.distance=function(f,c,e,b){return Math.sqrt((e-f)*(e-f)+(b-c)*(b-c))},h=function(f,c){var e=1-c,b=e*e,d=c*c,k=f[0],r=f[1],
a=f[2],t=f[3],u=f[4],v=f[5],D=b*k+2*e*c*a+d*u,b=b*r+2*e*c*t+d*v;return[[k,r,e*k+c*a,e*r+c*t,D,b],[D,b,e*a+c*u,e*t+c*v,u,v]]},n=function(f,c){var e=1-c,b=e*e,d=b*e,k=c*c,r=k*c,a=f[0],t=f[1],u=f[2],v=f[3],D=f[4],h=f[5],B=f[6],n=f[7],A=d*a+3*b*c*u+3*e*k*D+r*B,d=d*t+3*b*c*v+3*e*k*h+r*n;return[[a,t,e*a+c*u,e*t+c*v,b*a+2*e*c*u+k*D,b*t+2*e*c*v+k*h,A,d],[A,d,b*u+2*e*c*D+k*B,b*v+2*e*c*h+k*n,e*D+c*B,e*h+c*n,B,n]]},f=s.splitBezierAtT=function(f,c){return 6==f.length?h(f,c):n(f,c)};return s})},"xl/player/controls/_AltTextToolTip":function(){define("dojo/_base/declare dijit/Tooltip ./_NeedsPlayerViewer dojo/on dojo/mouse dojo/_base/lang dojo/dom-attr xl/util/eqUtils dojo/dom-construct dojo/dom-class dojo/_base/array".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.player.controls._AltTextToolTip",[l],{altText:null,createOwnAccLabel:null,magicAltStrings:[],alwaysHideChildren:!1,hideIfNoAltText:!1,startup:function(){this._started||(this.hasAltText()?(this.addAriaLabel(),this.addAccLabel()):this.addAriaHidden(),this.inherited(arguments))},_showToolTip:function(b){if((b=this.getViewer())&&b.showAltText){var c=this.domNode;q.show(this.altText,c,["above","below"]);h.once(this.domNode,n.leave,function(){q.hide(c)})}},destroy:function(){this.inherited(arguments)},
hasAltText:function(){return this.altText&&!d.some(this.magicAltStrings,function(b){return b===this.altText.toLowerCase()},this)},addAriaLabel:function(){this.altText=c.altTextExpander(this.altText);h(this.domNode,n.enter,f.hitch(this,this._showToolTip));m.set(this.domNode,"aria-label",this.altText)},addAccLabel:function(){if(!this.createOwnAccLabel){var b=e.create("span",{"class":"eqAccessibleLabel",innerHTML:this.altText});e.place(b,this.domNode,"first")}},addAriaHidden:function(){var b=this.hasAltText();
this.hideIfNoAltText&&!b?m.set(this.domNode,"aria-hidden","true"):(this.alwaysHideChildren||b)&&this._hideChildren()},_hideChildren:function(){for(var c=this.domNode.childNodes,d=0;d<c.length;d++)try{b.contains(c[d],"eqAccessibleLabel")||m.set(c[d],"aria-hidden","true")}catch(a){}}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D){var z=q("dijit._MasterTooltip",[a,t],{duration:k.defaultDuration,templateString:v,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new u(this.domNode);this.fadeIn=l.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,d,e,k){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==
a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;k&&this.set("textDir",k);this.containerNode.align=e?"right":"left";var t=r.around(this.domNode,b,d&&d.length?d:B.defaultPosition,!e,c.hitch(this,"orient")),u=t.aroundNodePos;"M"==t.corner.charAt(0)&&"M"==t.aroundCorner.charAt(0)?(this.connectorNode.style.top=u.y+(u.h-this.connectorNode.offsetHeight>>1)-t.y+"px",this.connectorNode.style.left=""):"M"==t.corner.charAt(1)&&"M"==t.aroundCorner.charAt(1)?this.connectorNode.style.left=
u.x+(u.w-this.connectorNode.offsetWidth>>1)-t.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");m.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,e,k){this.connectorNode.style.top="";var t=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var r=f.position(this.domNode);9==d("ie")&&(r.w+=2);var u=Math.min(Math.max(e,1),r.w);f.setMarginBox(this.domNode,{w:u});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=f.position(a),b=this.connectorNode.offsetHeight,a.h>t?(this.connectorNode.style.top=t-(k.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=
Math.min(Math.max(k.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,r.w-e)},_onShow:function(){d("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,
this._onDeck),this._onDeck=null)}});d("dojo-bidi")&&z.extend({_setAutoTextDir:function(a){this.applyTextDir(a);s.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});D.showTooltip=function(a,b,c,d,e){c&&(c=s.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));B._masterTT||(D._masterTT=B._masterTT=new z);return B._masterTT.show(a,
b,c,d,e)};D.hideTooltip=function(a){return B._masterTT&&B._masterTT.hide(a)};var B=q("dijit.Tooltip",a,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){s.forEach(this._connections||[],function(a){s.forEach(a,function(a){a.remove()})},this);this._connectIds=s.filter(c.isArrayLike(a)?a:a?[a]:[],function(a){return h.byId(a,this.ownerDocument)},this);this._connections=s.map(this._connectIds,function(a){a=h.byId(a,this.ownerDocument);var d=this.selector,k=d?function(a){return b.selector(d,
a)}:function(a){return a},t=this;return[b(a,k(e.enter),function(){t._onHover(this)}),b(a,k("focusin"),function(){t._onHover(this)}),b(a,k(e.leave),c.hitch(t,"_onUnHover")),b(a,k("focusout"),c.hitch(t,"_onUnHover"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==s.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=s.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);n.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;s.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);b&&(B.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(B.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();s.forEach(this._connections||[],function(a){s.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});B._MasterTooltip=z;B.show=D.showTooltip;B.hide=D.hideTooltip;B.defaultPosition=["after-centered","before-centered"];return B})},"xl/util/eqUtils":function(){define(["xl/eqeditor/AssessmentsComponents","dojo/has","xl/eqeditor/EqLabel"],function(s,q,l){var h=s.EquationClasses.EqParser,n=s.EquationClasses.EqDocument;return{evalEq:function(f){var m=new n;f=(new h(m,f)).parse();m.insertEq(f,0);m.processRow();try{var c=m.getJSText();if((q("chrome")||q("ff"))&&c.includes("**"))return NaN;
var e=eval(c)}catch(b){e=NaN}return e},altTextExpander:function(f){for(var m=/\u263b(\d)\u263a(.*?)\u263b\d\u263a/g,c="",e=0,b=m.exec(f);null!=b;b=m.exec(f))c+=f.substr(e,b.index-e),e=new l({docSettings:{interpretFunctions:"1"===b[1]},accessible:!0}),e.startup(),e.setEqText(b[2]),b=e.getAccessibleName(),e.destroy(),c+=b,e=m.lastIndex;return c+=f.substr(e)},ParseIn:function(f){try{var m=f;if(-1<f.indexOf("@MNUM{")){var c=f.indexOf("@MNUM{"),e=f.indexOf("}",c),b=f.substr(c+6,e-c-6).split(";");if(3===
b.length)var d=b[0]+" "+b[1]+"/"+b[2],m=m.replace(m.substr(c,e-c+1),d)}for(c=-1;-1<(c=m.indexOf("\x26",c+1));){var k=m.indexOf(";",c);if(-1===k)break;switch(m.substr(c+1,k-c-1)){case "ge":m=m.replace("\x26ge;","\x3e\x3d");break;case "le":m=m.replace("\x26le;","\x3c\x3d");break;case "ne":m=m.replace("\x26ne;","\x3c\x3e")}}return m}catch(r){}return f}}})},"xl/eqeditor/AssessmentsComponents":function(){define(["xl/nonamd/ac/ac"],function(s){return window.AssessmentsComponents||s})},"xl/nonamd/ac/ac":function(){var s=
"xl/nonamd/ac/src/assessments-components.js";"undefined"!==typeof window&&(window&&window.localStorage&&window.localStorage["acs-override-ac"])&&(s=window.localStorage.getItem("acs-override-ac"));define([["dojo/text!",s].join("")],function(q){var l;l=document.createElement("script");l.type="text/javascript";l.textContent=q;document.getElementsByTagName("head")[0].appendChild(l);return null})},"xl/eqeditor/EqLabel":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/dom-attr dojo/html dijit/registry dojo/_base/array dijit/_WidgetBase ./AssessmentsComponents".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.eqeditor.EqLabel",[c],{baseClass:"eqLabel",_label:null,isLayoutContainer:!0,accessible:!1,_hasEqTextProp:!1,_eqText:null,constructor:function(b,c){b||(b={});b.docSettings||(b.docSettings={});b.inputs&&(b.docSettings.instantiateInput=l.hitch(this,this.instantiateInput));this._label=new e.EquationLabel(b,c,!0)},instantiateInput:function(b,c){n.set(b,c,{parseContent:!0,startup:!1});var e=f.findWidgets(b);m.forEach(e,function(b){b.startup()})},setInputs:function(b){this._label.inputs=
b},destroy:function(){this.inherited(arguments);this._label&&this._label.destroy()},getEqDoc:function(){return this._label.getEqDocument()},buildRendering:function(){this.domNode=this._label.domNode;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.accessible&&(this._label.accessible=this.accessible);if(!this._hasEqTextProp&&this.srcNodeRef&&this.srcNodeRef.textContent){var b=l.trim(this.srcNodeRef.textContent);b&&this.setEqText(b)}this._label&&(this._label._eqDoc&&this.docSettings)&&
this._label._eqDoc.setItalicizeVariables(this.docSettings.italicizeVariables)},resize:function(){this.doLayout()},startup:function(){if(!this._started){this._label.startup();this.inherited(arguments);var b=this.getParent&&this.getParent();(!b||!b.isLayoutContainer)&&this.resize()}},doLayout:function(){this._label&&this._started&&this._label.doLayout()},clear:function(){this._label.clear();this.doLayout()},setEqText:function(b){b!=this._eqText&&(this._eqText=b,this._label.setEqText(b))},getEqText:function(){return this._label.getEqText()},
_setEqTextAttr:function(b){this.setEqText(b);this._hasEqTextProp=!0},_getEqTextAttr:function(b){return this.getEqText()},getAccessibleName:function(){return this._label.getAccessibleName()},getEmbeddedInputs:function(){if(!this.domNode)return null;var b=f.findWidgets(this.domNode),c={};m.forEach(b,function(b){b.getInputData&&(c[b.get("id")]=b)});return c}})})},"xl/grapher/XYGrid":function(){define("dojo/_base/declare dojo/_base/connect dijit/_WidgetBase dojo/dom-construct dojox/gfx dojo/dom-geometry".split(" "),
function(s,q,l,h,n,f){return s("xl.grapher.XYGrid",[l],{_xMin:null,_xMax:null,_yMin:null,_yMax:null,_w:null,_h:null,_padding:10,startup:function(){this.inherited(arguments)},_setXMinAttr:function(f){_xMin=f},_setXMaxAttr:function(f){_xMax=f},_setYMinAttr:function(f){_yMin=f},_setYMaxAttr:function(f){_yMax=f},buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},draw:function(f){this._w=f.getDimensions().width;this._h=f.getDimensions().height;this.drawXGrid(f);
this.drawYGrid(f)},drawXGrid:function(f){for(var c=Math.abs(this.xMin)+Math.abs(this.xMax),c=(this._w-2*this._padding)/c,e=this._padding;e<=this._w-this._padding;e+=c)f.createLine({x1:e+0.5,y1:this._padding+0.5,x2:e+0.5,y2:this._h-this._padding+0.5}).setStroke("#D3D3D3")},drawYGrid:function(f){for(var c=Math.abs(this.yMin)+Math.abs(this.yMax),c=(this._h-2*this._padding)/c,e=this._padding;e<=this._w-this._padding;e+=c)f.createLine({x1:this._padding+0.5,y1:e+0.5,x2:this._h-this._padding+0.5,y2:e+0.5}).setStroke("#D3D3D3")},
destroy:function(){this.inherited(arguments)}})})},"xl/grapher/IPGraphAxis":function(){define("dojo/_base/declare ./enums dijit/_WidgetBase dojox/gfx dojox/gfx/fx dojo/_base/lang xl/grapher/IPGraphTickList xl/grapher/Margins xl/grapher/Point xl/util/IPMath xl/util/stringUtils xl/util/graphUtils".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.grapher.IPGraphAxis",[l],{_ratio:1,visible:!0,_graph:null,_minimum:0,_maximum:0,_orientation:q.IPGraphAxisOrientation.HORIZONTAL,color:"#404040",_location:q.IPGraphAxisOrigin.ZERO,
labelSpacing:-1,_labelOrigin:q.IPGraphAxisOrigin.ZERO,title:"",titleMargin:5,titleFontFamily:"Arial",titleFontSize:"11px",_titleSize:null,labelFontFamily:"Arial",labelFontSize:"11px",showGrid:!0,_valueFormat:"#.--",_viewMin:null,_viewMax:null,_axisType:q.IPGraphAxisType.LINEAR,_locationValue:null,_tickList:null,tickSpacing:2,tickStyle:null,_tickLabelMargin:0,hideTicks:!1,_hideLabels:!1,position:null,_gridMajor:!1,showMinArrow:!1,showMaxArrow:!1,altTitlePos:!1,titlePos:0,customTicks:null,_isDate:!1,
enlargedTicks:null,hideEnlargedTicks:null,arrowExtensionLength:15,destroy:function(){this.inherited(arguments);this.destroyTickList()},_setShowGridAttr:function(b){this.showGrid=b},_setIsDateAttr:function(b){this._isDate=b},_setOrientationAttr:function(b){this._orientation=b.toLowerCase()},_setMinimumAttr:function(b){this._minimum=b},_setMaximumAttr:function(b){this._maximum=b},_setLocationAttr:function(b){this._location=b},_setValueFormatAttr:function(b){this._valueFormat=b},_setLabelOriginAttr:function(b){this._labelOrigin=
b},getMaximum:function(){return this._maximum},setMaximum:function(b){b!=this._maximum&&(this._maximum=b,this.invalidateTickList(),this.updateAxisParams(),this.updateGraph())},getMinimum:function(){return this._minimum},setMinimum:function(b){b!=this._minimum&&(this._minimum=b,this.invalidateTickList(),this.updateAxisParams(),this.updateGraph())},setRange:function(b,a){if(this._minimum!=b||this._maximum!=a)this._minimum=b,this._maximum=a,this.updateAxisParams(),this.updateGraph()},setView:function(b,
a){if(this._viewMin!=b||this._viewMax!=a)this._viewMin=b,this._viewMax=a,this.updateAxisParams(!1)},getView:function(){return{min:this._viewMin,max:this._viewMax}},getTickList:function(){return this._tickList},invalidateTickList:function(){this.destroyTickList()},getLabelFont:function(){return this.labelFontFamily},setLabelSpacing:function(b){b!=this.labelSpacing&&(this.labelSpacing=b,this.invalidateTickList(),this.updateGraph())},setupTitle:function(b){this._titleSize=null;this.title&&this.visible&&
(this.isVertical()&&this.altTitlePos?(b=k.measureText(b,this.title,this.titleFontSize,this.titleFontFamily),this._titleSize={height:b.width,width:b.height}):this._titleSize=k.measureText(b,this.title,this.titleFontSize,this.titleFontFamily))},updateAxisParams:function(c){if(this._viewMax==this._viewMin)this._ratio=1;else try{switch(this._axisType){case q.IPGraphAxisType.LINEAR:this._ratio=(this._viewMax-this._viewMin)/(this._maximum-this._minimum);break;case q.IPGraphAxisType.LOG:this._ratio=(this._viewMax-
this._viewMin)/(b.log10(this._maximum)-this.log10(this._minimum))}}catch(a){this._ratio=1}c&&this.updateGraph()},updateGraph:function(){this._graph&&this._graph.invalidateGraph()},pixelLocation:function(){var b=0;this._graph._yAxis==this||this._graph._yAxisAlt==this?b=this._graph._xAxis.worldToView(this.worldLocation()):this._graph._xAxis==this&&(b=this._graph._yAxis.worldToView(this.worldLocation()));return b},worldLocation:function(){var b=0;if(this._graph._yAxis==this||this._graph._yAxisAlt==this)switch(this._location){case q.IPGraphAxisOrigin.MINIMUM:b=
this._graph._xAxis._minimum;break;case q.IPGraphAxisOrigin.MAXIMUM:b=this._graph._xAxis._maximum;break;case q.IPGraphAxisOrigin.CUSTOM:b=this._locationValue}else if(this._graph._xAxis==this)switch(this._location){case q.IPGraphAxisOrigin.MINIMUM:b=this._graph._yAxis._minimum;break;case q.IPGraphAxisOrigin.MAXIMUM:b=this._graph._yAxis._maximum;break;case q.IPGraphAxisOrigin.CUSTOM:b=this._locationValue}return b},worldToView:function(c){var a;try{this._axisType==q.IPGraphAxisType.LOG&&(c=b.log10(c)),
a=Math.round(b.ensureRange((c-this._minimum)*this._ratio+this._viewMin,-1E5,1E5))}catch(d){a=0}return a},worldToViewF:function(c){var a;try{this._axisType==q.IPGraphAxisType.LOG&&(c=b.log10(c)),a=b.ensureRange((c-this._minimum)*this._ratio+this._viewMin,-1E5,1E5)}catch(d){a=0}return a},viewToWorld:function(b){var a;try{a=(b-this._viewMin)/this._ratio+this._minimum,this._axisType==q.IPGraphAxisType.LOG&&(a=Math.pow(10,a))}catch(c){a=0}return a},viewFToWorld:function(b){var a;try{a=(b-this._viewMin)/
this._ratio+this._minimum,this._axisType==q.IPGraphAxisType.LOG&&(a=Math.pow(10,a))}catch(c){a=0}return a},formatLabel:function(b,a){a||(a=this._valueFormat);return this._graph&&this._isDate&&null!=this._graph.onFormatDate?this._graph.onFormatDate(b,a):this._graph&&null!=this._graph.onFormatNumber?this._graph.onFormatNumber(b,a):d.formatFloat(b,a)},viewToWorldRel:function(b){var a;try{a=b/this._ratio,this._axisType==q.IPGraphAxisType.LOG&&(a=Math.pow(10,a))}catch(c){a=0}return a},drawTitle:function(b){var a,
c,d=null;if(this._titleSize){var e=this._titleSize.width,f=this._titleSize.height;if(this.title&&this.visible)if(this.isHorizontal()){if(this.altTitlePos){a=this._graph._plotRect.left+(this._graph._plotRect.right-this._graph._plotRect.left-e)/2;c=this._graph._altXAxisTitlePos;if(0>a||a+e>this._graph.getWidth())a=Math.max(a,0),d=this._graph.getWidth()-a;this._graph.adjustGTitlePos(c+f)}else a=this._graph._plotRect.right+this.titleMargin,c=this.position-f-this.titleMargin;k.drawText(b,a,c,this.title,
this.color,this.titleFontSize,this.titleFontFamily,!1,null,d)}else this.altTitlePos?(a=this._graph._altYAxisTitlePos-e,c=(this._viewMax+this._viewMin+f)/2,b=k.drawText(b,a,c,this.title,this.color,this.titleFontSize,this.titleFontFamily),(new n.animateTransform({duration:0,shape:b,transform:[{name:"rotategAt",start:[0,a,c],end:[270,a,c]}]})).play()):(c=this._graph._plotRect.top-f-this.titleMargin,this==this._graph.getAxisY()&&(this._graph.getAxisYAlt()&&this._graph.getAxisYAlt().visible&&this._graph.getAxisYAlt().title)&&
(c-=f),a=this.getLocation()==q.IPGraphAxisOrigin.MAXIMUM?this.position-this.titleMargin-e:this.position+this.titleMargin,k.drawText(b,a,c,this.title,this.color,this.titleFontSize,this.titleFontFamily),this._graph.adjustGTitlePos(c),this._graph.adjustGTitlePos(c+f))}},calcMarginsNeeded:function(d){var a,t,u,f,m,h,B,n,A,x,w;w=new c;if(!this.visible)return w;this.createTickList();h=m=f=0;B=this.position;x=A=0;t=new e(0,0);for(a=0;a<this._tickList.getTickCount();a++)if(u=this._tickList.getTick(a),u.label?
(n=k.measureText(d,u.label,this.labelFontSize,this.labelFontFamily),t.x=n.width,t.y=n.height):(t.x=0,t.y=0),this.isVertical()){if(n=this.worldToView(u.value),!(n<this._viewMax||n>this._viewMin)){this.getLocation()==q.IPGraphAxisOrigin.MAXIMUM&&(t.x+=2);switch(u.type){case q.IPGraphTickType.MINOR:t.x+=this._graph.minorTickSize;break;case q.IPGraphTickType.MAJOR:t.x+=this._graph.majorTickSize}f=b.max(f,t.x);switch(u.alignment){case q.IPGraphAlignment.LEFT:m=b.max(m,t.y);break;case q.IPGraphAlignment.CENTER:m=
b.max(m,t.y/2)}switch(u.alignment){case q.IPGraphAlignment.LEFT:case q.IPGraphAlignment.CENTER:h=b.max(h,t.y/2);break;default:h=b.max(h,t.y)}}}else if(n=this.worldToView(u.value),!(n<this._viewMin||n>this._viewMax)){switch(u.type){case q.IPGraphTickType.MINOR:t.y+=this._graph.minorTickSize;break;case q.IPGraphTickType.MAJOR:t.y+=this._graph.majorTickSize}if(0<t.x)switch(u.alignment){case q.IPGraphAlignment.LEFT:x=b.max(x,n+t.x-this._viewMax);break;case q.IPGraphAlignment.RIGHT:A=b.max(A,this._viewMin-
(n-t.x));break;case q.IPGraphAlignment.CENTER:x=b.max(x,n+t.x/2-this._viewMax),A=b.max(A,this._viewMin-(n-t.x/2))}f=b.max(f,t.x);m=b.max(m,t.y);h=b.max(h,t.y)}this.isVertical()?(B<this._graph._plotRect.right?w.left=b.max(this._graph.minorTickSize,this._graph._plotRect.left-(B-f)):w.right=b.max(this._graph.minorTickSize,B+f-this._graph._plotRect.right),w.top=b.max(w.top,m),w.bottom=b.max(w.bottom,h),this.showMaxArrow&&(w.top=b.max(w.top,this._graph.extsize)),this.showMinArrow&&(w.bottom=b.max(w.bottom,
this._graph.extsize))):(B<=this._graph._plotRect.top?w.top=b.max(m,this._graph.minorTickSize):w.bottom=b.max(B+b.max(h,this._graph.minorTickSize)-this._graph._plotRect.bottom,0),w.left=b.max(w.left,A),w.right=b.max(w.right,x),this.showMaxArrow&&(w.right=b.max(w.right,this._graph.extsize)),this.showMinArrow&&(w.left=b.max(w.left,this._graph.extsize)));this.title&&this.visible&&this._titleSize&&(this.altTitlePos?(d=this._titleSize.height,a=this._titleSize.width):(d=this._titleSize.width,a=this._titleSize.height),
this.isVertical()?(this.getLocation()!=q.IPGraphAxisOrigin.MAXIMUM&&(w.right=b.max(0,B+d+this.titleMargin-this._graph._plotRect.right)),w.top=b.max(w.top,a+this.titleMargin),this==this._graph.getAxisY()&&(this._graph.getAxisYAlt()&&this._graph.getAxisYAlt().visible&&this._graph.getAxisYAlt().title)&&(w.top+=a)):this.altTitlePos||(w.right=b.max(w.right,d+this.titleMargin)));return w},isHorizontal:function(){return this._orientation==q.IPGraphAxisOrientation.HORIZONTAL},isVertical:function(){return this._orientation==
q.IPGraphAxisOrientation.VERTICAL},destroyTickList:function(){this._tickList&&(this._tickList.destroyRecursive(),this._tickList=null)},createTickList:function(){var c,a,d,e,k,f,h,B;h=!1;if(!this._tickList&&(this._tickList=new m,null==this.onBuildTickList||this.onBuildTickList(this._tickList))){a=0;if(0<this.tickSpacing){B=0;this.isHorizontal()&&this._graph._yAxis.visible?(f=this.position>this._graph._plotRect.top+1&&this.position<this._graph._plotRect.bottom-1,B=this._graph._yAxis.position):this.isVertical()&&
this._graph._xAxis.visible?(f=this.position>this._graph._plotRect.left&&this.position<this._graph._plotRect.right||this.position<=this._graph._plotRect.left&&this._graph._xAxis.showMinArrow,B=this._graph._xAxis.position):f=!1;switch(this._labelOrigin){case q.IPGraphAxisOrigin.MINIMUM:a=this._minimum;break;case q.IPGraphAxisOrigin.MAXIMUM:a=this._maximum;break;case q.IPGraphAxisOrigin.CUSTOM:a=this._originValue;break;default:a=0}d=Math.ceil((this._minimum-b.getEpsilon(this._minimum)-a)/this.tickSpacing);
e=Math.floor((this._maximum+b.getEpsilon(this._maximum)-a)/this.tickSpacing);h=!1;c="horizontal"===this._orientation?this._graph._plotRect.right-this._graph._plotRect.left:this._graph._plotRect.bottom-this._graph._plotRect.top;c/=this._graph.graphStyle===q.IPGraphStyle.TI82?1.5:2;if(Math.abs(d-e)<c)if(d<e)for(k=d;k<=e;k++)c=k*this.tickSpacing+a,f&&this.worldToView(c)==B||(0<this.labelSpacing&&0==k%this.labelSpacing?this._tickList.addMajorTick(c,this.formatLabel(c)):this._tickList.addMinorTick(c));
else for(k=e;k>=d;k--)c=k*this.tickSpacing+a,f&&this.worldToView(c)==B||(0<this.labelSpacing&&0==k%this.labelSpacing?this._tickList.addMajorTick(c,this.formatLabel(c)):this._tickList.addMinorTick(c));else h=!0}if(0>this.labelSpacing||h)this._tickList.addMajorTick(this._minimum,this.formatLabel(this._minimum),q.IPGraphAlignment.CENTER),this._tickList.addMajorTick(this._maximum,this.formatLabel(this._maximum),q.IPGraphAlignment.CENTER),-2==this.labelSpacing&&this._tickList.addMajorTick(a,this.formatLabel(a),
q.IPGraphAlignment.CENTER)}},draw:function(b){if(this._graph){if(this.visible){this.createTickList();var a,c,d,e,f,m,h,n={color:this.color,style:"solid",width:1};switch(this._orientation){case q.IPGraphAxisOrientation.HORIZONTAL:k.drawLine(b,this._viewMin,this.position,this._viewMax,this.position,this.color);this.showMaxArrow&&(a={start:{x:this._viewMax,y:this.position},end:{x:this._viewMax+this.arrowExtensionLength,y:this.position},stroke:{color:this.color}},k.drawArrow(b,a));this.showMinArrow&&
(a={start:{x:this._viewMin,y:this.position},end:{x:this._viewMin-this.arrowExtensionLength,y:this.position},stroke:{color:this.color}},k.drawArrow(b,a));if(this._tickList&&0<this._tickList.getTickCount()){h=b.createPath();for(var A=0;A<this._tickList.getTickCount();A++)if(a=this._tickList.getTick(A),c=this.worldToView(a.value),!(c<this._viewMin||c>this._viewMax)){switch(a.type){case q.IPGraphTickType.MINOR:e=this._graph.minorTickSize;break;case q.IPGraphTickType.MAJOR:e=this._graph.majorTickSize;
break;default:e=0}this._location==q.IPGraphAxisOrigin.MAXIMUM&&(e=-e);this.tickStyle==q.IPGraphTickStyle.INVERTED&&(e=-e);f=0>e?e-this._tickLabelMargin:e+this._tickLabelMargin;if(0!=e){if(!this.hideTicks&&!a.isCustom||a.isCustom&&""!=a.label)this.tickStyle==q.IPGraphTickStyle.FULL?h.moveTo(c+0.5,this.position-e+0.5):h.moveTo(c+0.5,this.position+0.5),h.lineTo(c+0.5,this.position+e+0.5);this._graph.adjustGTitlePos(this.position+f);this.titlePos=Math.max(this.titlePos,this.position+f);this._graph._altXAxisTitlePos=
Math.max(this._graph._altXAxisTitlePos,this.position+f)}if(a.label&&!this._hideLabels){d=this.position+Math.abs(f);m=k.measureText(b,a.label,this.labelFontSize,this.labelFontFamily);e=m.width;m=m.height;this._location==q.IPGraphAxisOrigin.MAXIMUM&&(d-=m);switch(a.alignment){case q.IPGraphAlignment.RIGHT:c-=e;break;case q.IPGraphAlignment.CENTER:c-=e/2,c=Math.round(c)}k.drawText(b,c,d,a.label,this.color,this.labelFontSize,this.labelFontFamily);this._graph.adjustGTitlePos(d);this._graph.adjustGTitlePos(d+
m);this.titlePos=Math.max(this.titlePos,d+m);this._graph._altXAxisTitlePos=Math.max(this._graph._altXAxisTitlePos,d+m);this._graph._altYAxisTitlePos=Math.min(this._graph._altYAxisTitlePos,c-this.titleMargin)}}0<h.segments.length&&h.setStroke(n)}break;case q.IPGraphAxisOrientation.VERTICAL:if(k.drawLine(b,this.position,this._viewMin,this.position,this._viewMax,this.color),this.showMaxArrow&&(a={start:{x:this.position,y:this._viewMax},end:{x:this.position,y:this._viewMax-this.arrowExtensionLength}},
k.drawArrow(b,a),this._graph.adjustGTitlePos(this._viewMax-this.arrowExtensionLength)),this.showMinArrow&&(a={start:{x:this.position,y:this._viewMin},end:{x:this.position,y:this._viewMin+this.arrowExtensionLength}},k.drawArrow(b,a)),this._tickList&&0<this._tickList.getTickCount()){h=b.createPath();for(A=0;A<this._tickList.getTickCount();A++)if(a=this._tickList.getTick(A),d=this.worldToView(a.value),!(d<this._viewMax||d>this._viewMin)){switch(a.type){case q.IPGraphTickType.MINOR:e=this._graph.minorTickSize;
break;case q.IPGraphTickType.MAJOR:e=this._graph.majorTickSize;break;default:e=0}this._location==q.IPGraphAxisOrigin.MAXIMUM&&(e=-e);this.tickStyle==q.IPGraphTickStyle.INVERTED&&(e=-e);f=0>e?e-this._tickLabelMargin:e+this._tickLabelMargin;if(!this.hideTicks&&!a.isCustom||a.isCustom&&""!=a.label)this.tickStyle==q.IPGraphTickStyle.FULL?(h.moveTo(this.position-e+0.5,d+0.5),h.lineTo(this.position+e+0.5,d+0.5)):(h.moveTo(this.position+0.5,d+0.5),h.lineTo(this.position-e+0.5,d+0.5));if(a.label&&!this._hideLabels){m=
k.measureText(b,a.label,this.labelFontSize,this.labelFontFamily);e=m.width;m=m.height;c=this.position-f;c=this._location!=q.IPGraphAxisOrigin.MAXIMUM?c-e:c+2;switch(a.alignment){case q.IPGraphAlignment.LEFT:d-=m;break;case q.IPGraphAlignment.CENTER:d-=m/2,d=Math.round(d)}k.drawText(b,c,d,a.label,this.color,this.labelFontSize,this.labelFontFamily);this._graph.adjustGTitlePos(d);this._graph.adjustGTitlePos(d+m);this._graph._altXAxisTitlePos=Math.max(this._graph._altXAxisTitlePos,d+m);this._graph._altYAxisTitlePos=
Math.min(this._graph._altYAxisTitlePos,c-this.titleMargin)}}h.setStroke(n)}}}}else console.error("Axis has no graph pointer")},getLocation:function(){return this._location},drawGridLines:function(b,a){var c,d;if(this.showGrid){a||(a="#CCCCCC");this.createTickList();var e=b.createPath();switch(this._orientation){case q.IPGraphAxisOrientation.HORIZONTAL:if(this._tickList)for(c=0;c<this._tickList.getTickCount();c++)if(d=this._tickList.getTick(c),!d.isCustom&&!this.hideTicks&&(!this._gridMajor||d.type===
q.IPGraphTickType.MAJOR)||d.isCustom&&!d.hideGrid)d=this.worldToView(d.value),d>=this._graph._plotRect.left&&d<=this._graph._plotRect.right&&(e.moveTo(d+0.5,this._graph._plotRect.top+0.5),e.lineTo(d+0.5,this._graph._plotRect.bottom+0.5));break;case q.IPGraphAxisOrientation.VERTICAL:if(this._tickList)for(c=0;c<this._tickList.getTickCount();c++)if(d=this._tickList.getTick(c),!d.isCustom&&!this.hideTicks&&(!this._gridMajor||d.type===q.IPGraphTickType.MAJOR)||d.isCustom&&!d.hideGrid)d=this.worldToView(d.value),
d>=this._graph._plotRect.top&&d<=this._graph._plotRect.bottom&&(e.moveTo(this._graph._plotRect.left+0.5,d+0.5),e.lineTo(this._graph._plotRect.right+0.5,d+0.5))}e.setStroke({color:a,width:1})}},getTickSpacing:function(){return this.tickSpacing},setTickSpacing:function(b){b!=this.tickSpacing&&(this.tickSpacing=b,this.invalidateTickList(),this.updateGraph())},setTitle:function(b){b!=this.title&&(this.title=b,this.updateGraph())},setAltTitlePos:function(b){b!=this.altTitlePos&&(this.altTitlePos=b,this.updateGraph())},
setProperties:function(b){this._maximum=b.maximum;this._minimum=b.minimum;this.title=b.title;this._valueFormat=b.valueFormat;this.color=b.color;this.visible=b.visible;this.tickSpacing=b.tickSpacing;this.labelSpacing=b.labelSpacing;this.showMaxArrow=b.showMaxArrow;this.visible=b.visible},getProperties:function(b){return{maximum:this._maximum,minimum:this._minimum,title:this.title,valueFormat:this._valueFormat,color:this.color,visible:this.visible,tickSpacing:this.tickSpacing,labelSpacing:this.labelSpacing,
showMaxArrow:this.showMaxArrow}},getPosition:function(){return this.position},setPosition:function(b){this.position=b},onBuildTickList:function(b){var a;a=this._graph.isZoomed&&this.enlargedTicks?!this.hideEnlargedTicks:!this.hideTicks;if(null!=this.customTicks&&0<this.customTicks.length)for(var c=0;c<this.customTicks.length;c++){var d=this.customTicks[c];null!=d.value&&(d.noFormat?b.addTick(d.value,d.label,d.alignment,d.tickType,d.hideGrid,!0):b.addTick(d.value,this.formatLabel(d.label,d.valueFormat),
d.alignment,d.tickType,d.hideGrid,!0))}return a&&this.buildDateTicks(b,a)},buildDateTicks:function(b,a){var c=-1,d,e,k;if(a&&this.isDate){if(0<this.tickSpacing)if(this.labelOrigin==q.IPGraphAxisOrigin.MAXIMUM){k=new Date(this._maximum);k.setUTCDate(1);for(d=k.getTime();d>=this._minimum-1E-6;)d<=this._maximum+1E-6&&(0>c&&(c=0),0<this.labelSpacing&&0==c%this.labelSpacing?(e=this.formatLabel(d),b.addMajorTick(d,e)):b.addMinorTick(d),c++),k.setUTCMonth(k.getUTCMonth()-Math.round(this.tickSpacing)),d=
k.getTime()}else{k=new Date(this._minimum);k.setUTCDate(1);for(d=k.getTime();d<=this._maximum+1E-6;)d>=this._minimum-1E-6&&(0>c&&(c=0),0<this.labelSpacing&&0==c%this.labelSpacing?(e=this.formatLabel(d),b.addMajorTick(d,e)):b.addMinorTick(d),c++),k.setUTCMonth(k.getUTCMonth()+Math.round(this.tickSpacing)),d=k.getTime()}0>this.labelSpacing&&(b.addMajorTick(this._minimum,this.formatLabel(this._minimum)),b.addMajorTick(this._maximum,this.formatLabel(this._maximum)));return!1}return!0}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),
function(s,q,l,h,n,f,m,c){function e(a,b){this.start=a;this.end=b}function b(a,b,c){this.start=a;this.end=b;this.units=c}function d(a,b){this.start=a;this.end=b;this.temp=new h}function k(a){this.values=a;this.length=a.length}function r(a,b){this.values=a;this.def=b?b:{}}function a(a,b){this.stack=a;this.original=b}function t(a,b,c,e){if(a.values)return new k(a.values);var t,r;r=a.start?q.normalizeColor(a.start):t=b?c?b[c]:b:e;a.end?a=q.normalizeColor(a.end):(t||(t=b?c?b[c]:b:e),a=t);return new d(r,
a)}var u=q.fx={};e.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};b.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};d.prototype.getValue=function(a){return h.blendColors(this.start,this.end,a,this.temp)};k.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};r.prototype.getValue=function(a){var b=s.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};a.prototype.getValue=
function(a){var b=[];n.forEach(this.stack,function(c){if(c instanceof l.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof l.Matrix2D&&c.end instanceof l.Matrix2D){var d=new l.Matrix2D,e;for(e in c.start)d[e]=(c.end[e]-c.start[e])*a+c.start[e];b.push(d)}}else c.name in l&&(d=l[c.name],"function"!=typeof d?b.push(d):(e=n.map(c.start,function(b,d){return(c.end[d]-b)*a+b}),d=d.apply(l,e),d instanceof l.Matrix2D&&b.push(d)))},
this);return b};var v=new h(0,0,0,0);u.animateStroke=function(a){a.easing||(a.easing=f._defaultEasing);var b=new f.Animation(a),c=a.shape,d;m.connect(b,"beforeBegin",b,function(){d=c.getStroke();var b=a.color,u={},f;b&&(u.color=t(b,d,"color",v));if((b=a.style)&&b.values)u.style=new k(b.values);if(b=a.width){var m=b;m.values?f=new k(m.values):(b=m.start?m.start:f=d?d.width:1,m.end?f=m.end:"number"!=typeof f&&(f=d?d.width:1),f=new e(b,f));u.width=f}if((b=a.cap)&&b.values)u.cap=new k(b.values);if(b=
a.join)b.values?u.join=new k(b.values):(f=b.start?b.start:d&&d.join||0,b=b.end?b.end:d&&d.join||0,"number"==typeof f&&"number"==typeof b&&(u.join=new e(f,b)));this.curve=new r(u,d)});m.connect(b,"onAnimate",c,"setStroke");return b};u.animateFill=function(a){a.easing||(a.easing=f._defaultEasing);var b=new f.Animation(a),c=a.shape,d;m.connect(b,"beforeBegin",b,function(){d=c.getFill();var b=a.color;b&&(this.curve=t(b,d,"",v))});m.connect(b,"onAnimate",c,"setFill");return b};u.animateFont=function(a){a.easing||
(a.easing=f._defaultEasing);var c=new f.Animation(a),d=a.shape,e;m.connect(c,"beforeBegin",c,function(){e=d.getFont();var c=a.style,t={},u,f;c&&c.values&&(t.style=new k(c.values));if((c=a.variant)&&c.values)t.variant=new k(c.values);if((c=a.weight)&&c.values)t.weight=new k(c.values);if((c=a.family)&&c.values)t.family=new k(c.values);if((c=a.size)&&c.units)u=parseFloat(c.start?c.start:d.font&&d.font.size||"0"),f=parseFloat(c.end?c.end:d.font&&d.font.size||"0"),t.size=new b(u,f,c.units);this.curve=
new r(t,e)});m.connect(c,"onAnimate",d,"setFont");return c};u.animateTransform=function(b){b.easing||(b.easing=f._defaultEasing);var d=new f.Animation(b),e=b.shape,k;m.connect(d,"beforeBegin",d,function(){k=e.getTransform();this.curve=new a(b.transform,k)});m.connect(d,"onAnimate",e,"setTransform");if("svg"===q.renderer&&10<=c("ie"))var t=[m.connect(d,"onBegin",d,function(){for(var a=e.getParent();a&&a.getParent;)a=a.getParent();a&&(e.__svgContainer=a.rawNode.parentNode)}),m.connect(d,"onAnimate",
d,function(){try{if(e.__svgContainer){var a=e.__svgContainer.style.visibility;e.__svgContainer.style.visibility="visible";e.__svgContainer.style.visibility=a}}catch(b){}}),m.connect(d,"onEnd",d,function(){n.forEach(t,m.disconnect);if(e.__svgContainer){var a=e.__svgContainer.style.visibility,b=e.__svgContainer;e.__svgContainer.style.visibility="visible";setTimeout(function(){try{b.style.visibility=a,b=null}catch(c){}},100)}delete e.__svgContainer})];return d};return u})},"xl/grapher/IPGraphTickList":function(){define(["dojo/_base/declare",
"./enums","dojo/_base/array","dijit/_WidgetBase"],function(s,q,l,h){return s("xl.grapher.IPGraphTickList",[h],{_ticks:null,constructor:function(h){this._ticks=[]},destroy:function(h){this.inherited(arguments);this._ticks&&(this._ticks=null)},getTickCount:function(){return this._ticks.length},getTick:function(h){return this._ticks[h]},addTick:function(h,f,m,c,e,b){e||(e=!1);b||(b=!1);this._ticks.push({value:h,label:f,alignment:m,type:c,hideGrid:e,isCustom:b})},addMajorTick:function(h,f,m){m||(m=q.IPGraphAlignment.CENTER);
this.addTick(h,f,m,q.IPGraphTickType.MAJOR)},addMinorTick:function(h){this.addTick(h,"",q.IPGraphAlignment.CENTER,q.IPGraphTickType.MINOR)},addLabel:function(h,f,m){m||(m=q.IPGraphAlignment.CENTER);this.addTick(h,f,m,q.IPGraphTickType.NONE)}})})},"xl/grapher/Margins":function(){define(["dojo/_base/declare"],function(s){var q=s("xl.grapher.Margins",null,{constructor:function(l){s.safeMixin(this,l)},left:null,top:null,bottom:null,right:null,clone:function(){return new q({left:this.left,top:this.top,
bottom:this.bottom,right:this.right})}});return q})},"xl/grapher/Point":function(){define(["dojo/_base/declare"],function(s){return s("Point",null,{x:null,y:null,constructor:function(q,l){this.x=q;this.y=l},clone:function(){return new Point(this.x,this.y)}})})},"xl/util/graphUtils":function(){define("dojo/_base/declare dojox/gfx dojo/dom-construct dojo/_base/window dojo/dom-style dojo/dom-geometry dojo/_base/lang xl/grapher/Rectangle xl/util/IPMath xl/grapher/enums dojox/gfx/matrix".split(" "),function(s,
q,l,h,n,f,m,c,e,b,d){var k={_getHeightCache:{},defaultLineHeight:"1.2",getTextHeight:function(b,a,c){c||(c="normal");var d=b+a+c,e=k._getHeightCache[d];void 0==e&&(e=k._getTextHeight(b,a,c),k._getHeightCache[d]=e);return m.mixin({},e)},_getTextHeight:function(b,a,c){b=l.create("div",{style:{fontSize:a,fontFamily:b,fontWeight:c,lineHeight:k.defaultLineHeight}});a=l.create("span",{innerHTML:"Hg"},b);c=l.create("div",{style:{display:"inline-block",width:"1px",height:"0px"}},b);l.place(b,h.body());var d=
{};try{n.set(c,{verticalAlign:"baseline"}),d.ascent=Math.round(f.position(c).y-f.position(a).y),n.set(c,{verticalAlign:"bottom"}),d.height=Math.round(f.position(c).y-f.position(a).y),d.descent=d.height-d.ascent}finally{l.destroy(b)}return d},drawLine:function(b,a,c,d,e,f,m,h){f||(f="black");m||(m="solid");h||(h="1px");m=k.normalizeGfxLineStyles(m);return b.createLine({x1:a+0.5,y1:c+0.5,x2:d+0.5,y2:e+0.5}).setStroke({color:f,style:m,width:h})},SURFACE_TYPE:{CANVAS:"canvas",SVG:"svg",OTHER:"other"},
getSurfaceType:function(b){return"dojox.gfx.svg.Surface"==b.declaredClass?k.SURFACE_TYPE.SVG:"dojox.gfx.canvas.Surface"==b.declaredClass?k.SURFACE_TYPE.CANVAS:k.SURFACE_TYPE.OTHER},drawText:function(b,a,c,d,e,f,m,h,n,l){e||(e="black");f||(f="11px");m||(m="Arial");n||(n="normal");var x=k.getTextHeight(m,f,n).ascent;h||(c+=x);d=d.replace(/ /g,"\u00a0");a=b&&(b.isInstanceOf(q.Surface)||0<=b.getUID().toLowerCase().indexOf("group"))?b.createText({x:a,y:c,text:d,align:"start"}).setFont({family:m,size:f,
weight:n}).setFill(e):b.setShape({x:a,y:c,text:d});l&&k.getSurfaceType(b)===k.SURFACE_TYPE.SVG&&(a.rawNode.setAttribute("textLength",l),a.rawNode.setAttribute("lengthAdjust","spacingAndGlyphs"));return a},measureText:function(b,a,c,d,e){c||(c="11px");d||(d="Arial");e||(e="normal");a=a.toString();a=a.replace(/ /g,"\u00a0");c=c.toString();-1==c.indexOf("px")&&(c+="px");var f=k.getTextHeight(d,c,e);b=b.createText({x:0,y:0,text:a,align:"start"}).setFont({family:d,size:c,weight:e});try{f.width=b.getTextWidth()}finally{b.removeShape()}return f},
getWrappedTextHeight:function(b,a,c,d){b||(b="11px");a||(a="Arial");if(!d)return null;b=l.create("div",{innerHTML:c,style:{fontFamily:a,fontSize:b,width:d,lineHeight:k.defaultLineHeight}});l.place(b,h.body());a=f.position(b);l.destroy(b);return a.h},drawSymbol:function(c,a,d){switch(a){case b.IPGrShapes.CIRCLE:return k.drawCircle(c,d.x,d.y,d.size,d.aColor,d.fillColor,d.borderWidth,d.addOffsetWidthProp,d.fillSymbol);case b.IPGrShapes.SQUARE:return k.drawSquare(c,d.x,d.y,d.size,d.aColor,d.fillColor,
d.addOffsetWidthProp,d.fillSymbol,d.borderWidth);case b.IPGrShapes.DIAMOND:return k.drawDiamond(c,d.x,d.y,d.size,d.aColor,d.fillColor,d.fillSymbol,d.borderWidth);case b.IPGrShapes.CROSS:return k.drawCross(c,d.x,d.y,d.size,d.aColor,d.borderWidth);case b.IPGrShapes.PLUS:return k.drawPlus(c,d.x,d.y,d.size,d.aColor,d.borderWidth);case b.IPGrShapes.TRIANGLE:return k.drawTriangle(c,d.x,d.y,d.size,d.aColor,d.fillColor,d.fillSymbol,d.borderWidth)}},drawCircle:function(b,a,c,d,e,k,f,m,h){e||(e="black");k||
(k="white");f||(f=1);!1===h&&(k=null);b=b&&(b.isInstanceOf(q.Surface)||0<=b.getUID().toLowerCase().indexOf("group"))?b.createCircle({cx:a,cy:c,r:d}):b.setShape({cx:a,cy:c,r:d});b=b.setStroke({color:e,width:f}).setFill(k);m&&(b.rawNode.offsetWidth=0);return b},drawSquare:function(b,a,c,d,e,k,f,m,h){e||(e="black");k||(k="white");!1===m&&(k=null);h||(h=1);b=b&&(b.isInstanceOf(q.Surface)||0<=b.getUID().toLowerCase().indexOf("group"))?b.createRect({x:a-d,y:c-d,width:2*d,height:2*d}):b.setShape({x:a-d,
y:c-d,width:2*d,height:2*d});b.setStroke({color:e,width:h}).setFill(k);return b},drawRectangle:function(b,a,c,d,e,k,f,m,h,n){k||(k="black");f||(f="transparent");!1===h&&(f=null);n||(n=1);a+=0.5;c+=0.5;b=b&&(b.isInstanceOf(q.Surface)||0<=b.getUID().toLowerCase().indexOf("group"))?b.createRect({x:a,y:c,width:d,height:e}):b.setShape({x:a,y:c,width:d,height:e});b=b.setStroke({color:k,width:n});f&&b.setFill(f);return b},drawRectangleObj:function(b,a,c,d){return k.drawRectangle(b,a.left,a.top,a.right-a.left,
a.bottom-a.top,c,d)},fixRectangle:function(b){if(b.left>b.right){var a=b.left;b.left=b.right;b.right=a}b.top>b.bottom&&(a=b.top,b.top=b.bottom,b.bottom=a)},drawDiamond:function(b,a,c,d,e,f,m,h){return k.drawRectangle(b,a-d/2,c-d/2,d,d,e,f,!1,m,h).setTransform([q.matrix.rotategAt(45,a,c)])},drawCross:function(b,a,d,e,k,f){k||(k="black");f||(f=1);a=new c({left:a-e,top:d-e,right:a+e,bottom:d+e});b=b.createGroup();b.createPath().moveTo(a.left,a.top).lineTo(a.right,a.bottom).moveTo(a.left,a.bottom).lineTo(a.right,
a.top).setStroke({color:k,width:f});return b},drawPlus:function(b,a,c,d,e,f){return k.drawCross(b,a,c,d,e,f).setTransform([q.matrix.rotategAt(45,a,c)])},drawTriangle:function(b,a,d,e,k,f,m,h){k||(k="black");f||(f="white");!1===m&&(f=null);h||(h=1);d=new c({left:a-e,top:d-e,right:a+e,bottom:d+e});b=b.createGroup();b.createPath().moveTo(d.left,d.bottom).lineTo(a,d.top).lineTo(d.right,d.bottom).lineTo(d.left,d.bottom).setStroke({color:k,width:h}).setFill(f);return b},drawArrow:function(b,a){var c=b.createGroup(),
d=a.start.x,e=a.start.y,k=a.end.x,f=a.end.y;a.preCorrected||(d+=0.5,e+=0.5,k+=0.5,f+=0.5);var m=Math.sqrt(Math.pow(k-d,2)+Math.pow(f-e,2)),h={color:"black",style:"solid",width:1};c.createLine({x1:0,y1:0,x2:0+m,y2:0}).setStroke(a.stroke||h);var n=a.arrowHeight||4,x=a.arrowWidth||3,w=a.arrowOffset||0,C=a.arrowHeadLength||3;c.createPath().moveTo(m-n,0).lineTo(m-n-C,-x).lineTo(m+w,0).lineTo(m-n-C,x).lineTo(m-n,0).setStroke(a.headStroke||a.stroke||h).setFill(a.stroke?a.stroke.color:"black");f=180*Math.asin((f-
e)/m)/Math.PI;k<=d&&(f=180-f);c.setTransform([q.matrix.translate(d,e),q.matrix.rotategAt(f,0,0)])},drawFunctionArrow:function(b,a,c,d,k){k||(k=10);d||(d="black");var f,m,h;m=a.y==c.y?Math.abs(a.x-c.x):a.x==c.x?Math.abs(a.y-c.y):e.hypot(a.x-c.x,a.y-c.y);e.isZero(m)?a=f=0:(f=(c.x-a.x)/m,a=(a.y-c.y)/m);m=1*k;h=k/3;k=c.x-m*f;m=c.y+m*a;a*=h;f*=h;k+=0.5;m+=0.5;c.x+=0.5;c.y+=0.5;if(b&&(b.isInstanceOf(q.Surface)||0<=b.getUID().toLowerCase().indexOf("group")))return b.createPath().moveTo(c.x,c.y).lineTo(k-
a,m-f).lineTo(k+a,m+f).lineTo(c.x,c.y).setStroke({color:d,width:1}).setFill(d);b.setShape("");return b.moveTo(c.x,c.y).lineTo(k-a,m-f).lineTo(k+a,m+f).lineTo(c.x,c.y).setStroke({color:d,width:1}).setFill(d)},drawPolyline:function(b,a,c,d,e,f){d||(d=1);e||(e="solid");e=k.normalizeGfxLineStyles(e);if(b=b&&(b.isInstanceOf(q.Surface)||0<=b.getUID().toLowerCase().indexOf("group"))?b.createPolyline():b){for(var m=0;m<a.length;m++)a[m].x=(f?a[m].x:Math.floor(a[m].x))+0.5,a[m].y=(f?a[m].y:Math.floor(a[m].y))+
0.5;b.setShape({points:a});return b.setStroke({color:c,width:d,style:e,cap:"butt"})}},drawPolygon:function(b,a,c,d){return k.drawPolyline(b,a,c).setFill(d)},pointInPolygon:function(b,a,c){var d,e,k,f,m;d=k=c.length-1;f=!1;for(e=0;e<=d;e++){m=c[e];k=c[k];if((m.y<=a&&a<k.y||k.y<=a&&a<m.y)&&b<(k.x-m.x)*(a-m.y)/(k.y-m.y)+m.x)f=!f;k=e}return f},TOLERANCE:1E-6,segmentDistance:function(b,a,c,d,f,m,h){h||(h=!1);var B,n;B=-1;B=(c-f)*(c-f)+(d-m)*(d-m);B>k.TOLERANCE?(n=((d-a)*(d-m)-(c-b)*(f-c))/B,0<=n&&1>=n||
h?(b=((d-a)*(f-c)-(c-b)*(m-d))/B,B=Math.sqrt(b*b*B)):B=Math.min(e.hypot(b-c,a-d),e.hypot(b-f,a-m))):B=Math.min(e.hypot(b-c,a-d),e.hypot(b-f,a-m));return B},drawArc:function(b,a,c,d,e,k,f,m,h,n){var x=(c+e)/2,w=(d+k)/2;c=Math.abs((e-c)/2);d=Math.abs((k-d)/2);f=Math.atan2(m-w,f-x);h=Math.atan2(n-w,h-x);h>f&&(h-=2*Math.PI);n=2*Math.PI*Math.max(c,d);n=Math.round(n/4);n=Math.max(n,8);m=x+c*Math.cos(f);k=w+d*Math.sin(f);b=b.createPath();b.moveTo(m,k);for(e=1;e<=n;e++)k=f+(h-f)*e/n,m=x+c*Math.cos(k),k=w+
d*Math.sin(k),b.lineTo(m,k);b.setStroke(a.color);return b},drawWedge:function(b,a,c,d,e,k,f,m,h){b=b.createPath();b.moveTo(a,c);h||(h=k);var n=e-d;360<Math.abs(n)&&(n=360);e=Math.ceil(Math.abs(n)/45);var n=-(n/e/180)*Math.PI,x=-(d/180)*Math.PI;if(0<e){var w=a+Math.cos(d/180*Math.PI)*k;d=c+Math.sin(-d/180*Math.PI)*h;b.lineTo(w,d);for(d=0;d<e;d++){var x=x+n,C=x-n/2,w=a+Math.cos(x)*k,l=c+Math.sin(x)*h,q=a+Math.cos(C)*(k/Math.cos(n/2)),C=c+Math.sin(C)*(h/Math.cos(n/2));b.qCurveTo(q,C,w,l)}b.lineTo(a,
c);b.setStroke({color:f,width:1}).setFill(m)}return b},drawBucket:function(b,a,c,e,f,h,z){!a||!a.group||!a.group.parent?(b=b.createGroup(),a=Array(5),a[0]={x:6,y:0},a[1]={x:1,y:5},a[2]={x:-5,y:1},a[3]={x:-1,y:-6},a[4]=m.clone(a[0]),h&&k.drawPolygon(b,a,f,z),k.drawPolyline(b,a,f),k.drawLine(b,2,-1,2,-9,f),a=Array(7),a[0]={x:2,y:-2},a[1]={x:7,y:-1},a[2]={x:9,y:1},a[3]={x:10,y:5},a[4]={x:8,y:5},a[5]={x:7,y:1},a[6]={x:4,y:-1},k.drawPolygon(b,a,f,z)):b=a.group;c=d.translate(c,e);b.setTransform(c);return{group:b}},
normalizeGfxLineStyles:function(b){b=b.toLowerCase();switch(b){case "solid":return"Solid";case "dashed":return"ShortDash"}return b},fixPixel:function(b){return Math.floor(b+0.001)+0.5}};return k})},"xl/grapher/Rectangle":function(){define(["dojo/_base/declare"],function(s){var q=s("xl.grapher.Rectangle",null,{constructor:function(l){s.safeMixin(this,l)},left:null,top:null,bottom:null,right:null,getWidth:function(){return this.right-this.left},getHeight:function(){return this.bottom-this.top},clone:function(){return new q({left:this.left,
top:this.top,bottom:this.bottom,right:this.right})},contains:function(l,h){return l>=this.left&&l<=this.right&&h>=this.top&&h<=this.bottom?!0:!1},inflate:function(l,h){this.left-=l;this.right+=l;this.top-=h;this.bottom+=h}});return q})},"xl/grapher/IPGraphMetrics":function(){define(["dojo/_base/declare","xl/grapher/Rectangle"],function(s,q){return s("xl.grapher.IPGraphMetrics",null,{constructor:function(l){s.safeMixin(this,l)},graphWidth:null,graphHeight:null,plotRect:null,xMinimum:null,xMaximum:null,
yMinimum:null,yMaximum:null,yAltMinimum:null,yAltMaximum:null,isDifferent:function(l){return this.graphWidth!=l.graphWidth||this.graphHeight!=l.graphHeight||!this.plotRect.equals(l.plotRect)||this.xMinimum!=l.xMinimum||this.xMaximum!=l.xMaximum||this.yMinimum!=l.yMinimum||this.yMaximum!=l.yMaximum||this.yAltMinimum!=l.yAltMinimum||this.yAltMaximum!=l.yAltMaximum}})})},"xl/grapher/IPGraphScatter":function(){define("dojo/_base/declare xl/grapher/IPGraphCustomPlot xl/util/IPMath xl/grapher/enums xl/util/ByRef xl/grapher/Point xl/util/graphUtils xl/util/logger".split(" "),
function(s,q,l,h,n,f,m){return s("xl.grapher.IPGraphScatter",[q],{_scatterData:null,drawLines:!1,clip:!0,symbols:"none",fillSymbols:!0,symbolColor:"black",symbolBackgroundColor:"white",symbolSize:0,symbolStrokeSize:1,lineColor:"black",animatedPlot:null,_cache:null,_storeData:!0,_data:null,_useThinLine:!1,_setUseThinLineAttr:function(c){this._useThinLine=c},_xPts:[],_setXPtsAttr:function(c){this._xPts=c},_yPts:[],_setYPtsAttr:function(c){this._yPts=c},DEF_PLINEWIDTH:2.2,constructor:function(c){this.drawLines=
!0;this.symbolBackgroundColor="white";this.symbolSize=3;this.symbolStrokeSize=1},invalidate:function(){this.inherited(arguments);this._cache=null},doGetDataRange:function(c,e){c.value=0;e.value=this._xPts.length},doGetDataValue:function(c,e){var b;if(this._storeData)return b=!1,this._xPts&&this._yPts&&(0<=c&&c<this._xPts.length?(b=this._yPts[c],e.x=this._xPts[c],e.y=b,b=!0):(e.x=0,e.y=0)),b;e.x=0;e.y=0;if(this._scatterData)try{b=this._scatterData.getDataValue(this,c,e)}catch(d){b=!1}else b=!1;return b},
getDrawLines:function(){return this.drawLines},setDrawLines:function(c){c!=this.drawLines&&(this.drawLines=c,this.invalidate())},getSymbols:function(){return this.symbols},setSymbols:function(c){c!=this.symbols&&(this.symbols=c,this.invalidate())},getFillSymbols:function(){return this.fillSymbols},setFillSymbols:function(c){c!=this.fillSymbols&&(this.fillSymbols=c,this.invalidate())},getSymbolColor:function(){return this.symbolColor},setSymbolColor:function(c){c!=this.symbolColor&&(this.symbolColor=
c,this.invalidate())},getSymbolBackgroundColor:function(){return this.symbolBackgroundColor},setSymbolBackground:function(c){c!=this.symbolBackgroundColor&&(this.symbolBackgroundColor=c,this.invalidate())},getSymbolSize:function(){return this.symbolSize},setSymbolSize:function(c){c!=this.symbolSize&&(this.symbolSize=c,this.invalidate())},getSymbolStrokeSize:function(){return this.symbolStrokeSize},setSymbolStrokeSize:function(c){c!=this.symbolStrokeSize&&(this.symbolStrokeSize=c,this.invalidate())},
calcPoints:function(){var c=new n,e=new n,b,d;this._cache=[];this.doGetDataRange(c,e);b=new f;for(c=c.value;c<e.value;c++){try{d=!this.doGetDataValue(c,b)}catch(k){d=!0}d?this._cache.push(null):(b.x=this.xWorldToView(b.x),b.y=this.yWorldToView(b.y),this._cache.push(b.clone()))}},drawMask:function(c,e){var b=c.createPath(),d=this.xWorldToView(this._xPts[0]),k=this.yWorldToView(this._yPts[0]);b.moveTo(d+0.5,k+0.5);for(var r=1;r<this._xPts.length;r++)d=this.xWorldToView(this._xPts[r]),k=this.yWorldToView(this._yPts[r]),
d+=0.5,k+=0.5,b.lineTo(d,k);b.setStroke({color:[e.r,e.g,e.b,e.a],width:1,style:h.IPGraphLineStyle.SOLID})},draw:function(c,e,b){var d,k,r,a,t,f,v,D;this.inherited(arguments,[c,e,b]);e||this.calcPoints();if(!(!this.getVisible()&&!e||0==this._xPts.length||0==this._yPts.length)){e?(f=b,t=0):(f=this.lineColor,t=this._useThinLine?1:this.DEF_PLINEWIDTH);if(this.getDrawLines()||e){(a=e?h.IPGraphLineStyle.SOLID:this.getLineStyle())&&(t=Math.max(2,t));v=c.createPath();this.clip&&this.clipRegion(v);d=this.xWorldToView(this._xPts[0]);
k=this.yWorldToView(this._yPts[0]);v.moveTo(d,k);for(r=1;r<this._xPts.length;r++)d=this.xWorldToView(this._xPts[r]),k=this.yWorldToView(this._yPts[r]),v.lineTo(d,k);v.setStroke({color:f,width:t,style:a})}if(this.symbols!=h.IPGrShapes.NONE&&!e){a=this.xWorldToViewF(this.getGraph().getAxisX()._minimum-1E-6);t=this.xWorldToViewF(this.getGraph().getAxisX()._maximum+1E-6);v=this.yWorldToViewF(this.getGraph().getAxisY()._minimum-1E-6);f=this.yWorldToViewF(this.getGraph().getAxisY()._maximum+1E-6);D=this._cache.length;
for(r=0;r<D;r++){var z=this._cache[r];d=z.x+0.5;k=z.y+0.5;if(z&&z.x>=a&&z.x<=t&&z.y>=f&&z.y<=v)switch(this.symbols){case h.IPGrShapes.CIRCLE:m.drawCircle(c,d,k,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),this.getSymbolStrokeSize(),null,this.getFillSymbols());break;case h.IPGrShapes.SQUARE:m.drawSquare(c,d,k,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),null,this.getFillSymbols(),this.getSymbolStrokeSize());break;case h.IPGrShapes.DIAMOND:m.drawDiamond(c,
d,k,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),this.getFillSymbols(),this.getSymbolStrokeSize());break;case h.IPGrShapes.CROSS:m.drawCross(c,d,k,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolStrokeSize());break;case h.IPGrShapes.PLUS:m.drawPlus(c,d,k,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolStrokeSize());break;case h.IPGrShapes.TRIANGLE:m.drawTriangle(c,d,k,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),this.getFillSymbols(),
this.getSymbolStrokeSize())}}}}},getDistanceFrom:function(c,e){var b,d,k,r,a;r=-1;d=this.getCache().length;if(this.getDrawLines()){k=null;for(b=0;b<d;b++){if((a=this.getCache()[b])&&k)k=m.segmentDistance(c,e,k.x,k.y,a.x,a.y),0<=k&&(r=0>r?k:Math.min(k,r));k=a}}else for(b=0;b<d;b++)if(a=this.getCache()[b])k=l.hypot(c-a.x,e-a.y),0<=k&&(r=0>r?k:Math.min(k,r));return r},addPoint:function(c,e,b){this._data||(this._data=[]);c=new f(c,e);0<=b?this._data.splice(b,0,c):this._data.push(c)},getScatterData:function(){return this._scatterData},
setScatterData:function(c){this._scatterData=c;this.invalidate()},getStoreData:function(){return this._storeData},setStoreData:function(c){this._storeData=c},getData:function(){return this._data},getUseThinLine:function(){return this._useThinLine},setUseThinLine:function(c){this._useThinLine=c},hasSamePoints:function(c,e){if(c.length!=this._xPts.length||e.length!=this._yPts.length)return!1;for(var b=0;b<c.length;b++)if(0.009<Math.abs(c[b]-this._xPts[b])||0.009<Math.abs(e[b]-this._yPts[b]))return!1;
return!0},getCache:function(){if(null!=this._cache)return this._cache;this.calcPoints();return this._cache}})})},"xl/grapher/IPGraphCustomPlot":function(){define(["dojo/_base/declare","xl/grapher/IPGraphPart","xl/grapher/enums"],function(s,q,l){return s("IPGraphCustomPlot",[q],{_color:null,lineStyle:null,noRegion:!1,_customData:null,_noClip:!1,fIsSnapShot:!1,_mask:null,_setColorAttr:function(h){this._color=h},drawMask:function(h,n,f){},draw:function(h,n,f){},getLineStyle:function(){return this.lineStyle},
setLineStyle:function(h){h!=this._lineStyle&&(this._lineStyle=h,this.invalidate())},getNoRegion:function(){return this.noRegion},setNoRegion:function(h){h!=this.noRegion&&(this.noRegion=h,this.invalidate())},getNoClip:function(){return this._noClip},setNoClip:function(h){h!=this._noClip&&(this._noClip=h,this.invalidate())},constructor:function(h){this._color=0;this.lineStyle=l.IPGraphLineStyle.SOLID},setColor:function(h){h!=this._color&&(this._color=h,this.invalidate())},getColor:function(){return this._color},
getIsSnapShot:function(){return this.fIsSnapShot},setIsSnapShot:function(h){this.fIsSnapShot=h},getCustomData:function(){return this._customData},setCustomData:function(h){this._customData=h}})})},"xl/grapher/IPGraphPart":function(){define(["dojo/_base/declare","dijit/_WidgetBase","xl/util/logger"],function(s,q){return s("xl.grapher.IPGraphPart",[q],{hint:"",_graph:null,_tag:0,_invalid:!0,_useAltYAxis:!1,_validating:!1,visible:!0,_setUseAltYAxisAttr:function(l){this._useAltYAxis=l},_setTagAttr:function(l){this._tag=
l},constructor:function(l){l&&s.safeMixin(this,l);l&&l._graph&&this.setGraph(l._graph)},getTag:function(){return this._tag},setTag:function(l){this._tag=l},invalidate:function(){this._invalid=!0;this._graph&&this._graph.invalidateGraphPart(this)},getGraph:function(){return this._graph},setGraph:function(l){l!=this._graph&&(this._graph&&this._graph.removePart(this),(this._graph=l)&&this._graph.addPart(this))},getUseAltYAxis:function(){return this._useAltYAxis},setUseAltYAxis:function(l){l!=this._useAltYAxis&&
(this._useAltYAxis=l,this.invalidate())},getAxisY:function(){return this._useAltYAxis?this._graph.getAxisYAlt():this._graph.getAxisY()},getAxisX:function(){return this._graph.getAxisX()},getPosition:function(){return this.position},getVisible:function(){return this.visible},setVisible:function(l){l!=this.visible&&(this.visible=l,this.invalidate())},clipRegion:function(l){var h=this.getGraph()._plotRect;l.setClip({x:h.left,y:h.top,width:h.getWidth()+1,height:h.getHeight()+1})},validateNow:function(){this._validating||
(this._invalid=!0,this.validateDisplayList())},validateDisplayList:function(){if(!this._validating&&this._invalid){this._validating=!0;try{this._invalid=!1,this.draw()}finally{this._validating=!1}}},draw:function(l,h,n){throw Error("IPGraphPart.draw() is an abstract method");},xWorldToView:function(l){return this._graph.getAxisX().worldToView(l)},xWorldToViewF:function(l){return this._graph.getAxisX().worldToViewF(l)},xViewToWorld:function(l){return this._graph.getAxisX().viewToWorld(l)},xViewFToWorld:function(l){return this._graph.getAxisX().viewFToWorld(l)},
xViewToWorldRel:function(l){return this._graph.getAxisX().viewToWorldRel(l)},yWorldToView:function(l){return this._useAltYAxis?this._graph.getAxisYAlt().worldToView(l):this._graph.getAxisY().worldToView(l)},yWorldToViewF:function(l){return this._useAltYAxis?this._graph.getAxisYAlt().worldToViewF(l):this._graph.getAxisY().worldToViewF(l)},yViewToWorld:function(l){return this._useAltYAxis?this._graph.getAxisYAlt().viewToWorld(l):this._graph.getAxisY().viewToWorld(l)},yViewFToWorld:function(l){return this._useAltYAxis?
this._graph.getAxisYAlt().viewFToWorld(l):this._graph.getAxisY().viewFToWorld(l)},yViewToWorldRel:function(l){return this._useAltYAxis?this._graph.getAxisYAlt().viewToWorldRel(l):this._graph.getAxisY().viewToWorldRel(l)},getDistanceFrom:function(l,h){return-1},getHint:function(){return this.hint},setHint:function(l){this.hint=l}})})},"xl/util/ByRef":function(){define(["dojo/_base/declare"],function(s){return s("ByRef",null,{value:null,constructor:function(q){this.value=q}})})},"xl/grapher/IPGraphHistogram":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphCustomPlot xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.grapher.IPGraphHistogram",[IPGraphCustomPlot],{_xPts:[],_setXPtsAttr:function(c){this._xPts=c},_yPts:[],_setYPtsAttr:function(c){this._yPts=c},lineColor:"",fillColor:"",title:null,label:"",labelPosition:0,visible:!0,getPointCount:function(){return this._xPts.length},getPoint:function(c){return{x:this._xPts[c],y:this._yPts[c]}},getFillColor:function(){return this.fillColor},setFillColor:function(c){c!=this.fillColor&&(this.fillColor=c,this.invalidate())},getLineColor:function(){return this.lineColor},
setLineColor:function(c){c!=this.lineColor&&(this.lineColor=c,this.invalidate())},draw:function(e,b,d){if(this.visible){b=Array(this.getPointCount()+1);for(d=0;d<this.getPointCount();d++){var k=this.getPoint(d);b[d]={x:this.xWorldToViewF(k.x),y:this.yWorldToViewF(k.y)}}b[this.getPointCount()]=q.clone(b[0]);(this.lineColor&&""!=this.lineColor||this.fillColor&&""!=this.fillColor)&&c.drawPolygon(e,b,this.lineColor,this.fillColor)}},addPoint:function(c){this._xPts.add(c.x);this._yPts.add(c.y);this.invalidate()},
getDistanceFrom:function(e,b){for(var d=this.xViewToWorld(e),k=this.yViewToWorld(b),r=Array(this.getPointCount()+1),a=0;a<this.getPointCount();a++){var t=this.getPoint(a);r[a]={x:t.x,y:t.y}}r[this.getPointCount()]=q.clone(r[0]);return c.pointInPolygon(d,k,r)?0:-1},hasSamePoints:function(c,b){if(c.length!=this._xPts.length||b.length!=this._yPts.length)return!1;for(var d=0;d<c.length;d++)if(0.009<Math.abs(c[d]-this._xPts[d])||0.009<Math.abs(b[d]-this._yPts[d]))return!1;return!0}})})},"xl/util/RegionFill":function(){define(["dojo/_base/declare",
"dojox/gfx","dojox/gfx/canvas","xl/util/imageProcessing"],function(s,q,l,h){return s("xl.util.RegionFill",[l.Shape],{x:null,y:null,color:null,stopFill:null,bounds:null,regionObject:null,constructor:function(h){this.x=h.x;this.y=h.y;this.color=h.color;this.stopFill=h.stopFill;this.bounds=h.bounds;this.regionObject=h.regionObject},_renderShape:function(n){var f=n.getImageData(this.x,this.y,1,1).data;255===f[0]&&255===f[1]&&166===f[2]&&255===f[3]?this.regionObject.ignore=!0:(this.regionObject.ignore=
!1,h.fill(n,this.color,this.x,this.y,this.bounds,this.stopFill))}})})},"xl/util/imageProcessing":function(){define(["dojo/_base/declare","xl/util/stringUtils"],function(s,q){var l={colorTolerance:1,toHexString:function(h){var n=h.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(null==n)return h;h=parseInt(n[1],10);var f=parseInt(n[2],10),n=parseInt(n[3],10);return"#"+q.padString(h.toString(16),2,"0")+q.padString(f.toString(16),2,"0")+q.padString(n.toString(16),2,"0")},toRGB:function(h){var n,f,m,c,e;
e=h;if("string"!=typeof h)return h;"#"===e.substring(0,1)&&(e=e.substring(1));if(3===e.length||4===e.length)n=e.substring(0,1),n+=n,f=e.substring(1,2),f+=f,m=e.substring(2,3),m+=m,4===e.length?(c=e.substring(3,4),c+=c):c="ff";else if(6===e.length||8===e.length)n=e.substring(0,2),f=e.substring(2,4),m=e.substring(4,6),c=6===e.length?"ff":e.substring(6,8);n=parseInt(n,16);f=parseInt(f,16);m=parseInt(m,16);c=parseInt(c,16);return{r:n,g:f,b:m,a:c}},getColor:function(h,n,f,m,c,e){n=4*f*m+4*n;void 0===e?
e={r:h[n],g:h[n+1],b:h[n+2],a:h[n+3]}:(e.r=h[n],e.g=h[n+1],e.b=h[n+2],e.a=h[n+3]);return e},setColor:function(h,n,f,m,c,e){n=4*f*m+4*n;h[n]=e.r;h[n+1]=e.g;h[n+2]=e.b;h[n+3]=e.a},fill:function(h,n,f,m,c,e){var b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,q,H;"string"==typeof n&&(n=l.toRGB(n));f=Math.round(f);m=Math.round(m);c=null===c||void 0===c?{x:0,y:0,width:h.canvas.width,height:h.canvas.height}:{x:Math.round(c.left),y:Math.round(c.top),width:Math.round(c.right-c.left),height:Math.round(c.bottom-c.top)};
if(null===e||void 0===e)e=new Function(["fillColor","seedColor","pixelColor"],"return pixelColor.r !\x3d seedColor.r || pixelColor.g !\x3d seedColor.g || pixelColor.b !\x3d seedColor.b || pixelColor.a !\x3d seedColor.a;");b=k=f-c.x;d=r=m-c.y;x=c.width;w=c.height;a=Array(w*x);f-=c.x;v=m-c.y;m=[v*x+f];t=l.getImageData(h,c.x,c.y,c.width,c.height);u=t.data;B=l.getColor(u,f,v,x,w);D={r:0,g:0,b:0,a:1};C=n.r;E=n.g;q=n.b;for(H=n.a;0<m.length;)z=m.pop(),f=z%x,v=(z-f)/x,a[z]||(a[z]=!0,z*=4,D.r=u[z],D.g=u[z+
1],D.b=u[z+2],D.a=u[z+3],e(n,B,D)||(u[z]=C,u[z+1]=E,u[z+2]=q,u[z+3]=H,b<f?b=f:k>f&&(k=f),d<v?d=v:r>v&&(r=v),z=f-1,F=v,A=F*x+z,0<=z&&!a[A]&&m.push(A),z=f,F=v+1,A=F*x+z,F<w&&!a[A]&&m.push(A),z=f+1,F=v,A=F*x+z,z<x&&!a[A]&&m.push(A),z=f,F=v-1,A=F*x+z,0<=F&&!a[A]&&m.push(A)));l.putImageData(h,t,c.x,c.y);return{x:b+c.x,y:d+c.y,width:k-b+1,height:r-d+1}},getImageData:function(h,n,f,m,c){return h.getImageData(n,f,m,c)},putImageData:function(h,n,f,m){h.putImageData(n,f,m)}};return l})},"xl/grapher/XYPointCursor":function(){define(["dojo/_base/declare",
"dojo/_base/lang","xl/grapher/IPGraphShapeBlob"],function(s,q,l){return s("xl.grapher.XYPointCursor",[l],{constructor:function(h){q.mixin(h);this._graph=h.graph;this.delayDraw=h.delayDraw;this.setStickyFocus(!0)},delayDraw:!1,postCreate:function(){this._graph&&(this._graph.addBlob(this,this.delayDraw),this._graph.setFocusBlob(this),this._graph.hasXyCursor=!0)}})})},"xl/grapher/IPGraphShapeBlob":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/_base/connect xl/grapher/IPGraphBlob dojox/gfx/Moveable dojo/dnd/move xl/grapher/Point xl/grapher/enums xl/util/graphUtils xl/util/IPMath xl/grapher/BlobMover dojo/has xl/editgraph/GraphSettings".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.grapher.IPGraphShapeBlob",[n],{_size:0,_showVertLine:!0,_showHorzLine:!0,crossHairColor:"black",_surface:null,constructor:function(a){q.mixin(this,a);this._size=5},getSize:function(){return this._size},setSize:function(a){a!=this._size&&(this._size=a,this.invalidate())},getShowVertLine:function(){return this._showVertLine},setShowVertLine:function(a){a!=this._showVertLine&&(this._showVertLine=a,this.invalidate())},getShowHorzLine:function(){return this._showHorzLine},
setShowHorzLine:function(a){a!=this._showHorzLine&&(this._showHorzLine=a,this.invalidate())},isUnderPoint:function(a,b){return!this._graph?null:this.calcDistFromPoint(a,b,this._size)},draw:function(a){a&&(this._surface=a);!this._surface&&this._graph&&(this._surface=this._graph.getBlobSurfaceLayer());var b;this._graph&&(a=new c(this.getViewX(),this.getViewY()),b=this.crossHairColor,this.getVisible()&&(this.drawLines(this._surface,a,b),this.drawBlob(this._surface,a)))},_blob:null,drawBlob:function(c,
d){if(this._blob&&this._blob.parent)for(var e=0;e<this._blob.children.length;e++)this._blob.children[e].setShape({cx:d.x,cy:d.y});else e=c.createGroup(),b.drawCircle(e,d.x,d.y,this._size,a.blobBorderColor,a.blobFillColor,2),b.drawCircle(e,d.x,d.y,2*this._size,a.blobInnerBorderColor,a.blobInnerBorderColor,2).rawNode.setAttribute("tabindex",0),this._blob=e,e=new f(this._blob,{mover:k}),e.graph=this.getGraph(),e.blob=this,this._blob.connect("onmousedown",q.hitch(this,"onMouseDown"))},onMouseDown:function(a){this.getGraph().currentBlob=
this},_vLine:null,_hLine:null,drawLines:function(a,b,c){r("mobile")&&0<=this.id.indexOf("GraphCursor")||(this._vLine&&this._hLine&&this._vLine.parent&&this._hLine.parent?(a=this._vLine.getShape(),this._vLine.setShape({x1:b.x,y1:a.y1,x2:b.x,y2:a.y2}),a=this._hLine.getShape(),this._hLine.setShape({x1:a.x1,y1:b.y,x2:a.x2,y2:b.y})):(this._showVertLine&&!d.isInfinite(b.x)&&(this._vLine=this._graph.drawVerticalLine(a,b.x,e.IPGraphLineStyle.DOTTED,c)),this._showHorzLine&&!d.isInfinite(b.y)&&(this._hLine=
this._graph.drawHorizontalLine(a,b.y,e.IPGraphLineStyle.DOTTED,c))))}})})},"xl/grapher/IPGraphBlob":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/has xl/grapher/IPGraphPart xl/util/IPMath xl/grapher/Point xl/grapher/Rectangle xl/grapher/enums".split(" "),function(s,q,l,h,n,f,m,c,e){return s(" IPGraphBlob ",[n,l],{_locationX:0,_locationY:0,snapX:1,snapY:1,getOriginX:function(){return this._originX},getOriginY:function(){return this._originY},_originX:0,_originY:0,_snapOriginX:0,
_snapOriginY:0,_stickyFocus:!1,_infinityOffset:0,_showCursor:!1,_disableRedraw:!1,_canMove:!1,_snapToTicks:!1,_group:null,constructor:function(b){b&&(this._group=b._group);this._infinityOffset=10;this._canMove=!0;this._snapToTicks=!1;this._group&&this._group.addChild(this)},getUnconstrainedPoint:function(){return this._unconstrainedPoint},setGraph:function(b){this._group?this._graph=b:this.inherited(arguments)},invalidate:function(){this.inherited(arguments);this._group&&this._group.invalidate()},
getLocationX:function(){return this._locationX},setLocationX:function(b){b!==this._locationX&&(b=new m(b,this._locationY),this.constrainPosition(b),this._locationX=b.x,this._locationY=b.y)},getLocationY:function(){return this._locationY},setLocationY:function(b){b!==this._locationY&&(b=new m(this._locationX,b),this.constrainPosition(b),this._locationX=b.x,this._locationY=b.y)},_locationSetOnce:!1,setLocation:function(b,c,e){if(b!==this._locationX||c!==this._locationY||!this._locationSetOnce)this._locationSetOnce=
!0,b=new m(b,c),this.constrainPosition(b,e),this._locationX=b.x,this._locationY=b.y,this.redraw()},getSnapIntervalX:function(){return this.snapX},constrainLocation:function(b){var c=new m(this._locationX,this._locationY);this.constrainPosition(c,b);this._locationX=c.x;this._locationY=c.y},setSnapIntervalX:function(b){b!=this.snapX&&(this.snapX=b,this.constrainLocation(!0),this.invalidate())},getSnapIntervalY:function(){return this.snapY},setSnapIntervalY:function(b){b!=this.snapY&&(this.snapY=b,this.constrainLocation(!0),
this.invalidate())},getSnapOriginX:function(){return this._snapOriginX},setSnapOriginX:function(b){b!=this._snapOriginX&&(this._snapOriginX=b,this.constrainLocation(),this.invalidate())},getSnapOriginY:function(){return this._snapOriginY},setSnapOriginY:function(b){b!=this._snapOriginY&&(this._snapOriginY=b,this.constrainLocation(),this.invalidate())},setFocused:function(b){var c;c=this.getGraph();this.getGraph()&&b!=this.getFocused()&&(b?c.setFocusBlob(this):c.getFocusBlob()==this&&c.setFocusBlob(null),
this.invalidate())},getFocused:function(){var b;b=this.getGraph();return this.getGraph()?b.getFocusBlob()==this:!1},setTrackMouse:function(b){var c;c=this.getGraph();this.getGraph()&&b!=this.getTrackMouse()&&(b?c.setTrackBlob(this):c.getTrackBlob()==this&&c.setTrackBlob(null),this.invalidate())},getTrackMouse:function(){var b;return(b=this.getGraph())?b.getTrackBlob()==this:!1},getViewX:function(){return f.isInfinite(this.getLocationX())?0>this.getLocationX()?this.getGraph().getAxisX().getView().min-
this._infinityOffset:this.getGraph().getAxisX().getView().max+this._infinityOffset:this.xWorldToView(this.getLocationX())},getViewY:function(){return f.isInfinite(this.getLocationY())?0>this.getLocationY()?this.getGraph().getAxisY().getView().min-this._infinityOffset:this.getGraph().getAxisY().getView().max+this._infinityOffset:this.yWorldToView(this.getLocationY())},getBlobBoundaries:function(b,c,e,r,a){var t;if((t=this.getGraph())&&!a)f.isZero(this.snapX,1E-8)||(c=Math.floor(1E-8+(t.getAxisX()._maximum-
this._snapOriginX)/this.snapX)*this.snapX+this._snapOriginX,b=Math.ceil(-1E-8+(t.getAxisX()._minimum-this._snapOriginX)/this.snapX)*this.snapX+this._snapOriginX),f.isZero(this.snapY,1E-8)||(r=Math.floor(1E-8+(t.getAxisY()._maximum-this._snapOriginY)/this.snapY)*this.snapY+this._snapOriginY,e=Math.ceil(-1E-8+(t.getAxisY()._minimum-this._snapOriginY)/this.snapY)*this.snapY+this._snapOriginY);return{xmin:b,xmax:c,ymin:e,ymax:r}},focusGained:function(){this.emit(e.IPGraphBlobEvent.BLOB_FOCUS_GAINED,{blob:this,
x:this.getLocationX(),y:this.getLocationY(),state:e.IPGraphBlobState.FOCUSED})},focusLost:function(){this.emit(e.IPGraphBlobEvent.BLOB_FOCUS_LOST,{blob:this,x:this.getLocationX(),y:this.getLocationY(),state:e.IPGraphBlobState.FOCUSED})},setVisible:function(b){this.visible=b;!this.getVisible()&&this.getFocused()&&this.setFocused(!1)},draw:function(b,c){},isUnderPoint:function(){return null},calcDistFromPoint:function(b,c,e){b=this.xWorldToView(b);c=this.yWorldToView(c);var r=this.getViewX(),a=this.getViewY();
e=h("touch")?Math.max(15,e):e;return Math.abs(r-b)<=e&&Math.abs(a-c)<=e?{blob:this,distance:f.hypot(r-b,a-c)}:null},move:function(b,c,k,r,a,t){new m;b=new m(b,c);if(k===e.IPGraphBlobState.MOVED||k===e.IPGraphBlobState.PRESSED)this._unconstrainedPoint=q.clone(b);this.constrainPosition(b,r,a);this.emit(e.IPGraphBlobEvent.BLOB_MOVED,{blob:this,x:b.x,y:b.y,state:k});if((!f.isFloatEqual(this._locationX,b.x)||!f.isFloatEqual(this._locationY,b.y))&&!t)this._locationX=b.x,this._locationY=b.y,this.redraw()},
groupHasX:function(b){for(var c=!1,e=0;e<this._group.getBlobCount();e++){var r=this._group.getBlob(e);if(r!=this&&f.sameValue(b,r.getLocationX(),1E-8)){c=!0;break}}return c},groupHasY:function(b){b=!1;for(var c=0;c<this._group.getBlobCount();c++){var e=this._group.getBlob(c);if(e!=this&&f.sameValue(y,e.getLocationY(),1E-8)){b=!0;break}}return b},groupHasXY:function(b,c){for(var e=!1,r=0;r<this._group.getBlobCount();r++){var a=this._group.getBlob(r);if(a!=this&&f.sameValue(b,a.getLocationX(),1E-8)&&
f.sameValue(c,a.getLocationY(),1E-8)){e=!0;break}}return e},nudge:function(b,c,k){var r;r=0<this.snapX?this.snapX*b:this.xViewToWorldRel(b);b=f.isInfinite(this.getLocationX())?0>this.getLocationX()&&0<r?this.getGraph().getAxisX()._minimum:0<this.getLocationX()&&0>r?this.getGraph().getAxisX()._maximum:this.getLocationX():this.getLocationX()+r;if(!k&&this._group&&this._group.disallowSameXBlobs&&0!=r)for(;this.groupHasX(b);)b+=r;else if(!k&&this._group&&this._group.disallowSamePositionBlobs&&0!=r)for(;this.groupHasXY(b,
this.getLocationY());)b+=r;r=0<this.snapY?this.snapY*c:this.yViewToWorldRel(-c);c=f.isInfinite(this.getLocationY())?0>this.getLocationY()&&0<r?this.getGraph().getAxisY()._minimum:0<this.getLocationY()&&0>r?this.getGraph().getAxisY()._maximum:this.getLocationY():this.getLocationY()+r;if(!k&&this._group&&this._group.disallowSamePositionBlobs&&0!=r)for(;this.groupHasXY(b,c);)c+=r;this.move(b,c,e.IPGraphBlobState.KEYBOARD,!1,k)},redraw:function(){this._disableRedraw||(this._invalid=!0,this._surface&&
(this._group?this._group.draw(this._surface):this.draw(this._surface)))},selectBlob:function(b){},_unconstrainedPoint:null,constrainPosition:function(b,c,e){var r,a,t,u,m;if(r=this.getGraph()){a=r.getAxisX()._maximum;t=r.getAxisX()._minimum;u=r.getAxisY()._maximum;m=r.getAxisY()._minimum;var h=this.getBlobBoundaries(t,a,m,u,c);b.x<h.xmin&&(b.x=h.xmin);b.x>h.xmax&&(b.x=h.xmax);if(!c)if(f.isZero(this.snapX,1E-8)){if(this._snapToTicks&&r.getAxisX().getTickList()){m=r.getAxisX().worldToViewF(b.x);for(a=
0;a<r.getAxisX().getTickList().getTickCount();a++)if(t=r.getAxisX().getTickList().getTick(a),u=r.getAxisX().worldToViewF(t.value),Math.round(m)==Math.round(u)){b.x=t.value;break}}}else b.x=Math.round((b.x-this._snapOriginX)/this.snapX)*this.snapX+this._snapOriginX;b.y<h.ymin&&(b.y=h.ymin);b.y>h.ymax&&(b.y=h.ymax);if(!c)if(f.isZero(this.snapY,1E-8)){if(this._snapToTicks&&r.getAxisY().getTickList()){m=r.getAxisY().worldToViewF(b.y);for(a=0;a<r.getAxisY().getTickList().getTickCount();a++)if(t=r.getAxisY().getTickList().getTick(a),
u=r.getAxisY().worldToViewF(t.value),Math.round(m)==Math.round(u)){b.y=t.value;break}}}else b.y=Math.round((b.y-this._snapOriginY)/this.snapY)*this.snapY+this._snapOriginY;if(!e&&this._group&&(this._group.disallowSamePositionBlobs||this._group.disallowSameXBlobs))for(a=0;a<this._group.getBlobCount();a++)if(c=this._group.getBlob(a),c!=this)if(this._group.disallowSamePositionBlobs&&f.sameValue(c.getLocationX(),b.x,1E-8)&&f.sameValue(c.getLocationY(),b.y,1E-8)){b.x=this._locationX;b.y=this._locationY;
break}else if(this._group.disallowSameXBlobs&&f.sameValue(c.getLocationX(),b.x,1E-8)){b.x=this._locationX;b.y=this._locationY;break}}},getStickyFocus:function(){return this._stickyFocus},setStickyFocus:function(b){this._stickyFocus=b},getInfinityOffset:function(){return this._infinityOffset},setInfinityOffset:function(b){this._infinityOffset=b},getShowCursor:function(){return this._showCursor},setShowCursor:function(b){this._showCursor=b},getDisableRedraw:function(){return this._disableRedraw},setDisableRedraw:function(b){this._disableRedraw=
b},getCanMove:function(){return this._canMove},setCanMove:function(b){this._canMove=b},getSnapToTicks:function(){return this._snapToTicks},setSnapToTicks:function(b){this._snapToTicks=b}})})},"dojox/gfx/Moveable":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/event dojo/topic dojo/touch dojo/dom-class dojo/_base/window ./Mover".split(" "),function(s,q,l,h,n,f,m,c,e){return q("dojox.gfx.Moveable",null,{constructor:function(b,c){this.shape=b;this.delay=c&&0<c.delay?
c.delay:0;this.mover=c&&c.mover?c.mover:e;this.events=[this.shape.on(f.press,s.hitch(this,"onMouseDown"))]},destroy:function(){l.forEach(this.events,function(b){b.remove()});this.events=this.shape=null},onMouseDown:function(b){this.delay?(this.events.push(this.shape.on(f.move,s.hitch(this,"onMouseMove")),this.shape.on(f.release,s.hitch(this,"onMouseUp"))),this._lastX=b.clientX,this._lastY=b.clientY):new this.mover(this.shape,b,this);h.stop(b)},onMouseMove:function(b){var c=b.clientY;if(Math.abs(b.clientX-
this._lastX)>this.delay||Math.abs(c-this._lastY)>this.delay)this.onMouseUp(b),new this.mover(this.shape,b,this);h.stop(b)},onMouseUp:function(b){this.events.pop().remove()},onMoveStart:function(b){n.publish("/gfx/move/start",b);m.add(c.body(),"dojoMove")},onMoveStop:function(b){n.publish("/gfx/move/stop",b);m.remove(c.body(),"dojoMove")},onFirstMove:function(b){},onMove:function(b,c){this.onMoving(b,c);this.shape.applyLeftTransform(c);this.onMoved(b,c)},onMoving:function(b,c){},onMoved:function(b,
c){}})})},"dojox/gfx/Mover":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/on dojo/touch dojo/_base/event".split(" "),function(s,q,l,h,n,f){return l("dojox.gfx.Mover",null,{constructor:function(m,c,e){this.shape=m;this.lastX=c.clientX;this.lastY=c.clientY;m=this.host=e;c=document;e=h(c,n.move,s.hitch(this,"onFirstMove"));this.events=[h(c,n.move,s.hitch(this,"onMouseMove")),h(c,n.release,s.hitch(this,"destroy")),h(c,"dragstart",s.hitch(f,"stop")),h(c,"selectstart",s.hitch(f,
"stop")),e];if(m&&m.onMoveStart)m.onMoveStart(this)},onMouseMove:function(m){var c=m.clientX,e=m.clientY;this.host.onMove(this,{dx:c-this.lastX,dy:e-this.lastY});this.lastX=c;this.lastY=e;f.stop(m)},onFirstMove:function(){this.host.onFirstMove(this);this.events.pop().remove()},destroy:function(){q.forEach(this.events,function(c){c.remove()});var f=this.host;if(f&&f.onMoveStop)f.onMoveStop(this);this.events=this.shape=null}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),
function(s,q,l,h,n,f){h=s("dojo.dnd.move.constrainedMoveable",f,{constraints:function(){},within:!1,constructor:function(f,c){c||(c={});this.constraints=c.constraints;this.within=c.within},onFirstMove:function(f){var c=this.constraintBox=this.constraints.call(this,f);c.r=c.l+c.w;c.b=c.t+c.h;this.within&&(f=q.getMarginSize(f.node),c.r-=f.w,c.b-=f.h)},onMove:function(f,c){var e=this.constraintBox,b=f.node.style;this.onMoving(f,c);c.l=c.l<e.l?e.l:e.r<c.l?e.r:c.l;c.t=c.t<e.t?e.t:e.b<c.t?e.b:c.t;b.left=
c.l+"px";b.top=c.t+"px";this.onMoved(f,c)}});n=s("dojo.dnd.move.boxConstrainedMoveable",h,{box:{},constructor:function(f,c){var e=c&&c.box;this.constraints=function(){return e}}});s=s("dojo.dnd.move.parentConstrainedMoveable",h,{area:"content",constructor:function(f,c){var e=c&&c.area;this.constraints=function(){var b=this.node.parentNode,c=l.getComputedStyle(b),k=q.getMarginBox(b,c);if("margin"==e)return k;var r=q.getMarginExtents(b,c);k.l+=r.l;k.t+=r.t;k.w-=r.w;k.h-=r.h;if("border"==e)return k;
r=q.getBorderExtents(b,c);k.l+=r.l;k.t+=r.t;k.w-=r.w;k.h-=r.h;if("padding"==e)return k;r=q.getPadExtents(b,c);k.l+=r.l;k.t+=r.t;k.w-=r.w;k.h-=r.h;return k}}});return{constrainedMoveable:h,boxConstrainedMoveable:n,parentConstrainedMoveable:s}})},"xl/grapher/BlobMover":function(){define("dojo/_base/declare dojox/gfx dojox/gfx/Mover dojo/_base/event dojo/has xl/grapher/Point".split(" "),function(s,q,l,h,n,f){return s("xl.grapher.BlobMover",l,{onMouseMove:function(m){var c=new f(n("touch")?(m.changedTouches?
m.changedTouches[0]:m).clientX:m.clientX,n("touch")?(m.changedTouches?m.changedTouches[0]:m).clientY:m.clientY);c.x-=this._xoff;c.y-=this._yoff;var e=this.host.blob.xViewToWorld(c.x),c=this.host.blob.yViewToWorld(c.y);this.host.blob.move(e,c,null,!1,!1);this.host.blob.draw();h.stop(m)},calculateShift:function(f,c){var e={};e.dx=f.x>c.right?c.right-this.lastX:f.x<c.left?c.left-this.lastX:f.x-this.lastX;e.dy=f.y>c.bottom?c.bottom-this.lastY:f.y<c.top?c.top-this.lastY:f.y-this.lastY;return e},graph:null,
constructor:function(m,c,e){this.graph=e.graph;m=new f(n("touch")?(c.changedTouches?c.changedTouches[0]:c).clientX:c.clientX,n("touch")?(c.changedTouches?c.changedTouches[0]:c).clientY:c.clientY);this._xoff=m.x-this.host.blob.getViewX();this._yoff=m.y-this.host.blob.getViewY();this.graph&&this.graph.mouseDown(c)},destroy:function(){this.graph.domNode.focus();this.inherited(arguments)},_xoff:0,_yoff:0,isOutsideBounds:function(f,c){return f.x<c.left||f.x>c.right||f.y<c.top||f.y>c.bottom?!0:!1}})})},
"xl/editgraph/GraphSettings":function(){define(["dojo/_base/declare"],function(s){s=s("xl.editgraph.GraphSettings",[],{});s.drawLinesExtended=!0;s.drawLinesWithPoints=!1;s.drawValuesWithPoints=!1;s.boldTextLabels=!1;s.graphTextFont="Arial";s.graphTextSize="11px";s.EPSPercent=1E-4;s.ANGLE_TOLERANCE=0.01;s.EQUIVALENCE_SLOPE_TOLERANCE=0.01;s.EQUIVALENCE_POINT_TOLERANCE=0.015;s.tapSelection=!1;s.objectColor="#3C70E0";s.objectSelectedColor="#FFB928";s.toolColor="#0000FF";s.handleColor="rgba(18, 112, 225, 0.0)";
s.handleBorderColor="rgba(18, 112, 225, 0.4)";s.handleSelectedColor="rgba(18, 112, 225, 0.4)";s.handleSelectedBorderColor="rgba(18, 112, 225, 0.7)";s.handleSelectedInnerBorderColor="rgba(255, 255, 255, 0.7)";s.handleBorderSize=3;s.handleSelectedBorderSize=3;s.blobBorderColor="#FFCB5A";s.blobInnerBorderColor="rgba(255,255,255,0.0)";s.blobFillColor="black";s.pointColor="#3C07E0";s.arrowColor="#FF0000";s.doubleArrowColor="#FF0000";s.regionColor="#FFFFA6";s.rectangleColor="#3CE070";s.polygonColor="#3CE070";
s.pointToolColor="#96FF00";s.arrowToolColor="#96FF00";s.regionToolColor="#4080FF";return s})},"xl/grapher/IPNumberLinePlot":function(){define("dojo/_base/declare dojo/has ./IPGraphCustomPlot ./enums xl/util/graphUtils xl/util/stringUtils".split(" "),function(s,q,l,h,n,f){return s("xl.grapher.IPNumberLinePlot",[l],{points:[],intervalNotation:!1,lineColor:"black",lineStyle:h.IPGraphLineStyle.SOLID,shiftColor:"black",visible:!0,_strokeWidth:5,postCreate:function(){this.inherited(arguments)},getAxis:function(){return this.getAxisX()},
drawLabel:function(m,c){if(isFinite(c)){var e=this.getAxis().labelFontSize,b=this.getAxis().labelFontFamily,d=f.formatFloat(c,"#.--"),k=n.measureText(m,d,e,b),r=this.xWorldToViewF(c),a=this.yWorldToViewF(0),r=r-k.width/2,a=a-(this.getGraph().majorTickSize+k.height);this.intervalNotation&&(a-=3.5);n.drawText(m,r,a,d,this.lineColor,e,b)}},draw:function(f){var c=this.points.length;if(0!=c&&this.visible){var e=f.createPath();e.setStroke({color:this.lineColor,style:this.lineStyle,width:this._strokeWidth});
var b=this.yWorldToViewF(0)+0.5,d,k,r;1==c?k=this.points[0]:this.points[0].x<=this.points[1].x?(k=this.points[0],r=this.points[1]):(k=this.points[1],r=this.points[0]);var a=this.getAxis().getView(),t=Math.max(this.xWorldToViewF(k.x),a.min)+0.5;e.moveTo(t,b);k&&k.x<this.getAxis().minimum?r&&r.x>=this.getAxis().minimum&&(t=a.min,d={start:{x:t+1,y:b},end:{x:t-10,y:b},stroke:{color:this.lineColor,width:this._strokeWidth},headStroke:{color:this.lineColor,width:1},arrowHeight:2,arrowWidth:5,arrowHeadLength:5,
arrowOffset:5,preCorrected:!0},n.drawArrow(f,d)):(this.intervalNotation?(d=f.createPath(),k.include?(d.moveTo(t+3.5,b+7.5+1),d.hLineTo(t-0.3),d.vLineTo(b-7.5),d.hLineTo(t+3.5),d.moveTo(t+0.3,b-7.5),d.vLineTo(b+7.5+1)):(d.moveTo(t+2,b+7.5),d.qCurveTo(t-5,b,t+2,b-7.5),d.qCurveTo(t-3.5,b,t+2,b+7.5+1)),d.setStroke({color:this.lineColor,style:"solid",width:2})):n.drawCircle(f,t,b,4,this.lineColor,k.include?this.lineColor:"white"),k.showLabel&&this.drawLabel(f,k.x));2==c&&(c=Math.min(this.xWorldToViewF(r.x),
a.max)+0.5,1E-10<Math.abs(k.x-r.x)&&e.lineTo(c,b),r.x>this.getAxis().maximum?k.x<=this.getAxis().maximum&&(c=a.max,d={start:{x:c-1,y:b},end:{x:c+10,y:b},stroke:{color:this.lineColor,width:this._strokeWidth},headStroke:{color:this.lineColor,width:1},arrowHeight:2,arrowHeadLength:5,arrowWidth:5,arrowOffset:5,preCorrected:!0},n.drawArrow(f,d)):(this.intervalNotation?(d=f.createPath(),r.include?(d.moveTo(c-3.5,b+7.5+1),d.hLineTo(c+0.3),d.vLineTo(b-7.5),d.hLineTo(c-3.5),d.moveTo(c-0.3,b-7.5),d.vLineTo(b+
7.5+1)):(d.moveTo(c-2,b+7.5),d.qCurveTo(c+5,b,c-2,b-7.5),d.qCurveTo(c+3.5,b,c-2,b+7.5+1)),d.setStroke({color:this.lineColor,style:"solid",width:2})):n.drawCircle(f,c,b,4,this.lineColor,r.include?this.lineColor:"white"),r.showLabel&&this.drawLabel(f,r.x)))}}})})},"xl/grapher/IPGraphFunction":function(){define(["dojo/_base/declare","xl/grapher/IPGraphCustomPlot","xl/grapher/enums","xl/util/graphUtils","xl/util/logger"],function(s,q,l,h,n){return s("xl.grapher.IPGraphFunction",[q],{xPts:[],yPts:[],arrowBegin:!1,
arrowEnd:!1,clip:!0,drawMask:function(f,m){var c=this.xPts.length;if(0!=c&&!this.noRegion){for(var e=f.createPath(),b=!1,d=0,k,r,a=0,t=0;d<c;)k=this.xWorldToView(this.xPts[d]),r=this.yWorldToView(this.yPts[d]),!isNaN(k)&&!isNaN(r)?(k+=0.5,r+=0.5,b?(e.lineTo(k,r),d==c-1&&(1E-6<Math.abs(k-a)?(t=Math.atan((r-t)/(k-a)),b=k+1*Math.cos(t),t=r+1*Math.sin(t)):(b=k,t=r+(0<r-t?1:-1)),e.lineTo(b,t))):e.moveTo(k,r),a=k,t=r,b=!0):b=!1,d++;e.setStroke({color:[m.r,m.g,m.b,m.a],width:1,style:l.IPGraphLineStyle.SOLID})}},
draw:function(f){var m=this.xPts.length;if(0!=m){var c=f.createPath();this.clip&&this.clipRegion(c);for(var e=!1,b=0;b<m;){var d=this.xWorldToViewF(this.xPts[b]),k=this.yWorldToViewF(this.yPts[b]),r,a;if(1==b&&this.arrowBegin){r=this.xWorldToViewF(this.xPts[0]);a=this.yWorldToViewF(this.yPts[0]);r={x:r,y:a};a={x:d,y:k};var t=this.getGraph().getPlotRect();h.drawFunctionArrow(f,a,r,this.color).setClip({x:t.left,y:t.top,width:t.getWidth(),height:t.getHeight()})}b==m-1&&this.arrowEnd&&(r=this.xWorldToViewF(this.xPts[b-
1]),a=this.yWorldToViewF(this.yPts[b-1]),r={x:r,y:a},a={x:d,y:k},t=this.getGraph().getPlotRect(),h.drawFunctionArrow(f,r,a,this.color).setClip({x:t.left,y:t.top,width:t.getWidth(),height:t.getHeight()}));!isNaN(d)&&!isNaN(k)?(e?c.lineTo(d+0.5,k+0.5):c.moveTo(d+0.5,k+0.5),e=!0):e=!1;b++}c.setStroke({color:this._color,style:this.lineStyle,width:"Solid"==this.lineStyle?1:1.2})}},getDistanceFrom:function(f,m){var c,e,b,d,k,r,a,t,u=-1,v=this.getData();b=v.length;for(c=0;c<b-1;c++){e=c+1;try{v[c]?(d=v[c].x,
k=v[c].y,r=v[e].x,a=v[e].y,t=h.segmentDistance(f,m,d,k,r,a)):t=-1,0<=t&&(u=0>u?t:Math.min(t,u))}catch(D){}}return u},_data:null,getData:function(){if(!this._data){this._data=Array(this.xPts.length);for(var f=0;f<this.xPts.length;f++)this._data[f]={x:this.xWorldToViewF(this.xPts[f]),y:this.yWorldToViewF(this.yPts[f])}}return this._data},hasSamePoints:function(f,m){if(f.length!=this.xPts.length||m.length!=this.yPts.length)return!1;for(var c=0;c<f.length;c++)if(0.009<Math.abs(f[c]-this.xPts[c])||0.009<
Math.abs(m[c]-this.yPts[c]))return!1;return!0}})})},"xl/grapher/IPGraphLabel":function(){define("dojo/_base/declare xl/grapher/IPGraphPart xl/grapher/IPStroke xl/util/ForeignObject dojo/dom-geometry xl/grapher/enums xl/util/ByRef xl/grapher/Point xl/util/graphUtils xl/util/logger".split(" "),function(s,q,l,h,n,f,m,c,e){return s("xl.grapher.IPGraphLabel",[q],{x:null,y:null,text:null,font:null,fontSize:"10px",fontColor:null,fontBold:!1,locationUnits:f.IPGraphLocationUnits.PLOTCOORDS,hAlignment:0,vAlignment:0,
symbol:null,fillSymbol:null,symbolColor:null,symbolBackground:null,symbolSize:3,formula:null,interpretFunctions:null,extendToXAxis:null,extendToYAxis:null,labelXAxis:null,labelYAxis:null,labelX:null,labelY:null,labelMargin:2,cursor:null,_node:null,_graph:null,clientId:null,isMarker:!1,objectParams:null,constructor:function(b){this._normalizeEnums(b)},getText:function(){return this.text},setText:function(b){this.text=b},getFont:function(){return this.font},setFont:function(b){this.font=b},getLocationX:function(){return this.x},
setLocationX:function(b){this.x=b},getLocationY:function(){return this.y},setLocationY:function(b){this.y=y},draw:function(b,d){var k=new c,r,a,t,u,m,h,z,B,n;h=a=0;var l;if(r=this.getGraph()){m=this.x;h=this.y;switch(this.locationUnits){case f.IPGraphLocationUnits.PLOTCOORDS:t=this.xWorldToView(this.x);u=this.yWorldToView(this.y);k.x=t;k.y=u;break;case f.IPGraphLocationUnits.GRAPHPERCENT:k.x=r.percentXToView(this.x);k.y=r.percentYToView(this.y);m=r.getAxisX().viewFToWorld(k.x);h=r.getAxisY().viewFToWorld(k.y);
break;case f.IPGraphLocationUnits.XAXIS:t=this.xWorldToView(this.x);u=r.getAxisX().position;k.x=t;k.y=u;if(this.symbol==f.IPGrShapes.NONE)switch(this.vAlignment){case f.IPGraphAlignment.TOP:e.drawLine(b,t,u,t,u+r.majorTickSize,this.symbolColor);break;case f.IPGraphAlignment.BOTTOM:e.drawLine(b,t,u,t,u-r.majorTickSize,this.symbolColor)}break;case f.IPGraphLocationUnits.YAXIS:if(t=r.getAxisY().position,u=this.yWorldToView(this.y),k.x=t,k.y=u,this.symbol==f.IPGrShapes.NONE)switch(this.hAlignment){case f.IPGraphAlignment.LEFT:e.drawLine(b,
t,u,t+r.majorTickSize,u,this.symbolColor);break;case f.IPGraphAlignment.RIGHT:e.drawLine(b,t,u,t-r.majorTickSize,u,this.symbolColor)}}var x=this.fontBold?"bold":"normal";this.locationUnits==f.IPGraphLocationUnits.XAXIS||this.locationUnits==f.IPGraphLocationUnits.YAXIS||(this.extendToXAxis&&e.drawLine(b,k.x,r.getAxisX().position,k.x,k.y,this.symbolColor,"shortdot",2),this.extendToYAxis&&e.drawLine(b,r.getAxisY().position,k.y,k.x,k.y,this.symbolColor,"shortdot",2),this.labelXAxis&&(a=3,B=null==this.labelX||
""==this.labelX?r.getAxisX().formatLabel(m):this.labelX,m=Math.round(k.x),z=r.getAxisX().position,n=e.measureText(b,B,this.fontSize,this.font,x),m=m+a+n.width>r._plotRect.right?m-n.width-a:m+a,e.drawText(b,m,z-n.height-a+2,B,this.symbolColor,this.fontSize,this.font,!1,x)),this.labelYAxis&&(a=3,B=null==this.labelY||""==this.labelY?r.getAxisY().formatLabel(h):this.labelY,m=r.getAxisY().position,z=Math.round(k.y),n=e.measureText(b,B,this.fontSize,this.font,x),z=z-n.height-a<r._plotRect.top?z+a:z-a-n.height,
e.drawText(b,m+a,z+2,B,this.symbolColor,this.fontSize,this.font,!1,x)));var w;this.symbol!=f.IPGrShapes.NONE&&(w=e.drawSymbol(b,this.symbol,{x:k.x,y:k.y,size:this.symbolSize,aColor:this.symbolColor,fillColor:this.symbolBackground,addOffsetWidthProp:d,fillSymbol:this.fillSymbol,borderWidth:this.symbolStrokeSize}));if(this.text){a=this.labelMargin;(this.locationUnits==f.IPGraphLocationUnits.XAXIS||this.locationUnits==f.IPGraphLocationUnits.YAXIS)&&this.symbol==f.IPGrShapes.NONE?a+=r.majorTickSize:this.symbol!=
f.IPGrShapes.NONE&&(a+=this.symbolSize);k={height:0,width:0,ascent:0,descent:0};this.formula||(k=e.measureText(b,this.text,this.fontSize,this.font,x));h=a;switch(this.locationUnits){case f.IPGraphLocationUnits.PLOTCOORDS:t=this.xWorldToView(this.x);u=this.yWorldToView(this.y);break;case f.IPGraphLocationUnits.GRAPHPERCENT:t=r.percentXToView(this.x);u=r.percentYToView(this.y);break;case f.IPGraphLocationUnits.XAXIS:t=this.xWorldToView(this.x);u=r.getAxisX().position;h=0;a+=2;break;case f.IPGraphLocationUnits.YAXIS:t=
r.getAxisY().position,u=this.yWorldToView(this.y),a=0,h+=2}switch(this.hAlignment){case f.IPGraphAlignment.LEFT:t+=h;break;case f.IPGraphAlignment.RIGHT:t-=h+k.width;break;case f.IPGraphAlignment.CENTER:t-=k.width/2}switch(this.vAlignment){case f.IPGraphAlignment.TOP:u+=a+k.ascent;break;case f.IPGraphAlignment.BOTTOM:u-=a+k.descent;break;case f.IPGraphAlignment.MIDDLE:u+=k.height/2-k.descent}this.formula?l=b.createForeignObject({x:t,y:u,id:this.clientId,width:k.width,height:k.height,content:this.text,
fontFamily:this.font,fontSize:this.fontSize,fontColor:this.fontColor,canClear:!0}):(t=Math.floor(t)+0.5,u=Math.floor(u)+0.5,e.drawText(b,t,u,this.text,this.fontColor,this.fontSize,this.font,!0,x))}l&&(l.holder?l.holder.resize():l.resize(),this.updatePosition(l));return this._node=w}},updatePosition:function(b){var c=n.getMarginBox(b.domNode);if(g=this.getGraph()){var e,r,a=this.labelMargin;(this.locationUnits==f.IPGraphLocationUnits.XAXIS||this.locationUnits==f.IPGraphLocationUnits.YAXIS)&&this.symbol==
f.IPGrShapes.NONE?a+=g.majorTickSize:this.symbol!=f.IPGrShapes.NONE&&(a+=this.symbolSize);var t=a;switch(this.locationUnits){case f.IPGraphLocationUnits.PLOTCOORDS:e=this.xWorldToView(this.x);r=this.yWorldToView(this.y);break;case f.IPGraphLocationUnits.GRAPHPERCENT:e=g.percentXToView(this.x);r=g.percentYToView(this.y);break;case f.IPGraphLocationUnits.XAXIS:e=this.xWorldToView(this.x)-2;r=g.getAxisX().position;t=0;break;case f.IPGraphLocationUnits.YAXIS:e=g.getAxisY().position-2,r=this.yWorldToView(this.y),
a=0}switch(this.hAlignment){case f.IPGraphAlignment.LEFT:e+=t;break;case f.IPGraphAlignment.RIGHT:e-=t+c.w;break;case f.IPGraphAlignment.CENTER:e-=c.w/2,e++}switch(this.vAlignment){case f.IPGraphAlignment.TOP:r+=a;break;case f.IPGraphAlignment.BOTTOM:r-=a+c.h;break;case f.IPGraphAlignment.MIDDLE:r-=c.h/2}e=Math.floor(e)+0.5;r=Math.floor(r)+0.5;b.setBox({x:e,y:r,w:c.w,h:c.h})}},getNode:function(){return this._node},isUnderPoint:function(b,c){var e,r=0,a=0;e=!1;if(!this.visible)return!1;e=this._graph;
if(!e)return!1;switch(this.locationUnits){case f.IPGraphLocationUnits.PLOTCOORDS:r=this.xWorldToView(this.x);a=this.yWorldToView(this.y);break;case f.IPGraphLocationUnits.GRAPHPERCENT:r=e.percentXToView(this._locationX);a=e.percentYToView(this._locationY);break;case f.IPGraphLocationUnits.XAXIS:r=this.xWorldToView(this.x);a=e.getAxisX().position;break;case f.IPGraphLocationUnits.YAXIS:r=e.getAxisY().position,a=this.yWorldToView(this.y)}return e=Math.abs(r-b)<=this.symbolSize&&Math.abs(a-c)<=this.symbolSize},
_normalizeEnums:function(b){b.vAlignment&&"string"===typeof b.vAlignment&&(b.vAlignment=f.IPGraphAlignment[b.vAlignment.toUpperCase()]);b.hAlignment&&"string"===typeof b.hAlignment&&(b.hAlignment=f.IPGraphAlignment[b.hAlignment.toUpperCase()]);b.locationUnits&&"string"===typeof b.locationUnits&&(b.locationUnits=f.IPGraphLocationUnits[b.locationUnits.toUpperCase()])}})})},"xl/grapher/IPStroke":function(){define(["dojo/_base/declare"],function(s){return s(" IPStroke ",[],{constructor:function(q,l,h,
n,f,m,c,e){this.color=q;this._weight=l;this.alpha=h;this.pixelHinting=n;this.scaleMode=f;this.caps=m;this.joints=c;this.miterLimit=e},_alpha:0,getAlpha:function(){return this._alpha},setAlpha:function(q){this._alpha=q},_caps:null,getCaps:function(){return this._caps},setCaps:function(q){this._caps=q},_color:0,getColor:function(){return this._color},setColor:function(q){this._color=q},_joints:null,getJoints:function(){return this._joints},setJoints:function(q){this._joints=q},_miterLimit:0,getMiterLimit:function(){return this._miterLimit},
setMiterLimit:function(q){this._miterLimit=q},_pixelHinting:!1,getPixelHinting:function(){return this._pixelHinting},setPixelHinting:function(q){this._pixelHinting=q},_scaleMode:"normal",getScaleMode:function(){return this._scaleMode},setScaleMode:function(q){this._scaleMode=q},_weight:null,getWeight:function(){return this._weight},setWeight:function(q){this._weight=q},apply:function(q){}})})},"xl/util/ForeignObject":function(){define("dojo/_base/declare dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/array dojo/Evented dojo/dom-geometry dojo/_base/lang dojo/_base/window dojo/parser dojo/has dojo/sniff dojox/gfx/_base dojox/gfx/shape dojox/gfx dojox/gfx/svg dijit/_WidgetBase dijit/registry".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D){d.add("foreignobjects",function(){return!1});var z=s("xl.util.ForeignObjectHolder",[v],{baseClass:"foreignobjectreset",foreignObject:null,canClear:!1,isLayoutContainer:!0,resize:function(){this.foreignObject.resize(this.domNode)},startup:function(){(!this.getParent()||!this.getParent().isLayoutContainer)&&this.resize()},addChild:function(a){}});u.Switch=s("xl.util.Switch",[u.Group],{});u.Switch.nodeType="switch";var B={type:"foreignobject",x:0,y:0,width:0,
height:0,content:"",id:"",fontFamily:"Arial",fontSize:"13px",bold:!1,italic:!1,underline:!1,strikeout:!1,fontColor:"#000000",layerPosition:"before"},F=function(a){return"object"===typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},A=s("xl.util.ForeignObject",[u.Shape,f],{addedToDom:null,_widgets:null,constructor:function(){this.shape=B},_setParent:function(){this.inherited(arguments)},startup:function(){this.holder&&this.holder.startup()},
moveToBack:function(){var a=this.getParent().getParent();a&&(a._moveChildToBack(this.getParent()),this.getParent()._moveToBack());return this},resize:function(a){var b=D.findWidgets(a);n.forEach(b,function(a){a.resize&&a.resize()});a=m.getContentBox(a);b=this.rawNode;this.emit("resized",{foreignObject:this,box:a});b.setAttribute("width",a.w);b.setAttribute("height",a.h)},setPosition:function(a,b){this.rawNode&&(this.rawNode.x.baseVal.value=a,this.rawNode.y.baseVal.value=b)},setBox:function(a){this.rawNode&&
(this.rawNode.x.baseVal.value=a.x,this.rawNode.y.baseVal.value=a.y,this.rawNode.width.baseVal.value=a.w,this.rawNode.height.baseVal.value=a.h)},getWidgets:function(){this._widgets||(this._widgets=D.findWidgets(this.domNode));return this._widgets},setShape:function(a){a=this.shape=r.makeParameters(this.shape,a);this.bbox=null;var c=this.rawNode;if(!a.content)return null;c.setAttribute("x",a.x);c.setAttribute("y",a.y);c.setAttribute("stroke-opacity",1);c.setAttribute("width",a.width);c.setAttribute("height",
a.height);a.fontSize==parseInt(a.fontSize)&&(a.fontSize+="px");var d=" ";a.underline&&(d+="underline ");a.strikeout&&(d+="line-through ");var e=new z;e.foreignObject=this;this.holder=e;e=e.domNode;q.set(e,{"white-space":"normal",fontFamily:a.fontFamily,fontSize:a.fontSize,"text-align":"center",fontStyle:a.italic?"italic":"normal",fontWeight:a.bold?"bold":"normal","text-decoration":d,color:a.fontColor});e.setAttribute("xmlns",A.requiredExtension);d=this.isNode(a.content)?a.content:h.toDom(a.content);
"#text"==d.nodeName&&(d=h.create("div",{innerHTML:a.content}));e.appendChild(d);c.appendChild(e);this._widgets=b.parse(e);this.domNode=e;this.rawNode.style&&(this.rawNode.style.lineHeight=1);return this},isNode:F});A.nodeType="foreignObject";A.requiredExtension="http://www.w3.org/1999/xhtml";c.extend(u.Surface,{foreignObjectContainer:void 0,clearForeignObjects:function(){if(void 0!=this.foreignObjectContainer){var a=D.findWidgets(this.foreignObjectContainer);n.forEach(a,function(a){a.canClear&&a.destroy()})}},
createForeignObject:function(a){if(!d("foreignobjects")){var c=this;void 0==this.foreignObjectContainer&&(this.foreignObjectContainer=h.create("div",{"class":"foreignObjectContainer",style:{overflow:"hidden"}},this.rawNode,"replace"),this.foreignObjectContainer.resize=function(){var a,b;a=m.getContentBox(this.parentNode);b=d("ios")&&-1!=c.rawNode.height.baseVal.valueAsString.indexOf("%")?0:a.h;a=d("ios")&&-1!=c.rawNode.width.baseVal.valueAsString.indexOf("%")?0:a.w;q.set(this,{height:b+"px",width:a+
"px"})},h.place(this.rawNode,this.foreignObjectContainer));var e=r.makeParameters(B,a);e.fontSize==parseInt(e.fontSize)&&(e.fontSize+="px");var k=" ";e.underline&&(k+="underline ");e.strikeout&&(k+="line-through ");var t=new z;t.canClear=a.canClear;var v=t.domNode;t.foreignObject=new f;var s=t.foreignObject;s.resize=function(){var a,b;b=d("ios")&&-1!=c.rawNode.height.baseVal.valueAsString.indexOf("%")?0:c.rawNode.height.baseVal.value;a=d("ios")&&-1!=c.rawNode.width.baseVal.valueAsString.indexOf("%")?
0:c.rawNode.width.baseVal.value;q.set(c.foreignObjectContainer,{height:b+"px",width:a+"px"});a=D.findWidgets(v);n.forEach(a,function(a){a.resize&&a.resize()});this.emit("resized",{foreignObject:this})};s.setPosition=function(a,b,c,d){if(c=this.holder.domNode.parentNode){var e=m.getContentBox(c);q.set(this.holder.domNode,{display:"initial"});d=m.getContentBox(this.holder.domNode);c=d.w;d=d.h;a+c<e.l||a>e.l+e.w||b+d<e.t||b>e.t+e.h?q.set(this.holder.domNode,{display:"none"}):q.set(this.holder.domNode,
{display:"initial"});q.set(v,{left:a+"px",top:b+"px"})}};s.setBox=function(a){var b=this.holder.domNode.parentNode;if(b){var b=m.getContentBox(b),c=m.getContentBox(this.holder.domNode),d=c.h;a.x+c.w<b.l||a.x>b.l+b.w||a.y+d<b.t||a.y>b.t+b.h?q.set(this.holder.domNode,{display:"none"}):q.set(this.holder.domNode,{display:"initial"});q.set(v,{left:a.x+"px",top:a.y+"px",width:a.w+"px",height:a.h+"px"})}};s.startup=function(){t.startup()};s.getWidgets=function(){return D.findWidgets(this.domNode)};s.holder=
t;s.moveToBack=function(){};s.moveToFront=function(){this.holder&&(this.holder.domNode&&this.holder.domNode.parentNode)&&h.place(this.holder.domNode,this.holder.domNode.parentNode,"last")};s.destroy=function(){h.destroy(this.domNode)};q.set(v,{"white-space":"normal",fontFamily:e.fontFamily,fontSize:e.fontSize,"text-align":"center",fontStyle:e.italic?"italic":"normal",fontWeight:e.bold?"bold":"normal","text-decoration":k,position:"absolute",left:e.x+"px",top:e.y+"px",color:e.fontColor});a.classNames&&
l.add(v,a.classNames);a=F(e.content)?e.content:h.toDom(e.content);"#text"===a.nodeName&&(a=h.create("div",{innerHTML:e.content}));v.appendChild(a);s.domNode=v;h.place(v,this.rawNode,e.layerPosition);b.parse(v);t.startup();return t.foreignObject}return this.createObject(u.Switch,{}).createObject(A,a)}});return A})},"xl/grapher/IPGraphRegion":function(){define("dojo/_base/declare xl/grapher/IPGraphPart xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils".split(" "),
function(s,q,l,h,n,f,m){return s("xl.grapher.IPGraphRegion",[q],{x:null,y:null,color:null,xoff:null,yoff:null,visible:!0,_drawMarker:!1,_markerColor:null,constructor:function(c){this.color=16711680;this.yoff=this.xoff=this.y=this.x=0;this._markerColor="00007F"},postCreate:function(){this.xoff*=2;this.yoff*=2},clone:function(c){},getLocationX:function(){return this.x},setLocationX:function(c){c!=this.x&&(this.x=c,this.invalidate())},getLocationY:function(){return this.y},setLocationY:function(c){c!=
this.y&&(this.y=c,this.invalidate())},getOffsetX:function(){return this.xoff},setOffsetX:function(c){c!=this.xoff&&(this.xoff=c,this.invalidate())},getOffsetY:function(){return this.yoff},setOffsetY:function(c){c!=this.yoff&&(this.yoff=c,this.invalidate())},draw:function(c,e){},fill:function(c,e){if(this.visible){var b=this.xWorldToView(this.getLocationX())+this.xoff,d=this.yWorldToView(this.getLocationY())-this.yoff,k=this.getGraph()._plotRect.clone();k.right+=1.5;k.bottom+=1.5;k.left-=0.5;k.top-=
0.5;b<k.left||(b>k.right||d<k.top||d>k.bottom)||(c.createRect({x:k.left,y:k.top,width:k.right-k.left,height:k.bottom-k.top}).setStroke([e.r,e.g,e.b,e.a]),b=new l({color:this.getColor(),x:b,y:d,bounds:null,stopFill:this.stopFill,regionObject:this}),c.add(b))}},stopFill:function(c,e,b){return 0!=e.r||0!=e.g||0!=e.b||b.r!=e.r||b.g!=e.g||b.b!=e.b||b.a!=e.a},drawRegionMarker:function(c){var e,b;this.getVisible()&&this._drawMarker&&(e=this.xWorldToView(this.getLocationX())+(this.xoff||0),b=this.yWorldToView(this.getLocationY())-
(this.yoff||0),m.drawBucket(c,null,e,b,this._markerColor,!1,this._markerColor))},setColor:function(c){c!=this.color&&(this.color=c,this.invalidate())},getColor:function(){return this.color},getDrawMarker:function(){return this._drawMarker},setDrawMarker:function(c){this._drawMarker=c},getMarkerColor:function(){return this._markerColor},setMarkerColor:function(c){this._markerColor=c}})})},"xl/grapher/IPGrapherKeyboard":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/on dojo/dom-style require dojo/_base/event dojo/dom-construct dijit/_TemplatedMixin dojo/text!./templates/keyboard.htm dijit/_FocusMixin".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.grapher.IPGrapherKeyboard",[q,e,d],{templateString:b,_blob:null,_graph:null,_upArrow:null,_downArrow:null,_leftArrow:null,_rightArrow:null,_upArrowUrl:null,_downArrowUrl:null,_leftArrowUrl:null,_rightArrowUrl:null,constructor:function(b){this._blob=b.blob;this._graph=b.graph;this._upArrowUrl=f.toUrl("../grapher/images/uparrow.png");this._downArrowUrl=f.toUrl("../grapher/images/downarrow.png");this._leftArrowUrl=f.toUrl("../grapher/images/leftarrow.png");
this._rightArrowUrl=f.toUrl("../grapher/images/rightarrow.png")},hide:function(){n.set(this.domNode,"display","none")},show:function(){n.set(this.domNode,"display","inline-block")},onFocus:function(){this._graph.domNode.focus()},postCreate:function(){h(this._upArrow,"mousedown",l.hitch(this,function(b){this._blob.nudge(0,1);m.stop(b)}));h(this._downArrow,"click",l.hitch(this,function(b){this._blob.nudge(0,-1)}));h(this._leftArrow,"click",l.hitch(this,function(b){this._blob.nudge(-1,0)}));h(this._rightArrow,
"click",l.hitch(this,function(b){this._blob.nudge(1,0)}));this.hide();c.place(this.domNode,this._graph.domNode.parentNode.parentNode)}})})},"xl/grapher/IPGraphShape":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphPart xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.grapher.IPGraphShape",[l],{_xPts:[],_setXPtsAttr:function(c){this._xPts=c},_yPts:[],_setYPtsAttr:function(c){this._yPts=
c},lineColor:"",fillColor:"",title:null,visible:!0,getPointCount:function(){return this._xPts.length},getPoint:function(c){return{x:this._xPts[c],y:this._yPts[c]}},getFillColor:function(){return this.fillColor},setFillColor:function(c){c!=this.fillColor&&(this.fillColor=c,this.invalidate())},getLineColor:function(){return this.lineColor},setLineColor:function(c){c!=this.lineColor&&(this.lineColor=c,this.invalidate())},draw:function(e,b,d){if(this.visible&&this.getPointCount()){b=Array(this.getPointCount()+
1);for(d=0;d<this.getPointCount();d++){var k=this.getPoint(d);b[d]={x:this.xWorldToViewF(k.x),y:this.yWorldToViewF(k.y)}}b[this.getPointCount()]=q.clone(b[0]);(this.lineColor&&""!=this.lineColor||this.fillColor&&""!=this.fillColor)&&c.drawPolygon(e,b,this.lineColor,this.fillColor)}},addPoint:function(c){this._xPts.add(c.x);this._yPts.add(c.y);this.invalidate()},getDistanceFrom:function(e,b){for(var d=this.xViewToWorld(e),k=this.yViewToWorld(b),r=Array(this.getPointCount()+1),a=0;a<this.getPointCount();a++){var t=
this.getPoint(a);r[a]={x:t.x,y:t.y}}r[this.getPointCount()]=q.clone(r[0]);return c.pointInPolygon(d,k,r)?0:-1}})})},"xl/editgraph/IEditableGraphObject":function(){define(["dojo/_base/declare"],function(s){return s("xl.editgraph.IEditableGraphObject",[],{getDistance:function(q,l){},getPointCount:function(){},getPoint:function(q){},movePoint:function(q,l){},getParams:function(){},getParam:function(q){},setParam:function(q,l){},drawAsymptote:function(q){},drawGhost:function(q,l,h){},getGraphPart:function(){},
setColor:function(q){},getColor:function(){},addPoint:function(){},getCanMove:function(){},setCanMove:function(q){},getLineStyle:function(){},setLineStyle:function(q){},startEditing:function(q){},stopEditing:function(){},getObjectType:function(){},addLabel:function(q){},constrainBlob:function(q,l){},initSelection:function(q){},getObjLabel:function(){},getObjLabelText:function(){},setObjLabelText:function(q,l){},canSelect:function(q){},mousePressed:function(q,l,h){},getTranslationPoint:function(){},
setShowPoints:function(q){},getShowPoints:function(){},getIsStatic:function(){},setIsStatic:function(q){},getUndeletable:function(){},setUndeletable:function(q){},getActiveExpression:function(){},setActiveExpression:function(q){},deSelect:function(){},filterObject:function(q){}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){s=s("dijit.TooltipDialog",[c,d,b,e],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:k,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(f(this.containerNode,"keydown",n.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];q.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);
m.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==
h.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==h.TAB){var b=a.target;this._getFocusItems(this.containerNode);this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(m.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(m.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}});l("dojo-bidi")&&s.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return s})},"xl/player/dialogs/DataGrapherDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/html dojo/query dijit/form/Button dijit/form/Select dijit/form/CheckBox dijit/layout/TabContainer dijit/layout/ContentPane dijit/registry dijit/focus dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojo/text!./templates/DataGrapher.html ./ModalBaseDialog dojo/dom-geometry".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z){return s("xl.player.dialogs.DataGrapherDialog",[D],{_displayDataGrapherCommand:"displaydatagrapher",_resetDataGrapherCommand:"resetdatagrapher",graphId:null,constructor:function(a){a=a.options;a=new t({options:a.selectOptions,timeSeriesSecondOpt:2<=a.selectOptions.length,opt2:2<=a.count,opt3:3<=a.count,opt4:4<=a.count,opt5:5<=a.count});this.setupContentWidgets(v,a)},show:function(){z.setMarginBox(this.domNode,{w:520});this._placeAroundNode=k.byId(this.graphId).domNode;
this._placeDockPositions=["after","before","above","below"];this.inherited(arguments);this.setFocusable(this.domNode)},setupFooter:function(){this.addButton({label:"Reset",onClick:h.hitch(this,this.reset)});this.addButton({label:"Close",onClick:h.hitch(this,this.hide)});this.addButton({label:"Plot",onClick:h.hitch(this,this.plot),disabled:!0});this.plotLines=(new e({checked:!1,style:"display:none"})).placeAt(this.dialogCheckbox);q.place(q.toDom("\x26nbsp;\x3cspan class\x3d'text' style\x3d'display:none'\x3ePlot Lines\x3c/span\x3e"),
this.dialogCheckbox,"last");return this.inherited(arguments)},setupHeader:function(){this.getViewer()&&this.getViewer();q.create("label",{innerHTML:"Data Grapher"},this.titleNode);this.inherited(arguments)},setupStyles:function(){l.set(this.dialogCheckbox,"display","block");this.inherited(arguments)},setupContent:function(){var a=this;this.dataGrapherTabs.watch("selectedChildWidget",function(b,c,d){3==d.number?(l.set(a.dialogCheckbox.children[0],"display",""),l.set(a.dialogCheckbox.children[1],"display",
"")):(l.set(a.dialogCheckbox.children[0],"display","none"),l.set(a.dialogCheckbox.children[1],"display","none"));a._togglePlotButton(d)})},cbxChange:function(a){this._togglePlotButton(this.dataGrapherTabs.selectedChildWidget);this.setFocusable(this.domNode)},_togglePlotButton:function(a){for(var b=a.getChildren(),c=0,d=0;d<b.length;d++)-1<b[d].value&&c++;3==a.number?this.buttons[2].set("disabled",2>c):this.buttons[2].set("disabled",0==c)},plot:function(){for(var a={graphId:this.graphId,plots:[],type:0,
drawLines:this.plotLines.checked},b=this.dataGrapherTabs.getChildren(),c=0;c<b.length;c++)if(b[c].selected){a.type=b[c].number;for(var d=b[c].getChildren(),e=0;e<d.length;e++)-1<d[e].value&&a.plots.push(d[e].value)}0!==a.plots.length&&(k.byId(this.graphId).dataGrapherOptions=a,this.getViewer().postCommand(this._displayDataGrapherCommand,a))},reset:function(){k.byId(this.graphId).dataGrapherOptions=null;this.getViewer().postCommand(this._resetDataGrapherCommand,{graphId:this.graphId});this._resetControls()},
_resetControls:function(){this.buttons[2].set("disabled",!0);this.plotLines.set("checked",!1);for(var a=this.dataGrapherTabs.getChildren(),b=0;b<a.length;b++)for(var c=a[b].getChildren(),d=0;d<c.length;d++)-1!=c[d].value&&c[d].set("value",-1)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(s,q,l,h,n,f,m,c,e,b){h("dijit-legacy-requires")&&
m(0,function(){s(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});m=q("dijit.form.Button"+(h("dojo-bidi")?"_NoBidi":""),[c,e],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:b,_setValueAttr:"valueNode",_setNameAttr:function(b){this.valueNode&&this.valueNode.setAttribute("name",b)},_fillContent:function(b){if(b&&(!this.params||!("label"in this.params)))if(b=f.trim(b.innerHTML))this.label=
b},_setShowLabelAttr:function(b){this.containerNode&&l.toggle(this.containerNode,"dijitDisplayNone",!b);this._set("showLabel",b)},setLabel:function(b){n.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},_setLabelAttr:function(b){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=f.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});h("dojo-bidi")&&(m=q("dijit.form.Button",
m,{_setLabelAttr:function(b){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(b){this._created&&this.textDir!=b&&(this._set("textDir",b),this._setLabelAttr(this.label))}}));return m})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(s,q,l,h,n,f,m,c){q("dijit-legacy-requires")&&
h(0,function(){require(["dijit/form/_FormValueWidget"])});return s("dijit.form._FormWidget",[n,m,f,c],{setDisabled:function(c){l.deprecated("setDisabled("+c+") is deprecated. Use set('disabled',"+c+") instead.","","2.0");this.set("disabled",c)},setValue:function(c){l.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c)},getValue:function(){l.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!q("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D){function z(a){return function(b){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(m.hitch(this,a,b))}}var B=q("dijit.form._SelectMenu",k,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;m.isArray(b)&&
(b=b[b.length-1]);b&&s.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)}});n=q("dijit.form.Select"+(e("dojo-bidi")?"_NoBidi":""),[b,d,u],{baseClass:"dijitSelect dijitValidationTextBox",templateString:D,_buttonInputDisabled:e("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&
!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new B({id:this.id+"_menu",parentWidget:this});h.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(b){if(!b.value&&!b.label)return new a({ownerDocument:this.ownerDocument});var c=m.hitch(this,"_setValueAttr",b);b=new r({option:b,label:b.label||this.emptyLabel,onClick:c,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,
disabled:b.disabled||!1});b.focusNode.setAttribute("role","option");return b},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=
this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=v.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{s.forEach(this._getChildren(),function(a){a.destroyRecursive()});var b=new r({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();
this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);l.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",
a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",
a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?t.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):t.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);t.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=f.getLocalization("dijit.form","validate",this.lang).missingMessage},
postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");9>e("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setStyleAttr:function(a){this.inherited(arguments);h.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,
"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){t.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});e("dojo-bidi")&&(n=q("dijit.form.Select",n,{_setDisplay:function(a){this.inherited(arguments);
this.applyTextDir(this.containerNode)}}));n._Menu=B;n.prototype._onContainerKeydown=z("_onContainerKeydown");n.prototype._onContainerKeypress=z("_onContainerKeypress");return n})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return n("dijit.form._FormSelectWidget",
r,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(e.isArray(a))return s.map(a,"return this.getOptions(item);",this);e.isString(a)&&(a={value:a});e.isObject(a)&&(s.some(b,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<b.length?b[a]:null},addOption:function(a){s.forEach(e.isArray(a)?
a:[a],function(a){a&&e.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(e.isArray(a)?a:[a]);s.forEach(a,function(a){a&&(this.options=s.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){s.forEach(e.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,
b,c){var r=this.store;c=c||{};if(r!==a){for(var f;f=this._notifyConnections.pop();)f.remove();a.get||(e.mixin(a,{_oldAPI:!0,get:function(a){var b=new q;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new q(function(){d.abort&&d.abort()});c.total=new q;var d=this.fetch(e.mixin({query:a,onBegin:function(a){c.total.resolve(a)},onComplete:function(a){c.resolve(a)},onError:function(a){c.reject(a)}},b));
return new k(c)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[l.after(a,"onNew",e.hitch(this,"_onNewItem"),!0),l.after(a,"onDelete",e.hitch(this,"_onDeleteItem"),!0),l.after(a,"onSet",e.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);
c.query&&(this._set("query",c.query),this._set("queryOptions",c.queryOptions));a&&(this._loadingStore=!0,this.onLoadDeferred=new q,this._queryRes=a.query(this.query,this.queryOptions),d(this._queryRes,e.hitch(this,function(d){if(this.sortByLabel&&!c.sort&&d.length)if(a.getValue)d.sort(h.createSortFunction([{attribute:a.getLabelAttributes(d[0])[0]}],a));else{var k=this.labelAttr;d.sort(function(a,b){return a[k]>b[k]?1:b[k]>a[k]?-1:0})}c.onFetch&&(d=c.onFetch.call(this,d,c));s.forEach(d,function(a){this._addOptionForItem(a)},
this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(e.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(d):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));
return r},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=e.isArray(a)?s.map(a,function(a){return e.isObject(a)?a:{value:a}}):e.isObject(a)?[a]:[{value:a}];a=s.filter(this.getOptions(a),function(a){return a&&a.value});var c=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&c.length)a[0]=c[0];s.forEach(c,function(b){b.selected=s.some(a,function(a){return a.value===b.value})});c=s.map(a,function(a){return a.value});
if(!("undefined"==typeof c||"undefined"==typeof c[0])){var d=s.map(a,function(a){return a.label});this._setDisplay(this.multiple?d:d[0]);this.inherited(arguments,[this.multiple?c:c[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=s.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||
(s.forEach(this._getChildren(),function(a){a.destroyRecursive()}),s.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;s.forEach(this._getChildren(),function(c){var d=s.some(a,function(a){return c.option&&a===c.option.value});d&&!b.multiple&&(b.focusedChild=c);m.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);
c.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=s.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?s.map(s.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},
_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||
null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);f.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?b("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+c._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||
!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);l.after(this,"onChange",e.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();
this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],
function(s){var q={};s.setObject("dojo.data.util.sorter",q);q.basicComparator=function(l,h){var n=-1;null===l&&(l=void 0);null===h&&(h=void 0);if(l==h)n=0;else if(l>h||null==l)n=1;return n};q.createSortFunction=function(l,h){function n(b,a,c,d){return function(e,k){var f=d.getValue(e,b),m=d.getValue(k,b);return a*c(f,m)}}for(var f=[],m,c=h.comparatorMap,e=q.basicComparator,b=0;b<l.length;b++){m=l[b];var d=m.attribute;if(d){m=m.descending?-1:1;var k=e;c&&("string"!==typeof d&&"toString"in d&&(d=d.toString()),
k=c[d]||e);f.push(n(d,m,k,h))}}return function(b,a){for(var c=0;c<f.length;){var d=f[c++](b,a);if(0!==d)return d}return 0}};return q})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(s,q,l){var h=function(n){function f(f){n[f]||(n[f]=function(){var c=arguments;return l(n,function(e){Array.prototype.unshift.call(c,e);return h(s[f].apply(s,c))})})}if(!n)return n;n.then&&(n=q.delegate(n));f("forEach");f("filter");f("map");n.total||(n.total=
l(n,function(f){return f.length}));return n};q.setObject("dojo.store.util.QueryResults",h);return h})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(s,q,l,h){return s("dijit.form._FormValueWidget",[l,h],{_layoutHackIE7:function(){if(7==q("ie"))for(var h=this.domNode,f=h.parentNode,m=h.firstChild||h,c=m.style.filter,e=this;f&&0==f.clientHeight;)(function(){var b=e.connect(f,"onscroll",function(){e.disconnect(b);m.style.filter=
(new Date).getMilliseconds();e.defer(function(){m.style.filter=c})})})(),f=f.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(s,q,l,h,n,f,m){return s("dijit.form._FormValueMixin",m,{readOnly:!1,_setReadOnlyAttr:function(c){q.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=
this._resetValue=this.value)},_setValueAttr:function(c,e){this._handleOnChange(c,e)},_handleOnChange:function(c,e){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/nls/validate":function(){define({root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,
"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(s,q,l,h,n,f,m,c,e){h("dijit-legacy-requires")&&f(0,function(){s(["dijit/form/RadioButton"])});
return q("dijit.form.CheckBox",[m,c],{templateString:e,baseClass:"dijitCheckBox",_setValueAttr:function(b,c){"string"==typeof b&&(this.inherited(arguments),b=!0);this._created&&this.set("checked",b,c)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&n("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");
this.inherited(arguments)},_onBlur:function(){this.id&&n("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(s,q,l,h){return s("dijit.form.ToggleButton",[l,h],{baseClass:"dijitToggleButton",setChecked:function(h){q.deprecated("setChecked("+h+") is deprecated. Use set('checked',"+h+") instead.","","2.0");this.set("checked",h)}})})},
"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(s,q){return s("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(l){var h=this.checked;this._set("checked",!h);var n=this.inherited(arguments);this.set("checked",n?this.checked:h);return n},_setCheckedAttr:function(l,h){this._set("checked",l);var n=this.focusNode||this.domNode;this._created&&q.get(n,"checked")!=!!l&&q.set(n,"checked",!!l);n.setAttribute(this._aria_attr,
String(l));this._handleOnChange(l,h)},postCreate:function(){this.inherited(arguments);var l=this.focusNode||this.domNode;this.checked&&l.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(s,q){return s("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(l){this._set("readOnly",
l);q.set(this.focusNode,"readOnly",l)},_setLabelAttr:void 0,_getSubmitValue:function(l){return null==l||""===l?"on":l},_setValueAttr:function(l){l=this._getSubmitValue(l);this._set("value",l);q.set(this.focusNode,"value",l)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));q.set(this.focusNode,"value",this.value)},_onClick:function(l){return this.readOnly?(l.stopPropagation(),l.preventDefault(),!1):this.inherited(arguments)}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang",
"dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(s,q,l,h,n){return q("dijit.layout.TabContainer",l,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(f){var m=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?s.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,
tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":m,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},f)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?n:h)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/text!./templates/TabContainer.html ./StackContainer ./utils ../_TemplatedMixin dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(s,q,l,h,n,f,m,c){return n("dijit.layout._TabContainerBase",[q,h],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:s,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&c.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||
f.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(f.add(this.domNode,"dijitTabContainerNested"),f.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),f.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),f.add(this.containerNode,"dijitTabPaneWrapperNested")):f.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(c){f.add(c.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var c=this.selectedChildWidget;if(this.doLayout){var b=this.tabPosition.replace(/-h/,"");this.tablist.region=b;b=[this.tablist,{domNode:this.tablistSpacer,region:b},{domNode:this.containerNode,region:"center"}];l.layoutChildren(this.domNode,this._contentBox,b);this._containerContentBox=l.marginBox2contentBox(this.containerNode,b[2]);c&&c.resize&&c.resize(this._containerContentBox)}else{if(this.tablist.resize){b=this.tablist.domNode.style;
b.width="0";var d=m.getContentBox(this.domNode).w;b.width="";this.tablist.resize({w:d})}c&&c.resize&&c.resize()}}},destroy:function(c){this.tablist&&this.tablist.destroy(c);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget dojo/i18n!../nls/common".split(" "),function(s,q,l,h,n,f,
m,c,e,b,d,k,r,a){f("dijit-legacy-requires")&&e(0,function(){require(["dijit/layout/StackController"])});l=l("dijit.layout.StackContainer",a,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",m.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();s.forEach(a,this._setupChild,this);
this.persist?this.selectedChildWidget=k.byId(q(this.id+"_selectedChild")):s.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var c=this.selectedChildWidget;!c&&a[0]&&(c=this.selectedChildWidget=a[0],c.selected=!0);b.publish(this.id+"-startup",{children:a,selected:c,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var b=
a.domNode,c=n.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),d=a["aria-label"]||a.title||a.label;d&&c.setAttribute("aria-label",d);n.place(b,c);a._wrapper=c;this.inherited(arguments);"none"==b.style.display&&(b.style.display="block");a.domNode.title=""},addChild:function(a,c){this.inherited(arguments);this._started&&(b.publish(this.id+"-addChild",a,c),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var c=
s.indexOf(this.getChildren(),a);this.inherited(arguments);n.destroy(a._wrapper);delete a._wrapper;this._started&&b.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===a&&(this.selectedChildWidget=void 0,this._started)){var d=this.getChildren();d.length&&this.selectChild(d[Math.max(c-1,0)])}this._started&&this.layout()}},selectChild:function(a,c){var e;a=k.byId(a);this.selectedChildWidget!=a&&(e=this._transition(a,this.selectedChildWidget,c),this._set("selectedChildWidget",
a),b.publish(this.id+"-selectChild",a),this.persist&&q(this.id+"_selectedChild",this.selectedChildWidget.id));return d(e||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=s.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),
!0)},_onKeyDown:function(a){b.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&h.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&
h.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;s.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});l.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};m.extend(r,
l.ChildWidgetProperties);return l})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){k=s("dijit.layout._TabButton"+(n("dojo-bidi")?"_NoBidi":""),c.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:k,_setNameAttr:"focusNode",
scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);q.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var b=this.domNode;this.defer(function(){b.className=b.className},1)},_setCloseButtonAttr:function(b){this._set("closeButton",b);h.toggle(this.domNode,"dijitClosable",b);this.closeNode.style.display=b?"":"none";b&&(b=f.getLocalization("dijit","common"),this.closeNode&&l.set(this.closeNode,"title",b.itemClose))},_setDisabledAttr:function(b){this.inherited(arguments);
if(this.closeNode)if(b)l.remove(this.closeNode,"title");else{var a=f.getLocalization("dijit","common");l.set(this.closeNode,"title",a.itemClose)}},_setLabelAttr:function(b){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=m.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});n("dojo-bidi")&&(k=s("dijit.layout._TabButton",k,{_setLabelAttr:function(b){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt)}}));s=s("dijit.layout.TabController",
c,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:k,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var c=new b({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return h.contains(a,"dijitClosable")&&!h.contains(a,"dijitTabDisabled")}});
this.own(c);var a=f.getLocalization("dijit","common"),k=this;c.addChild(new d({label:a.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=e.byNode(this.getParent().currentTarget);k.onCloseButtonClick(a.page)}}))}});s.TabButton=k;return s})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch dojo/i18n!../nls/common".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){h=q("dijit.layout._StackButton",a,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});q=q("dijit.layout.StackController",[d,k,r],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:h,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return b.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(c.subscribe(this.containerId+"-startup",f.hitch(this,"onStartup")),c.subscribe(this.containerId+"-addChild",f.hitch(this,"onAddChild")),c.subscribe(this.containerId+"-removeChild",f.hitch(this,"onRemoveChild")),c.subscribe(this.containerId+"-selectChild",f.hitch(this,"onSelectChild")),c.subscribe(this.containerId+"-containerKeyDown",f.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(m(this.containerNode,"click",
f.hitch(this,function(a){var c=b.getEnclosingWidget(a.target);if(c!=this.containerNode&&!c.disabled&&c.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(l.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);break}else if(a==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(a){this.textDir=a.textDir;s.forEach(a.children,this.onAddChild,this);if(a.selected)this.onSelectChild(a.selected);var c=b.byId(this.containerId).containerNode,d=f.hitch(this,"pane2button");
a={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var e=function(a,b){return m(c,"attrmodified-"+a,function(a){var c=d(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},k;for(k in a)this.own(e(k,a[k]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var c=new (f.isString(this.buttonWidget)?f.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(c,b);a.controlButton=c;if(!this._currentChild)this.onSelectChild(a);c=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+c.id:c.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
c)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var c=this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(a.id);c.set("checked",!0);this._currentChild=a;c.focusNode.setAttribute("tabIndex","0");b.byId(this.containerId)}},onButtonClick:function(a){var c=this.pane2button(a.id);
e.focus(c.focusNode);this._currentChild&&this._currentChild.id===a.id&&c.set("checked",!0);b.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){b.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&e.focus(a.focusNode||a.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),c=s.indexOf(b,this.pane2button(this._currentChild.id)),d=b[c],e;do c=
(c+(a?1:b.length-1))%b.length,e=b[c];while(e.disabled&&e!=d);return e},onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var c=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case n.LEFT_ARROW:case n.UP_ARROW:a._djpage||(c=!1);break;case n.PAGE_UP:a.ctrlKey&&(c=!1);break;case n.RIGHT_ARROW:case n.DOWN_ARROW:a._djpage||(c=!0);break;case n.PAGE_DOWN:a.ctrlKey&&(c=!0);break;case n.HOME:for(var d=this.getChildren(),e=0;e<d.length;e++){var k=d[e];if(!k.disabled){this.onButtonClick(k.page);break}}a.stopPropagation();
a.preventDefault();break;case n.END:d=this.getChildren();for(e=d.length-1;0<=e;e--)if(k=d[e],!k.disabled){this.onButtonClick(k.page);break}a.stopPropagation();a.preventDefault();break;case n.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==n.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case n.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==c&&(this.onButtonClick(this.adjacent(c).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});q.StackButton=h;return q})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){d("dijit-legacy-requires")&&u(0,function(){s(["dijit/MenuItem",
"dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return l("dijit.Menu",t,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):q.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return r.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||
a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=h.byId(a,this.ownerDocument);var d;if("iframe"==a.tagName.toLowerCase()){var t=a;d=this._iframeContentWindow(t);d=k.body(d.document)}else d=a==k.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var f={node:a,iframe:t};n.set(a,"_dijitMenu"+this.id,
this._bindings.push(f));var r=e.hitch(this,function(a){var d=this.selector,e=d?function(a){return b.selector(d,a)}:function(a){return a},k=this;return[b(a,e(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();k._scheduleOpen(this,t,{x:a.pageX,y:a.pageY})}),b(a,e("keydown"),function(a){a.shiftKey&&a.keyCode==c.F10&&(a.stopPropagation(),a.preventDefault(),k._scheduleOpen(this,t))})]});f.connects=d?r(d):[];t&&(f.onloadHandler=e.hitch(this,function(){var a=this._iframeContentWindow(t),
a=k.body(a.document);f.connects=r(a)}),t.addEventListener?t.addEventListener("load",f.onloadHandler,!1):t.attachEvent("onload",f.onloadHandler))},unBindDomNode:function(a){var b;try{b=h.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(b&&n.has(b,a)){for(var d=n.get(b,a)-1,e=this._bindings[d],k;k=e.connects.pop();)k.remove();(k=e.iframe)&&(k.removeEventListener?k.removeEventListener("load",e.onloadHandler,!1):k.detachEvent("onload",e.onloadHandler));n.remove(b,a);delete this._bindings[d]}},
_scheduleOpen:function(a,b,c){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:b,coords:c})},1))},_openMyself:function(b){function c(){l.refocus&&q&&q.focus();a.close(l)}var e=b.target,k=b.iframe;b=b.coords;var t=!b;this.currentTarget=e;if(b){if(k){var e=f.position(k,!0),r=this._iframeContentWindow(k),r=f.docScroll(r.document),u=m.getComputedStyle(k),n=m.toPixelValue,C=(d("ie")&&d("quirks")?0:n(k,u.paddingLeft))+(d("ie")&&d("quirks")?
n(k,u.borderLeftWidth):0),k=(d("ie")&&d("quirks")?0:n(k,u.paddingTop))+(d("ie")&&d("quirks")?n(k,u.borderTopWidth):0);b.x+=e.x+C-r.x;b.y+=e.y+k-r.y}}else b=f.position(e,!0),b.x+=10,b.y+=10;var l=this,k=this._focusManager.get("prevNode"),e=this._focusManager.get("curNode"),q=!e||h.isDescendant(e,this.domNode)?k:e;a.open({popup:this,x:b.x,y:b.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();t||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",
arguments);a.close(this)}},destroy:function(){q.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B){k=q("dijit.layout.ScrollingTabController",[a,u],{baseClass:"dijitTabController dijitScrollingTabController",templateString:k,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",l.add(a,"tabStrip-disabled"));l.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);n.set(this.domNode,"visibility","");this._postStartup=!0;this.own(c(this.containerNode,"attrmodified-label, attrmodified-iconclass",m.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);n.set(this.containerNode,"width",n.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=e("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=h.getMarginSize(a).w,!0;n.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||n.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=t.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;h.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";t.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>b("ie")||b("ie")&&b("quirks")||b("webkit")?this.scrollNode.scrollLeft:n.get(this.containerNode,"width")-n.get(this.scrollNode,"width")+(8<=b("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>b("ie")||b("ie")&&b("quirks")||b("webkit"))return a;var c=n.get(this.containerNode,"width")-n.get(this.scrollNode,"width");return(8<=b("ie")?-1:1)*(a-c)},
onSelectChild:function(a){var b=this.pane2button(a.id);if(b){b=b.domNode;if(b!=this._selectedTab&&(this._selectedTab=b,this._postResize)){var c=this._getScroll();(c>b.offsetLeft||c+n.get(this.scrollNode,"width")<b.offsetLeft+n.get(b,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=n.get(this.scrollNode,"width"),c=n.get(this.containerNode,"width")-b,d=this._getTabsWidth();if(a.length&&d>b)return{min:this.isLeftToRight()?
0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:c};a=this.isLeftToRight()?0:c;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=n.get(this.scrollNode,"width"),c=this._getScrollBounds(),a=a.offsetLeft+n.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,c.min),c.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var c=this,d=this.scrollNode,e=new f.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=d.scrollLeft,k=c._convertToScrollLeft(a);e.curve=new f._Line(b,k)},onAnimate:function(a){d.scrollLeft=a}});this._anim=e;this._setButtonClass(a);return e},_getBtnNode:function(a){for(a=a.target;a&&!l.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,b){if(!b||!l.contains(b,"dijitTabDisabled")){var c=0.75*n.get(this.scrollNode,"width")*a,c=this._getScroll()+c;this._setButtonClass(c);this.createSmoothScroll(c).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});r=q("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:r,
tabIndex:"",isFocusable:function(){return!1}});q("dijit.layout._ScrollingTabControllerButton",[z,r]);q("dijit.layout._ScrollingTabControllerMenuButton",[z,B,r],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new v({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=d.byId(this.containerId);s.forEach(b.getChildren(),function(a){var c=new D({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return k})},"xl/util/flex/DateFormatter":function(){define(["dojo/_base/declare","./StringFormatter"],function(s,q){return s("xl.util.flex.DateFormatter",
[],{VALID_PATTERN_CHARS:"Y,M,D,A,E,H,J,K,L,N,S,Q",formatString:null,getFormatString:function(){return this.formatString},error:null,defaultInvalidFormatError:"Invalid format",constructor:function(l){this.formatString=l},format:function(l){if(!l||"string"==typeof l&&""==l)return"";"string"==typeof l&&(l=new Date(l));for(var h,n=0,f="",m=0;m<this.formatString.length;m++)if(h=this.getFormatString().charAt(m),-1!=this.VALID_PATTERN_CHARS.indexOf(h)&&","!=h)if(n++,-1==f.indexOf(h))f+=h;else if(h!=this.getFormatString().charAt(Math.max(m-
1,0)))return this.error=this.defaultInvalidFormatError,"";return 1>n?(this.error=this.defaultInvalidFormatError,""):(new q(this.formatString,this.VALID_PATTERN_CHARS)).formatValue(l)}})})},"xl/util/flex/StringFormatter":function(){define(["dojo/_base/declare","./DateBase"],function(s,q){return s("xl.util.flex.StringFormatter ",[],{constructor:function(l,h){this.formatPattern(l,h)},reqFormat:null,patternInfo:null,formatValue:function(l){for(var h=this.patternInfo[0],n=this.reqFormat.substring(0,h.begin)+
q.extractTokenDate(l,h),f=h,m=this.patternInfo.length,c=1;c<m;c++)h=this.patternInfo[c],n+=this.reqFormat.substring(f.end,h.begin)+q.extractTokenDate(l,h),f=h;0<f.end&&f.end!=this.reqFormat.length&&(n+=this.reqFormat.substring(f.end));return n},formatPattern:function(l,h){var n=0,f=0,m=0,c=h.split(",");this.reqFormat=l;this.patternInfo=[];for(var e=c.length,b=0;b<e;b++)n=this.reqFormat.indexOf(c[b]),0<=n&&n<this.reqFormat.length&&(f=this.reqFormat.lastIndexOf(c[b]),f=0<=f?f+1:n+1,this.patternInfo.splice(m,
0,{token:c[b],begin:n,end:f}),m++);this.patternInfo.sort(this.compareValues)},compareValues:function(l,h){return l.begin>h.begin?1:l.begin<h.begin?-1:0}})})},"xl/util/flex/DateBase":function(){define(["dojo/_base/declare"],function(s){return{getDayNamesLong:function(){return"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},getDayNamesShort:function(){return"Sun Mon Tue Wed Thu Fri Sat".split(" ")},getDefaultStringKey:function(){this.initialize();return this.getMonthNamesLong().concat(this.getTimeOfDay())},
getMonthNamesLong:function(){return"January February March April May June July August September October November December".split(" ")},getMonthNamesShort:function(){return"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},getTimeOfDay:function(){return["AM","PM"]},extractTokenDate:function(q,l){var h="",n=l.end-l.begin,f;switch(l.token){case "Y":return h=q.getUTCFullYear().toString(),3>n?h.substr(2):4<n?this.setValue(h,n):h;case "M":if(f=q.getUTCMonth(),3>n){f++;h+=this.setValue(f,n);break}else return 3==
n?this.getMonthNamesShort()[f]:this.getMonthNamesLong()[f];case "D":f=q.getUTCDate();h+=this.setValue(f,n);break;case "E":if(f=q.getUTCDay(),3>n){h+=this.setValue(f,n);break}else return 3==n?this.getDayNamesShort()[f]:this.getDayNamesLong()[f];case "A":return f=q.getUTCHours(),12>f?this.getTimeOfDay()[0]:this.getTimeOfDay()[1];case "H":f=q.getUTCHours();0==f&&(f=24);h+=this.setValue(f,n);break;case "J":f=q.getUTCHours();h+=this.setValue(f,n);break;case "K":f=q.getUTCHours();12<=f&&(f-=12);h+=this.setValue(f,
n);break;case "L":f=q.getUTCHours();0==f?f=12:12<f&&(f-=12);h+=this.setValue(f,n);break;case "N":f=q.getUTCMinutes();h+=this.setValue(f,n);break;case "S":f=q.getUTCSeconds();h+=this.setValue(f,n);break;case "Q":f=q.getUTCMilliseconds(),h+=this.setValue(f,n)}return h},setValue:function(q,l){var h="",n=q.toString().length;if(n<l)for(var n=l-n,f=0;f<n;f++)h+="0";return h+=q.toString()}}})},"xl/player/dialogs/InteractionsDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/dom-style dijit/form/Button dijit/form/Select dijit/registry dijit/form/HorizontalSlider dijit/form/HorizontalRule dijit/form/HorizontalRuleLabels dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojo/text!./templates/InteractionsDialog.html ./ModalBaseDialog dojo/dom-geometry dojo/query dojo/html".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D){return s("xl.player.dialogs.InteractionsDialog",[t],{graphId:null,selectedCurveIndex:0,curveCount:0,selectEnabled:null,_resetting:!1,constructor:function(b){b=b.selectOptions;this.selectEnabled=1<b.length;this.curveCount=b.length;b=new k({options:b,selectenabled:this.selectEnabled});this.setupContentWidgets(a,b)},show:function(){u.setMarginBox(this.domNode,{w:520});this._placeAroundNode=m.byId(this.graphId).domNode;this._placeDockPositions=["after","before",
"above","below"];this.inherited(arguments);this.sliderValueChange(null,!0)},setupHeader:function(){this.getViewer()&&this.getViewer();q.create("label",{innerHTML:"Graph Interactions"},this.titleNode);this.inherited(arguments)},setupFooter:function(){this.addButton({label:"Reset Graph",onClick:l.hitch(this,this.reset)});this.addButton({label:"Close",onClick:l.hitch(this,this.hide)});this.inherited(arguments)},setupStyles:function(){this.inherited(arguments)},setupContent:function(){if(1<this.containerNode.children.length)for(var a=
2;a<this.containerNode.children.length;a++)h.set(this.containerNode.children[a],"display","none")},curveOptionChange:function(a){for(var b=1;b<this.containerNode.children.length;b++)h.set(this.containerNode.children[b],"display","none");h.set(this.containerNode.children[a],"display","");this.selectedCurveIndex=a-1;this.sliderValueChange(null,!0)},_interactionResetCommand:"interactionreset",reset:function(){this.getViewer().postCommand(this._interactionResetCommand,{graphId:this.graphId});this.resetControls()},
_interactionPlotMarkerCommand:"interactionplotmarker",plotValueChangeX:function(a){if(!(Number(a)===Number.NEGATIVE_INFINITY||this._resetting)){var b=this.selectedCurveIndex;this.getViewer().postCommand(this._interactionPlotMarkerCommand,{value:a,curveIndex:b,type:0,graphId:this.graphId})}},plotValueChangeY:function(a){if(!(Number(a)===Number.NEGATIVE_INFINITY||this._resetting)){var b=this.selectedCurveIndex;this.getViewer().postCommand(this._interactionPlotMarkerCommand,{value:a,curveIndex:b,type:1,
graphId:this.graphId})}},_interactionAnimatePlotCommand:"interactionAnimatePlot",sliderValueChange:function(a,b){if(!this._resetting){var c,d=[];c=this.selectEnabled?this.containerNode.children[this.selectedCurveIndex+1]:this.containerNode.children[0];for(var e=1;e<c.children.length;e++){var k=c.children[e].children[1].id;if(""!==k){var t=m.byId(k),f=t.get("value");d.push(f);this._changeValueLabel(t.domNode.parentNode,f);f===a&&this.syncControls(k,t.name,f)}}b||this.getViewer().postCommand(this._interactionAnimatePlotCommand,
{params:d,curveIndex:this.selectedCurveIndex,graphId:this.graphId})}},_changeValueLabel:function(a,b){var c=v(".label",a);c&&0<c.length&&D.set(c[0],"Current Value: "+b)},resetControls:function(){this._resetting=!0;var a=[];if(this.selectEnabled)for(var b=1;b<this.containerNode.children.length;b++)a.push(this.containerNode.children[b]);else a.push(this.containerNode.children[0]);for(b=0;b<a.length;b++)for(var c=1;c<a[b].children.length;c++){var d=a[b].children[c].children[1].id,e=""===d;e&&(d=a[b].children[c].children[1].children[0].id);
d=m.byId(d);d.reset();e||this._changeValueLabel(a[b].children[c],d.value)}setTimeout(l.hitch(this,this.resetCallback),1E3)},syncControls:function(a,b,c){this._resetting=!0;var d=[];if(this.selectEnabled)for(var e=1;e<this.containerNode.children.length;e++)d.push(this.containerNode.children[e]);else d.push(this.containerNode.children[0]);for(e=0;e<d.length;e++)for(var k=1;k<d[e].children.length;k++){var t=d[e].children[k].children[1].id;if(""!==t){var f=m.byId(t);f.name&&(f.name===b&&a!==t)&&(f.set("value",
c),this._changeValueLabel(d[e].children[k],c))}}setTimeout(l.hitch(this,this.resetCallback),200)},resetCallback:function(){this._resetting=!1}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F){var A=q("dijit.form._SliderMover",d,{onMouseMove:function(a){var b=this.widget,d=b._abspos;d||(d=b._abspos=n.position(b.sliderBarContainer,!0),b._setPixelValue_=c.hitch(b,"_setPixelValue"),b._isReversed_=b._isReversed());a=a[b._mousePixelCoord]-d[b._startingPixelCoord];b._setPixelValue_(b._isReversed_?d[b._pixelCount]-a:a,d[b._pixelCount],!1)},destroy:function(a){d.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});l=q("dijit.form.HorizontalSlider",[z,B],{templateString:F,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:t.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case m.HOME:this._setValueAttr(this.minimum,!1);break;case m.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?m.RIGHT_ARROW:m.LEFT_ARROW:case !1===this._descending?m.DOWN_ARROW:m.UP_ARROW:case !1===this._descending?m.PAGE_DOWN:
m.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?m.LEFT_ARROW:m.RIGHT_ARROW:case !1===this._descending?m.UP_ARROW:m.DOWN_ARROW:case !1===this._descending?m.PAGE_UP:m.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){!this.disabled&&!this.readOnly&&(e("ie")||u.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&
!this.readOnly&&this.clickSelect){u.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var b=n.position(this.sliderBarContainer,!0),c=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._setPixelValue(this._isReversed()?b[this._pixelCount]-c:c,b[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(1>=d||Infinity==d)d=b;d--;a=Math.round(a/(b/d));this._setValueAttr(Math.max(Math.min((this.maximum-
this.minimum)*a/d+this.minimum,this.maximum),this.minimum),c)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var c=(a-this.minimum)/(this.maximum-this.minimum),d=!1===this._descending?this.remainingBar:this.progressBar,e=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(b&&0<this.slideDuration&&d.style[this._progressPixelSize]){var k=
this,t={},f=parseFloat(d.style[this._progressPixelSize]),r=this.slideDuration*(c-f/100);0!=r&&(0>r&&(r=0-r),t[this._progressPixelSize]={start:f,end:100*c,units:"%"},this._inProgressAnim=h.animateProperty({node:d,duration:r,onAnimate:function(a){e.style[k._progressPixelSize]=100-parseFloat(a[k._progressPixelSize])+"%"},onEnd:function(){delete k._inProgressAnim},properties:t}),this._inProgressAnim.play())}else d.style[this._progressPixelSize]=100*c+"%",e.style[this._progressPixelSize]=100*(1-c)+"%"},
_bumpValue:function(a,b){if(!this.disabled&&!this.readOnly){var c=f.getComputedStyle(this.sliderBarContainer),d=n.getContentBox(this.sliderBarContainer,c),c=this.discreteValues;if(1>=c||Infinity==c)c=d[this._pixelCount];c--;d=(this.value-this.minimum)*c/(this.maximum-this.minimum)+a;0>d&&(d=0);d>c&&(d=c);d=d*(this.maximum-this.minimum)/c+this.minimum;this._setValueAttr(d,b)}},_onClkBumper:function(a){!this.disabled&&(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===
this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==m.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==m.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(s.forEach(this.getChildren(),function(a){this[a.container]!=
this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,c){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=k('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+
"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(v.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),v.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(a(this.domNode,r.wheel,c.hitch(this,"_mouseWheeled")));var d=q(A,{widget:this});this._movable=
new b(this.sliderHandle,{mover:d});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});l._Mover=A;return l})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(s,q,l,h,n,f){var m=f.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,
this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(l.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(c,e,b,d,k,f,a,t){if(k!=this._obj){this.stop();this._initialDelay=a||500;this._subsequentDelay=f||0.9;this._minDelay=t||10;this._obj=k;this._node=b;this._count=this._currentTimeout=-1;this._callback=l.hitch(e,
d);this._evt={faux:!0};for(var m in c)"layerX"!=m&&"layerY"!=m&&(e=c[m],"function"!=typeof e&&"undefined"!=typeof e&&(this._evt[m]=e));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(c,e,b,d,k,f,a){var t="keyCode"in e?"keyCode":"charCode"in e?"charCode":"charOrCode",u=[h(c,"keyCode"in e?"keydown":"charCode"in e?"keypress":q._keypress,l.hitch(this,function(u){u[t]==
e[t]&&(void 0===e.ctrlKey||e.ctrlKey==u.ctrlKey)&&(void 0===e.altKey||e.altKey==u.altKey)&&(void 0===e.metaKey||e.metaKey==(u.metaKey||!1))&&(void 0===e.shiftKey||e.shiftKey==u.shiftKey)?(u.stopPropagation(),u.preventDefault(),m.trigger(u,b,c,d,e,k,f,a)):m._obj==e&&m.stop()})),h(c,"keyup",l.hitch(this,function(){m._obj==e&&m.stop()}))];return{remove:function(){s.forEach(u,function(a){a.remove()})}}},addMouseListener:function(c,e,b,d,k,f){var a=[h(c,"mousedown",l.hitch(this,function(a){a.preventDefault();
m.trigger(a,e,c,b,c,d,k,f)})),h(c,"mouseup",l.hitch(this,function(a){this._obj&&a.preventDefault();m.stop()})),h(c,"mouseout",l.hitch(this,function(a){this._obj&&a.preventDefault();m.stop()})),h(c,"dblclick",l.hitch(this,function(a){a.preventDefault();9>n("ie")&&(m.trigger(a,e,c,b,c,d,k,f),setTimeout(l.hitch(this,m.stop),50))}))];return{remove:function(){s.forEach(a,function(a){a.remove()})}}},addListener:function(c,e,b,d,k,f,a,t){var m=[this.addKeyListener(e,b,d,k,f,a,t),this.addMouseListener(c,
d,k,f,a,t)];return{remove:function(){s.forEach(m,function(a){a.remove()})}}}};return m})},"dijit/form/HorizontalRule":function(){define(["dojo/_base/declare","../_Widget","../_TemplatedMixin"],function(s,q,l){return s("dijit.form.HorizontalRule",[q,l],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',
_genHTML:function(h){return this._positionPrefix+h+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,buildRendering:function(){this.inherited(arguments);var h;if(1==this.count)h=this._genHTML(50,0);else{var n,f=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){h=this._genHTML(0,0);for(n=1;n<this.count-1;n++)h+=this._genHTML(f*n,n);h+=this._genHTML(100,this.count-1)}else{h=this._genHTML(100,0);for(n=1;n<this.count-1;n++)h+=this._genHTML(100-f*n,n);h+=this._genHTML(0,
this.count-1)}}this.domNode.innerHTML=h}})})},"dijit/form/HorizontalRuleLabels":function(){define("dojo/_base/declare dojo/has dojo/number dojo/query dojo/_base/lang ./HorizontalRule".split(" "),function(s,q,l,h,n,f){s=s("dijit.form.HorizontalRuleLabels",f,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',
_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"\x3e',_suffix:"\x3c/div\x3e\x3c/div\x3e",_calcPosition:function(f){return f},_genHTML:function(f,c){var e=this.labels[c];return this._positionPrefix+this._calcPosition(f)+this._positionSuffix+this.labelStyle+this._genDirectionHTML(e)+this._labelPrefix+e+this._suffix},_genDirectionHTML:function(f){return""},getLabels:function(){var f=this.labels;!f.length&&this.srcNodeRef&&(f=h("\x3e li",this.srcNodeRef).map(function(b){return String(b.innerHTML)}));
if(!f.length&&1<this.count)for(var c=this.minimum,e=(this.maximum-c)/(this.count-1),b=0;b<this.count;b++)f.push(b<this.numericMargin||b>=this.count-this.numericMargin?"":l.format(c,this.constraints)),c+=e;return f},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length}});q("dojo-bidi")&&s.extend({_setTextDirAttr:function(f){this.textDir!=f&&(this._set("textDir",f),h(".dijitRuleLabelContainer",this.domNode).forEach(n.hitch(this,function(c){c.style.direction=
this.getTextDir(c.innerText||c.textContent||"")})))},_genDirectionHTML:function(f){return this.textDir?"direction:"+this.getTextDir(f)+";":""}});return s})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(s,q,l,h,n){var f={};s.setObject("dojo.number",f);f.format=function(c,e){e=s.mixin({},e||{});var b=q.normalizeLocale(e.locale),b=q.getLocalization("dojo.cldr","number",b);e.customs=b;b=e.pattern||b[(e.type||"decimal")+"Format"];return isNaN(c)||
Infinity==Math.abs(c)?null:f._applyPattern(c,b,e)};f._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;f._applyPattern=function(c,e,b){b=b||{};var d=b.customs.group,k=b.customs.decimal;e=e.split(";");var r=e[0];e=e[0>c?1:0]||"-"+r;if(-1!=e.indexOf("%"))c*=100;else if(-1!=e.indexOf("\u2030"))c*=1E3;else if(-1!=e.indexOf("\u00a4"))d=b.customs.currencyGroup||d,k=b.customs.currencyDecimal||k,e=e.replace(/\u00a4{1,3}/,function(a){return b[["symbol","currency","displayName"][a.length-1]]||b.currency||""});else if(-1!=
e.indexOf("E"))throw Error("exponential notation not supported");var a=f._numberPatternRE,r=r.match(a);if(!r)throw Error("unable to find a number expression in pattern: "+e);!1===b.fractional&&(b.places=0);return e.replace(a,f._formatAbsolute(c,r[0],{decimal:k,group:d,places:b.places,round:b.round}))};f.round=function(c,e,b){b=10/(b||10);return(b*+c).toFixed(e)/b};if(0==(0.9).toFixed()){var m=f.round;f.round=function(c,e,b){var d=Math.pow(10,-e||0),k=Math.abs(c);if(!c||k>=d)d=0;else if(k/=d,0.5>k||
0.95<=k)d=0;return m(c,e,b)+(0<c?d:-d)}}f._formatAbsolute=function(c,e,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);e=e.split(".");var d="string"==typeof b.places&&b.places.indexOf(","),k=b.places;d?k=b.places.substring(d+1):0<=k||(k=(e[1]||[]).length);0>b.round||(c=f.round(c,k,b.round));c=String(Math.abs(c)).split(".");var r=c[1]||"";e[1]||b.places?(d&&(b.places=b.places.substring(0,d)),d=void 0!==b.places?b.places:e[1]&&e[1].lastIndexOf("0")+1,d>r.length&&(c[1]=h.pad(r,
d,"0",!0)),k<r.length&&(c[1]=r.substr(0,k))):c[1]&&c.pop();k=e[0].replace(",","");d=k.indexOf("0");-1!=d&&(d=k.length-d,d>c[0].length&&(c[0]=h.pad(c[0],d)),-1==k.indexOf("#")&&(c[0]=c[0].substr(c[0].length-d)));var k=e[0].lastIndexOf(","),a,t;-1!=k&&(a=e[0].length-k-1,e=e[0].substr(0,k),k=e.lastIndexOf(","),-1!=k&&(t=e.length-k-1));e=[];for(k=c[0];k;)d=k.length-a,e.push(0<d?k.substr(d):k),k=0<d?k.slice(0,d):"",t&&(a=t,delete t);c[0]=e.reverse().join(b.group||",");return c.join(b.decimal||".")};f.regexp=
function(c){return f._parseInfo(c).regexp};f._parseInfo=function(c){c=c||{};var e=q.normalizeLocale(c.locale),e=q.getLocalization("dojo.cldr","number",e),b=c.pattern||e[(c.type||"decimal")+"Format"],d=e.group,k=e.decimal,r=1;if(-1!=b.indexOf("%"))r/=100;else if(-1!=b.indexOf("\u2030"))r/=1E3;else{var a=-1!=b.indexOf("\u00a4");a&&(d=e.currencyGroup||d,k=e.currencyDecimal||k)}e=b.split(";");1==e.length&&e.push("-"+e[0]);e=n.buildGroupRE(e,function(a){a="(?:"+n.escapeString(a,".")+")";return a.replace(f._numberPatternRE,
function(a){var b={signed:!1,separator:c.strict?d:[d,""],fractional:c.fractional,decimal:k,exponent:!1};a=a.split(".");var e=c.places;1==a.length&&1!=r&&(a[1]="###");1==a.length||0===e?b.fractional=!1:(void 0===e&&(e=c.pattern?a[1].lastIndexOf("0")+1:Infinity),e&&void 0==c.fractional&&(b.fractional=!0),!c.places&&e<a[1].length&&(e+=","+a[1].length),b.places=e);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,1<a.length&&(b.groupSize2=a.pop().length));return"("+f._realNumberRegexp(b)+")"})},
!0);a&&(e=e.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,e){a=n.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");b=b?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return!c.strict?(b&&(b+="*"),e&&(e+="*"),"(?:"+b+a+e+")?"):b+a+e}));return{regexp:e.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:d,decimal:k,factor:r}};f.parse=function(c,e){var b=f._parseInfo(e),d=RegExp("^"+b.regexp+"$").exec(c);if(!d)return NaN;var k=d[1];if(!d[1]){if(!d[2])return NaN;k=d[2];b.factor*=
-1}k=k.replace(RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,".");return k*b.factor};f._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var e=f._integerRegexp(c),b=n.buildGroupRE(c.fractional,function(b){var d="";b&&0!==c.places&&(d="\\"+c.decimal,d=Infinity==c.places?"(?:"+d+"\\d+)?":
d+("\\d{"+c.places+"}"));return d},!0),d=n.buildGroupRE(c.exponent,function(b){return b?"([eE]"+f._integerRegexp({signed:c.eSigned})+")":""}),e=e+b;b&&(e="(?:(?:"+e+")|(?:"+b+"))");return e+d};f._integerRegexp=function(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var e=n.buildGroupRE(c.signed,function(b){return b?"[-+]":""},!0),b=n.buildGroupRE(c.separator,function(b){if(!b)return"(?:\\d+)";b=n.escapeString(b);" "==b?b="\\s":"\u00a0"==
b&&(b="\\s\\xa0");var e=c.groupSize,f=c.groupSize2;return f?(b="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+b+"]\\d{"+f+"})*["+b+"]\\d{"+e+"})",0<e-f?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+b+"]\\d{"+e+"})*)"},!0);return e+b};return f})},"dojo/cldr/nls/number":function(){define({root:{scientificFormat:"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]",infinity:"\u221e",list:";",percentSign:"%",minusSign:"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]",
"decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"\u00a0",nan:"NaN",plusSign:"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]",currencyFormat:"\u00a4\u00a0#,##0.00",perMille:"\u2030",group:",",percentFormat:"#,##0%","decimalFormat-long":"000T",decimalFormat:"#,##0.###",decimal:".","currencySpacing-beforeCurrency-insertBetween":"\u00a0",exponential:"E"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-gb":!0,
es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dojo/cldr/nls/en/number":function(){define({group:",",percentSign:"%",exponential:"E",scientificFormat:"#E0",percentFormat:"#,##0%",list:";",infinity:"\u221e",minusSign:"-",decimal:".",nan:"NaN",perMille:"\u2030",decimalFormat:"#,##0.###",currencyFormat:"\u00a4#,##0.00;(\u00a4#,##0.00)",plusSign:"+","decimalFormat-long":"000 trillion",
"decimalFormat-short":"000T"})},"xl/util/DijitLoadMonitor":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/json","dijit/Destroyable"],function(s,q,l,h,n){s=s("xl.util.DijitLoadMonitor",[n],{_widgetLoading:[],_loading:!1,_parent:null,_isSequenceNodeLoaded:!1,constructor:function(f){f&&(this._parent=f,this._setupEvents())},loadStarted:function(){this._loading=!0;this._widgetsLoading=[];this._isSequenceNodeLoaded=!1;var f=this;setTimeout(function(){f._fireWidgetsLoaded()},6E3)},
allWidgetsLoaded:function(){return 0===this._widgetLoading.length},checkCompleted:function(){this._loading&&(this.allWidgetsLoaded()&&this._isSequenceNodeLoaded)&&(this._isSequenceNodeLoaded=this._loading=!1,this._sendWidgetsLoadedMessage("all_loaded"))},setSequenceNodeLoadedStatus:function(f){this._isSequenceNodeLoaded=f},_setupEvents:function(){this.own(l(this._parent.domNode,"widgetsloading",q.hitch(this,this._addLoadingWidget)),l(this._parent.domNode,"widgetsloaded",q.hitch(this,this._removeLoadingWidget)))},
_addLoadingWidget:function(f){this._loading&&0>this._widgetLoading.indexOf(f.currentWidget)&&this._widgetLoading.push(f.currentWidget)},_removeLoadingWidget:function(f){this._loading&&(f=this._widgetLoading.indexOf(f.currentWidget),this._widgetLoading.splice(f,1),this.checkCompleted())},_sendWidgetsLoadedMessage:function(f){window.postMessage(h.stringify({"@status":f,"@type":"WidgetsLoaded"}),"*")},_fireWidgetsLoaded:function(){this._loading&&(this._loading=!0,this._widgetsLoading=[],this._isSequenceNodeLoaded=
!1,this._sendWidgetsLoadedMessage("timeout"))}});s.staticFunctions={loadingStarted:function(f,m){var c;(c=m?m:f.domNode)&&l.emit(c,"widgetsloading",{bubbles:!0,cancelable:!0,currentWidget:f})},loadingCompleted:function(f,m){var c;(c=m?m:f.domNode)&&l.emit(c,"widgetsloaded",{bubbles:!0,cancelable:!0,currentWidget:f})}};return s})},"xl/editgraph/GraphHoleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),
function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphHoleObject",[l],{_drawLines:null,_drawValues:null,_xValue:null,_yValue:null,_drawObjects:null,_ghostObjects:null,constructor:function(c){this.setSupportsLineStyle(!1);this._noClip=!0;this._drawObjects={};this._ghostObjects={}},draw:function(c,e,b){if(1===this.getPointCount()){var d=[this.getPoint(0)];this._drawObjects=this._drawObject(c,d,this.getColor(),this._drawObjects);this.inherited(arguments)}},getDistance:function(c,e){return 0<this.getPointCount()?
f.getPointDistance(this.getGraph(),c,e,this.getPoint(0)):-1},deselect:function(){this._xValue&&this._xValue.setTextColor(this.getColor());this._yValue&&this._yValue.setTextColor(this.getColor());this.inherited(arguments)},_drawObject:function(c,e,b,d){this.setDrawLines(!1);if(d._lineObject1&&(!d._lineObject1.parent||d._lineObject1.parent._parent!=c._parent))d._lineObject1=null;if(d._lineObject2&&(!d._lineObject2.parent||d._lineObject2.parent._parent!=c._parent))d._lineObject2=null;1<=e.length&&this._drawLines&&
(d._lineObject1=f.drawSegment(d._lineObject1||c,this.getGraph(),this.getGraph().getAxisX().viewFToWorld(this.getGraph().getAxisY().getPosition()),e[0].y,e[0].x,e[0].y,b,"ShortDot"),d._lineObject2=f.drawSegment(d._lineObject2||c,this.getGraph(),e[0].x,this.getGraph().getAxisY().viewFToWorld(this.getGraph().getAxisX().getPosition()),e[0].x,e[0].y,b,"ShortDot"));this.setDrawValues(!1);var k=this.getGraph().getAxisX().worldToViewF(e[0].x);e=this.getGraph().getAxisY().worldToViewF(e[0].y);if(d._circleObject&&
(!d._circleObject.parent||d._circleObject.parent._parent!=c._parent))d._circleObject=null;d._circleObject=m.drawCircle(d._circleObject||c,k,e,5,b,"white",2);return d},drawGhost:function(c,e,b){this._ghostObjects=this._drawObject(c,e,b,this._ghostObjects)},getObjectType:function(){return h.GraphObjectType.HOLE},getDrawLines:function(){return this._drawLines},setDrawLines:function(c){this._drawLines=c},getDrawValues:function(){return this._drawValues},setDrawValues:function(c){this._drawValues=c}})})},
"xl/editgraph/AbstractGraphObject":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphCustomPlot xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphSettings xl/editgraph/IEditableGraphObject xl/editgraph/GraphObjectLabel xl/util/DijitLoadMonitor".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.editgraph.AbstractGraphObject",[b,l],{_points:null,_params:null,_canMove:!0,_supportsLineStyle:!0,_objLabel:null,
showPoints:null,_isStatic:null,_undeletable:null,_activeExpression:null,drawAsymptote:!1,_lineStyle:null,_fixedPts:null,redrawWhenSelected:!1,constructor:function(b){this._points=[];this._params={}},postCreate:function(){k.staticFunctions.loadingStarted(this)},getObjectType:function(){return"abstract"},setGraph:function(b){this.inherited(arguments);this._objLabel&&this._objLabel.setGraph(b)},getColor:function(){this._color||(this._color=e.objectColor);return this._color},getGraphPart:function(){return this},
getPointCount:function(){return this._points.length},getPoints:function(){return this._points},getPoint:function(b){return this._points[b]},setPoint:function(b,a){this._points.length>b&&(this._points[b]=a)},getObjLabel:function(){return this._objLabel},setObjLabel:function(b){this._objLabel=b},invalidate:function(){this.inherited(arguments)},drawPoints:function(b){var a,c,d,e=this._graph.getPlotRect();for(d=0;d<this._points.length;d++)c=this.getPoint(d),a=this._graph.getAxisX().worldToViewF(c.x),
c=this._graph.getAxisY().worldToViewF(c.y),e.contains(a,c)&&n.drawCircle(b,a,c,3,this.getColor(),this.getColor())},draw:function(b,a){this.showPoints&&this.drawPoints(b);this._objLabel&&(this.updateLabelPos(),this._objLabel.draw(this.getGraph().getBlobSurfaceLayer()));k.staticFunctions.loadingCompleted(this)},addLabel:function(b){this._objLabel||(this._objLabel=new d,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(b.getFormulaLabels()),this._objLabel.drawHandle=this.getGraph().getGraphControl().drawLabelHandle,
this._objLabel.allowMove=!0,e.boldTextLabels&&!this._objLabel.getFormula()&&(this._objLabel.getFont().bold=!0),this._objLabel.setGraphObject(this),this._objLabel.setTag(-1),this._objLabel.setLabelOptions(b.getObjectLabels()),this._objLabel.setMenu(b.getLabelMenu()),this.updateLabelPos())},addNewLabel:function(b,a){this._objLabel||(this._objLabel=new d,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(!0),this._objLabel.drawHandle=this.getGraph().getGraphControl().drawLabelHandle,
this._objLabel.allowMove=!0,e.boldTextLabels&&!this._objLabel.getFormula()&&(this._objLabel.getFont().bold=!0),this._objLabel.setGraphObject(this),this._objLabel.setTag(1),this._objLabel.setMenu([a.objLabel]),this.updateLabelPos())},updateLabelPos:function(){var b,a,d,e,k,m,h;if(this._objLabel){k=e=0;if(0<this.getPointCount()){if(this._objLabel.getPositionSet())return;b=this.getPoint(0);h=q.clone(b);k=e=b.y;for(a=d=0;a<this.getPointCount();a++)b=this.getPoint(a),b.y>k&&(k=b.y),b.y<e&&(e=b.y),b.x>=
h.x&&(h.x=b.x,h.y=b.y,d=a);this._objLabel.setLocation(h);this._objLabel.setRefPoint(d);this._objLabel.setDx(h.x-this.getPoint(d).x);this._objLabel.setDy(h.y-this.getPoint(d).y)}if(!this._objLabel.getPositionSet()){this._objLabel.setHAlignment(c.IPGraphAlignment.LEFT);this._objLabel.setVAlignment(c.IPGraphAlignment.TOP);try{f.sameValue(k,e)||(m=(this._objLabel.getLocation().y-e)/(k-e),0.5<m?this._objLabel.setVAlignment(c.IPGraphAlignment.TOP):this._objLabel.setVAlignment(c.IPGraphAlignment.BOTTOM))}catch(n){}this._objLabel.setPositionSet(!0)}}},
addPoint:function(b){b=b?{x:b.x||0,y:b.y||0}:{x:0,y:0};this._points.push(b);return b},getDistance:function(b,a){var c=-1;if(this._fixedPts&&1<this._fixedPts.length){for(var c=this.getGraph().getAxisX().worldToViewF(b),d=this.getGraph().getAxisY().worldToViewF(a),e=Number.MAX_VALUE,k=0;k<this._fixedPts.length-1;k++)e=f.min(e,h.getFixedSegmentDistance(this.getGraph(),c,d,this._fixedPts[k],this._fixedPts[k+1]));c=e}return c},movePoint:function(b,a){0<=b&&b<this.getPointCount()&&(this.getPoint(b).x=a.x,
this.getPoint(b).y=a.y,this.updateLabelPos())},getParams:function(){return this._params},getParam:function(b){return this._params[b]},setParam:function(b,a){this._params[b]=a},getCanMove:function(){return this._canMove},setCanMove:function(b){this._canMove=b},getLineStyle:function(){return this._lineStyle},setLineStyle:function(b){b!==this._lineStyle&&(this._lineStyle=b,this.invalidate(),this.getGraph().invalidateBlobs())},getSupportsLineStyle:function(){return this._supportsLineStyle},setSupportsLineStyle:function(b){this._supportsLineStyle=
b},getGraphLineStyle:function(){return this._supportsLineStyle?this.getLineStyle()===c.GraphLineStyle.SOLID?m.GraphObjectLineStyle.SOLID:m.GraphObjectLineStyle.DASHED:m.GraphObjectLineStyle.NONE},setGraphLineStyle:function(b){this._supportsLineStyle&&(b===m.GraphObjectLineStyle.DASHED?this.setLineStyle(c.GraphLineStyle.DASHED):this.setLineStyle(c.GraphLineStyle.SOLID))},getShowPoints:function(){return this.showPoints},setShowPoints:function(b){this.showPoints=b},getIsStatic:function(){return this._isStatic},
setIsStatic:function(b){this._isStatic=b},percentOfXRel:function(b){var a,c;this.getGraph()?(a=this.getGraph().getAxisX().getMinimum(),c=this.getGraph().getAxisX().getMaximum()):(a=0,c=10);return b/(c-a)},percentOfYRel:function(b){var a,c;this.getGraph()?(a=this.getGraph().getAxisY().getMinimum(),c=this.getGraph().getAxisY().getMaximum()):(a=0,c=10);return b/(c-a)},filterSameX:function(){for(var b=e.EPSPercent/this.percentOfXRel(1),a=[],c=0;c<this.getPointCount();c++){for(var d=!1,k=0;k<this.getPointCount();k++)if(f.sameValue(this.getPoint(c).x,
a[k],b)){d=!0;break}d&&(this._points.remove(c),c--)}},startEditing:function(b){return!1},stopEditing:function(){return!1},canSelect:function(b){return!0},deselect:function(){this._objLabel&&(this._objLabel.allowMove=!1);this.invalidate()},getGraphData:function(){var b={};b.objectType=this.getObjectType();this.getObjLabel()&&(b.labelpositionset=1,q.mixin(b,this.getObjLabel().getGraphData()));this._supportsLineStyle&&(b.lineStyle=this._lineStyle);b.points=this._points;b.params=this._params;b.color=
this.getColor();b.isStatic=this.getIsStatic();b.undeletable=this.getUndeletable();this.drawAsymptote&&(b.drawAsymptote=!0);b.tag=this.getTag();return b},getUndeletable:function(){return this._undeletable},setUndeletable:function(b){this._undeletable=b}})})},"xl/editgraph/GraphObject":function(){define("dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/matrix xl/grapher/IPDataSpline xl/grapher/enums xl/editgraph/enums xl/util/IPMath xl/util/graphUtils xl/util/IPSqMatrix xl/util/imageProcessing xl/editgraph/GraphSettings".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){var r={DEFAULT_ARROWSIZE:15,DEF_PLINEWIDTH:2,DEF_PLINEGHOSTWIDTH:2,DEF_PLINETOOLWIDTH:2,DEF_PLINETOOLALPHA:0.5,drawLine:function(a,b,c,d,k,f,m,h,n){var x={lineWidth:r.DEF_PLINEWIDTH,alpha:1};n&&s.safeMixin(x,n);n={x:0,y:0};var w={x:0,y:0},C=[];r.calcExtendedLine(b.getAxisX().getMinimum(),b.getAxisX().getMaximum(),b.getAxisY().getMinimum(),b.getAxisY().getMaximum(),c,d,k,f,n,w);C.push({x:b.getAxisX().worldToViewF(n.x),y:b.getAxisY().worldToViewF(n.y)});C.push({x:b.getAxisX().worldToViewF(w.x),
y:b.getAxisY().worldToViewF(w.y)});return a&&(a.isInstanceOf(l.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?e.drawPolyline(a,C,m,x.lineWidth,h,!0):a.setShape(C)},drawSegment:function(a,b,c,d,k,f,m,h,n){var x={lineWidth:r.DEF_PLINEWIDTH,alpha:1};n&&s.safeMixin(x,n);n=[];n.push({x:b.getAxisX().worldToViewF(c),y:b.getAxisY().worldToViewF(d)});n.push({x:b.getAxisX().worldToViewF(k),y:b.getAxisY().worldToViewF(f)});return a&&(a.isInstanceOf(l.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?
e.drawPolyline(a,n,m,x.lineWidth,h,!0):a.setShape(n)},drawArrow:function(a,b,c,d,k,f){f||(f=r.DEFAULT_ARROWSIZE);c={x:b.getAxisX().worldToViewF(c.x),y:b.getAxisY().worldToViewF(c.y)};b={x:b.getAxisX().worldToViewF(d.x),y:b.getAxisY().worldToViewF(d.y)};return e.drawFunctionArrow(a,c,b,k,f)},DARKBLUE:"#3366CC",YELLOW:"#FFCB5A",LIGHTBLUE:"#4080FF",WHITE:"#FFFFFF",drawHandle:function(a,b,c,d,f,r){f||(f=!1);var m=3;null!=r&&(m=r);!b||null==b.rawNode?(a=a.createGroup(),f?(e.drawSquare(a,0,0,m,k.handleSelectedBorderColor,
k.handleSelectedBorderColor),e.drawSquare(a,0,0,m-k.handleBorderSize,k.handleSelectedInnerBorderColor,k.handleSelectedColor)):(e.drawSquare(a,0,0,m,k.handleBorderColor,k.handleBorderColor),e.drawSquare(a,0,0,m-k.handleBorderSize,k.handleColor,k.handleColor))):a=b;c=h.translate(c,d);a.setTransform(c);return a},drawCircleHandle:function(a,b,c,d,f,r){f||(f=!1);var m=3;null!=r&&(m=r);!b||null==b.rawNode?(a=a.createGroup(),f?(e.drawCircle(a,0,0,m,k.handleSelectedBorderColor,k.handleSelectedBorderColor),
e.drawCircle(a,0,0,m-k.handleBorderSize,k.handleSelectedInnerBorderColor,k.handleSelectedColor,2)):(e.drawCircle(a,0,0,m,k.handleBorderColor,k.handleBorderColor),e.drawCircle(a,0,0,m-k.handleBorderSize,k.handleColor,k.handleColor))):a=b;c=h.translate(c,d);a.setTransform(c);return a},moveCircleHandle:function(a,b,c){for(var d=0;d<a.children.length;d++)a.children[d].setShape({cx:b,cy:c})},calcExtendedLine:function(a,b,d,e,k,f,r,m,h,n){var w=[{},{}],l,E,q;l=f-m;E=r-k;q=k*m-r*f;w[0].x=k;w[1].x=r;w[0].y=
f;w[1].y=m;if(c.isZero(E))w[0].y=d,w[1].y=e;else if(c.isZero(l))w[0].x=a,w[1].x=b;else{w[0].x=a;w[1].x=b;w[0].y=(-q-l*a)/E;w[1].y=(-q-l*b)/E;for(a=0;1>=a;a++)w[a].y<d?(w[a].x=(-q-E*d)/l,w[a].y=d):w[a].y>e&&(w[a].x=(-q-E*e)/l,w[a].y=e)}h.x=w[0].x;h.y=w[0].y;n.x=w[1].x;n.y=w[1].y},getFixedSegmentDistance:function(a,b,d,e,k,f){var r,m,h;r=-1;a&&(a=e.x,e=e.y,r=k.x,m=k.y,k=(a-r)*(a-r)+(e-m)*(e-m),1E-6<k?(h=((e-d)*(e-m)-(a-b)*(r-a))/k,0<=h&&1>=h||f?(b=((e-d)*(r-a)-(a-b)*(m-e))/k,r=Math.round(Math.sqrt(b*
b*k))):r=Math.round(Math.min(c.hypot(b-a,d-e),c.hypot(b-r,d-m)))):r=Math.round(Math.min(c.hypot(b-a,d-e),c.hypot(b-r,d-m))));return r},getSegmentDistance:function(a,b,d,e,k,f){var r,m,h;r=-1;a&&(r=a.getAxisX().worldToView(e.x),e=a.getAxisY().worldToView(e.y),m=a.getAxisX().worldToView(k.x),k=a.getAxisY().worldToView(k.y),b=a.getAxisX().worldToView(b),d=a.getAxisY().worldToView(d),a=(r-m)*(r-m)+(e-k)*(e-k),1E-6<a?(h=((e-d)*(e-k)-(r-b)*(m-r))/a,0<=h&&1>=h||f?(f=((e-d)*(m-r)-(r-b)*(k-e))/a,r=Math.round(Math.sqrt(f*
f*a))):r=Math.round(Math.min(c.hypot(b-r,d-e),c.hypot(b-m,d-k)))):r=Math.round(Math.min(c.hypot(b-r,d-e),c.hypot(b-m,d-k))));return r},getPointDistance:function(a,b,d,e){var k;k=-1;a&&(k=a.getAxisX().worldToView(e.x),e=a.getAxisY().worldToView(e.y),b=a.getAxisX().worldToView(b),a=a.getAxisY().worldToView(d),k=Math.round(c.hypot(k-b,e-a)));return k},getPointDistance1:function(a,b,d,e,k){var f=-1;a&&(e=a.getAxisX().worldToView(e),k=a.getAxisY().worldToView(k),b=a.getAxisX().worldToView(b),a=a.getAxisY().worldToView(d),
f=Math.round(c.hypot(e-b,k-a)));return f},calcSegmentPart:function(a,b,c){return c*(b-a)+a},drawAbs:function(a,b,c,d,k,f,m,h,n,x,w){n||(n=r.DEF_PLINEWIDTH);w=[{},{}];x=[{},{}];var C=c-(k-c);r.calcRay(b.getAxisX().getMinimum(),b.getAxisX().getMaximum(),b.getAxisY().getMinimum(),b.getAxisY().getMaximum(),c,d,k,f,w[0],w[1]);r.calcRay(b.getAxisX().getMinimum(),b.getAxisX().getMaximum(),b.getAxisY().getMinimum(),b.getAxisY().getMaximum(),c,d,C,f,x[0],x[1]);if(a instanceof Array)a[0].setShape(b.worldToView(w)),
a[1].setShape(b.worldToView(x));else if(a&&(a.isInstanceOf(l.Surface)||0<=a.getUID().toLowerCase().indexOf("group")))return c=[],d=e.drawPolyline(a,b.worldToView(w),m,n,h,!0),a=e.drawPolyline(a,b.worldToView(x),m,n,h,!0),c.push(d),c.push(a),c;return a},getRayDistance:function(a,b,d,e,k){var f,r;f=-1;a&&(f=a.getAxisX().worldToView(e.x),e=a.getAxisY().worldToView(e.y),r=a.getAxisX().worldToView(k.x),k=a.getAxisY().worldToView(k.y),b=a.getAxisX().worldToView(b),d=a.getAxisY().worldToView(d),a=(f-r)*
(f-r)+(e-k)*(e-k),1E-6<a?0<=((e-d)*(e-k)-(f-b)*(r-f))/a?(f=((e-d)*(r-f)-(f-b)*(k-e))/a,f=Math.round(Math.sqrt(f*f*a))):f=Math.round(Math.min(c.hypot(b-f,d-e),c.hypot(b-r,d-k))):f=Math.round(Math.min(c.hypot(b-f,d-e),c.hypot(b-r,d-k))));return f},calcRay:function(a,b,d,e,k,f,r,m,h,n){var w=[{},{}],l=f-m,E=r-k,q=k*m-r*f;w[0].x=k;w[1].x=r;w[0].y=f;w[1].y=m;c.isZero(E)?w[1].y=m>=f?e:d:c.isZero(l)?w[1].x=r>=k?b:a:(w[0].x=k,w[1].x=r>=k?b:a,w[0].y=(-q-l*k)/E,w[1].y=(-q-l*w[1].x)/E,w[1].y<d?(w[1].x=(-q-E*
d)/l,w[1].y=d):w[1].y>e&&(w[1].x=(-q-E*e)/l,w[1].y=e));h.x=w[0].x;h.y=w[0].y;n.x=w[1].x;n.y=w[1].y},drawParabola:function(a,b,c,d,k,f,m,h,n,x){var w=[];r.calcParabolaPts(w,b.getAxisX().getMinimum(),b.getAxisX().getMaximum(),b.getAxisY().getMinimum(),b.getAxisY().getMaximum(),c,d,k,f,n);for(c=0;c<w.length;c++)w[c].x=b.getAxisX().worldToViewF(w[c].x),w[c].y=b.getAxisY().worldToViewF(w[c].y);if(a&&(a.isInstanceOf(l.Surface)||0<=a.getUID().toLowerCase().indexOf("group")))return e.drawPolyline(a,w,m,x,
h,!0);a.setShape(w);return a},calcParabolaPts:function(a,b,d,e,k,f,h,n,l,x){var w,C,E,q,s,G,I,L,O,Q;if(x==m.GraphParabolaType.UPDOWN)try{if(G=!1,w=c.sqr(n-f)/(4*(l-h)),isNaN(w)||c.isZero(w))r.drawUpDownLine(a,b,d,e,k,f,h,n,l);else{C=b;try{if(q=r.fOfX(C,w,f,h),q>k||q<e)G=!0}catch(M){G=!0}G&&(C=f-Math.sqrt(4*w*((0<w?k:e)-h)));G=!1;E=d;try{if(s=r.fOfX(E,w,f,h),s>k||s<e)G=!0}catch(R){G=!0}G&&(E=f+Math.sqrt(4*w*((0<w?k:e)-h)));I=100;for(L=0;L<I;L++)O=C+L*(E-C)/(I-1),Q=r.fOfX(O,w,f,h),a.push({x:O,y:Q})}}catch(P){r.drawUpDownLine(a,
b,d,e,k,f,h,n,l)}else try{if(G=!1,w=c.sqr(l-h)/(4*(n-f)),isNaN(w)||c.isZero(w))r.drawLeftRightLine(a,b,d,e,k,f,h,n,l);else{q=e;try{if(C=r.fOfY(q,w,f,h),C>d||C<b)G=!0}catch(V){G=!0}G&&(q=h-Math.sqrt(4*w*((0<w?d:b)-f)));G=!1;s=k;try{if(E=r.fOfY(s,w,f,h),E>d||E<b)G=!0}catch(S){G=!0}G&&(s=h+Math.sqrt(4*w*((0<w?d:b)-f)));I=100;for(L=0;L<I;L++)Q=q+L*(s-q)/(I-1),O=r.fOfY(Q,w,f,h),a.push({x:O,y:Q})}}catch(K){r.drawLeftRightLine(a,b,d,e,k,f,h,n,l)}},fOfX:function(a,b,d,e){return c.sqr(a-d)/(4*b)+e},fOfY:function(a,
b,d,e){return c.sqr(a-e)/(4*b)+d},drawUpDownLine:function(a,b,d,e,k,f,r,m,h){a.push({});a.push({});c.isZero(h-r)?(a[0].x=b,a[0].y=r,a[1].x=d,a[1].y=r):c.isZero(m-f)&&h<r?(a[0].x=f,a[0].y=r,a[1].x=f,a[1].y=e):h>r&&(a[0].x=f,a[0].y=r,a[1].x=f,a[1].y=k)},drawLeftRightLine:function(a,b,d,e,k,f,r,m,h){a.push({});a.push({});c.isZero(m-f)?(a[0].x=f,a[0].y=k,a[1].x=f,a[1].y=e):c.isZero(h-r)&&m<f?(a[0].x=f,a[0].y=r,a[1].x=b,a[1].y=r):m>f&&(a[0].x=f,a[0].y=r,a[1].x=d,a[1].y=r)},drawCurveX:function(a,b,c,d,
k,m,h){m||(m=r.DEF_PLINEWIDTH);var l,A,x,w;k=new n;k.setBoundary(f.IPSplineBoundary.NATURAL);for(h=0;h<c.length;h++)k.addPoint(c[h]);k.sortX();l=k.getPoint(0).x;A=k.getPoint(k.getPointCount()-1).x;w=Array(100);for(h=0;100>h;h++)c=l+h*(A-l)/99,x=k.getY(c),w[h]={x:b.getAxisX().worldToViewF(c),y:b.getAxisY().worldToViewF(x)};return e.drawPolyline(a,w,d,m,"solid",!0)},getCurveXDistance:function(a,b,c,d){var e,k,m,h,l={},x={},w=-1;e=new n;e.setBoundary(f.IPSplineBoundary.NATURAL);for(k=0;k<d.length;k++)e.addPoint(d[k]);
e.sortX();d=e.getPoint(0).x;m=e.getPoint(e.getPointCount()-1).x;x.x=0;for(k=x.y=0;100>k;k++)l.x=d+k*(m-d)/99,l.y=e.getY(l.x),0<k&&(h=r.getSegmentDistance(a,b,c,x,l),0<=h&&(w=0>w?h:Math.min(w,h))),x.x=l.x,x.y=l.y;return w},drawCurve3:function(a,b,d,k,f,m,h){m||(m=r.DEF_PLINEWIDTH);f={};h={};var n={},A={},x={},w={},C,E;r.normalizePts(b,d);r.calcCurve3Params(d,f,h,n,A,x,w);E=Array(100);for(d=0;100>d;d++)C=1*d/99,E[d]={x:f.value*c.sqr(C)+h.value*C+n.value,y:A.value*c.sqr(C)+x.value*C+w.value};r.unNormalizePts(b,
E);for(d=0;d<E.length;d++)E[d].x=b.getAxisX().worldToViewF(E[d].x),E[d].y=b.getAxisY().worldToViewF(E[d].y);return a&&(a.isInstanceOf(l.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?e.drawPolyline(a,E,k,m,"solid",!0):a.setShape(E)},getCurve3Distance:function(a,b,d,e){var k={},f={},m={},h={},n={},l={},w,C=-1,E={},q={};r.normalizePts(a,e);r.calcCurve3Params(e,k,f,m,h,n,l);for(e=0;100>e;e++)w=1*e/99,q.x=k.value*c.sqr(w)+f.value*w+m.value,q.y=h.value*c.sqr(w)+n.value*w+l.value,r.unNormalizeXY(a,
q),0<e&&(w=r.getSegmentDistance(a,b,d,E,q),0<=w&&(C=0>C?w:Math.min(C,w))),E.x=q.x,E.y=q.y;return C},normalizePts:function(a,b){var c,d,e,k,f;c=a.getAxisX().getMinimum();d=a.getAxisX().getMaximum();e=a.getAxisY().getMinimum();k=a.getAxisY().getMaximum();for(f=0;f<b.length;f++)b[f].x/=d-c,b[f].y/=k-e},unNormalizePts:function(a,b){var c,d,e,k,f;c=a.getAxisX().getMinimum();d=a.getAxisX().getMaximum();e=a.getAxisY().getMinimum();k=a.getAxisY().getMaximum();for(f=0;f<b.length;f++)b[f].x*=d-c,b[f].y*=k-
e},unNormalizeXY:function(a,b){var c,d,e,k;c=a.getAxisX().getMinimum();d=a.getAxisX().getMaximum();e=a.getAxisY().getMinimum();k=a.getAxisY().getMaximum();b.x*=d-c;b.y*=k-e},calcCurve3Params:function(a,b,d,e,k,f,r){var m,h,n;h=c.hypot(a[1].x-a[0].x,a[1].y-a[0].y);n=h+c.hypot(a[2].x-a[1].x,a[2].y-a[1].y);m=0;c.isZero(n)?h=1:(m=h/n,h=1*m*(m-1),c.isZero(h)&&(h=1));b.value=(1*(a[1].x-a[0].x)-(a[2].x-a[0].x)*m)/h;d.value=-((a[1].x-a[0].x)*c.sqr(1)-(a[2].x-a[0].x)*c.sqr(m))/h;k.value=(1*(a[1].y-a[0].y)-
(a[2].y-a[0].y)*m)/h;f.value=-((a[1].y-a[0].y)*c.sqr(1)-(a[2].y-a[0].y)*c.sqr(m))/h;e.value=a[0].x;r.value=a[0].y},drawPolyline:function(a,b,c,d,k,f,m,h){f||(f=r.DEF_PLINEWIDTH);c=q.clone(c);for(m=0;m<c.length;m++)c[m].x=b.getAxisX().worldToViewF(c[m].x),c[m].y=b.getAxisY().worldToViewF(c[m].y);return e.drawPolyline(a,c,d,f,k,h)},drawCircle:function(a,b,d,e,k,f,m,h,n,x){n||(n=r.DEF_PLINEWIDTH);x=c.hypot(k-d,f-e);k=b.getAxisX().worldToViewF(d-x);f=b.getAxisY().worldToViewF(e+x);d=b.getAxisX().worldToViewF(d+
x);b=b.getAxisY().worldToViewF(e-x);e=(d-k)/2;b=(b-f)/2;return a&&(a.isInstanceOf(l.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?a.createEllipse({cx:k+e,cy:f+b,rx:e,ry:b}).setStroke({color:m,width:n,style:h||"SOLID"}):a.setShape({cx:k+e,cy:f+b,rx:e,ry:b})},drawPolygon:function(a,b,c,k,f,r){r||(r=1);c=q.clone(c);for(f=0;f<c.length;f++)c[f].x=b.getAxisX().worldToViewF(c[f].x),c[f].y=b.getAxisY().worldToViewF(c[f].y);k=d.toRGB(k);k.a=r;return e.drawPolygon(a,c,k,k)},calcPolynom:function(a){for(var c=
a.length,d=new b({N:c}),e=Array(c),k=1;k<=c;k++){for(var f=1;f<=c;f++)d.setVal(k,f,Math.pow(a[k-1].x,c-f));e[k-1]=a[k-1].y}a=Array(c);f=d.determinant();for(k=1;k<=c;k++)a[k-1]=d.determinantK(k,e)/f,a[k-1]===Number.POSITIVE_INFINITY?a[k-1]=1E10:a[k-1]===Number.NEGATIVE_INFINITY&&(a[k-1]=1E-10);return a},drawPolynom:function(a,b,c,d,k,f,m){f||(f=r.DEF_PLINEWIDTH);m=b.getAxisX().getMinimum();for(var h=b.getAxisX().getMaximum(),n=[],l=0;100>l;l++){var w=m+l*(h-m)/99,C=r.getPolynomial(c,w),E={};E.x=b.getAxisX().worldToViewF(w);
E.y=b.getAxisY().worldToViewF(C);n.push(E)}return e.drawPolyline(a,n,d,f,k,!0)},getPolynomial:function(a,b){var c=0;if(null!=a)for(var d=1;d<=a.length;d++)c+=a[d-1]*Math.pow(b,a.length-d);return c},calcFunctionPts:function(a,b,d,e,k,f,r){function h(b,d,e){var r,t,u,v,w=0.05*(f-k);if(e.asymptoteX==b){r=0.8*b+0.2*d;n.push({x:r,y:a(r)});r=0.6*b+0.4*d;n.push({x:r,y:a(r)});r=0.4*b+0.6*d;n.push({x:r,y:a(r)});r=0.2*b+0.8*d;n.push({x:r,y:a(r)});n.push({x:d,y:a(d)});d=0.8*b+0.2*d;var l=NaN;u=n.length-5;do{r=
(b+d)/2;t=a(r);if(!isFinite(t)||c.sameValue(t,l,w))t=e.domainInfo==m.GraphDomainInfo.FROMPOSINFINITY?f+w:k-w,v=!0;l=t;n.splice(u,0,{x:r,y:t});d=r;if(v)break}while(t>k&&e.domainInfo==m.GraphDomainInfo.FROMNEGINFINITY||t<f&&e.domainInfo==m.GraphDomainInfo.FROMPOSINFINITY)}else if(e.asymptoteX==d){n.push({x:b,y:a(b)});r=0.8*b+0.2*d;n.push({x:r,y:a(r)});r=0.6*b+0.4*d;n.push({x:r,y:a(r)});r=0.4*b+0.6*d;n.push({x:r,y:a(r)});r=0.2*b+0.8*d;n.push({x:r,y:a(r)});b=r;l=NaN;do{r=(b+d)/2;t=a(r);if(!isFinite(t)||
c.sameValue(t,l,w))t=e.domainInfo==m.GraphDomainInfo.FROMPOSINFINITY?f:k,v=!0;n.push({x:r,y:t});b=r;if(v)break}while(t>k&&e.domainInfo==m.GraphDomainInfo.FROMNEGINFINITY||t<f&&e.domainInfo==m.GraphDomainInfo.FROMPOSINFINITY)}}r||(r=100);var n=[],l={};l.domainInfo=m.GraphDomainInfo.NONE;r+=1;for(var w=(e-d)/(r-1),C=0;C<=r;C++){var E=d+C*w;e=b(E);(l.domainInfo==m.GraphDomainInfo.FROMNEGINFINITY||l.domainInfo==m.GraphDomainInfo.FROMPOSINFINITY)&&e.domainInfo==m.GraphDomainInfo.DOMAIN?h(l.asymptoteX,
l.asymptoteX+w,l):(e.domainInfo==m.GraphDomainInfo.FROMNEGINFINITY||e.domainInfo==m.GraphDomainInfo.FROMPOSINFINITY)&&l.domainInfo==m.GraphDomainInfo.DOMAIN?h(e.asymptoteX-w,e.asymptoteX,e):e.domainInfo==m.GraphDomainInfo.DOMAIN&&(l={x:E,y:a(E)},n.push(l));l=e}return n}};return r})},"xl/grapher/IPDataSpline":function(){define(["dojo/_base/declare","xl/util/IPMath","./enums"],function(s,q,l){return s("xl.grapher.IPDataSpline",[],{_xCoef:null,_yCoef:null,_xValues:null,_yValues:null,_boundary:0,_slopeStart:null,
_slopeEnd:null,_needsCalc:!1,_xMonotone:!1,_yMonotone:!1,_xIncreases:!1,_yIncreases:!1,_cachedSlot:0,_isVertical:!1,_isHorizontal:!1,_isInfiniteX:!1,_isInfiniteY:!1,constructor:function(){this._boundary=l.IPSplineBoundary.NATURAL;this._slopeEnd=this._slopeStart=0;this._needsCalc=!0;this._xCoef=[];this._yCoef=[];this._xValues=[];this._yValues=[]},triDiag:function(h,n,f,m){var c,e,b,d;n>f&&(c=n,n=f,f=c);c=f;for(f=n;f<c;f++)e=h[f].c0,b=h[f].c1,d=h[f].c2,e=q.isZero(e)?0:h[f+1].c3/e,1E-20<Math.abs(e)?
(h[f+1].c3=e,h[f+1].c0-=e*b,h[f+1].c2-=e*d):h[f+1].c3=0;q.isZero(h[c].c0)?m[c]=0:m[c]=h[c].c2/h[c].c0;for(f=c-1;f>=n;f--)q.isZero(h[f].c0)?m[f]=0:m[f]=(h[f].c2-h[f].c1*m[f+1])/h[f].c0},getSlopeStart:function(){return this._slopeStart},setSlopeStart:function(h){q.sameValue(h,this._slopeStart)||(this._slopeStart=h,this._needsCalc=!0)},getSlopeEnd:function(){return this._slopeEnd},setSlopeEnd:function(h){q.sameValue(h,this._slopeEnd)||(this._slopeEnd=h,this._needsCalc=!0)},getBoundary:function(){return this._boundary},
setBoundary:function(h){h!=this._boundary&&(this._boundary=h,this._needsCalc=!0)},getPoint:function(h){return{x:this._xValues[h],y:this._yValues[h]}},checkMonotone:function(){var h;this._yMonotone=this._xMonotone=!0;this._xIncreases=this._xValues[this.getPointCount()-1]>this._xValues[0];for(h=1;h<this.getPointCount();h++)if(this._xIncreases&&this._xValues[h-1]>this._xValues[h]){this._xMonotone=!1;break}this._yIncreases=this._yValues[this.getPointCount()-1]>this._yValues[0];for(h=1;h<this.getPointCount();h++)if(this._yIncreases&&
this._yValues[h-1]>this._yValues[h]){this._yMonotone=!1;break}},calculate:function(){if(this._needsCalc){this._needsCalc=!1;this.checkMonotone();var h={},n={},f;if(this._xMonotone){this._xCoef=Array(this.getPointCount());for(f=0;f<this.getPointCount();f++)this._xCoef[f]={};this.calcCoef(this._xValues,this._yValues,this._xCoef,h,n);this._isVertical=h.value;this._isInfiniteY=n.value}if(this._yMonotone){this._yCoef=Array(this.getPointCount());for(f=0;f<this.getPointCount();f++)this._yCoef[f]={};this.calcCoef(this._yValues,
this._xValues,this._yCoef,h,n);this._isHorizontal=h.value;this._isInfiniteX=n.value}}},getXMonotone:function(){this.calculate();return this._xMonotone},getYMonotone:function(){this.calculate();return this._yMonotone},getXIncreases:function(){this.calculate();return this._xIncreases},getYIncreases:function(){this.calculate();return this._yIncreases},calcCoef:function(h,n,f,m,c){var e,b,d,k,r,a,t,u,v,D,z;m.value=!1;c.value=!1;if(!(0>=this.getPointCount())){z=this.getPointCount();t=Array(z);u=Array(z);
b=Array(z);for(e=0;e<z;e++)t[e]=0,u[e]=0,b[e]={};v=this._boundary==l.IPSplineBoundary.PARABOLIC||this._boundary==l.IPSplineBoundary.CUBIC?1:0;D=this._boundary==l.IPSplineBoundary.SLOPEEND||this._boundary==l.IPSplineBoundary.SLOPEBOTH?z-1:z-2;c.value=!1;m.value=!0;for(e=0;e<z-1;e++)t[e]=h[e+1]-h[e],q.isZero(t[e])?c.value=!0:m.value=!1;if(c.value){f[0].c0=n[0];f[0].c1=1E10;f[0].c2=0;f[0].c3=0;for(e=1;e<z;e++)f[e].c0=n[e],q.isZero(t[e-1])?f[e].c1=f[e-1].c1:f[e].c1=-f[e-1].c1,f[e].c2=0,f[e].c3=0}else{switch(this._boundary){case l.IPSplineBoundary.NATURAL:case l.IPSplineBoundary.SLOPEEND:b[0].c0=
1;b[0].c1=0;b[0].c2=0;break;case l.IPSplineBoundary.SLOPESTART:case l.IPSplineBoundary.SLOPEBOTH:b[0].c0=t[0];b[0].c1=0.5*t[0];b[0].c2=1.5*((n[1]-n[0])/t[0]-this._slopeStart);break;case l.IPSplineBoundary.PARABOLIC:b[1].c0=3*t[0]+2*t[1];b[1].c1=t[1];b[1].c2=3*((n[2]-n[1])/t[1]-(n[1]-n[0])/t[0]);break;case l.IPSplineBoundary.CUBIC:b[1].c0=4*t[0]+2*t[1],b[1].c1=t[1]-t[0],b[1].c2=3*((n[2]-n[1])/t[1]-(n[1]-n[0])/t[0])}h=t[v];m=n[v];a=n[v+1];for(e=v+1;e<=z-2;e++)c=a,a=n[e+1],r=t[e],q.isZero(r)||q.isZero(h)?
b[e].c2=1E10:b[e].c2=3*((a-c)/r-(c-m)/h),b[e].c0=2*(h+r),b[e].c3=h,h=b[e].c1=r,m=c;switch(this._boundary){case l.IPSplineBoundary.SLOPEEND:case l.IPSplineBoundary.SLOPEBOTH:h=t[z-2];b[z-1].c3=h;b[z-1].c0=2*h;q.isZero(h)?b[z-1].c2=1E10:b[z-1].c2=3*((n[z-2]-n[z-1])/h+this._slopeEnd);break;case l.IPSplineBoundary.PARABOLIC:b[z-2].c3=t[z-3];b[z-2].c0=2*t[z-3]+3*t[z-2];!q.isZero(n[z-2])&&!q.isZero(n[z-3])?b[z-2].c2=3*((n[z-1]-n[z-2])/n[z-2]-(n[z-2]-n[z-3])/n[z-3]):b[z-2].c2=1E10;break;case l.IPSplineBoundary.CUBIC:b[z-
2].c3=t[z-3]-t[z-2],b[z-2].c0=2*t[z-3]+4*t[z-2]}if(3==z&&this._boundary==l.IPSplineBoundary.PARABOLIC)try{u[1]=b[1].c2/(3*(t[0]+t[1])),isNaN(u[1])&&(u[1]=1E10)}catch(B){u[1]=1E10}else this.triDiag(b,v,D,u);this._boundary==l.IPSplineBoundary.PARABOLIC?(u[0]=u[1],u[z]=u[z-2]):this._boundary==l.IPSplineBoundary.CUBIC&&(u[0]=2*u[1]-u[2],u[z-1]=2*u[z-2]-u[z-3]);try{d=u[0];h=t[0];f[0].c2=d;f[0].c0=n[0];k=q.isZero(h)?n[1]>n[0]?1E10:-1E10:(n[1]-n[0])/h-(2*u[0]+u[1])*h/3;f[0].c1=k;for(e=1;e<=z-2;e++)f[e].c2=
u[e],f[e].c0=n[e],k=(f[e].c2+d)*h+k,f[e].c1=k,q.isZero(h)?f[e-1].c3=0:f[e-1].c3=(f[e].c2-d)/(3*h),d=f[e].c2,h=t[e];q.isZero(h)?f[z-2].c3=1E10:f[z-2].c3=(u[z-1]-d)/(3*h)}catch(F){console.log("error: "+F)}}}},inSlot:function(h,n,f,m){return m?n<f[h]?-1:n>=f[h+1]?1:0:n>f[h]?-1:n<=f[h+1]?1:0},refineSlot:function(h,n){for(var f=h;0<f;)if(q.sameValue(n[f-1],n[h]))f--;else break;return f},findSlot:function(h,n,f){var m,c,e,b,d;d=-1;0<=this._cachedSlot&&this._cachedSlot<this.getPointCount()-1&&(0==this.inSlot(this._cachedSlot,
h,n,f)&&(d=this._cachedSlot),0>d&&this._cachedSlot+1<this.getPointCount()-1&&0==this.inSlot(this._cachedSlot+1,h,n,f)&&(d=this._cachedSlot+1),0>d&&0<this._cachedSlot-1&&0==this.inSlot(this._cachedSlot-1,h,n,f)&&(d=this._cachedSlot-1));if(0<=d)return this._cachedSlot=d=this.refineSlot(d,n);this._cachedSlot=-1;if(0>d&&1<this.getPointCount()){e=this.getPointCount()-2;for(b=0;;){c=(e+b)/2;m=this.inSlot(c,h,n,f);if(0==m)return d=this._cachedSlot=c=this.refineSlot(c,n);0>m?e=c:b=c+1;if(b>=e)return d=this._cachedSlot=
this.refineSlot(e,n)}}this._cachedSlot=this.refineSlot(d,n);return d},findYValue:function(h,n){var f,m;m=NaN;0<=h&&h<this.getPointCount()&&(f=n-this._xValues[h],m=0*f+this._xCoef[h].c3,m=m*f+this._xCoef[h].c2,m=m*f+this._xCoef[h].c1,m=m*f+this._xCoef[h].c0);return m},findXValue:function(h,n){var f,m;m=NaN;0<=h&&h<this.getPointCount()&&(f=n-this._yValues[h],m=0*f+this._yCoef[h].c3,m=m*f+this._yCoef[h].c2,m=m*f+this._yCoef[h].c1,m=m*f+this._yCoef[h].c0);return m},sortPoints:function(h,n){var f,m,c,
e,b;f=this.getPointCount()-1;for(e=f>>1;0<e;){for(m=0;m<=f-e;m++)for(c=m;0<=c&&(q.sameValue(h[c],h[c+e],1E-8)&&n[c]>n[c+e]||!q.sameValue(h[c],h[c+e],1E-8)&&h[c]>h[c+e]);)b=h[c],h[c]=h[c+e],h[c+e]=b,b=n[c],n[c]=n[c+e],n[c+e]=b,c=c>e?c-e:0;e>>=1}},getIsVertical:function(){this.calculate();return this._isVertical},getIsInfiniteX:function(){this.calculate();return this._isInfiniteX},getIsHorizontal:function(){this.calculate();return this._isHorizontal},getIsInfiniteY:function(){this.calculate();return this._isInfiniteY},
addPoint:function(h){this._xValues.push(h.x);this._yValues.push(h.y);this._needsCalc=!0},addPointXY:function(h,n){this._xValues.push(h);this._yValues.push(n);this._needsCalc=!0},getY:function(h){var n;this.calculate();this._xMonotone?q.sameValue(h,this._xValues[this.getPointCount()-1])?h=this._yValues[this.getPointCount()-1]:(n=this.findSlot(h,this._xValues,this._xIncreases),h=this.findYValue(n,h)):h=NaN;return h},getX:function(h){var n;this.calculate();this._yMonotone?(n=this.findSlot(h,this._yValues,
this._yIncreases),h=this.findXValue(n,h)):h=NaN;return h},sortX:function(){this.sortPoints(this._xValues,this._yValues);this._needsCalc=!0},sortY:function(){this.sortPoints(this._yValues,this._xValues);this._needsCalc=!0},getPointCount:function(){return this._xValues.length}})})},"xl/editgraph/enums":function(){define([],function(){return{GraphToolType:{NONE:"none",SELECT:"select",LINE:"line",ASYMPTOTE:"asymptote",CIRCLE:"circle",PARABOLAY:"parabup",PARABOLAX:"parabside",POINT:"point",HOLE:"hole",
TRIANGLE:"triangle",RECTANGLE:"rectangle",CURVE3:"curve",CURVE4:"curve4",ARROW:"arrow",DBLARROW:"doublearrow",TEXT:"text",REGION:"region",POLYGON:"polygon",POLYLINE:"polyline",ABS:"abs",QUADRATIC:"quadratic",CUBIC:"cubic",XSQUARED:"xsquared",XCUBED:"xcubed",LOG:"log",EXP:"exp",SINE:"sine",COSINE:"cosine",COLOR:"color",DELETE:"delete",HELP:"help",CLEAR:"clear",SOLID:"solid",DASHED:"dashed",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow"},GraphToolTypeMessage:{NONE:"none",
DRAWLINE1:"drawline1",DRAWLINE2:"drawline2",DRAWPARABOLA1:"drawparabola1",DRAWPARABOLA2:"drawparabola2",DRAWCIRCLE1:"drawcircle1",DRAWCIRCLE2:"drawcircle2",DRAWPOINT:"drawpoint",SELECT:"select",DRAWTRIANGLE1:"drawtriangle1",DRAWTRIANGLE2:"drawtriangle2",DRAWTRIANGLE3:"drawtriangle3",DRAWRECTANGLE1:"drawrectangle1",DRAWRECTANGLE2:"drawrectangle2",DRAWCURVE31:"drawcurve31",DRAWCURVE32:"drawcurve32",DRAWCURVE33:"drawcurve33",DRAWCURVE41:"drawcurve41",DRAWCURVE42:"drawcurve42",DRAWCURVE43:"drawcurve43",
DRAWCURVE44:"drawcurve44",DRAWTEXT:"drawtext",DRAWREGION:"drawregion",DRAWPOLYGON1:"drawpolygon1",DRAWPOLYGON2:"drawpolygon2",DRAWPOLYGON3:"drawpolygon3",DRAWPOLYGON4:"drawpolygon4",DRAWPOLYGON4_MOBILE:"drawpolygon4_mobile",DRAWPOLYLINE1:"drawpolyline1",DRAWPOLYLINE2:"drawpolyline2",DRAWPOLYLINE3:"drawpolyline3",DRAWPOLYLINE4:"drawpolyline4",DRAWPOLYLINE4_MOBILE:"drawpolyline4_mobile",WARNINGUNDELETABLE:"warningundeletable",DRAWABS1:"drawabs1",DRAWABS2:"drawabs2",DRAWPOLYNOM1:"drawpolynom1",DRAWPOLYNOM2:"drawpolynom2",
DRAWPOLYNOM3:"drawpolynom3",DRAWPOLYNOMLAST:"drawpolynomlast",DRAWTRANSFORMATION1:"drawtransformation1"},GraphObjectType:{LINE:"line",ASYMPTOTE:"asymptote",CIRCLE:"circle",PARABOLAY:"parabolay",PARABOLAX:"parabolax",POINT:"point",HOLE:"hole",TRIANGLE:"triangle",RECTANGLE:"rectangle",CURVE3:"curve3",CURVEX:"curvex",ARROW:"arrow1",DBLARROW:"arrow2",TEXT:"text",REGION:"region",POLYGON:"polygon",POLYLINE:"polyline",ABS:"abs",QUADRATIC:"quadratic",CUBIC:"cubic",XSQUARED:"xsquared",XCUBED:"xcubed",LOG:"log",
EXP:"exp",SINE:"sine",COSINE:"cosine"},GraphObjectLineStyle:{SOLID:"solid",DASHED:"dashed",NONE:"none"},GraphSnapOptions:{GRID:"grid",NONE:"none",CUSTOM:"custom"},GraphObjectEvent:{SELECTION_CHANGED:"SELECTION_CHANGED",OBJECT_CHANGED:"object_changed",OBJECT_CREATED:"object_created",UPDATE_MESSAGE:"update_message",CURSOR_MOVED:"CURSOR_MOVED",TOOL_CHANGED:"TOOL_CHANGED",EDIT_LABEL:"EDIT_LABEL",POPUP_MESSAGE:"POPUP_MESSAGE",CLEARED_ALL:"CLEARED_ALL"},GraphPaletteEvent:{TOOL_SELECTED:"TOOL_SELECTED"},
GraphParabolaType:{UPDOWN:"updown",LEFTRIGHT:"leftright"},GraphDomainInfo:{NONE:0,FROMNEGINFINITY:1,FROMPOSINFINITY:2,INFINITY:3,DOMAIN:4},TransformControlType:{NONE:"none",SLIDER:"slider",INPUT:"inputfield",CHECKBOX:"checkbox"}}})},"xl/util/IPSqMatrix":function(){define(["dojo/_base/declare"],function(s){return s("xl.util.IPSqMatrix",[],{_cols:null,constructor:function(q){this._cols=Array(q.N);for(var l=0;l<q.N;l++)this._cols[l]=Array(q.N)},getSize:function(){return this._cols.length},getVal:function(q,
l){return this._cols[l-1][q-1]},setVal:function(q,l,h){this._cols[l-1][q-1]=h},_det:function(q,l){for(var h,n=0,f=h=1;f<=this.getSize();f++)if(!(0<=l.indexOf(f))){if(q==this.getSize())return this.getVal(q,f);n+=h*this.getVal(q,f)*this._det(q+1,l.concat(f));h*=-1}return n},determinant:function(){return this._det(1,[])},determinantK:function(q,l){var h=null;if(l.length!=this.getSize())throw Error("Y Column and Xn Matrix size are mismatched");var n=this._cols[q-1];try{this._cols[q-1]=l,h=this.determinant()}finally{this._cols[q-
1]=n}return h}})})},"xl/editgraph/GraphObjectLabel":function(){define("dojo/_base/declare xl/util/graphUtils xl/grapher/enums ./enums ./GraphObject ./GraphSettings ./LabelDropdown ./LabelDropdownMobile dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/json dojo/string dojo/_base/lang dojox/gfx/Moveable xl/grapher/BlobMover xl/grapher/IPGraphShapeBlob xl/editgraph/LabelHandle".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D){return s("xl.editgraph.GraphObjectLabel",[v],{_refPoint:null,
_dx:0,_dy:0,_fCenterX:null,_fCenterY:null,_positionSet:null,_font:null,_graph:null,_hAlignment:0,_vAlignment:0,_graphObject:null,_isFormula:null,_labelOptions:null,_location:null,_labelDropdown:null,_labelForeignObject:null,_labelHandle:null,_tag:null,_keepInBounds:null,_margin:0,_menu:null,_selectedIndex:-1,_handleOffsetX:0,_handleOffsetY:10,_lastBoundsRect:null,_labelLine:null,allowMove:!1,_disableEdit:!1,constructor:function(a){this.setMargin(5);this._keepInBounds=!0;this._positionSet=!1;this._font=
{fontFamily:f.graphTextFont,fontSize:f.graphTextSize}},getGraphData:function(){var a={};a.labeldx=this._dx;a.labeldy=this._dy;a.labelrefpoint=this._refPoint;a.objLabel=this.getSelectedValue();return a},getBoundsRect:function(){return this._lastBoundsRect},drawLabelLine:function(a,b,c){var d,e,k,f,r,t,m;if(this.getPositionSet()){b=l.IPGraphLineStyle.SOLID;d=this._graphObject.getPoint(this.getRefPoint()).x;c=this._graphObject.getPoint(this.getRefPoint()).y;e=this.getBoundsRect(a);q.fixRectangle(e);
e.left=e.left||e.x;e.right=e.right||e.x+e.w;e.top=e.top||e.y;e.bottom=e.bottom||e.y+e.h;f=this.getGraph().getAxisX().viewToWorld(e.left);r=this.getGraph().getAxisX().viewToWorld(e.right);t=this.getGraph().getAxisY().viewToWorld(e.top);m=this.getGraph().getAxisY().viewToWorld(e.bottom);k=this.getGraph().getAxisX().worldToView(d);var h=this.getGraph().getAxisY().worldToView(c);k>=e.left&&k<=e.right&&h>=e.top&&h<=e.bottom||(e=d<f?f:d>r?r:(f+r)/2,k=c>t?t:c<m?m:(t+m)/2,this.setCenterX((f+r)/2),this.setCenterY((t+
m)/2),f=n.getPointDistance1(this.getGraph(),d,c,e,k),5>f||(f=7/f,d=n.calcSegmentPart(d,e,f),c=n.calcSegmentPart(c,k,f),this._labelLine&&!this._labelLine.parent&&(this._labelLine.destroy(),this._labelLine=null),this._labelLine=n.drawSegment(this._labelLine||a,this.getGraph(),d,c,e,k,"#000000",b,0.1),this._labelLine.moveToBack()))}},startEditing:function(a){return!1},canSelect:function(a){return!1},mousePressed:function(a,b,c){a.editLabel(this)},setLocation:function(a){this._location!==a&&(this._location=
a)},updatePosition:function(){if(this._labelForeignObject){var a,b;a=this.getGraph().getAxisX().worldToViewF(this._location.x+this._dx);b=this.getGraph().getAxisY().worldToViewF(this._location.y+this._dy);this._lastBoundsRect||(this._lastBoundsRect=e.getMarginBox(this._labelForeignObject.holder.domNode));switch(this._hAlignment){case l.IPGraphAlignment.LEFT:a+=this._margin;break;case l.IPGraphAlignment.RIGHT:a=a-this._lastBoundsRect.w-2*this._margin;break;case l.IPGraphAlignment.CENTER:a=Math.round(a-
this._lastBoundsRect.w/2)}switch(this._vAlignment){case l.IPGraphAlignment.TOP:b+=this._margin;break;case l.IPGraphAlignment.BOTTOM:b=b-this._lastBoundsRect.h-2*this._margin;break;case l.IPGraphAlignment.MIDDLE:b-=Math.round(this._lastBoundsRect.h/2)}this._lastBoundsRect.x=a;this._lastBoundsRect.y=b;this._lastBoundsRect.left=a;this._lastBoundsRect.right=a+this._lastBoundsRect.w;this._lastBoundsRect.top=b;this._lastBoundsRect.bottom=b+this._lastBoundsRect.h;this._labelForeignObject.setBox(this._lastBoundsRect);
this._labelForeignObject.moveToBack();null==this._labelHandle&&(this._labelHandle&&(this._labelHandle.destroy(),this._labelHandle=null),this.allowMove&&(this.getGraph().getGraphControl().editable&&!this.getGraph().getGraphControl().useMobileLabels)&&(this._labelHandle=this.createLabelHandle()));if(this._labelHandle&&this.getGraph().getGraphControl().editable&&this.allowMove){a=this.getGraph().getAxisX().viewToWorld(this._lastBoundsRect.right);b=this.getGraph().getAxisY().viewToWorld(this._lastBoundsRect.top);
var c=this._labelHandle.getLocationX(),d=this._labelHandle.getLocationY();this._labelHandle._surface||(this._labelHandle._surface=this.getGraph().getBlobSurfaceLayer());this._labelHandle.setLocation(a,b,!0);c===a&&d===b&&this._labelHandle.redraw()}this._graphObject&&this.drawLabelLine(this.getGraph().getBlobSurfaceLayer());this._activateLabelDropDown(this.allowMove&&this.getGraph().getGraphControl().editable||this._graphObject.getIsStatic());this._graphObject&&this._graphObject.getIsStatic()&&this.adjustLabelPosition()}},
_activateLabelDropDown:function(a){this._labelDropdown&&(this._labelDropdown.isActive(a),this._labelForeignObject&&a&&this._labelForeignObject.moveToFront())},draw:function(b,c,e){if(!this._labelForeignObject||!this._labelForeignObject.domNode.parentNode||!this._labelForeignObject.domNode.parentNode.parentNode.parentNode)this._labelDropdown?c="\x26nbsp;":(c={disableEdit:0<=this._graphObject.getTag()||this._disableEdit,labelOptions:this.getLabelOptions(),isFormula:this.getIsFormula(),emptyDisplayText:"???",
dropdownId:this.getMenu().id},c=k.stringify(c),c=c.substr(1,c.length-2),c=c.replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),e=this.getGraph().getGraphControl().useMobileLabels?"LabelDropdownMobile":"LabelDropdown",c=r.substitute("\x3cdiv data-dojo-type\x3d'xl.editgraph.${labelType}' data-dojo-props\x3d'${props}'\x3e\x3c/div\x3e",{props:c,labelType:e})),this._labelForeignObject=b.createForeignObject({content:c,fontFamily:this._font.fontFamily,
fontSize:this._font.fontSize,layerPosition:"after"}),this._lastBoundsRect=null,this._labelDropdown?(d.empty(this._labelForeignObject.domNode),d.place(this._labelDropdown.domNode,this._labelForeignObject.domNode)):this._labelDropdown=this._labelForeignObject.getWidgets()[0],this._labelForeignObject.startup(),this._labelDropdown.on("selectionChanged",a.hitch(this,this.labelSelectionChanged)),this._labelDropdown.on("opendropdown",a.hitch(this,this.labelOpenDropDown)),this._labelDropdown.on("closedropdown",
a.hitch(this,this.labelCloseDropDown)),this._labelDropdown.on("ondropdownmousedown",a.hitch(this,this.labelClicked)),0<=this._selectedIndex?this._labelDropdown.changeSelection(this._selectedIndex):1===this._tag&&this._labelDropdown.setDisplayNodeHtml(this.objLabel),this.allowMove&&this.getGraph().getGraphControl().editable&&!this.getGraph().getGraphControl().useMobileLabels?(null==this._labelHandle&&(this._labelHandle&&(this._labelHandle.destroy(),this._labelHandle=null),this._labelHandle=this.createLabelHandle()),
this._activateLabelDropDown(!0)):(this._activateLabelDropDown(this._graphObject.getIsStatic()),this._labelHandle&&(this._labelHandle.destroy(),this._labelHandle=null));this.updatePosition();this._keepInBounds&&this.adjustLabelPosition()},labelClicked:function(){var a=this.getGraph().getGraphControl().getGraphManager();a.isReact&&(a.selectObject(this._graphObject),this._activateLabelDropDown(!0))},labelOpenDropDown:function(a){this.getGraph().staticLabelActive=!0;a.labelId=this.id;this.getGraph().getGraphControl().getGraphManager().graphObjectLabelMenuOpened()},
labelCloseDropDown:function(){this.getGraph().staticLabelActive=!1;this.getGraph().onFocus();this.getGraph().getGraphControl().getGraphManager().graphObjectLabelMenuClosed()},createLabelHandle:function(){var b=new D({_graph:this.getGraph(),_showVertLine:!1,_showHorzLine:!1});b.startup();this._handleOffsetX=b.getWidth();b.on(l.IPGraphBlobEvent.BLOB_MOVED,a.hitch(this,this.labelHandleMoved));return b},labelHandleMoved:function(a){var b=this.getGraph().getAxisX().worldToViewF(a.x)-this._lastBoundsRect.w,
b=this.getGraph().getAxisX().viewToWorld(b);a.x=b;this.emit(l.IPGraphBlobEvent.BLOB_MOVED,a);this.updatePosition()},labelSelectionChanged:function(a){this._selectedIndex=a.selectedIndex;this._lastBoundsRect=null;b.set(this._labelForeignObject.domNode,{width:null,height:null});this.updatePosition();this.getGraph().getGraphControl().getGraphManager().emit("graphobjectlabel_changed",{bubbles:!0})},adjustLabelPosition:function(){var b=!1,c=this.getGraph(),d=0,e=0,k=a.clone(this._lastBoundsRect);k.right+=
this._handleOffsetX;var f=c.getPlotRect().clone();f.top-=c.getMarginTop();f.bottom+=c.getMarginBottom();f.left-=c.getMarginLeft();f.right+=c.getMarginRight();k.right>f.right&&(d-=k.right-f.right,b=!0);k.left<f.left&&(d+=f.left-k.left,b=!0);k.bottom>f.bottom&&(e-=k.bottom-f.bottom,b=!0);k.top<f.top&&(e+=f.top-k.top,b=!0);b&&this.setLocation(this._graphObject.getPoint(this.getRefPoint()));this._graphObject&&b&&(k=c.getAxisX().worldToView(this._dx),k=c.getAxisX().viewToWorld(k+d),d=c.getAxisY().worldToView(this._dy),
d=c.getAxisY().viewToWorld(d+e),this.setDx(k),this.setDy(d),this.updatePosition());return b},getGraphObject:function(){return this._graphObject},setGraphObject:function(a){this._graphObject=a},getDx:function(){return this._dx},setDx:function(a){this._dx=a},getDy:function(){return this._dy},setDy:function(a){this._dy=a},getRefPoint:function(){return this._refPoint},setRefPoint:function(a){this._refPoint=a},getPositionSet:function(){return this._positionSet},setPositionSet:function(a){this._positionSet=
a},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(a){this._selectedIndex=a;this.objLabel=this.getSelectedValue()},getSelectedValue:function(){return 0<=this._selectedIndex&&this._labelOptions&&this._labelOptions.length>=this._selectedIndex?this._labelOptions[this._selectedIndex]:""},objLabel:null,setSelectedValue:function(a){var b=-1;this.objLabel=a;this._labelOptions&&(b=this._labelOptions.indexOf(a));this._selectedIndex=b},getCenterX:function(){return this._fCenterX},
setCenterX:function(a){this._fCenterX=a},getCenterY:function(){return this._fCenterY},setCenterY:function(a){this._fCenterY=a},getGraph:function(){return this._graph},setGraph:function(a){this._graph=a;null==this._graph&&(this._labelForeignObject&&this._labelForeignObject.holder&&this._labelForeignObject.holder.domNode)&&(d.destroy(this._labelForeignObject.holder.domNode),this._labelHandle=this._labelDropdown=null)},getIsFormula:function(){return this._isFormula},setIsFormula:function(a){this._isFormula=
a},getLabelOptions:function(){return this._labelOptions},setLabelOptions:function(a){this._labelOptions=a},getTag:function(){return this._tag},setTag:function(a){this._tag=a},getLocation:function(){return this._location},getMargin:function(){return this._margin},setMargin:function(a){this._margin=a},getHAlignment:function(){return this._hAlignment},setHAlignment:function(a){this._hAlignment=a},getVAlignment:function(){return this._vAlignment},setVAlignment:function(a){this._vAlignment=a},getMenu:function(){return this._menu},
setMenu:function(a){this._menu=a},getDisableEdit:function(){return this._disableEdit},setDisableEdit:function(a){this._disableEdit=a},getLabelDropdown:function(){return this._labelDropdown}})})},"xl/editgraph/LabelDropdown":function(){define("dijit/_Widget dijit/_WidgetBase xl/player/controls/_InputObject dijit/_TemplatedMixin dijit/_HasDropDown dijit/form/_FormWidgetMixin dojo/text!./templates/LabelDropdown.html dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry xl/util/localization!html5player/player dojo/on dojo/_base/lang dojo/keys dojo/_base/event dojo/parser dojo/string dojo/dom-attr dijit/Menu dijit/MenuItem dijit/Tooltip xl/eqeditor/EqLabel xl/util/localization!html5player/graphmanager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G){return c("xl.editgraph.LabelDropdown",[q,h,n,f],{templateString:m,baseClass:"xlLabelDropdown",placeHolderText:G["sdg.add_a_label"],autoWidth:!0,selectedIndex:-1,maxHeight:-1,printing:!1,disableEdit:!1,isFormula:null,emptyDisplayText:"\x26nbsp;",labelOptions:null,dropdownId:null,constructor:function(a){z.mixin(this,a);this.placeHolderText=this.placeHolderText.replace(/ /g,"\x26nbsp;")},postCreate:function(){this.inherited(arguments);
this.readOnly=!0},isLoaded:function(){return!1},loadDropDown:function(a){this.dropdownId&&(this.dropDown=u.byId(this.dropdownId));this.dropDown.labelDropdownObj=this;D.once(this.dropDown,"itemClick",z.hitch(this,this.menuItemClicked));this.inherited(arguments);t.add(this.dropDown.domNode,"labelDropdownMenu")},_onKeyUp:function(a){0<=this.selectedIndex&&a.keyCode==B.ENTER?F.stop(a):this.inherited(arguments)},startup:function(){this.inherited(arguments)},setDisplayNodeHtml:function(b){var c,d=null;
this.isFormula?(d=new H({docSettings:{interpretFunctions:!1}}),d.setEqText(b),c=d.domNode):(c=a.create("div"),c.innerHTML=text);this.displayNode.innerHTML="";a.place(c,this.displayNode);d&&d.startup();b!==this.placeHolderText&&t.remove(this.displayNode,"empty")},changeSelection:function(a){a!=this.selectedIndex&&(this.selectedIndex=a,!this.dropDown&&this.dropdownId&&(this.dropDown=u.byId(this.dropdownId)),a=this.dropDown.getChildren()[a].containerNode,this.displayNode.innerHTML=a.innerHTML);0<=this.selectedIndex&&
t.remove(this.displayNode,"empty")},setWidth:function(a){b.set(this.displayNode,"width",a+"px")},menuItemClicked:function(a,b){var c=a.itemNode.innerHTML.replace(/id="[a-zA-Z\-_0-9]+"/g,"");this.displayNode.innerHTML=a.containerNode.innerHTML;var d;this.selectedIndex=d=this.isFormula?this.labelOptions.indexOf(a.plainValue):this.labelOptions.indexOf(c);this.inputFilled=!0;c!==this.placeHolderText&&t.remove(this.displayNode,"empty");this.emit("selectionChanged",{selectedIndex:d,displayNode:this.displayNode})},
onselectionChanged:function(){},openDropDown:function(){this.disableEdit||(this.emit("opendropdown"),this.inherited(arguments))},closeDropDown:function(a){this.inherited(arguments);this.emit("closedropdown")},isActive:function(a){a?(this.readOnly=!1,t.add(this.domNode,"active"),t.add(this.displayNode,"xlLabelDropdownItemSelected")):(this.readOnly=!0,t.remove(this.domNode,"active"),t.remove(this.displayNode,"xlLabelDropdownItemSelected"))},_onDropDownMouseDown:function(a){this.disableEdit||(this.emit("ondropdownmousedown"),
this.inherited(arguments),a.stopPropagation())}})})},"xl/player/controls/_InputObject":function(){define("dojo/_base/declare dojo/_base/connect dojo/dom dojo/dom-construct dojo/dom-attr dojo/on dojo/_base/lang dojo/_base/array dojo/touch dojo/has ./_InputFeedbackObject xl/util/eqUtils".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.player.controls._InputObject",[d],{inputFilled:!1,isAnswered:!1,isCorrect:!1,_inputNode:null,constructor:function(){this.isTouch=b("touch")},postCreate:function(){this._inputNode=
this.domNode;this.inherited(arguments)},inputChanged:function(){f.emit(this._inputNode||this.domNode,"input_changed",{bubbles:!0,cancelable:!0,sourceObject:this})},isInputEmpty:function(){return!this.inputFilled},startup:function(){this._started||(this.inherited(arguments),this.isStatic()||q.publish("input_added",this))},destroy:function(){this.isStatic()||q.publish("input_removed",this);this._inputNode=null;this.inherited(arguments)},isTouch:!1,inputEntered:function(){var b=this;setTimeout(function(){f.emit(b.domNode,
"input_entered",{bubbles:!0,cancelable:!0,sourceObject:b})},250)},getInputData:function(){return null},isStatic:function(){return!1},canShowToolTip:function(){return this.isAnswered&&!this.isCorrect&&this.toolTipContent},clear:function(){},createAriaLabelledBy:function(b,a,c){var d=this._getAriaLabel(c);c=this._getAriaAttributeId(c,"label");l.byId(c)&&h.destroy(c);h.create("span",{innerHTML:k.altTextExpander(d),id:c},a);n.set(b,"aria-labelledby",c)},_getAriaLabel:function(b){if(this.ariaLabel)return this.ariaLabel;
var a=this.getDefaultAccessibleName();return b?b+" "+a:a},_getAriaAttributeId:function(b,a){var c=this.id+"_";b&&(c+=b+"_");return c+a},createAriaDescribedBy:function(b,a,c,d){c=this._getDescriptionText(c);d=this._getAriaAttributeId(d,"description");l.byId(d)&&h.destroy(d);h.create("span",{innerHTML:k.altTextExpander(c),id:d},a);n.set(b,"aria-describedby",d)},_getDescriptionText:function(b){b&&(this.ariaDescription=b);return this.ariaDescription}})})},"xl/player/controls/_InputFeedbackObject":function(){define("dojo/_base/declare dojo/_base/connect dijit/Tooltip xl/player/dialogs/InputFeedbackDialog dojo/dom dojo/on dijit/popup dojo/mouse dojo/_base/lang dojo/_base/array dojo/touch dojo/dom-class dojo/dom-attr dojo/keys dojo/has dojo/dom-style".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){return s("xl.player.controls._InputFeedbackObject",null,{toolTip:null,showFeedbackLink:!1,toolTipContent:null,focusBackToNode:null,constructor:function(){this._mouseEvents=[]},destroy:function(){this.inherited(arguments);this.toolTip&&this.toolTip.destroyRecursive();this._clearMouseEvents();this._wrapperKeyEvent&&this._wrapperKeyEvent.remove()},canShowToolTip:function(){return this.toolTipContent},updateToolTip:function(a){a||(a=this.domNode);this.canShowToolTip()?
this.toolTip=new l({connectId:[a],label:this.toolTipContent,position:["below","after","before","above"]}):this.toolTip&&(this.toolTip.removeTarget(this.domNode),this.toolTip=null)},_wrapperKeyEvent:null,_evtDocumentClick:null,_mouseEvents:null,updateToolTipDijit:function(a,b){var c=a?n.byId(a):this.domNode;this.toolTip&&this._destroyToolTip();this.canShowToolTip()&&(this.toolTip=new h({id:this.id+"_tooltip",baseClass:"xlTooltip",content:this.toolTipContent,showFeedbackLink:this.showFeedbackLink,onCancel:e.hitch(this,
function(){this._hideToolTip()}),inputId:this.parentClientId?this.parentClientId:this.id}),"offsetWidth"in c||(c.offsetWidth=0),u.set(this.toolTip.containerNode,"max-width",0.7*this.getViewer().domNode.offsetWidth+"px"),this._setMouseEvents(c,b))},_setMouseEvents:function(a,b){this._mouseEvents.push(f.once(this.toolTip,"show",function(){this.startup()}));this._mouseEvents.push(f(a,d.release,e.hitch(this,function(b){this._showToolTip(a);b.preventDefault();b.stopPropagation()})));b||(this._wrapperKeyEvent=
this.wrapDomNode(a,e.hitch(this,function(){this._showToolTip(a)})))},_destroyToolTip:function(){this.toolTip.destroy();this.toolTip=null;this._clearMouseEvents()},_clearMouseEvents:function(){this._evtDocumentClick&&this._evtDocumentClick.remove();this._evtDocumentClick=null;b.forEach(this._mouseEvents,function(a){a.remove()});this._mouseEvents=[]},_showToolTip:function(a){if(this.toolTip){m.open({popup:this.toolTip,around:a});var b=this;this._evtDocumentClick&&this._evtDocumentClick.remove();this._evtDocumentClick=
f(window.document,d.press,e.hitch(this,function(a){(!b.toolTip||!n.isDescendant(a.target,b.toolTip.domNode))&&b._hideToolTip()}))}},showToolTip:function(a,b){this.focusBackToNode=b;this._showToolTip(a)},_hideToolTip:function(){m.close(this.toolTip);this._evtDocumentClick&&(this._evtDocumentClick.remove(),this._evtDocumentClick=null);this.focusBackToNode?this.focusBackToNode.focus():this.domNode&&this.domNode.focus()},wrapDomNode:function(b,c,d){var t={"class":"incorrectInput",tabindex:"0"};d&&e.mixin(t,
d);r.set(b,"tabindex","0");k.add(b,"incorrectInput");return f(b,"keydown",e.hitch(this,function(b){b.keyCode===a.ENTER&&(b.stopPropagation(),b.preventDefault(),c())}))}})})},"xl/player/dialogs/InputFeedbackDialog":function(){define("dojo/_base/declare dijit/TooltipDialog dijit/form/Button dijit/form/Textarea dijit/_WidgetsInTemplateMixin dojo/text!./templates/InputFeedbackDialog.html dojo/dom-style dojo/dom-geometry dojo/dom-construct xl/util/localization!html5player/popup dojo/_base/lang dojo/on xl/player/controls/_NeedsPlayerViewer xl/util/localization!html5player/player dojo/dom-attr".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){return s("xl.player.dialogs.InputFeedbackDialog",[q,n,r],{isModal:!0,showFeedbackLink:!1,feebackLink:null,feedbackAction:null,templateString:f,constructor:function(a){},postCreate:function(){this.inherited(arguments);if(this.showFeedbackLink){var c=e.create("div");this.addFocusableCloseButton(c);e.place("\x3cdiv\x3e"+this.content+"\x3c/div\x3e",c);var f=e.create("div",{"class":"feedbackLink"},c),f=this.feebackLink=e.create("a",{href:"void:javascript(0);",title:b.answerfeedback,
innerHTML:b.answerfeedback},f);this.own(k(f,"click",d.hitch(this,this.linkClicked)));this.set("content",c)}this.closeText&&t.set(this.closeText,"title",a["button.close"])},onCancel:function(){},linkClicked:function(a){a.preventDefault();a.stopPropagation();if(a=this.getViewer())a.postCommand("getinputfeedback",{id:this.inputId}),this.onCancel()},onShow:function(){this.inherited(arguments);this.showFeedbackLink&&this.feebackLink?this.feebackLink.focus():this.closeButtonNode.focus();if(this._popupWrapper){var a=
this._popupWrapper,b=c.position(a,!0),d=c.position(this.domNode,!0);d.h>b.h&&(m.set(a,{overflowY:"visible"}),m.set(this.domNode,{overflowY:"scroll",height:b.h-10+"px"}));d.w>b.w&&(m.set(a,{overflowX:"visible"}),m.set(this.domNode,{overflowX:"scroll",width:b.w-10+"px"}))}},addFocusableCloseButton:function(b){m.set(this.closeButtonNode,{display:"none"});b=e.create("span",{"class":"dijitDialogCloseIcon toolTipClose",title:"Close",role:"button",tabindex:"0"},b);b.textContent="X";this.own(k(b,"click",
d.hitch(this,this.onCancel)));this.own(k(b,"keydown",d.hitch(this,this.keyPressCloseHandler)));this.closeText&&t.set(b,"title",a["button.close"])},keyPressCloseHandler:function(a){if(13===a.keyCode||32===a.keyCode)this.onCancel()}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(s,q,l,h){return s("dijit.form.Textarea",[h,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);
q.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(s,q,l,h,n,f,m){l.add("textarea-needs-help-shrinking",function(){var c=f.body(),e=q.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",
height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},c,"last"),b=e.scrollHeight>=e.clientHeight;c.removeChild(e);return b});return s("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var c=this.textbox;c.style.overflowY="hidden";
this.own(n(c,"focus, resize",h.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(m.on("resize",h.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function c(){var a=!1;""===e.value&&(e.value=" ",a=!0);var b=e.scrollHeight;a&&(e.value="");return b}var e=
this.textbox;"hidden"==e.style.overflowY&&(e.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(c()||e.offsetHeight){var b=c()+Math.max(e.offsetHeight-e.clientHeight,0),d=b+"px";d!=e.style.height&&(e.style.height=d,e.rows=1);if(l("textarea-needs-help-shrinking")){var k=c(),f=e.style.minHeight,a=4,t=e.scrollTop;e.style.minHeight=d;for(e.style.height="auto";0<b;){e.style.minHeight=Math.max(b-a,4)+"px";d=c();k-=d;b-=k;if(k<a)break;k=d;a<<=1}e.style.height=b+"px";e.style.minHeight=f;e.scrollTop=
t}e.style.overflowY=c()>e.clientHeight?"auto":"hidden";"hidden"==e.style.overflowY&&(e.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(s,q,l,h){return s("dijit.form.SimpleTextarea",h,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&q.add(this.textbox,"dijitTextAreaCols")},filter:function(h){h&&(h=h.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(h){if(this.maxLength){var f=parseInt(this.maxLength),m=this.textbox.value.replace(/\r/g,""),f=m.length-f;if(0<f){var c=this.textbox;if(c.selectionStart){var e=c.selectionStart,
b=0;l("opera")&&(b=(this.textbox.value.substring(0,e).match(/\r/g)||[]).length);this.textbox.value=m.substring(0,e-f-b)+m.substring(e-b);c.setSelectionRange(e-f,e-f)}else this.ownerDocument.selection&&(c.focus(),m=this.ownerDocument.selection.createRange(),m.moveStart("character",-f),m.text="",m.select())}}this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){c=s("dijit.form.TextBox"+(m("dojo-bidi")?"_NoBidi":""),[c,e],{templateString:b,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:m("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var b=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==b||"file"==b)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>m("ie")&&this.defer(function(){try{var b=l.getComputedStyle(this.domNode);if(b){var c=b.fontFamily;if(c){var a=this.domNode.getElementsByTagName("INPUT");if(a)for(b=0;b<a.length;b++)a[b].style.fontFamily=c}}}catch(d){}})},_setPlaceHolderAttr:function(b){this._set("placeHolder",b);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=q.create("span",{onmousedown:function(b){b.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(f(this._phspan,"touchend, pointerup, MSPointerUp",n.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(b));this._updatePlaceHolder()},_onInput:function(b){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(b,c,a){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){h.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(b){h.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
b)},_onBlur:function(b){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),m("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(b){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>m("ie")&&(c.prototype._isTextSelected=function(){var b=this.ownerDocument.selection.createRange();return b.parentElement()==this.textbox&&0<b.text.length},d._setSelectionRange=e._setSelectionRange=function(b,
c,a){b.createTextRange&&(b=b.createTextRange(),b.collapse(!0),b.moveStart("character",-99999),b.moveStart("character",c),b.moveEnd("character",a-c),b.select())});m("dojo-bidi")&&(c=s("dijit.form.TextBox",c,{_setPlaceHolderAttr:function(b){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return c})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(s,q,l,h,n,f,m,c){var e=q("dijit.form._TextBoxMixin"+
(h("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(b,c,e){var f;void 0!==b&&(f=this.filter(b),"string"!=typeof e&&(e=null!==f&&("number"!=typeof f||!isNaN(f))?this.filter(this.format(f,this.constraints)):""));if(null!=e&&("number"!=typeof e||!isNaN(e))&&this.textbox.value!=e)this.textbox.value=e,this._set("displayedValue",
this.get("displayedValue"));this.inherited(arguments,[f,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(b){null==b?b="":"string"!=typeof b&&(b=String(b));this.textbox.value=b;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(b){return null==b?"":b.toString?b.toString():b},parse:function(b){return b},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,
_onInput:function(b){this._processInput(b);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(b){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(m(this.textbox,"keydown, keypress, paste, cut, input, compositionend",f.hitch(this,function(b){var c;if("keydown"==b.type){c=b.keyCode;switch(c){case n.SHIFT:case n.ALT:case n.CTRL:case n.META:case n.CAPS_LOCK:case n.NUM_LOCK:case n.SCROLL_LOCK:return}if(!b.ctrlKey&&
!b.metaKey&&!b.altKey){switch(c){case n.NUMPAD_0:case n.NUMPAD_1:case n.NUMPAD_2:case n.NUMPAD_3:case n.NUMPAD_4:case n.NUMPAD_5:case n.NUMPAD_6:case n.NUMPAD_7:case n.NUMPAD_8:case n.NUMPAD_9:case n.NUMPAD_MULTIPLY:case n.NUMPAD_PLUS:case n.NUMPAD_ENTER:case n.NUMPAD_MINUS:case n.NUMPAD_PERIOD:case n.NUMPAD_DIVIDE:return}if(65<=c&&90>=c||48<=c&&57>=c||c==n.SPACE)return;c=!1;for(var e in n)if(n[e]===b.keyCode){c=!0;break}if(!c)return}}(c=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||
(c=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==n.SPACE?String.fromCharCode(b.keyCode):b.keyCode);c||(c=229);if("keypress"==b.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(b.ctrlKey||b.metaKey||b.altKey)return}if("input"==b.type){if(this.__skipInputEvent){this.__skipInputEvent=!1;return}}else this.__skipInputEvent=!0;var r={faux:!0},a;for(a in b)"layerX"!=a&&"layerY"!=a&&(e=b[a],"function"!=typeof e&&"undefined"!=typeof e&&
(r[a]=e));f.mixin(r,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){r._wasConsumed=!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});!1===this.onInput(r)&&(r.preventDefault(),r.stopPropagation());r._wasConsumed||(this.defer(function(){this._onInput(r)}),"keypress"==b.type&&b.stopPropagation())})))},_blankValue:"",filter:function(b){if(null===b)return this._blankValue;if("string"!=typeof b)return b;this.trim&&(b=f.trim(b));this.uppercase&&(b=b.toUpperCase());this.lowercase&&
(b=b.toLowerCase());this.propercase&&(b=b.replace(/[^\s]+/g,function(b){return b.substring(0,1).toUpperCase()+b.substring(1)}));return b},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(b){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(b){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==b&&(this._selectOnClickHandle=m.once(this.domNode,
"mouseup, touchend",f.hitch(this,function(b){this._isTextSelected()||e.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});h("dojo-bidi")&&(e=q("dijit.form._TextBoxMixin",e,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},
_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));e._setSelectionRange=c._setSelectionRange=function(b,c,e){b.setSelectionRange&&b.setSelectionRange(c,e)};e.selectInputText=c.selectInputText=function(b,c,k){b=l.byId(b);isNaN(c)&&(c=0);isNaN(k)&&(k=b.value?b.value.length:0);try{b.focus(),e._setSelectionRange(b,c,k)}catch(f){}};return e})},"xl/editgraph/LabelDropdownMobile":function(){define("dijit/_Widget dijit/_WidgetBase xl/player/controls/_InputObject dijit/_TemplatedMixin dijit/_HasDropDown dijit/form/_FormWidgetMixin dojo/text!./templates/LabelDropdown.html dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry xl/util/localization!html5player/player dojo/on dojo/_base/lang dojo/keys dojo/_base/event dojo/parser dojo/string dojo/dom-attr dijit/Menu dijit/MenuItem dijit/Tooltip xl/eqeditor/EqLabel xl/editgraph/LabelDropdown xl/util/nativeDeferredManager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I){return c("xl.editgraph.LabelDropdownMobile",[G],{baseClass:"xlLabelDropdown",placeHolderText:"ADD\x26nbsp;A\x26nbsp;LABEL",constructor:function(a){z.mixin(this,a)},postCreate:function(){this.inherited(arguments);t.add(this.domNode,"xlLabelDropdownPlaceholder");t.add(this.domNode.firstElementChild,"xlLabelDropdownPlaceholderItem")},loadDropDown:function(a){this.inherited(arguments);t.add(this.dropDown.domNode.parentNode,"graphlabeldropdown")},
startup:function(){this.inherited(arguments)},menuItemClicked:function(a,b){this.removePlaceholderCss();this.inherited(arguments)},setDisplayNodeHtml:function(a){this.inherited(arguments);this.removePlaceholderCss()},changeSelection:function(a){this.inherited(arguments);this.removePlaceholderCss()},removePlaceholderCss:function(){t.remove(this.domNode,"xlLabelDropdownPlaceholder");t.remove(this.domNode.firstElementChild,"xlLabelDropdownPlaceholderItem")},openDropDown:function(){if(!this.disableEdit){for(var a=
[],b=0;b<this.labelOptions.length;b++)a.push({label:this.labelOptions[b]});I.makeRequest({type:"nativeSelect",data:{prompt:"Please select a label for the object",options:a,selectedIndex:this.selectedIndex,displayAsFormulas:this.isFormula}}).then(z.hitch(this,function(a){this.menuItemClicked(this.dropDown.getChildren()[a.data.selectedIndex],a.data.selectedIndex)}))}},closeDropDown:function(a){this.inherited(arguments)}})})},"xl/util/nativeDeferredManager":function(){define(["dojo/on","dojo/topic",
"dojo/Deferred","xl/util/stringUtils"],function(s,q,l,h){var n={},f=0,m=null;return{makeRequest:function(c){if(m){c.id=++f;c.time=Date.now();var e=new l;n[c.id]={deferred:e,data:c};m(c);return e.promise}},setMessageSender:function(c){m=c},receiveResponse:function(c){var e=n[c.id];delete n[c.id];return e?(e.deferred.resolve(c),!0):!1},getNextId:function(){return++f}}})},"xl/editgraph/LabelHandle":function(){define("dojo/_base/declare xl/grapher/IPGraphShapeBlob xl/grapher/IPGraphLabel xl/editgraph/GraphObject xl/util/graphUtils xl/util/stringUtils dojox/gfx/Moveable xl/editgraph/LabelMover dojo/text!./images/movehandle.svg".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.editgraph.LabelHandle",[q],{onDraw:null,_invisible:null,_label:null,_handle:null,_width:16,constructor:function(b){},getWidth:function(){return this._width},drawBlob:function(b,d){this._handle&&(this._handle.domNode&&null==this._handle.domNode.parentNode)&&(this._handle=null);if(!this._handle||!this._handle.parent){this._handle=b.createGroup();this._handle.createRect({width:16,height:16}).setStroke("rgba(0,0,0,0)").setFill("rgba(0,0,0,0)");this._handle.createPath(e).applyTransform(dojox.gfx.matrix.scale({x:0.035,
y:0.035})).setStroke("black").setFill("black");this._handle.applyTransform(dojox.gfx.matrix.translate(d.x,d.y-10));var k=new m(this._handle,{mover:c});k.graph=this.getGraph();k.blob=this}else this._handle.setTransform(dojox.gfx.matrix.translate(d.x,d.y-10))},focusLost:function(){this.updateSize();this.inherited(arguments)},focusGained:function(){this.updateSize();this.inherited(arguments)},updateSize:function(){this.setShowVertLine(!1);this.setShowHorzLine(!1);this.setTrackMouse(!1);this.setStickyFocus(!1);
this.setSize(4);this.invalidate()},getInvisible:function(){return this._invisible},setInvisible:function(b){this._invisible=b}})})},"xl/editgraph/LabelMover":function(){define("dojo/_base/declare dojox/gfx dojox/gfx/Mover dojo/_base/event dojo/has xl/grapher/Point".split(" "),function(s,q,l,h,n,f){return s("xl.editgrapg.LabelMover",l,{onMouseMove:function(m){var c=new f(n("touch")?(m.changedTouches?m.changedTouches[0]:m).clientX:m.clientX,n("touch")?(m.changedTouches?m.changedTouches[0]:m).clientY:
m.clientY);c.x-=this._xoff;c.y-=this._yoff;var e=this.host.blob.xViewToWorld(c.x),c=this.host.blob.yViewToWorld(c.y);this.host.blob.move(e,c,null,!0,!1,!0);h.stop(m)},calculateShift:function(f,c){var e={};e.dx=f.x>c.right?c.right-this.lastX:f.x<c.left?c.left-this.lastX:f.x-this.lastX;e.dy=f.y>c.bottom?c.bottom-this.lastY:f.y<c.top?c.top-this.lastY:f.y-this.lastY;return e},graph:null,constructor:function(m,c,e){this.graph=e.graph;m=new f(n("touch")?(c.changedTouches?c.changedTouches[0]:c).clientX:
c.clientX,n("touch")?(c.changedTouches?c.changedTouches[0]:c).clientY:c.clientY);this._xoff=m.x-this.host.blob.getViewX();this._yoff=m.y-this.host.blob.getViewY()},_xoff:0,_yoff:0,isOutsideBounds:function(f,c){return f.x<c.left||f.x>c.right||f.y<c.top||f.y>c.bottom?!0:!1}})})},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(s){s.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(q,l){var h=
s.doc,n;l=l||"text/xml";if(q&&s.trim(q)&&"DOMParser"in s.global){n=(new DOMParser).parseFromString(q,l);h=n.documentElement;if("parsererror"==h.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==h.namespaceURI){var f=h.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml","sourcetext")[0];f&&(f=f.firstChild.data);throw Error("Error parsing text "+h.firstChild.data+" \n"+f);}return n}if("ActiveXObject"in s.global){h=function(c){return"MSXML"+c+".DOMDocument"};
h=["Microsoft.XMLDOM",h(6),h(4),h(3),h(2)];s.some(h,function(c){try{n=new ActiveXObject(c)}catch(e){return!1}return!0});if(q&&n&&(n.async=!1,n.loadXML(q),h=n.parseError,0!==h.errorCode))throw Error("Line: "+h.line+"\nCol: "+h.linepos+"\nReason: "+h.reason+"\nError Code: "+h.errorCode+"\nSource: "+h.srcText);if(n)return n}else if(h.implementation&&h.implementation.createDocument){if(q&&s.trim(q)&&h.createElement){f=h.createElement("xml");f.innerHTML=q;var m=h.implementation.createDocument("foo","",
null);s.forEach(f.childNodes,function(c){m.importNode(c,!0)});return m}return h.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(q,l){if(1<arguments.length)return dojox.xml.parser.replaceChildren(q,(q.ownerDocument||s.doc).createTextNode(l)),l;if(void 0!==q.textContent)return q.textContent;var h="";q&&s.forEach(q.childNodes,function(n){switch(n.nodeType){case 1:case 5:h+=dojox.xml.parser.textContent(n);break;case 3:case 2:case 4:h+=n.nodeValue}});return h};
dojox.xml.parser.replaceChildren=function(q,l){var h=[];s.isIE&&s.forEach(q.childNodes,function(n){h.push(n)});dojox.xml.parser.removeChildren(q);s.forEach(h,s.destroy);s.isArray(l)?s.forEach(l,function(h){q.appendChild(h)}):q.appendChild(l)};dojox.xml.parser.removeChildren=function(q){for(var l=q.childNodes.length;q.hasChildNodes();)q.removeChild(q.firstChild);return l};dojox.xml.parser.innerXML=function(q){return q.innerXML?q.innerXML:q.xml?q.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(q):
null};return dojox.xml.parser})},"xl/editgraph/GraphStatus":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin xl/player/controls/_NeedsPlayerViewer dojo/text!./templates/graphstatus.html dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-class dojo/on dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/GraphHandle xl/editgraph/GraphCursor xl/player/dialogs/EditCoordsDialog xl/util/stringUtils xl/util/localization!html5player/graphmanager xl/grapher/enums xl/editgraph/enums".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z){return f("xl.editgraph.GraphStatus",[s,q,h],{templateString:n,baseClass:"graphStatus",placeHolderText:"\x3cdiv class\x3d'graphControlMissing'\x3eX\x3c/div\x3e",EDITOR_ALLOWED_CHARS:"-0123456789/",_gm:null,_graph:null,_editX:null,_editY:null,_popup:null,allowEditCoords:!1,_showCoords:!1,constructor:function(a){},postCreate:function(){var a=v["sdg.edit_coords"];this.getViewer()&&this.getViewer().useSentenceCase&&(a=u.sentenceCase(a));this.lblEditCoords.innerHTML=
a;this._validateLblCoordsHidden()},setShowCoords:function(a){a!=this._showCoords&&(this._showCoords=a,this._validateLblCoordsHidden())},_validateLblCoordsHidden:function(){this._showCoords?e.remove(this.lblCoords,"hidden"):e.add(this.lblCoords,"hidden")},setCursorText:function(b){this._gm.isReact||(this._gm.getSelectedObject()&&this._gm.getSelectedObject().isInstanceOf(k)&&(b=""),b&&this._graph.getFocusBlob()&&(this._graph.getFocusBlob().isInstanceOf(r)?this.setShowCoords(!0):this._graph.getFocusBlob().isInstanceOf(a)&&
(this._graph.getXYCursorBlobObject()?this.setShowCoords(this._graph.getXYCursorBlobObject().cursor.show):this.setShowCoords(!0))),(this.lblCoords.innerHTML=b)&&this.allowEditCoords&&this._graph.getFocusBlob()&&this._graph.getFocusBlob().isInstanceOf(r)?e.remove(this.lblEditCoords,"hidden"):e.add(this.lblEditCoords,"hidden"))},editCoordsClick:function(a){this._popup=new t({restrictChars:this.EDITOR_ALLOWED_CHARS,pt:{x:this._editX,y:this._editY},plotBoundaries:{xmin:this._graph.getAxisX().getMinimum(),
xmax:this._graph.getAxisX().getMaximum(),ymin:this._graph.getAxisY().getMinimum(),ymax:this._graph.getAxisY().getMaximum()}});this._popup.on("okeditcoords",d.hitch(this,this.okEditCoords));this._popup.show()},okEditCoords:function(a){this._graph.getFocusBlob().move(a.x,a.y,D.IPGraphBlobState.UP,!0);this.setCursorText(this._gm.getCursorText())},cursorMoved:function(a){a&&(this._editX=a.x,this._editY=a.y);this.setCursorText(this._gm.getCursorText())},getGraph:function(){return this._graph},setGraph:function(a){a!=
this._graph&&(this._graph=a,this._gm=this._graph.getGraphControl().getGraphManager(),this._gm.on(z.GraphObjectEvent.CURSOR_MOVED,d.hitch(this,this.cursorMoved)))},mouseDown:function(a){var b=this._graph.getGraphControl().getPalette();b&&(b.showPalette=!1);a.stopPropagation();a.preventDefault()},mouseUp:function(a){var b=this._graph.getGraphControl().getPalette();b&&(b.showPalette=!0);a.stopPropagation();a.preventDefault()}})})},"xl/editgraph/GraphTransformObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath xl/util/eqUtils".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphTransformObject ",[l],{constructor:function(c){this.setSupportsLineStyle(!0);this._paramValues=[];this.createDefaultParams()},redrawWhenSelected:!0,_paramValue:null,_ghostDrawing:!1,PolyLine:null,createDefaultParams:function(){this.addParam("vshift","0");this.addParam("hshift","0");this.addParam("xflip","1");this.addParam("yflip","1")},addParam:function(c,b){this._params[c]=b},param:function(c){return this._params[c]},amplitude:function(){return this.paramValue("amplitude")},
vstretch:function(){return this.paramValue("vstretch")},period:function(){return this.paramValue("period")},hstretch:function(){return this.paramValue("hstretch")},vshift:function(){return this.paramValue("vshift")},hshift:function(){return this.paramValue("hshift")},xflip:function(){return this.paramValue("xflip")},yflip:function(){return this.paramValue("yflip")},base:function(){return this.paramValue("base")},getY:function(c){return 0},isInDomain:function(c){return{domainInfo:h.GraphDomainInfo.DOMAIN,
asymptoteX:NaN}},draw:function(c,b,d){var k;b?(b=d,d=0,k=h.GraphObjectLineStyle.SOLID):(b=this.getColor(),d=f.DEF_PLINEWIDTH,k=this.getLineStyle());this.drawObject(c,b,k,d)},drawGhost:function(c,b,d){this._ghostDrawing=!0;this.drawObject(c,d,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH)},drawMask:function(c,b,d){this.drawObject(c,b,h.GraphObjectLineStyle.SOLID,1,d)},getDrawNumPoints:function(){return 100},getDrawXMin:function(){return this._graph.getAxisX().getMinimum()},getDrawXMax:function(){return this._graph.getAxisX().getMaximum()},
errorInParams:function(){return!1},drawObject:function(c,b,d,k,r){if(!this.errorInParams()){var a=f.calcFunctionPts(q.hitch(this,this.getY),q.hitch(this,this.isInDomain),this.getDrawXMin(),this.getDrawXMax(),this._graph.getAxisY().getMinimum(),this._graph.getAxisY().getMaximum(),this.getDrawNumPoints());c=f.drawPolyline(c,this._graph,a,b,d,k,r,!0);this._ghostDrawing||(this.PolyLine=c);this._ghostDrawing=!1;b=this.getGraph().getPlotRect();c&&(c.setClip({x:b.left,y:b.top,width:b.getWidth()+1,height:b.getHeight()+
1}),this._fixedPts=c.shape.points)}},getSdType:function(){return-1},evalParam:function(e){return c.evalEq(e)},paramValue:function(c){if(null==this._paramValues[c]||"undefined"==typeof this._paramValues[c])this._paramValues[c]=this.evalParam(this.param(c));return this._paramValues[c]},getParam:function(c){return this._params[c]},setParam:function(c,b){this._params[c]!=b&&(this._params[c]=b,this._paramValues[c]=null)}})})},"xl/editgraph/GraphHandle":function(){define("dojo/_base/declare xl/grapher/IPGraphShapeBlob xl/grapher/IPGraphLabel xl/editgraph/GraphObject xl/util/graphUtils xl/util/stringUtils".split(" "),
function(s,q,l,h,n,f){return s("xl.editgraph.GraphHandle",[q],{onDraw:null,_circle:null,_invisible:null,_label:null,_handle:null,handleSize:null,constructor:function(f){this.updateSize()},drawBlob:function(f,c){this._handle&&null==this._handle.parent&&this.destroyHandle();if(null!=this.onDraw)this.onDraw(this,f,this.getLocationX(),this.getLocationY());this._invisible||(this.getFocused()?this.drawSelectedPoint(f,c):this.drawPoint(f,c))},drawLabel:function(m){this._label||(this._label=new l,this.getGraph().addPart(this._label));
this._label.setFont(this.getGraph().getAxisX().getLabelFont());this._label.setText("("+f.formatFloat(this.getLocationX(),"#.--#")+")");this._label.setLocationX(m.x);this._label.setLocationY(m.y+20);this.getGraph().invalidateLabels()},drawPoint:function(f,c){this._handle=this._circle?h.drawCircleHandle(f,this._handle,c.x,c.y,!1,this.handleSize):h.drawHandle(f,this._handle,c.x,c.y,!1)},drawSelectedPoint:function(f,c){this._handle=this._circle?h.drawCircleHandle(f,this._handle,c.x,c.y,!0,this.handleSize):
h.drawHandle(f,this._handle,c.x,c.y,!0)},destroy:function(){this.destroyHandle();this.inherited(arguments)},destroyHandle:function(){this._handle&&(this._handle.rawNode&&this._handle.destroy(),this._handle=null)},focusLost:function(){this.updateSize();this.inherited(arguments)},focusGained:function(){this.updateSize();this.inherited(arguments)},updateSize:function(){this.setShowVertLine(!1);this.setShowHorzLine(!1);this.setTrackMouse(!1);this.setStickyFocus(!1);this.setSize(this.handleSize||4);this.invalidate()},
getCircle:function(){return this._circle},setCircle:function(f){this._circle=f},getInvisible:function(){return this._invisible},setInvisible:function(f){this._invisible=f}})})},"xl/editgraph/GraphCursor":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/_base/connect xl/grapher/IPGraphShapeBlob dojox/gfx/Moveable dojo/dnd/move xl/grapher/Point xl/grapher/enums xl/util/graphUtils xl/util/IPMath xl/grapher/BlobMover dojo/has".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.editgraph.GraphCursor",
[n],{_onDraw:null,_select:!1,_cursor:null,constructor:function(a){this.setVisible(!1)},postCreate:function(){this._graph.addBlob(this,!1);this._graph.setTrackBlob(this)},getSelect:function(){return this._select},setSelect:function(a){this._select=a;this.updateSize()},drawBlob:function(a,b){null!=this._onDraw&&this._onDraw(this,a,this.getLocationX(),this.getLocationY());this.emit("cursorDraw",{cursor:this,surface:a,x:this.getLocationX(),y:this.getLocationY()});!this._select&&!(r("mobile")&&0<=this.id.indexOf("GraphCursor"))&&
this.drawCursor(a,b)},drawCursor:function(a,c){if(!this._cursor||!this._cursor.parent)this.destroyCursor(),this._cursor=b.drawCircle(a,c.x,c.y,this.getSize(),"#989999","#989999");this._cursor.moveToFront();this._cursor.setShape({cx:c.x,cy:c.y})},destroyCursor:function(){this._cursor&&!this._cursor.parent&&this._cursor.destroy()},getBlobBoundaries:function(a,b,c,d){return this.inherited(arguments,[a,b,c,d])},updateSize:function(){this.setShowVertLine(!1);this.setShowHorzLine(!1);this.setTrackMouse(!0);
this.setStickyFocus(!0);this.setSize(3);this.getFocused()&&!this._select&&(this.setShowVertLine(!0),this.setShowHorzLine(!0));this.invalidate()},focusGained:function(){this.updateSize();this.inherited(arguments)},focusLost:function(){this.updateSize();this.inherited(arguments)},cursorMoved:function(){}})})},"xl/player/dialogs/EditCoordsDialog":function(){define("dojo/_base/declare xl/eqeditor/EqEditor dojo/_base/lang dojo/dom-construct dojo/_base/array dojo/text!./templates/EditCoordsDialog.html dojo/dom-style dojo/dom-geometry dijit/registry dojo/Evented dojo/has xl/grapher/XYGraph2 xl/player/dialogs/BaseDialog dojox/xml/parser dojo/query xl/grapher/enums xl/util/stringUtils xl/util/IPMath xl/util/localization!html5player/graphmanager xl/util/localization!html5player/popup dojo/dom-class dojo/json xl/player/dialogs/ConfirmationDialog xl/eqeditor/AssessmentsComponents".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w){var C=w.EquationClasses.EqTextParser,E=w.EquationClasses.TDXInputOption;return s("xl.player.dialogs.EditCoordsDialog",[r],{baseClass:"editCoords",contentString:f,isModal:!0,_pt:{x:0,y:0},_plotBoundaries:null,_restrictChars:null,_docSettings:{processCtrlShortcuts:!1,restrictChars:this._restrictChars,allowSubscriptShortcuts:!1,allowSuperscriptShortcuts:!1,allowSingleFraction:!0,smartSlash:!0,smartSlashNumbersOnly:!0,allowCommaNumbers:!1,tabEnabled:!0,
focusEnabled:!0,tabChildren:!0,suppressEmptyHiding:!0},_docSettingsStr:null,useOsk:!1,constructor:function(a){this.useOsk=!(!d("iPad")&&!d("ios")&&!d("android"));this._restrictChars=a.restrictChars;this._docSettingsStr=A.stringify(this._docSettings,",");this._pt=a.pt;this._plotBoundaries=a.plotBoundaries},postCreate:function(){this.inherited(arguments);this.editCoordsText.innerHTML=z["sdg.edit_coords_text"];this.editCoordsInstructions.innerHTML=z["sdg.edit_coords_instructions"];this.xCoordInput.setEqText(this._pt.x.toString());
this.yCoordInput.setEqText(this._pt.y.toString())},show:function(){this.inherited(arguments)},setupFooter:function(){this.addButton({label:B.cancel,onClick:l.hitch(this,this.cancelClicked)});this.addButton({label:B.submit,onClick:l.hitch(this,this.okClicked)});this.inherited(arguments)},setupHeader:function(){var a=z["sdg.edit_coords"];this.getViewer()&&this.getViewer().useSentenceCase&&(a=v.sentenceCase(a));h.create("label",{innerHTML:a},this.titleNode);this.inherited(arguments)},okClicked:function(a){if(this.validateInput()){var b=
this.getValueFromEqText(this.xCoordInput.getEqText()),c=this.getValueFromEqText(this.yCoordInput.getEqText());this._pt={x:b,y:c};this.emit("okeditcoords",this._pt);this.onExecute(a)}else a.stopPropagation()},validateInput:function(){var a,b,c;try{b=this.getValue(this.xCoordInput.getEqDoc())}catch(d){a=z["sdg.edit_coords_invalidnumber"]}try{c=this.getValue(this.yCoordInput.getEqDoc())}catch(e){a=z["sdg.edit_coords_invalidnumber"]}if(this.xCoordInput.isEmpty()||this.yCoordInput.isEmpty())a=z["sdg.edit_coords_invalidnumber"];
if(isNaN(b)||isNaN(c))a=z["sdg.edit_coords_invalidnumber"];b>this._plotBoundaries.xmax?(this.xCoordInput.setEqText(this._plotBoundaries.xmax.toString()),a=z["sdg.edit_coords_range"]):b<this._plotBoundaries.xmin&&(this.xCoordInput.setEqText(this._plotBoundaries.xmin.toString()),a=z["sdg.edit_coords_range"]);c>this._plotBoundaries.ymax?(this.yCoordInput.setEqText(this._plotBoundaries.ymax.toString()),a=z["sdg.edit_coords_range"]):c<this._plotBoundaries.ymin&&(this.yCoordInput.setEqText(this._plotBoundaries.ymin.toString()),
a=z["sdg.edit_coords_range"]);b=this.xCoordInput.getEqText();c=b.indexOf("@mnum");var k=this.yCoordInput.getEqText(),f=k.indexOf("@mnum");if(-1<c||-1<f)a=z["sdg.edit_coords_invalidnumber"];c=b.indexOf("}");f=k.indexOf("}");if(c!=b.length-1&&-1!=c||f!=k.length-1&&-1!=f)a=z["sdg.edit_coords_invalidnumber"];return a?(x.displayText(a,"",[x.BUTTON.OK],"300px"),!1):!0},getValue:function(a){var b,c=1,d=a.getChild(0);"-"==d.getEqText()&&2==a.getNumChildren()&&(c=-1,d=a.getChild(1));d.isEqDivide()&&(1==a.getNumChildren()||
-1==c)?(a=d,b=c*this.getValue(a.getEqRow(0))/this.getValue(a.getEqRow(1))):(c={},d=E.ALLOWMINUS+E.ZEROOPTIONAL,this.inputToFloat(a.getEqText(),c,"$",d)&&(b=c.value));if(isNaN(b))throw Error();return b},inputToFloat:function(a,b,c,d){d||(d=15);var e;e=new C;e.currencyChar=c;e.allowCommaNumbers=0!=(E.ALLOWCOMMANUMBER&d);e.allowDollarNumbers=0!=(E.ALLOWDOLLAR&d);e.allowNegParens=0!=(E.ALLOWNEGPARENS&d);e.allowPlus=0!=(E.ALLOWPLUS&d);e.allowMinus=0!=(E.ALLOWMINUS&d);e.siCommaChar=0!=(E.USESICOMMASPACE&
d)?" ":0!=(E.USESICOMMAPERIOD&d)?".":",";e.siCommaDecimal=0!=(E.USESICOMMADECIMAL&d);e.zeroOptional=0!=(E.ZEROOPTIONAL&d);e.allowSpaceAfterCurrencyChar=0!=(E.ALLOWSPACEAFTERCURRENCYCHAR&d);e.allowSpaceAfterNegParen=0!=(E.ALLOWSPACEAFTERNEGPAREN&d);e.allowSpaceAfterMinus=0!=(E.ALLOWSPACEAFTERMINUS&d);e.setText(a);this.intIn(e.nextToken(),[C.EqTextParserToken.INTEGER,C.EqTextParserToken.FLOAT])&&!e.moreTokens()?(b.value=e.numberValue,a=!0):a=!1;return a},intIn:function(a,b){for(var c=0;c<b.length;c++)if(a==
b[c])return!0;return!1},getValueFromEqText:function(a){if(0>a.indexOf("@DIV"))return Number(a);var b=a.indexOf("{"),c=a.indexOf(";"),d=a.indexOf("}"),b=a.substring(b+1,c),c=a.substring(c+1,d),c=b/c;if((a.match(/-/g)||[]).length%2)c=-c;return c},cancelClicked:function(a){this.hide()},DEF_FORMAT:"#",format:"#.##",formatNum:function(a){return D.isInfinite(a)?0<a?"\x26infin;":"-\x26infin;":!this.format||""==this.format?v.formatFloat(a,this.DEF_FORMAT):v.formatFloat(a,this.format)}})})},"xl/eqeditor/EqEditor":function(){define("dojo/_base/declare dojo/dom-construct dojo/keys dojo/on dojo/_base/lang dojo/dom-class dojo/_base/event dojo/dom-geometry dojo/touch dojo/mouse dojo/dnd/autoscroll dojo/_base/array dojo/has dijit/focus dojo/_base/connect dijit/registry xl/dojo-ext/window dojo/dom-attr dojo/html dojo/parser dijit/_WidgetBase dijit/_FocusMixin xl/util/_FormWidgetKeyboardMixin ./AssessmentsComponents".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w){var C=AssessmentsComponents.EquationClasses.EqCaretEventDirection;s=s("xl.eqeditor.EqEditor",[F],{_editor:null,constructor:function(a,b){a||(a={});a.focusCallback=n.hitch(this,this.onFocus);a.blurCallback=n.hitch(this,this.onBlur);a.updateCaretCallback=n.hitch(this,this.onUpdateCaret);a.parentBaseClass="step";this._editor=new w.EquationEditor(a,b,!0)},buildRendering:function(){this.domNode=this._editor.domNode;this.focusNode=this._editor.focusNode;
this.inherited(arguments)},postCreate:function(){if(this._editor.focusNode.getAttribute("arialabel")||this._editor.focusNode.getAttribute("ariadescription"))this._editor.focusNode.removeAttribute("arialabel"),this._editor.focusNode.removeAttribute("ariadescription")},startup:function(){this._started||(this._editor.startup(),this.inherited(arguments))},onFocus:function(){},onBlur:function(){},onUpdateCaret:function(){},onChange:function(){},getEqDoc:function(){return this._editor.getEqDocument()},
getEditor:function(){return this._editor},getFocusNode:function(){return this._editor.focusNode},getEqText:function(){return this._editor.getEqText()},setEqText:function(a){this._editor.setEqText(a)},replaceEqText:function(a){this._editor.replaceEqText(a)},getUndoSequence:function(){return this._editor.getUndoSequence()},setUndoSequence:function(a){this._editor.setUndoSequence(a)},setAccessible:function(a){this._editor.setAccessible(a)},getAccessible:function(){return this._editor.getAccessible()},
setEditorProps:function(a){n.mixin(this._editor,a)},_setDisabledAttr:function(a){this.inherited(arguments);this._set("disabled",a);this._editor&&this._editor.setDisabled(a)},setDisabled:function(a){this.set("disabled",a)},getDisabled:function(){return this._editor.getDisabled()},getDisableScrollIntoView:function(){return this.disableScrollIntoView},setDisableScrollIntoView:function(a){this.disableScrollIntoView=a},updateCaret:function(){this._editor.updateCaret()},deleteChar:function(a){this._editor.deleteChar(a)},
insertEqText:function(a,b){return this._editor.insertEqText(a,b)},undo:function(){this._editor.undo()},redo:function(){this._editor.redo()},saveUndo:function(){this._editor._undo.save()},moveCaret:function(a){this._editor.moveCaret(a)},clear:function(){this._editor.clear()},setCurrentRow:function(a){this._editor.setCurrentRow(a)},getCurrentRow:function(){return this._editor.getCurrentRow()},getCaretPosition:function(){return this._editor._caretPosition},setCaretPosition:function(a,b,c){this._editor.setCaretPosition(a,
b,c)},setCaretHome:function(){this._editor.setCaretHome()},setCaretEnd:function(){this._editor.setCaretEnd()},focus:function(){this._editor.focus()},getReadOnly:function(){return this.readOnly},_setReadOnlyAttr:function(a){this.inherited(arguments);this.readOnly=a;this._editor&&this._editor.setReadOnly(a)},setFocused:function(a){this._editor.setFocused(a)},getFocused:function(){return this._editor.focused},setChanged:function(a){this._editor._changed=a},isEmpty:function(){return this._editor.isEmpty()},
doLayout:function(){this._editor.doLayout()},reLayout:function(){this._editor.reLayout()},resetMultiSelect:function(){this._editor.resetMultiSelect()},insertCharacter:function(a){return this._editor.insertCharacter(a)},resize:function(){this._editor.resize()},inputCharacter:function(a){return this._editor.inputCharacter(a)},simulateKeyDownEvent:function(a){this._editor._onKeyDown(a)},extractSelectionEqText:function(a){return this._editor.extractSelectionEqText(a)},focusEditor:function(){return this._editor.focusEditor()},
setPrompt:function(a){this._editor.setPrompt(a)},destroy:function(){this.inherited(arguments);this._editor.destroy()}});window.EqEditor={getEqEditor:function(a){a=u.byId(a);return!a?null:a},insertCharacter:function(a,b){var c=this.getEqEditor(a);c&&c.insertCharacter(b)},undo:function(a){(a=this.getEqEditor(a))&&a.undo()},redo:function(a){(a=this.getEqEditor(a))&&a.redo()},clear:function(a){(a=this.getEqEditor(a))&&a.clear()},deleteChar:function(a){if(a=this.getEqEditor(a))a.deleteChar(!1),a.focus()},
backspace:function(a){if(a=this.getEqEditor(a))a.deleteChar(!0),a.focus()},moveCaret:function(a,b,c,d){if(a=this.getEqEditor(a)){var e=C.NONE;switch(b){case "up":e=C.UP;break;case "down":e=C.DOWN;break;case "left":e=C.LEFT;break;case "right":e=C.RIGHT;break;case "home":e=C.HOME;break;case "end":e=C.END}a.moveCaret(e,c,d);a.focus()}},setEqText:function(a,b){var c=this.getEqEditor(a);c&&c.setEqText(b)},getEqText:function(a){return(a=this.getEqEditor(a))?a.getEqText():null}};return s})},"xl/dojo-ext/window":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/_base/window dojo/dom dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/window".split(" "),
function(s,q,l,h,n,f,m,c,e){e.scrollBottomIntoView=function(b,c,e){try{b=n.byId(b);var r=b.ownerDocument||h.doc,a=h.body(r),t=r.documentElement||a.parentNode,u=l("ie"),v=l("webkit");if(!(b==a||b==t))if(!l("mozilla")&&(!u&&!v&&!l("opera")&&!l("trident"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var D="BackCompat"==r.compatMode,z=Math.min(a.clientWidth||t.clientWidth,t.clientWidth||a.clientWidth),B=Math.min(a.clientHeight||t.clientHeight,t.clientHeight||a.clientHeight),r=v||D?a:t,q=c||f.position(b),
A=b.parentNode;c=function(a){return 6>=u||7==u&&D?!1:l("position-fixed-support")&&"fixed"==m.get(a,"position").toLowerCase()};var x;e&&(x=f.position(e));if(!c(b))for(;A;){A==a&&(A=r);var w=f.position(A),C=c(A),E="rtl"==m.getComputedStyle(A).direction.toLowerCase();if(A==r){w.w=z;w.h=B;r==t&&(u&&E)&&(w.x+=r.offsetWidth-w.w);if(0>w.x||!u||9<=u)w.x=0;if(0>w.y||!u||9<=u)w.y=0}else{var s=f.getPadBorderExtents(A);w.w-=s.w;w.h-=s.h;w.x+=s.l;w.y+=s.t;var H=A.clientWidth,G=w.w-H;0<H&&0<G&&(E&&l("rtl-adjust-position-for-verticalScrollBar")&&
(w.x+=G),w.w=H);H=A.clientHeight;G=w.h-H;0<H&&0<G&&(w.h=H)}C&&(0>w.y&&(w.h+=w.y,w.y=0),0>w.x&&(w.w+=w.x,w.x=0),w.y+w.h>B&&(w.h=B-w.y),w.x+w.w>z&&(w.w=z-w.x));var I=q.x-w.x,L=I+q.w-w.w,O=q.y-w.y+q.h-w.h,Q;x&&(Q=x.y-w.y);var M,R;if(0<L*I&&(A.scrollLeft||A==r||A.scrollWidth>A.offsetHeight)){M=Math[0>I?"max":"min"](I,L);if(E&&(8==u&&!D||9<=u))M=-M;R=A.scrollLeft;A.scrollLeft+=M;M=A.scrollLeft-R;q.x-=M}if(0<O&&(A.scrollTop||A==r||A.scrollHeight>A.offsetHeight))M=Math.ceil(O),R=A.scrollTop,0<=Q&&(M=Math.min(Q,
M)),A.scrollTop+=M,M=A.scrollTop-R,q.y-=M,x&&(x.y-=M);A=A!=r&&!C&&A.parentNode}}}catch(P){console.error("scrollIntoView: "+P),b.scrollIntoView(!1)}};return e})},"xl/util/_FormWidgetKeyboardMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array xl/util/_FormWidgetMixin dojo/on dojo/window dojo/has dijit/focus dojo/_base/event".split(" "),function(s,q,l,h,n,f,m,c,e){return s("xl.form._FormWidgetKeyboardMixin",[h],{isMouseDown:!1,postCreate:function(){this.inherited(arguments);
this.own(n(this.domNode,"mousedown",q.hitch(this,this._onTouchStart)),n(this.domNode,"mouseup",q.hitch(this,this._onTouchEnd)),n(this.domNode.ownerDocument,"mouseup",q.hitch(this,this._onDocumentTouchEnd)))},_onTouchStart:function(){this.isMouseDown=!0},destroy:function(){this.inherited(arguments)},_onTouchEnd:function(){this.isMouseDown&&(this.focusNode.focus(),this.isMouseDown=!1)},_onDocumentTouchEnd:function(b){this.isMouseDown=!1}})})},"xl/util/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window dijit/a11y".split(" "),
function(s,q,l,h,n,f,m,c,e,b){return q("xl.util._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(d){this._set("disabled",d);l.set(this.focusNode,"disabled",d);this.valueNode&&l.set(this.valueNode,"disabled",d);this.focusNode.setAttribute("aria-disabled",d?"true":"false");d?(this._set("hovering",!1),this._set("active",!1),
d="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",s.forEach(n.isArray(d)?d:[d],function(d){d=this[d];c("webkit")||b.hasDefaultTabStop(d)?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var k=this.own(m(this.focusNode,"focus",function(){f.remove();k.remove()}))[0],f=this.own(m(this.ownerDocumentBody,
c("android")?"touchend":"mouseup, touchend",n.hitch(this,function(a){f.remove();k.remove();this.focused&&this.focus()})))[0];this.scrollOnFocus&&this.defer(function(){e.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=h.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(b){}},compare:function(b,c){return"number"==typeof b&&"number"==typeof c?isNaN(b)&&isNaN(c)?
0:b-c:b>c?1:b<c?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(b,c){if(void 0==this._lastValueReported&&(null===c||!this._onChangeActive))this._resetValue=this._lastValueReported=b;this._pendingOnChange=this._pendingOnChange||typeof b!=typeof this._lastValueReported||0!=this.compare(b,this._lastValueReported);if((this.intermediateChanges||c||void 0===c)&&this._pendingOnChange)this._lastValueReported=b,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(b)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"xl/player/controls/GraphToolBar":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dijit/place dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/touch dojo/topic ./_GraphToolMixin xl/util/mobileMethods".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F){return s("xl.player.controls.GraphToolBar",[q,B],{baseClass:"xlGraphToolBar xlGraphTools",constructor:function(a){a&&a.containerNode&&(this.containerNode=a.containerNode);this.addArrows=!0;this.commandsBeforeTools=!1;this.isToolbar=!0},buildRendering:function(){this.domNode=l.create("div");F.preventDoubleTabZoom(this.domNode,this);this.containerNode&&l.place(this.domNode,this.containerNode,"last");this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},
setToolButtons:function(){this.inherited(arguments);this._setupToolButtons(this.domNode);this.toolMessage=l.create("div",{className:"toolMessage"},this.domNode,"last");this.setToolMessage()},destroy:function(){this.containerNode=null;this.inherited(arguments)},destroyRecursive:function(){}})})},"xl/player/controls/_GraphToolMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dijit/focus dijit/Destroyable dijit/place dojo/dom-geometry dojo/has dojo/dom dojo/window dojo/dom-style dojo/dom-attr dojo/topic dojo/dom-construct dojo/on dijit/popup dijit/ColorPalette dojo/query dojo/touch dojo/html dojo/keys xl/dijit-bootstrap/Button xl/dijit-bootstrap/VerticalToggle xl/editgraph/enums xl/util/localization!html5player/player xl/util/mobileMethods".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J){var H=function(){return{select:{className:"iconSelect",cmd:C.GraphToolType.SELECT,tip:E["grpal.object_selection_tool"],title:"Select"},line:{className:"iconLine",cmd:C.GraphToolType.LINE,tip:E["grpal.line_tool"],title:"Line"},asymptote:{className:"iconAsymptote",cmd:C.GraphToolType.ASYMPTOTE,tip:E["grpal.asymptote_tool"],title:"Asymptote"},abs:{className:"iconAbs",cmd:C.GraphToolType.ABS,tip:E["grpal.abs_tool"],title:"Absolute Value"},
curve:{className:"iconCurve",cmd:C.GraphToolType.CURVE3,tip:E["grpal.3point_curved_line_tool"],title:"3-point Curve"},curve4:{className:"iconCurve4",cmd:C.GraphToolType.CURVE4,tip:E["grpal.4point_curved_line_tool"],title:"4-point Curve"},point:{className:"iconPoint",cmd:C.GraphToolType.POINT,tip:E["grpal.point_tool"],title:"Point"},hole:{className:"iconHole",cmd:C.GraphToolType.HOLE,tip:E["grpal.hole_tool"],title:"Hole"},polyline:{className:"iconPolyline",cmd:C.GraphToolType.POLYLINE,tip:E["grpal.polyline_tool"],
title:"Multipoint Line"},parabup:{className:"iconParabolaupdown",cmd:C.GraphToolType.PARABOLAY,tip:E["grpal.vertical_parabola_tool"],title:"Vertical Parabola"},parabside:{className:"iconParabolaleftright",cmd:C.GraphToolType.PARABOLAX,tip:E["grpal.horizontal_parabola_tool"],title:"Horizontal Parabola"},quadratic:{className:"iconQuadratic",cmd:C.GraphToolType.QUADRATIC,tip:E["grpal.quadratic_tool"],title:"Quadratic"},cubic:{className:"iconCubic",cmd:C.GraphToolType.CUBIC,tip:E["grpal.cubic_tool"],
title:"Cubic"},xsquared:{className:"iconSquared",cmd:C.GraphToolType.XSQUARED,tip:E["grpal.xsquared_tool"],title:"Squared"},xcubed:{className:"iconCubed",cmd:C.GraphToolType.XCUBED,tip:E["grpal.xcubed_tool"],title:"Cubed"},log:{className:"iconLog",cmd:C.GraphToolType.LOG,tip:E["grpal.log_tool"],title:"Log"},exp:{className:"iconExp",cmd:C.GraphToolType.EXP,tip:E["grpal.exp_tool"],title:"Exponential"},sine:{className:"iconSine",cmd:C.GraphToolType.SINE,tip:E["grpal.sine_tool"],title:"Sine"},cosine:{className:"iconCosine",
cmd:C.GraphToolType.COSINE,tip:E["grpal.cosine_tool"],title:"Cosine"},circle:{className:"iconCircle",cmd:C.GraphToolType.CIRCLE,tip:E["grpal.circle_tool"],title:"Circle"},region:{className:"iconRegionshading",cmd:C.GraphToolType.REGION,tip:E["grpal.region_shading_tool"],title:"Region Fill"},arrow:{className:"iconSinglearrow",cmd:C.GraphToolType.ARROW,tip:E["grpal.single_arrow_tool"],title:"Single Arrow"},doublearrow:{className:"iconDoublearrow",cmd:C.GraphToolType.DBLARROW,tip:E["grpal.double_arrow_tool"],
title:"Double Arrow"},rectangle:{className:"iconRectangle",cmd:C.GraphToolType.RECTANGLE,tip:E["grpal.rectangle_tool"],title:"Rectangle"},triangle:{className:"iconTriangle",cmd:C.GraphToolType.TRIANGLE,tip:E["grpal.triangle_tool"],title:"Triangle"},polygon:{className:"iconPolygon",cmd:C.GraphToolType.POLYGON,tip:E["grpal.polygon_tool"],title:"Polygon"},text:{className:"iconText",cmd:C.GraphToolType.TEXT,tip:E["grpal.text_tool"],title:"Text"},solid:{className:"iconSolidLine",cmd:C.GraphToolType.SOLID,
tip:E["grpal.make_selected_object_solid"],title:"Line Style"},dashed:{className:"iconDashedLine",cmd:C.GraphToolType.DASHED,tip:E["grpal.make_selected_object_dashed"],title:"Line Style"},color:{className:"iconColor",cmd:C.GraphToolType.COLOR,tip:E["grpal.color_selection_tool"],isCommand:!0,noToggle:!0,selectRequired:!0},style:{},"delete":{className:"iconNoImage iconDel",cmd:C.GraphToolType.DELETE,tip:E["grpal.delete_selected_object"],isCommand:!0,noToggle:!0,selectRequired:!0,text:E["grpal.delete"],
title:"Delete"},clear:{className:"iconNoImage iconClear",cmd:C.GraphToolType.CLEAR,tip:E["grpal.reset"],isCommand:!0,noToggle:!0,text:E["grpal.clear"]},help:{className:"iconHelp",cmd:C.GraphToolType.HELP,tip:E["grpal.help"],isCommand:!0,noToggle:!0},uparrow:{className:"iconUpArrow",cmd:C.GraphToolType.UP_ARROW,tip:E["grpal.up"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-up"\x3e\x3c/span\x3e'},downarrow:{className:"iconDownArrow",cmd:C.GraphToolType.DOWN_ARROW,tip:E["grpal.down"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-down"\x3e\x3c/span\x3e'},
leftarrow:{className:"iconLeftArrow",cmd:C.GraphToolType.LEFT_ARROW,tip:E["grpal.left"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-left"\x3e\x3c/span\x3e'},rightarrow:{className:"iconRightArrow",cmd:C.GraphToolType.RIGHT_ARROW,tip:E["grpal.right"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-right"\x3e\x3c/span\x3e'}}},G=null,I=function(){return G||(G=H())};a.subscribe("localizationChanged",function(a){"player/tdx/player"==a&&(G=null)});s=s("xl.util._GraphToolMixin",[f],{_toolButtons:null,
_started:!1,_graphControl:null,_colorPalette:null,_toolHolder:null,_joystick:null,_defaultTool:null,_defaultLineStyle:null,_styleButton:null,_keyDownHandler:null,addArrows:!0,commandsBeforeTools:!1,showCommands:!0,showColorButton:!0,constructor:function(a){this._toolButtons=[];a&&a.graphControl&&(this._graphControl=a.graphControl,this._graphControl._toolContainer=this)},postCreate:function(){this.inherited(arguments);this._keyDownHandler=u(this.domNode,"keydown",q.hitch(this,this._onKeyDown));this.setToolMessage();
this._toolChangedHandler=u(this._graphControl.getGraphManager(),"toolChanged",q.hitch(this,this._onToolChanged))},getButtonInfo:function(){return I()},_onToolChanged:function(a){z(".toolButton",this.domNode).forEach(function(b){b.cmd===a?h.add(b,"toggled"):h.remove(b,"toggled")})},_onKeyDown:function(a){this._graphControl.getGraph().processKeyCode(a.keyCode)&&a.keyCode===A.ENTER&&this._graphControl.getGraphManager().doUpdateMessage()},_setupToolButtons:function(a){if(!(null!=this._toolButtons&&0<
this._toolButtons.length)&&(this._toolButtons=[],this._toolButtonList)){var b=this._toolButtonList.split(","),b=[C.GraphToolType.SELECT].concat(b),c=[],d;for(d in I())0<=b.indexOf(d)&&c.push(d);this._toolHolder=b=t.create("div",{"class":"toolsAndCommands"},a);var e;this.commandsBeforeTools?(a=t.create("div",{"class":"commands"},b),e=t.create("div",{"class":"tools"},b)):(e=t.create("div",{"class":"tools"},b),a=t.create("div",{"class":"commands"},b));l.forEach(c,q.hitch(this,function(a){this._addCommand(a,
e)}));this._addCommand(C.GraphToolType.DELETE,a);this._addCommand(C.GraphToolType.CLEAR,a);(c=this.graphControl.getViewer())&&c.showHelpButton&&this._addCommand(C.GraphToolType.HELP,a);this.showCommands||k.set(a,"display","none")}},_addCommand:function(a,b){if("style"!==a){var d=I()[a];if(void 0==d)return null;d=this._createButton(d);this._toolButtons.push(d);b.appendChild(d.domNode);u(d,B.press,q.hitch(this,this._toolButtonClicked));return c.getMarginBox(d.domNode)}var d=I()[C.GraphToolType.SOLID],
e=I()[C.GraphToolType.DASHED];if(!d||!e)return null;d=this._createButton(d);e=this._createButton(e);u(d,B.press,q.hitch(this,this._toolButtonClicked));u(e,B.press,q.hitch(this,this._toolButtonClicked));var k=new w;k.addButton(d);k.addButton(e);this._defaultLineStyle===C.GraphToolType.DASHED?k.toggle(e.domNode):k.toggle(d.domNode);b.appendChild(k.domNode);this._styleButton=k;return c.getMarginBox(k.domNode)},_createButton:function(a){var b=new x({baseClass:"btn","class":"toolButton "+a.className,title:a.tip,
alt:a.tip,innerHTML:a.text?a.text:"\x26nbsp;"});b.domNode.cmd=a.cmd;this._defaultTool?a.cmd===this._defaultTool&&h.add(b.domNode,"toggled"):a.cmd===C.GraphToolType.SELECT&&h.add(b.domNode,"toggled");a.isCommand&&a.selectRequired&&(h.add(b.domNode,"selectRequired"),b.domNode.disabled=!0);J.preventDoubleTabZoom(b.domNode,this);return b},resetToolSelection:function(a){z(".toolButton",this.domNode).forEach(function(b){b.cmd!==C.GraphToolType.DASHED&&b.cmd!==C.GraphToolType.SOLID&&(h.remove(b,"toggled"),
a&&b.cmd===C.GraphToolType.SELECT&&h.add(b,"toggled"))});this._updateStyleButton()},setToolButtonsSelectState:function(a,b){z(".toolButton.selectRequired",this.domNode).forEach(function(b){b.disabled=!a});b&&this._styleButton&&(b==C.GraphToolType.SOLID?this._styleButton.toggle(this._styleButton.buttons[0].domNode):this._styleButton.toggle(this._styleButton.buttons[1].domNode));this._updateStyleButton()},_toolButtonClicked:function(a){console.log("GraphPalette: toolbuttonClicked");var b=!1,c=a.target.cmd?
a.target.cmd:a.target.parentElement.cmd,d=a.target.isReact,e=c!==C.GraphToolType.DASHED&&c!==C.GraphToolType.SOLID;switch(c){case C.GraphToolType.COLOR:b=!0;break;case C.GraphToolType.UP_ARROW:case C.GraphToolType.DOWN_ARROW:case C.GraphToolType.LEFT_ARROW:case C.GraphToolType.RIGHT_ARROW:e=!1,a.target.blur();default:this.emit("graphtool",{cmd:c,isReact:d})}c=I()[c];e&&!d&&(c&&c.noToggle?this.resetToolSelection(!0):(this.resetToolSelection(),h.add(a.target,"toggled")),this._updateStyleButton());if(b){this._colorPalette||
this._createColorPalette();var k=this;setTimeout(function(){k._openColorPalette(a.target)},this.delay)}},sendToBack:function(){},sendToFront:function(){},_updateStyleButton:function(){if(this._styleButton){var a=this._graphControl.getGraphManager(),b=null,c=a.getToolType();c==C.GraphToolType.SELECT&&(b=a.getSelectedObject());b?(a=b.getLineStyle(),b=b.getSupportsLineStyle()&&a!=C.GraphObjectLineStyle.NONE,this._styleButton.set("enabled",b),b?this._styleButton.toggle(this._styleButton.buttons[a==C.GraphObjectLineStyle.DASHED?
1:0]):this._styleButton.toggle(null)):(b=c!=C.GraphToolType.CIRCLE&&c!=C.GraphToolType.POINT,this._styleButton.set("enabled",b),this._styleButton.toggle(this._styleButton.buttons[a.getDefaultLineStyle()==C.GraphObjectLineStyle.DASHED?1:0]))}},_createColorPalette:function(){var a=this;this._colorPalette=new D({palette:"7x10",onChange:function(b){a._colorSelected(b)}},this.colorPalette)},_openColorPalette:function(a){v.open({parent:this,popup:this._colorPalette,around:a,orient:["below","above","after",
"before"],onCancel:function(){v.moveOffScreen(this._colorPalette)},onClose:function(){}})},_colorSelected:function(a){this.emit("graphtool",{cmd:C.GraphToolType.COLOR,val:a});v.moveOffScreen(this._colorPalette);this._showHide=!0},_destroyToolButtons:function(){this._toolButtons&&(l.forEach(this._toolButtons,function(a){a.destroy()}),this._toolButtons=null)},setToolButtons:function(a,b,c){if(a!=this._toolButtonList||b!=this._defaultTool||c!=this._defaultLineStyle)this._toolButtonList=a,this._defaultTool=
b,this._defaultLineStyle=c,this._destroyToolButtons()},destroy:function(){this._graphControl=null;this.inherited(arguments);this._toolButtons&&this._toolButtons.forEach(function(a,b){a.destroy()});this._styleButton&&this._styleButton.destroy();this._keyDownHandler&&this._keyDownHandler.remove()},getJoystick:function(){return this._joystick},getToolsHolder:function(){return this._toolHolder},setToolMessage:function(a,b){var c;if(this.toolMessage){if(b){c=E["grpal.editing"]+" ";var d=this._objectToButtonInfo(b);
c=d?c+d.tip:""}else c=E["grpal.selected"]+" ",d=I()[a],c+=d?d.tip:E["grpal.none"];F.set(this.toolMessage,c)}},_objectToButtonInfo:function(a){var b;a instanceof xl.editgraph.GraphLineObject?b=I().line:a instanceof xl.editgraph.GraphAbsObject?b=I().abs:a instanceof xl.editgraph.GraphCurve3Object?b=I().curve:a instanceof xl.editgraph.GraphCurveXObject?b=I().curve4:a instanceof xl.editgraph.GraphPointObject?b=I().point:a instanceof xl.editgraph.GraphPolylineObject?b=I().polyline:a instanceof xl.editgraph.GraphParabolaObject?
b=I()["updown"==a.getParabolaType()?"parabup":"parabside"]:a instanceof xl.editgraph.GraphCubicObject?b=I().cubic:a instanceof xl.editgraph.GraphQuadraticObject?b=I().quadratic:a instanceof xl.editgraph.GraphXSquaredObject?b=I().xsquared:a instanceof xl.editgraph.GraphXCubedObject?b=I().xcubed:a instanceof xl.editgraph.GraphLogObject?b=I().log:a instanceof xl.editgraph.GraphExpObject?b=I().exp:a instanceof xl.editgraph.GraphSineObject?b=I().sine:a instanceof xl.editgraph.GraphCosineObject?b=I().cosine:
a instanceof xl.editgraph.GraphCircleObject?b=I().circle:a instanceof xl.editgraph.GraphRegionObject?b=I().region:a instanceof xl.editgraph.GraphArrowLineObject?b=I().arrow:a instanceof xl.editgraph.GraphDblArrowLineObject?b=I().doublearrow:a instanceof xl.editgraph.GraphRectangleObject?b=I().rectangle:a instanceof xl.editgraph.GraphTriangleObject?b=I().triangle:a instanceof xl.editgraph.GraphPolygonObject?b=I().polygon:a instanceof xl.editgraph.GraphTextObject&&(b=I().text);return b}});s.buttonInfo=
G;s.getButtonInfo=I;s.createButtonInfo=H;return s})},"dijit/ColorPalette":function(){define("require dojo/text!./templates/ColorPalette.html ./_Widget ./_TemplatedMixin ./_PaletteMixin ./hccss dojo/i18n dojo/_base/Color dojo/_base/declare dojo/dom-construct dojo/string dojo/i18n!dojo/nls/colors dojo/colors".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){var k=e("dijit.ColorPalette",[l,h,n],{palette:"7x10",_palettes:{"7x10":["white seashell cornsilk lemonchiffon lightyellow palegreen paleturquoise lightcyan lavender plum".split(" "),
"lightgray pink bisque moccasin khaki lightgreen lightseagreen lightskyblue cornflowerblue violet".split(" "),"silver lightcoral sandybrown orange palegoldenrod chartreuse mediumturquoise skyblue mediumslateblue orchid".split(" "),"gray red orangered darkorange yellow limegreen darkseagreen royalblue slateblue mediumorchid".split(" "),"dimgray crimson chocolate coral gold forestgreen seagreen blue blueviolet darkorchid".split(" "),"darkslategray firebrick saddlebrown sienna olive green darkcyan mediumblue darkslateblue darkmagenta".split(" "),
"black darkred maroon brown darkolivegreen darkgreen midnightblue navy indigo purple".split(" ")],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:q,baseClass:"dijitColorPalette",_dyeFactory:function(b,a,c,d){return new this._dyeClass(b,a,c,d)},buildRendering:function(){this.inherited(arguments);this._dyeClass=e(k._Color,{palette:this.palette});this._preparePalette(this._palettes[this.palette],m.getLocalization("dojo","colors",
this.lang))}});k._Color=e("dijit._Color",c,{template:"\x3cspan class\x3d'dijitInline dijitPaletteImg'\x3e\x3cimg src\x3d'${blankGif}' alt\x3d'${alt}' title\x3d'${title}' class\x3d'dijitColorPaletteSwatch' style\x3d'background-color: ${color}'/\x3e\x3c/span\x3e",hcTemplate:"\x3cspan class\x3d'dijitInline dijitPaletteImg' style\x3d'position: relative; overflow: hidden; height: 12px; width: 14px;'\x3e\x3cimg src\x3d'${image}' alt\x3d'${alt}' title\x3d'${title}' style\x3d'position: absolute; left: ${left}px; top: ${top}px; ${size}'/\x3e\x3c/span\x3e",
_imagePaths:{"7x10":s.toUrl("./themes/a11y/colors7x10.png"),"3x4":s.toUrl("./themes/a11y/colors3x4.png")},constructor:function(b,a,d,e){this._title=e;this._row=a;this._col=d;this.setColor(c.named[b])},getValue:function(){return this.toHex()},fillCell:function(c,a){var e=d.substitute(f("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:a,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:-20*this._col-5,top:-20*this._row-5,size:"7x10"==this.palette?
"height: 145px; width: 206px":"height: 64px; width: 86px"});b.place(e,c)}});return k})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){return s("dijit._PaletteMixin",c,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(b){return new ("string"==
typeof this.dyeClass?f.getObject(this.dyeClass):this.dyeClass)(b)},_preparePalette:function(b,c){this._cells=[];var a=this._blankGif;this.own(m(this.gridNode,e,f.hitch(this,"_onCellClick")));for(var t=0;t<b.length;t++)for(var u=h.create("tr",{tabIndex:"-1",role:"row"},this.gridNode),v=0;v<b[t].length;v++){var l=b[t][v];if(l){var z=this._dyeFactory(l,t,v,c[l]),l=h.create("td",{"class":this.cellClass,tabIndex:"-1",title:c[l],role:"gridcell"},u);z.fillCell(l,a);l.idx=this._cells.length;this._cells.push({node:l,
dye:z})}}this._xDim=b[0].length;this._yDim=b.length;var B={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},q;for(q in B)this.own(d.addKeyListener(this.domNode,{keyCode:n[q],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var a=B[q];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){b.focus(this._currentFocus)},
_onCellClick:function(c){for(var d=c.target;"TD"!=d.tagName;){if(!d.parentNode||d==this.gridNode)return;d=d.parentNode}var a=this._getDye(d).getValue();this._setCurrent(d);b.focus(d);this._setValueAttr(a,!0);c.stopPropagation();c.preventDefault()},_setCurrent:function(b){"_currentFocus"in this&&q.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=b)&&q.set(b,"tabIndex",this.tabIndex)},_setValueAttr:function(b,c){0<=this._selectedCell&&l.remove(this._cells[this._selectedCell].node,this.cellClass+
"Selected");this._selectedCell=-1;if(b)for(var a=0;a<this._cells.length;a++)if(b==this._cells[a].dye.getValue()){this._selectedCell=a;l.add(this._cells[a].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?b:null);if(c||void 0===c)this.onChange(b)},onChange:function(){},_navigateByKey:function(c,d){if(-1!=d){var a=this._currentFocus.idx+c;a<this._cells.length&&-1<a&&(a=this._cells[a].node,this._setCurrent(a),this.defer(f.hitch(b,"focus",a)))}},_getDye:function(b){return this._cells[b.idx].dye}})})},
"dojo/nls/colors":function(){define({root:{aliceblue:"alice blue",antiquewhite:"antique white",aqua:"aqua",aquamarine:"aquamarine",azure:"azure",beige:"beige",bisque:"bisque",black:"black",blanchedalmond:"blanched almond",blue:"blue",blueviolet:"blue-violet",brown:"brown",burlywood:"burlywood",cadetblue:"cadet blue",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"cornflower blue",cornsilk:"cornsilk",crimson:"crimson",cyan:"cyan",darkblue:"dark blue",darkcyan:"dark cyan",
darkgoldenrod:"dark goldenrod",darkgray:"dark gray",darkgreen:"dark green",darkgrey:"dark gray",darkkhaki:"dark khaki",darkmagenta:"dark magenta",darkolivegreen:"dark olive green",darkorange:"dark orange",darkorchid:"dark orchid",darkred:"dark red",darksalmon:"dark salmon",darkseagreen:"dark sea green",darkslateblue:"dark slate blue",darkslategray:"dark slate gray",darkslategrey:"dark slate gray",darkturquoise:"dark turquoise",darkviolet:"dark violet",deeppink:"deep pink",deepskyblue:"deep sky blue",
dimgray:"dim gray",dimgrey:"dim gray",dodgerblue:"dodger blue",firebrick:"fire brick",floralwhite:"floral white",forestgreen:"forest green",fuchsia:"fuchsia",gainsboro:"gainsboro",ghostwhite:"ghost white",gold:"gold",goldenrod:"goldenrod",gray:"gray",green:"green",greenyellow:"green-yellow",grey:"gray",honeydew:"honeydew",hotpink:"hot pink",indianred:"indian red",indigo:"indigo",ivory:"ivory",khaki:"khaki",lavender:"lavender",lavenderblush:"lavender blush",lawngreen:"lawn green",lemonchiffon:"lemon chiffon",
lightblue:"light blue",lightcoral:"light coral",lightcyan:"light cyan",lightgoldenrodyellow:"light goldenrod yellow",lightgray:"light gray",lightgreen:"light green",lightgrey:"light gray",lightpink:"light pink",lightsalmon:"light salmon",lightseagreen:"light sea green",lightskyblue:"light sky blue",lightslategray:"light slate gray",lightslategrey:"light slate gray",lightsteelblue:"light steel blue",lightyellow:"light yellow",lime:"lime",limegreen:"lime green",linen:"linen",magenta:"magenta",maroon:"maroon",
mediumaquamarine:"medium aquamarine",mediumblue:"medium blue",mediumorchid:"medium orchid",mediumpurple:"medium purple",mediumseagreen:"medium sea green",mediumslateblue:"medium slate blue",mediumspringgreen:"medium spring green",mediumturquoise:"medium turquoise",mediumvioletred:"medium violet-red",midnightblue:"midnight blue",mintcream:"mint cream",mistyrose:"misty rose",moccasin:"moccasin",navajowhite:"navajo white",navy:"navy",oldlace:"old lace",olive:"olive",olivedrab:"olive drab",orange:"orange",
orangered:"orange red",orchid:"orchid",palegoldenrod:"pale goldenrod",palegreen:"pale green",paleturquoise:"pale turquoise",palevioletred:"pale violet-red",papayawhip:"papaya whip",peachpuff:"peach puff",peru:"peru",pink:"pink",plum:"plum",powderblue:"powder blue",purple:"purple",red:"red",rosybrown:"rosy brown",royalblue:"royal blue",saddlebrown:"saddle brown",salmon:"salmon",sandybrown:"sandy brown",seagreen:"sea green",seashell:"seashell",sienna:"sienna",silver:"silver",skyblue:"sky blue",slateblue:"slate blue",
slategray:"slate gray",slategrey:"slate gray",snow:"snow",springgreen:"spring green",steelblue:"steel blue",tan:"tan",teal:"teal",thistle:"thistle",tomato:"tomato",transparent:"transparent",turquoise:"turquoise",violet:"violet",wheat:"wheat",white:"white",whitesmoke:"white smoke",yellow:"yellow",yellowgreen:"yellow green"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,
cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(s,q,l,h){var n={};q.setObject("dojo.colors",n);var f=function(c,e,b){0>b&&++b;1<b&&--b;var d=6*b;return 1>d?c+(e-c)*d:1>2*b?e:2>3*b?c+6*(e-c)*(2/3-b):c};s.colorFromRgb=l.fromRgb=function(c,e){var b=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){var d=b[2].split(/\s*,\s*/),k=d.length,b=b[1];if("rgb"==b&&3==k||"rgba"==b&&4==k)return b=d[0],"%"==
b.charAt(b.length-1)?(b=h.map(d,function(a){return 2.56*parseFloat(a)}),4==k&&(b[3]=d[3]),l.fromArray(b,e)):l.fromArray(d,e);if("hsl"==b&&3==k||"hsla"==b&&4==k){var b=(parseFloat(d[0])%360+360)%360/360,r=parseFloat(d[1])/100,a=parseFloat(d[2])/100,r=0.5>=a?a*(r+1):a+r-a*r,a=2*a-r,b=[256*f(a,r,b+1/3),256*f(a,r,b),256*f(a,r,b-1/3),1];4==k&&(b[3]=d[3]);return l.fromArray(b,e)}}return null};var m=function(c,e,b){c=Number(c);return isNaN(c)?b:c<e?e:c>b?b:c};l.prototype.sanitize=function(){this.r=Math.round(m(this.r,
0,255));this.g=Math.round(m(this.g,0,255));this.b=Math.round(m(this.b,0,255));this.a=m(this.a,0,1);return this};n.makeGrey=l.makeGrey=function(c,e){return l.fromArray([c,c,c,e])};q.mixin(l.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,
127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,
206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,
240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,
0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,
232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,
250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return l})},"xl/dijit-bootstrap/VerticalToggle":function(){define("dojo/_base/declare dojo/dom-construct dojo/on dojo/_base/lang dojo/keys dijit/focus dojo/dom-attr dojo/dom-class dijit/_WidgetBase dijit/_Container xl/dijit-bootstrap/Button".split(" "),function(s,q,l,h,
n,f,m,c,e,b,d){return s("xl.dijit-bootstrap.VerticalToggle",[e,b],{baseClass:"btn-group-vertical",buttons:null,domNode:null,enabled:!0,constructor:function(){this.buttons=[]},_setEnabledAttr:function(b){this.enabled=b;this.buttons.forEach(function(c){c.domNode&&(c.domNode.disabled=!b)})},toggle:function(b){this.buttons.forEach(function(b){b.domNode?c.remove(b.domNode,"groupToggled"):c.remove(b,"groupToggled")});b&&(b.domNode?c.add(b.domNode,"groupToggled"):c.add(b,"groupToggled"))},_onClick:function(b){var c=
this.inherited(arguments);this.toggle(b.target);return c},addButton:function(b){this.buttons.push(b);b.isInstanceOf(dijit._WidgetBase)?l(b,"click",h.hitch(this,this._onClick)):this.connect(b,"onclick","_onClick");this.addChild(b)},buildRendering:function(){this.domNode=q.create("div");this.inherited(arguments)},destroy:function(){var b=this;this.buttons.forEach(function(c){b.removeChild(c);c.isInstanceOf(dijit._WidgetBase)&&c.destroyRecursive()});this.buttons=[]},postCreate:function(){this.inherited(arguments)}})})},
"xl/util/mobileMethods":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/touch dojo/has dojo/on dojo/dom-style".split(" "),function(s,q,l,h,n,f,m){return new (s("xl.util.mobileMethods",null,{_lastTouch:null,preventDoubleTabZoom:function(c,e){e&&e.own&&(e.own(f(c,h.press,q.hitch(this,function(b){var c=b.timeStamp,e=c-(this._lastTouch||c);if(b.touches){var r=b.touches.length;this._lastTouch=c;if(e&&!(500<e||1<r))b.preventDefault(),(b=b.target)&&f.emit(b,"click",{bubbles:!0,cancelable:!0})}}))),
m.set(c,"-ms-touch-action","none"))}}))})},"xl/player/actions/PrintQuestionAction":function(){define(["dojo/_base/declare","xl/util/logger"],function(s,q){return s("xl.player.actions.PrintQuestionAction",null,{process:function(l,h){var n={state:l.problemState,inputs:h._getInputData(),postUrl:h._postUrl,headerInfo:l.headerInfo,problemSettings:h._problemSettings,options:l.printOptions};null!=h._printerWindow&&(!h._printerWindow.closed&&h.printerPlayer)&&h._printerWindow.close();h.printerPlayer=null;
h._printerWindow=window.open(l.url,"printer","location\x3dno,menubar\x3dno,resizable\x3dno,scrollbars\x3dyes,status\x3dno,toolbar\x3dno,height\x3d500,width\x3d600");if(null!=h._printerWindow&&!h._printerWindow.closed){var f=function(){h._printerWindow.printerPlayer?(h.printerPlayer=h._printerWindow.printerPlayer,h.printerPlayer.initialize({logger:q}),h.printerPlayer.printOne(n)):setTimeout(f,100)};setTimeout(f,100)}}})})},"xl/player/actions/ResultsPostedAction":function(){define(["dojo/_base/declare"],
function(s){return s("xl.player.actions.ResultsPostedAction",null,{process:function(q,l){l.doResultsPosted(q)}})})},"xl/player/actions/ShowReviewDataAction":function(){define("dojo/_base/declare xl/util/logger dojo/_base/Deferred ../dialogs/ReviewDataEdit xl/util/standbyHandler xl/util/localization!html5player/player dojo/dom-attr".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.actions.ShowReviewDataAction",null,{process:function(c,e){var b=f["contextmenu.review_data"],d=c.data,k=new h;k.startup();
k.set("value",{reviewData:d});k.set("title",b);m.set(k.cancelButton,"label",f["ga.prompt.cancel"]);m.set(k.OkButton,"label",f.ok);var r=null,a=n.startModal();k.execute=function(a){r=a.reviewData};k.on("hide",function(b){k.destroyRecursive(!1);r&&e.postCommand("loadreviewdata",{data:r});n.endModal(a)});k.show();return!0}})})},"xl/player/dialogs/ReviewDataEdit":function(){define("dojo/_base/declare ./BaseDialog dijit/form/Button dijit/form/Textarea dijit/_WidgetsInTemplateMixin dojo/text!./templates/ReviewDataEdit.html dojo/dom-style dojo/dom-geometry dijit/a11y".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.player.dialogs.ReviewDataEdit",[q,n],{isModal:!0,templateString:f,constructor:function(b){console.log("inside reviewdataedit")},reviewData:null,postCreate:function(){this.inherited(arguments);this.textAreaReviewData.set("value",this.reviewData)},okClicked:function(b){return!0},cancelClicked:function(b){this.hide()}})})},"xl/player/actions/ShowOverrideValuesAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/_base/Deferred","../dialogs/OverrideValues",
"xl/util/standbyHandler"],function(s,q,l,h,n){return s("xl.player.actions.ShowOverrideValuesAction",null,{process:function(f,m){var c=f.xml,e=f.variables,b=new h;b.startup();b.set("value",{overrideValues:c});b.set("useOverride",f.useOverride);b.set("title","Override Values");var d=null,k=!1,r=n.startModal();b.execute=function(a){d=a.overrideValues;k="useOverride"===a.useOverride};b.on("hide",function(a){b.destroyRecursive(!1);d&&m.postCommand("loadoverridevalues",{data:d,useOverride:k});n.endModal(r)});
b.setData(e);b.show();return!0}})})},"xl/player/dialogs/OverrideValues":function(){define("dojo/_base/declare ./ResizableDialog dijit/form/Button dijit/form/RadioButton dijit/form/Textarea dijit/layout/BorderContainer dijit/layout/TabContainer dijit/layout/ContentPane dijit/_WidgetsInTemplateMixin dojox/grid/DataGrid dojo/store/Memory dojo/data/ObjectStore dojo/text!./templates/OverrideValues.html dojo/dom-style dojo/dom-geometry dojo/_base/lang xl/dijit/Iframe".split(" "),function(s,q,l,h,n,f,m,
c,e,b,d,k,r,a,t,u,v){return s("xl.player.dialogs.OverrideValues",[q,e],{isModal:!0,templateString:r,constructor:function(){console.log("inside overridevalues")},overrideValues:null,postCreate:function(){this.inherited(arguments);this.textAreaOverrideValues.set("value",this.overrideValues);this.variablesGrid.on("applyCellEdit",u.hitch(this,this.onCellEdit));this.textAreaOverrideValues.on("change",u.hitch(this,this.updateVariablesGridFromXml));this.overrideAllCheckbox.onclick=u.hitch(this,this.updateCheckAll)},
updateCheckAll:function(){var a=this.overrideAllCheckbox.checked,b=!1,c=this.variablesGrid;c.store.fetch({onComplete:function(d){for(var e=0;e<d.length;e++){var k=c.getItem(e);k.override!=a&&(k.override=a,b=!0)}}});b&&(c.update(),this.updateXml(c,this.textAreaOverrideValues))},updateXml:function(a,b){a.store.fetch({onComplete:function(c,d){var e=document.createElement("div"),k=document.createElement("ipxreviewdata");k.appendChild(document.createTextNode("\n"));for(var f=0;f<c.length;f++){var r=a.getItem(f);
if(r&&!0==r.override){k.appendChild(document.createTextNode("  "));var t=document.createElement("data");t.setAttribute("value",r.newValue);t.setAttribute("unformattedvalue",r.newValue);t.setAttribute("name",r.name);k.appendChild(t);k.appendChild(document.createTextNode("\n"))}}e.appendChild(k);b.set("value",e.innerHTML)}})},onCellEdit:function(a,b,c){if("newValue"==c||"override"==c)a=this.variablesGrid,"newValue"==c&&(b=a.getItem(b),a.store.setValue(b,"override",!0),a.update()),this.updateXml(a,this.textAreaOverrideValues)},
okClicked:function(a){return!0},cancelClicked:function(a){this.hide()},setData:function(a){a=new d({data:a,idProperty:"name"});a=new k({objectStore:a});this.variablesGrid.setStore(a)},updateVariablesGridFromXml:function(){this._resetGrid();for(var a=(new DOMParser).parseFromString(this.textAreaOverrideValues.value,"text/xml").documentElement.childNodes,b=this.variablesGrid.store,c=function(a){return function(b){b.newValue=a;b.override=!0}},d=0;d<a.length;d++){var e=a[d];"data"===e.localName&&b.fetchItemByIdentity({identity:e.attributes.name.value,
onItem:c(e.attributes.value.value),scope:this})}this.variablesGrid.update()},_setUseOverrideAttr:function(a){this.useRadio.set("checked",a);this.donotuseRadio.set("checked",!a)},_loadClicked:function(){if(0!==this.inputDataFile.files.length){var a=this.inputDataFile.files[0],b=new FileReader;b.onload=u.hitch(this,function(a){this.textAreaOverrideValues.set("value",a.target.result);this.updateVariablesGridFromXml();this.inputDataFile.value=""});b.readAsText(a)}},_saveClicked:function(){var a=new Date,
a="overrideValues-"+a.getMonth()+"-"+a.getDate()+"-"+a.getFullYear()+"-"+a.getHours()+"-"+a.getMinutes()+"-"+a.getSeconds()+".xml";this.saveFrame.post("/api/v1/download",{filename:a,contents:this.textAreaOverrideValues.value},!0)},_resetGrid:function(){var a=this.variablesGrid;a.store.fetch({onComplete:function(b,c){for(var d=!1,e=0;e<b.length;e++){var k=a.getItem(e);k&&(k.override&&(k.override=!1,d=!0),k.newValue!=k.currentValue&&(k.newValue=k.currentValue,d=!0))}d&&a.update()}})},_resetClicked:function(){this.textAreaOverrideValues.set("value",
"\x3cipxreviewdata\x3e\n\x3c/ipxreviewdata\x3e")}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(s,q,l){return s("dijit.form.RadioButton",[q,l],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query ../registry".split(" "),function(s,q,l,h,n,f){return q("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var m=
[];n("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(h.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=f.getEnclosingWidget(c))&&m.push(c)}));return m},_setCheckedAttr:function(f){this.inherited(arguments);this._created&&f&&s.forEach(this._getRelatedWidgets(),h.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(f){return null==f?"on":f},_onClick:function(f){return this.checked||this.disabled?(f.stopPropagation(),
f.preventDefault(),!1):this.readOnly?(f.stopPropagation(),f.preventDefault(),s.forEach(this._getRelatedWidgets(),h.hitch(this,function(c){l.set(this.focusNode||this.domNode,"checked",c.checked)})),!1):this.inherited(arguments)}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),function(s,q,l,h,n,f,m,c,e){var b=f("dojox.grid.DataGrid",
m,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},destroy:function(){this.selection.destroy();
this.inherited(arguments)},createSelection:function(){this.selection=new c(this)},get:function(b,c){if(c&&"_item"==this.field&&!this.fields)return c;if(c&&this.fields){var e=[],a=this.grid.store;q.forEach(this.fields,function(b){e=e.concat(a.getValues(c,b))});return e}return!c&&"string"===typeof b?this.inherited(arguments):!c?this.defaultValue:!this.field?this.value:"_item"==this.field?c:this.grid.store.getValue(c,this.field)},_checkUpdateStatus:function(){if(0<this.updateDelay){var b=!1;this._endUpdateDelay&&
(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,b=!0);this.updating||(this.beginUpdate(),b=!0);if(b){var c=this;this._endUpdateDelay=setTimeout(function(){delete c._endUpdateDelay;c.endUpdate()},this.updateDelay)}}},_onSet:function(b,c,e,a){this._checkUpdateStatus();b=this.getItemIndex(b);-1<b&&this.updateRow(b)},_createItem:function(b,c){var e=this._hasIdentity?this.store.getIdentity(b):h.toJson(this.query)+":idx:"+c+":sort:"+h.toJson(this.getSortProps());return this._by_idty[e]=
{idty:e,item:b}},_addItem:function(b,c,e){this._by_idx[c]=this._createItem(b,c);e||this.updateRow(c)},_onNew:function(b,c){this._checkUpdateStatus();var e=this.get("rowCount");this._addingItem=!0;this.updateRowCount(e+1);this._addingItem=!1;this._addItem(b,e);this.showMessage()},_onDelete:function(b){this._checkUpdateStatus();b=this._getItemIndex(b,!0);if(0<=b){this._pages=[];this._eop=this._bop=-1;var c=this._by_idx[b];this._by_idx.splice(b,1);delete this._by_idty[c.idty];this.updateRowCount(this.get("rowCount")-
1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(b)&&(this.selection.deselect(b),this.selection.selected.splice(b,1))},_onRevert:function(){this._refresh()},setStore:function(b,c,e){this._requestsPending(0)||(this._setQuery(c,e),this._setStore(b),this._refresh(!0))},setQuery:function(b,c){this._requestsPending(0)||(this._setQuery(b,c),this._refresh(!0))},setItems:function(b){this.items=b;this._setStore(this.store);this._refresh(!0)},_setQuery:function(b,
c){this.query=b;this.queryOptions=c||this.queryOptions},_setStore:function(b){this.store&&this._store_connects&&q.forEach(this._store_connects,this.disconnect,this);if(this.store=b){b=this.store.getFeatures();var c=[];this._canEdit=!!b["dojo.data.api.Write"]&&!!b["dojo.data.api.Identity"];this._hasIdentity=!!b["dojo.data.api.Identity"];b["dojo.data.api.Notification"]&&!this.items&&(c.push(this.connect(this.store,"onSet","_onSet")),c.push(this.connect(this.store,"onNew","_onNew")),c.push(this.connect(this.store,
"onDelete","_onDelete")));this._canEdit&&c.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=c}},_onFetchBegin:function(b,c){this.scroller&&(this.rowCount!=b&&(c.isRender?(this.scroller.init(b,this.keepRows,this.rowsPerPage),this.rowCount=b,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(b)),b?this.showMessage():(this.views.render(),this._resize(),this.showMessage(this.noDataMessage),this.focus.initFocusView()))},
_onFetchComplete:function(b,c){this.scroller&&(b&&0<b.length&&(q.forEach(b,function(b,a){this._addItem(b,c.start+a,!0)},this),this.updateRows(c.start,b.length),c.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),n("ie")&&e.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[c.start]=!1)},_onFetchError:function(b,c){console.log(b);delete this._lastScrollTop;
this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[c.start]=!1;this.onFetchError(b,c)},onFetchError:function(b,c){},_fetch:function(b,c){b=b||0;if(this.store&&!this._pending_requests[b]){!this._isLoaded&&!this._isLoading&&(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[b]=!0;try{if(this.items){var e=this.items,a=this.store;this.rowsPerPage=e.length;var f={start:b,count:this.rowsPerPage,isRender:c};this._onFetchBegin(e.length,
f);var m=0;q.forEach(e,function(b){a.isItemLoaded(b)||m++});if(0===m)this._onFetchComplete(e,f);else{var h=function(a){m--;0===m&&this._onFetchComplete(e,f)};q.forEach(e,function(b){a.isItemLoaded(b)||a.loadItem({item:b,onItem:h,scope:this})},this)}}else this.store.fetch({start:b,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:c,onBegin:l.hitch(this,"_onFetchBegin"),onComplete:l.hitch(this,"_onFetchComplete"),onError:l.hitch(this,"_onFetchError")})}catch(n){this._onFetchError(n,
{start:b,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(b){var c=this._by_idx[b];return!c||c&&!c.item?(this._preparePage(b),null):c.item},getItemIndex:function(b){return this._getItemIndex(b,!1)},_getItemIndex:function(b,c){if(!c&&!this.store.isItem(b))return-1;for(var e=this._hasIdentity?this.store.getIdentity(b):null,a=0,f=this._by_idx.length;a<f;a++){var m=
this._by_idx[a];if(m&&(e&&m.idty==e||m.item===b))return a}return-1},filter:function(b,c){this.query=b;c&&this._clearData();this._fetch()},_getItemAttr:function(b,c){var e=this.getItem(b);return!e?this.fetchText:this.store.getValue(e,c)},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(b){return this._pending_requests[b]},_rowToPage:function(b){return this.rowsPerPage?
Math.floor(b/this.rowsPerPage):b},_pageToRow:function(b){return this.rowsPerPage?this.rowsPerPage*b:b},_preparePage:function(b){if((b<this._bop||b>=this._eop)&&!this._addingItem)b=this._rowToPage(b),this._needPage(b),this._bop=b*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"))},_needPage:function(b){this._pages[b]||(this._pages[b]=!0,this._requestPage(b))},_requestPage:function(b){b=this._pageToRow(b);0<Math.min(this.rowsPerPage,this.get("rowCount")-b)&&(this._requests++,
this._requestsPending(b)||setTimeout(l.hitch(this,"_fetch",b,!1),1))},getCellName:function(b){return b.field},_refresh:function(b){this._clearData();this._fetch(0,b)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var b=this.getCell(this.getSortIndex());if(b){var c=b.sortDesc,e=!(0<this.sortInfo);return[{attribute:b.field,descending:"undefined"==typeof c?e:e?!c:c}]}return this.sortFields?this.sortFields:
null},styleRowState:function(b){if(this.store&&this.store.getState){for(var c=this.store.getState(b.index),e="",a=0,f=["inflight","error","inserting"],m;m=f[a];a++)if(c[m]){e=" dojoxGridRow-"+m;break}b.customClasses+=e}},onStyleRow:function(b){this.styleRowState(b);this.inherited(arguments)},canEdit:function(b,c){return this._canEdit},_copyAttr:function(b,c){var e=this.getItem(b);return this.store.getValue(e,c)},doStartEdit:function(b,c){this._cache[c]||(this._cache[c]=this._copyAttr(c,b.field));
this.onStartEdit(b,c)},doApplyCellEdit:function(b,c,e){this.store.fetchItemByIdentity({identity:this._by_idx[c].idty,onItem:l.hitch(this,function(a){var f=this.store.getValue(a,e);"number"==typeof f?b=isNaN(b)?b:parseFloat(b):"boolean"==typeof f?b="true"==b?!0:"false"==b?!1:b:f instanceof Date&&(f=new Date(b),b=isNaN(f.getTime())?b:f);this.store.setValue(a,e,b);this.onApplyCellEdit(b,c,e)})})},doCancelEdit:function(b){this._cache[b]&&(this.updateRow(b),delete this._cache[b]);this.onCancelEdit.apply(this,
arguments)},doApplyEdit:function(b,c){this.onApplyEdit(b)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var b=l.hitch(this,function(b){b.length&&(q.forEach(b,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:b}):b(this.selection.getSelected())}}});b.cell_markupFactory=function(b,c,f){var a=l.trim(e.attr(c,"field")||"");a&&(f.field=a);f.field=f.field||f.name;if(a=l.trim(e.attr(c,
"fields")||""))f.fields=a.split(",");b&&b(c,f)};b.markupFactory=function(c,e,f,a){return m.markupFactory(c,e,f,l.partial(b.cell_markupFactory,a))};return b})},"dojox/main":function(){define(["dojo/_base/kernel"],function(s){return s.dojox})},"dojox/grid/_Grid":function(){define("dojo/_base/kernel ../main dojo/_base/declare ./_Events ./_Scroller ./_Layout ./_View ./_ViewManager ./_RowManager ./_FocusManager ./_EditManager ./Selection ./_RowSelector ./util dijit/_Widget dijit/_TemplatedMixin dijit/CheckedMenuItem dojo/text!./resources/_Grid.html dojo/string dojo/_base/array dojo/_base/lang dojo/_base/sniff dojox/html/metrics dojo/_base/html dojo/query dojo/dnd/common dojo/i18n!dijit/nls/loading".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C){s.isCopyKey||(s.isCopyKey=s.dnd.getCopyKeyState);l=l("dojox.grid._Grid",[t,u,h],{templateString:D,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:!1,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:!0,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:!1,selectionMode:"extended",rowSelector:"",columnReordering:!1,headerMenu:null,placeholderLabel:"GridColumns",selectable:!1,_click:null,loadingMessage:"\x3cspan class\x3d'dojoxGridLoading'\x3e${loadingState}\x3c/span\x3e",
errorMessage:"\x3cspan class\x3d'dojoxGridError'\x3e${errorState}\x3c/span\x3e",noDataMessage:"",escapeHTMLInData:!0,formatterScope:null,editable:!1,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:f,buildRendering:function(){this.inherited(arguments);this.domNode.getAttribute("tabIndex")||(this.domNode.tabIndex="0");this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");
this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");x.initOnFontResize();this.connect(x,"onFontResize","textSizeChanged");a.funnelEvents(this.domNode,this,"doKeyEvent",a.keyEvents);"none"!=this.selectionMode&&this.domNode.setAttribute("aria-multiselectable","single"==this.selectionMode?"false":"true");w.addClass(this.domNode,this.classTag);this.isLeftToRight()||w.addClass(this.domNode,this.classTag+"Rtl");0<this.rowHeight&&w.addClass(this.viewsNode,
this.classTag+"FixedRowHeight")},postMixInProperties:function(){this.inherited(arguments);var a=s.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=z.substitute(this.loadingMessage,a);this.errorMessage=z.substitute(this.errorMessage,a);this.srcNodeRef&&this.srcNodeRef.style.height&&(this.height=this.srcNodeRef.style.height);this._setAutoHeightAttr(this.autoHeight,!0);this.lastScrollTop=this.scrollTop=0},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);
this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);this.domNode&&(this.autoWidth&&this.initialWidth)&&(this.domNode.style.width=this.initialWidth);this.domNode&&!this.editable&&w.attr(this.domNode,"aria-readonly","true")},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.scroller&&(this.scroller.destroy(),delete this.scroller);this.edit.destroy();delete this.edit;this.views.destroyViews();this.focus&&(this.focus.destroy(),
delete this.focus);this.headerMenu&&this._placeholders.length&&(B.forEach(this._placeholders,function(a){a.unReplace(!0)}),this.headerMenu.unBindDomNode(this.viewsHeaderNode));this.inherited(arguments)},_setAutoHeightAttr:function(a,b){"string"==typeof a&&(a=!a||"false"==a?!1:"true"==a?!0:window.parseInt(a,10));"number"==typeof a&&(isNaN(a)&&(a=!1),0>a?a=!0:0===a&&(a=!1));this.autoHeight=a;this._autoHeight="boolean"==typeof a?a:"number"==typeof a?a>=this.get("rowCount"):!1;this._started&&!b&&this.render()},
_getRowCountAttr:function(){return this.updating&&this.invalidated&&void 0!=this.invalidated.rowCount?this.invalidated.rowCount:this.rowCount},textSizeChanged:function(){this.render()},sizeChange:function(){this.update()},createManagers:function(){this.rows=new e(this);this.focus=new b(this);this.edit=new d(this)},createSelection:function(){this.selection=new k(this)},createScroller:function(){this.scroller=new n;this.scroller.grid=this;this.scroller.renderRow=F.hitch(this,"renderRow");this.scroller.removeRow=
F.hitch(this,"rowRemoved")},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn")},onMoveColumn:function(){this.update()},onResizeColumn:function(a){},createViews:function(){this.views=new c(this);this.views.createView=F.hitch(this,"createView")},createView:function(a,b){var c=new (F.getObject(a))({grid:this,index:b});this.viewsNode.appendChild(c.domNode);this.viewsHeaderNode.appendChild(c.headerNode);this.views.addView(c);w.attr(this.domNode,
"align",this.isLeftToRight()?"left":"right");return c},buildViews:function(){for(var a=0,b;b=this.layout.structure[a];a++)this.createView(b.type||q._scopeName+".grid._View",a).setStructure(b);this.scroller.setContentNodes(this.views.getContentNodes())},_setStructureAttr:function(a){a&&F.isString(a)&&(s.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0"),a=F.getObject(a));this.structure=a;if(!a)if(this.layout.structure)a=this.layout.structure;
else return;this.views.destroyViews();this.focus.focusView=null;a!==this.layout.structure&&this.layout.setStructure(a);this._structureChanged()},setStructure:function(a){s.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(a)},getColumnTogglingItems:function(){var a,b=[];a=B.map(this.layout.cells,function(a){a.menuItems||(a.menuItems=[]);var c=this,d=new v({label:a.name,checked:!a.hidden,_gridCell:a,onChange:function(a){if(c.layout.setColumnVisibility(this._gridCell.index,
a)){var b=this._gridCell.menuItems;1<b.length&&B.forEach(b,function(b){b!==this&&b.setAttribute("checked",a)},this);a=B.filter(c.layout.cells,function(a){1<a.menuItems.length?B.forEach(a.menuItems,"item.set('disabled', false);"):a.menuItems[0].set("disabled",!1);return!a.hidden});1==a.length&&B.forEach(a[0].menuItems,"item.set('disabled', true);")}},destroy:function(){var a=B.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(a,1);delete this._gridCell;v.prototype.destroy.apply(this,
arguments)}});a.menuItems.push(d);a.hidden||b.push(d);return d},this);1==b.length&&b[0].set("disabled",!0);return a},_setHeaderMenuAttr:function(a){this._placeholders&&this._placeholders.length&&(B.forEach(this._placeholders,function(a){a.unReplace(!0)}),this._placeholders=[]);this.headerMenu&&this.headerMenu.unBindDomNode(this.viewsHeaderNode);if(this.headerMenu=a)this.headerMenu.bindDomNode(this.viewsHeaderNode),this.headerMenu.getPlaceholders&&(this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel))},
setHeaderMenu:function(a){s.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(a)},setupHeaderMenu:function(){this._placeholders&&this._placeholders.length&&B.forEach(this._placeholders,function(a){a._replaced&&a.unReplace(!0);a.replace(this.getColumnTogglingItems())},this)},_fetch:function(a){this.setScrollTop(0)},getItem:function(a){return null},showMessage:function(a){a?(this.messagesNode.innerHTML=a,this.messagesNode.style.display=
""):(this.messagesNode.innerHTML="",this.messagesNode.style.display="none")},_structureChanged:function(){this.buildViews();this.autoRender&&this._started&&this.render()},hasLayout:function(){return this.layout.cells.length},resize:function(a,b){this._pendingChangeSize=a;this._pendingResultSize=b;this.sizeChange()},_getPadBorder:function(){return this._padBorder=this._padBorder||w._getPadBorderExtents(this.domNode)},_getHeaderHeight:function(){var a=this.viewsHeaderNode.style,b="none"==a.display?
0:this.views.measureHeader();a.height=b+"px";this.views.normalizeHeaderNodeHeight();return b},_resize:function(a,b){a=a||this._pendingChangeSize;b=b||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(this.domNode){var c=this.domNode.parentNode;if(c&&!(1!=c.nodeType||!this.hasLayout()||"hidden"==c.style.visibility||"none"==c.style.display)){var d=this._getPadBorder(),e=void 0,k;this._autoHeight?this.domNode.style.height="auto":"number"==typeof this.autoHeight?
(k=e=this._getHeaderHeight(),k+=this.scroller.averageRowHeight*this.autoHeight,this.domNode.style.height=k+"px"):this.domNode.clientHeight<=d.h&&(c==document.body?this.domNode.style.height=this.defaultHeight:this.height?this.domNode.style.height=this.height:this.fitTo="parent");b&&(a=b);!this._autoHeight&&a?(w.marginBox(this.domNode,a),this.height=this.domNode.style.height,delete this.fitTo):"parent"==this.fitTo&&(k=this._parentContentBoxHeight=0<this._parentContentBoxHeight?this._parentContentBoxHeight:
w._getContentBox(c).h,this.domNode.style.height=Math.max(0,k)+"px");c=B.some(this.views.views,function(a){return a.flexCells});!this._autoHeight&&0===(k||w._getContentBox(this.domNode).h)?this.viewsHeaderNode.style.display="none":(this.viewsHeaderNode.style.display="block",!c&&void 0===e&&(e=this._getHeaderHeight()));c&&(e=void 0);this.adaptWidth();this.adaptHeight(e);this.postresize()}}},adaptWidth:function(){var a=!this.initialWidth&&this.autoWidth,b=a?0:this.domNode.clientWidth||this.domNode.offsetWidth-
this._getPadBorder().w,b=this.views.arrange(1,b);this.views.onEach("adaptWidth");a&&(this.domNode.style.width=b+"px")},adaptHeight:function(a){a=void 0===a?this._getHeaderHeight():a;var b=this._autoHeight?-1:Math.max(this.domNode.clientHeight-a,0)||0;this.views.onEach("setSize",[0,b]);this.views.onEach("adaptHeight");if(!this._autoHeight){var c=0,d=0,e=B.filter(this.views.views,function(a){(a=a.hasHScrollbar())?c++:d++;return!a});0<c&&0<d&&B.forEach(e,function(a){a.adaptHeight(!0)})}!0===this.autoHeight||
-1!=b||"number"==typeof this.autoHeight&&this.autoHeight>=this.get("rowCount")?this.scroller.windowHeight=b:this.scroller.windowHeight=Math.max(this.domNode.clientHeight-a,0)},startup:function(){this._started||(this.inherited(arguments),this.autoRender&&this.render())},render:function(){this.domNode&&this._started&&(this.hasLayout()?(this.update=this.defaultUpdate,this._render()):this.scroller.init(0,this.keepRows,this.rowsPerPage))},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,
this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender()},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize()},postrender:function(){this.postresize();this.focus.initFocusView();w.setSelectable(this.domNode,this.selectable)},postresize:function(){if(this._autoHeight){var a=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=a}},renderRow:function(a,b){this.views.renderRow(a,
b,this._skipRowRenormalize)},rowRemoved:function(a){this.views.rowRemoved(a)},invalidated:null,updating:!1,beginUpdate:function(){this.invalidated=[];this.updating=!0},endUpdate:function(){this.updating=!1;var a=this.invalidated,b;if(a.all)this.update();else if(void 0!=a.rowCount)this.updateRowCount(a.rowCount);else for(b in a)this.updateRow(Number(b));this.invalidated=[]},defaultUpdate:function(){this.domNode&&(this.updating?this.invalidated.all=!0:(this.lastScrollTop=this.scrollTop,this.prerender(),
this.scroller.invalidateNodes(),this.setScrollTop(this.lastScrollTop),this.postrender()))},update:function(){this.render()},updateRow:function(a){a=Number(a);this.updating?this.invalidated[a]=!0:(this.views.updateRow(a),this.scroller.rowHeightChanged(a))},updateRows:function(a,b){a=Number(a);b=Number(b);var c;if(this.updating)for(c=0;c<b;c++)this.invalidated[c+a]=!0;else{for(c=0;c<b;c++)this.views.updateRow(c+a,this._skipRowRenormalize);this.scroller.rowHeightChanged(a)}},updateRowCount:function(a){this.updating?
this.invalidated.rowCount=a:(this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this.layout.cells.length&&this.scroller.updateRowCount(a),this._resize(),this.layout.cells.length&&this.setScrollTop(this.scrollTop))},updateRowStyles:function(a){this.views.updateRowStyles(a)},getRowNode:function(a){if(this.focus.focusView&&!(this.focus.focusView instanceof r))return this.focus.focusView.rowNodes[a];for(var b=0,c;c=this.views.views[b];b++)if(!(c instanceof r))return c.rowNodes[a];return null},
rowHeightChanged:function(a){this.views.renormalizeRow(a);this.scroller.rowHeightChanged(a)},fastScroll:!0,delayScroll:!1,scrollRedrawThreshold:A("ie")?100:50,scrollTo:function(a){if(this.fastScroll){var b=Math.abs(this.lastScrollTop-a);this.lastScrollTop=a;if(b>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=!0;this.scrollTop=a;this.views.setScrollTop(a);this._pendingScroll&&window.clearTimeout(this._pendingScroll);var c=this;this._pendingScroll=window.setTimeout(function(){delete c._pendingScroll;
c.finishScrollJob()},200)}else this.setScrollTop(a)}else this.setScrollTop(a)},finishScrollJob:function(){this.delayScroll=!1;this.setScrollTop(this.scrollTop)},setScrollTop:function(a){this.scroller.scroll(this.views.setScrollTop(a))},scrollToRow:function(a){this.setScrollTop(this.scroller.findScrollTop(a)+1)},styleRowNode:function(a,b){b&&this.rows.styleRowNode(a,b)},_mouseOut:function(a){this.rows.setOverRow(-2)},getCell:function(a){return this.layout.cells[a]},setCellWidth:function(a,b){this.getCell(a).unitWidth=
b},getCellName:function(a){return"Cell "+a.index},canSort:function(a){},sort:function(){},getSortAsc:function(a){a=void 0==a?this.sortInfo:a;return Boolean(0<a)},getSortIndex:function(a){a=void 0==a?this.sortInfo:a;return Math.abs(a)-1},setSortIndex:function(a,b){var c=a+1;void 0!=b?c*=b?1:-1:this.getSortIndex()==a&&(c=-this.sortInfo);this.setSortInfo(c)},setSortInfo:function(a){this.canSort(a)&&(this.sortInfo=a,this.sort(),this.update())},doKeyEvent:function(a){a.dispatch="do"+a.type;this.onKeyEvent(a)},
_dispatch:function(a,b){return a in this?this[a](b):!1},dispatchKeyEvent:function(a){this._dispatch(a.dispatch,a)},dispatchContentEvent:function(a){this.edit.dispatchEvent(a)||a.sourceView.dispatchContentEvent(a)||this._dispatch(a.dispatch,a)},dispatchHeaderEvent:function(a){a.sourceView.dispatchHeaderEvent(a)||this._dispatch("doheader"+a.type,a)},dokeydown:function(a){this.onKeyDown(a)},doclick:function(a){if(a.cellNode)this.onCellClick(a);else this.onRowClick(a)},dodblclick:function(a){if(a.cellNode)this.onCellDblClick(a);
else this.onRowDblClick(a)},docontextmenu:function(a){if(a.cellNode)this.onCellContextMenu(a);else this.onRowContextMenu(a)},doheaderclick:function(a){if(a.cellNode)this.onHeaderCellClick(a);else this.onHeaderClick(a)},doheaderdblclick:function(a){if(a.cellNode)this.onHeaderCellDblClick(a);else this.onHeaderDblClick(a)},doheadercontextmenu:function(a){if(a.cellNode)this.onHeaderCellContextMenu(a);else this.onHeaderContextMenu(a)},doStartEdit:function(a,b){this.onStartEdit(a,b)},doApplyCellEdit:function(a,
b,c){this.onApplyCellEdit(a,b,c)},doCancelEdit:function(a){this.onCancelEdit(a)},doApplyEdit:function(a){this.onApplyEdit(a)},addRow:function(){this.updateRowCount(this.get("rowCount")+1)},removeSelectedRows:function(){this.allItemsSelected?this.updateRowCount(0):this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));this.selection.clear()}});l.markupFactory=function(a,b,c,d){var e=function(a){a=w.attr(a,"width")||"auto";"auto"!=a&&("em"!=a.slice(-2)&&"%"!=a.slice(-1))&&
(a=parseInt(a,10)+"px");return a};!a.structure&&"table"==b.nodeName.toLowerCase()&&(a.structure=C("\x3e colgroup",b).map(function(a){var b=w.attr(a,"span"),b={noscroll:"true"==w.attr(a,"noscroll")?!0:!1,__span:b?parseInt(b,10):1,cells:[]};w.hasAttr(a,"width")&&(b.width=e(a));return b}),a.structure.length||a.structure.push({__span:Infinity,cells:[]}),C("thead \x3e tr",b).forEach(function(b,c){var k=0,f=0,r,t=null;C("\x3e th",b).map(function(b){t?k>=r+t.__span&&(f++,r+=t.__span,t=a.structure[f]):(r=
0,t=a.structure[0]);var m={name:F.trim(w.attr(b,"name")||b.innerHTML),colSpan:parseInt(w.attr(b,"colspan")||1,10),type:F.trim(w.attr(b,"cellType")||""),id:F.trim(w.attr(b,"id")||"")};k+=m.colSpan;var h=w.attr(b,"rowspan");h&&(m.rowSpan=h);w.hasAttr(b,"width")&&(m.width=e(b));w.hasAttr(b,"relWidth")&&(m.relWidth=window.parseInt(w.attr(b,"relWidth"),10));w.hasAttr(b,"hidden")&&(m.hidden="true"==w.attr(b,"hidden")||!0===w.attr(b,"hidden"));d&&d(b,m);m.type=m.type?F.getObject(m.type):q.grid.cells.Cell;
m.type&&m.type.markupFactory&&m.type.markupFactory(b,m);t.cells[c]||(t.cells[c]=[]);t.cells[c].push(m)})}));return new c(a,b)};return l})},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(s,q,l,h,n){return l("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(f){this.dispatchKeyEvent(f)},onContentEvent:function(f){this.dispatchContentEvent(f)},onHeaderEvent:function(f){this.dispatchHeaderEvent(f)},
onStyleRow:function(f){f.customClasses+=(f.odd?" dojoxGridRowOdd":"")+(f.selected?" dojoxGridRowSelected":"")+(f.over?" dojoxGridRowOver":"");this.focus.styleRow(f);this.edit.styleRow(f)},onKeyDown:function(f){if(!f.altKey&&!f.metaKey){var m;switch(f.keyCode){case s.ESCAPE:this.edit.cancel();break;case s.ENTER:if(!this.edit.isEditing()){m=this.focus.getHeaderIndex();if(0<=m){this.setSortIndex(m);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(f),f.shiftKey);h.stop(f)}f.shiftKey||
(m=this.edit.isEditing(),this.edit.apply(),m||this.edit.setEditCell(this.focus.cell,this.focus.rowIndex));this.edit.isEditing()||((this.focus.focusView||this.views.views[0]).content.decorateEvent(f),this.onRowClick(f),h.stop(f));break;case s.SPACE:if(!this.edit.isEditing()){m=this.focus.getHeaderIndex();if(0<=m){this.setSortIndex(m);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(f),f.shiftKey);h.stop(f)}break;case s.TAB:this.focus[f.shiftKey?"previousKey":"nextKey"](f);break;
case s.LEFT_ARROW:case s.RIGHT_ARROW:if(!this.edit.isEditing()){var c=f.keyCode;h.stop(f);m=this.focus.getHeaderIndex();0<=m&&f.shiftKey&&f.ctrlKey?this.focus.colSizeAdjust(f,m,5*(c==s.LEFT_ARROW?-1:1)):(f=c==s.LEFT_ARROW?1:-1,this.isLeftToRight()&&(f*=-1),this.focus.move(0,f))}break;case s.UP_ARROW:!this.edit.isEditing()&&0!==this.focus.rowIndex&&(h.stop(f),this.focus.move(-1,0));break;case s.DOWN_ARROW:!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount&&(h.stop(f),this.focus.move(1,0));
break;case s.PAGE_UP:!this.edit.isEditing()&&0!==this.focus.rowIndex&&(h.stop(f),this.focus.rowIndex!=this.scroller.firstVisibleRow+1?this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1)),this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0)));break;case s.PAGE_DOWN:!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount&&(h.stop(f),this.focus.rowIndex!=this.scroller.lastVisibleRow-
1?this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1)),this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0)))}}},onMouseOver:function(f){-1==f.rowIndex?this.onHeaderCellMouseOver(f):this.onCellMouseOver(f)},onMouseOut:function(f){-1==f.rowIndex?this.onHeaderCellMouseOut(f):this.onCellMouseOut(f)},onMouseDown:function(f){-1==f.rowIndex?this.onHeaderCellMouseDown(f):this.onCellMouseDown(f)},
onMouseOverRow:function(f){this.rows.isOver(f.rowIndex)||(this.rows.setOverRow(f.rowIndex),-1==f.rowIndex?this.onHeaderMouseOver(f):this.onRowMouseOver(f))},onMouseOutRow:function(f){if(this.rows.isOver(-1))this.onHeaderMouseOut(f);else this.rows.isOver(-2)||(this.rows.setOverRow(-2),this.onRowMouseOut(f))},onMouseDownRow:function(f){if(-1!=f.rowIndex)this.onRowMouseDown(f)},onCellMouseOver:function(f){f.cellNode&&q.add(f.cellNode,this.cellOverClass)},onCellMouseOut:function(f){f.cellNode&&q.remove(f.cellNode,
this.cellOverClass)},onCellMouseDown:function(f){},onCellClick:function(f){this._click[0]=this._click[1];this._click[1]=f;this.edit.isEditCell(f.rowIndex,f.cellIndex)||this.focus.setFocusCell(f.cell,f.rowIndex);1<this._click.length&&null==this._click[0]&&this._click.shift();this.onRowClick(f)},onCellDblClick:function(f){var m;m=1<this._click.length&&n("ie")?this._click[1]:1<this._click.length&&this._click[0].rowIndex!=this._click[1].rowIndex?this._click[0]:f;this.focus.setFocusCell(m.cell,m.rowIndex);
this.edit.setEditCell(m.cell,m.rowIndex);this.onRowDblClick(f)},onCellContextMenu:function(f){this.onRowContextMenu(f)},onCellFocus:function(f,m){this.edit.cellFocus(f,m)},onRowClick:function(f){this.edit.rowClick(f);this.selection.clickSelectEvent(f)},onRowDblClick:function(f){},onRowMouseOver:function(f){},onRowMouseOut:function(f){},onRowMouseDown:function(f){},onRowContextMenu:function(f){h.stop(f)},onHeaderMouseOver:function(f){},onHeaderMouseOut:function(f){},onHeaderCellMouseOver:function(f){f.cellNode&&
q.add(f.cellNode,this.cellOverClass)},onHeaderCellMouseOut:function(f){f.cellNode&&q.remove(f.cellNode,this.cellOverClass)},onHeaderCellMouseDown:function(f){},onHeaderClick:function(f){},onHeaderCellClick:function(f){this.setSortIndex(f.cell.index);this.onHeaderClick(f)},onHeaderDblClick:function(f){},onHeaderCellDblClick:function(f){this.onHeaderDblClick(f)},onHeaderCellContextMenu:function(f){this.onHeaderContextMenu(f)},onHeaderContextMenu:function(f){this.headerMenu||h.stop(f)},onStartEdit:function(f,
m){},onApplyCellEdit:function(f,m,c){},onCancelEdit:function(f){},onApplyEdit:function(f){},onCanSelect:function(f){return!0},onCanDeselect:function(f){return!0},onSelected:function(f){this.updateRowStyles(f)},onDeselected:function(f){this.updateRowStyles(f)},onSelectionChanged:function(){}})})},"dojox/grid/_Scroller":function(){define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(s,q,l,h,n){var f=function(c){c&&dojo.forEach(s.toArray(),function(e){e.domNode&&
n.isDescendant(e.domNode,c,!0)&&e.destroy()})},m=function(c,e){for(var b=[],d=0,k;k=c.childNodes[d];){d++;var f=n.byId(k);(f&&f.tagName?f.tagName.toLowerCase():"")==e&&b.push(k)}return b};return q("dojox.grid._Scroller",null,{constructor:function(c){this.setContentNodes(c);this.pageHeights=[];this.pageNodes=[];this.stack=[]},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,
averageRowHeight:0,page:0,pageTop:0,init:function(c,e,b){switch(arguments.length){case 3:this.rowsPerPage=b;case 2:this.keepRows=e;case 1:this.rowCount=c}this.defaultPageHeight=(0<this.grid.rowHeight?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();this.scrollboxNode&&(this.scrollboxNode.scrollTop=0,this.scroll(0),this.scrollboxNode.onscroll=l.hitch(this,"onscroll"))},_getPageCount:function(c,
e){return c?Math.ceil(c/e)||1:0},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode},setKeepInfo:function(c){this.keepRows=c;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2)},setContentNodes:function(c){this.colCount=(this.contentNodes=c)?this.contentNodes.length:0;this.pageNodes=[];for(c=0;c<this.colCount;c++)this.pageNodes[c]=[]},getDefaultNodes:function(){return this.pageNodes[0]||
[]},invalidate:function(){this._invalidating=!0;this.invalidateNodes();this.pageHeights=[];this.height=this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0;this.resize();this._invalidating=!1},updateRowCount:function(c){this.invalidateNodes();this.rowCount=c;c=this.pageCount;0===c&&(this.height=1);this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<c)for(c-=1;c>=this.pageCount;c--)this.height-=this.getPageHeight(c),delete this.pageHeights[c];
else this.pageCount>c&&(this.height+=this.defaultPageHeight*(this.pageCount-c-1)+this.calcLastPageHeight());this.resize()},pageExists:function(c){return Boolean(this.getDefaultPageNode(c))},measurePage:function(c){return this.grid.rowHeight?((c+1)*this.rowsPerPage>this.rowCount?this.rowCount-c*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight:(c=this.getDefaultPageNode(c))&&c.innerHTML?c.offsetHeight:void 0},positionPage:function(c,e){for(var b=0;b<this.colCount;b++)this.pageNodes[b][c].style.top=
e+"px"},repositionPages:function(c){for(var e=this.getDefaultNodes(),b=0,d=0;d<this.stack.length;d++)b=Math.max(this.stack[d],b);var k=(d=e[c])?this.getPageNodePosition(d)+this.getPageHeight(c):0;for(c+=1;c<=b;c++){if(d=e[c]){if(this.getPageNodePosition(d)==k)break;this.positionPage(c,k)}k+=this.getPageHeight(c)}},installPage:function(c){for(var e=0;e<this.colCount;e++)this.contentNodes[e].appendChild(this.pageNodes[e][c])},preparePage:function(c,e){for(var b=e?this.popPage():null,d=0;d<this.colCount;d++){var k=
this.pageNodes[d],f=null===b?this.createPageNode():this.invalidatePageNode(b,k);f.pageIndex=c;k[c]=f}},renderPage:function(c){var e=[],b;for(b=0;b<this.colCount;b++)e[b]=this.pageNodes[b][c];b=0;for(c*=this.rowsPerPage;b<this.rowsPerPage&&c<this.rowCount;b++,c++)this.renderRow(c,e)},removePage:function(c){var e=0;for(c*=this.rowsPerPage;e<this.rowsPerPage;e++,c++)this.removeRow(c)},destroyPage:function(c){for(var e=0;e<this.colCount;e++){var b=this.invalidatePageNode(c,this.pageNodes[e]);b&&n.destroy(b)}},
pacify:function(c){},pacifying:!1,pacifyTicks:200,setPacifying:function(c){this.pacifying!=c&&(this.pacifying=c,this.pacify(this.pacifying))},startPacify:function(){this.startPacifyTicks=(new Date).getTime()},doPacify:function(){var c=(new Date).getTime()-this.startPacifyTicks>this.pacifyTicks;this.setPacifying(!0);this.startPacify();return c},endPacify:function(){this.setPacifying(!1)},resize:function(){this.scrollboxNode&&(this.windowHeight=this.scrollboxNode.clientHeight);for(var c=0;c<this.colCount;c++)h.setStyleHeightPx(this.contentNodes[c],
Math.max(1,this.height));c=!this._invalidating;if(!c){var e=this.grid.get("autoHeight");"number"==typeof e&&e<=Math.min(this.rowsPerPage,this.rowCount)&&(c=!0)}c&&this.needPage(this.page,this.pageTop);c=this.page<this.pageCount-1?this.rowsPerPage:this.rowCount%this.rowsPerPage||this.rowsPerPage;e=this.getPageHeight(this.page);this.averageRowHeight=0<e&&0<c?e/c:0},calcLastPageHeight:function(){if(!this.pageCount)return 0;var c=(this.rowCount%this.rowsPerPage||this.rowsPerPage)*this.defaultRowHeight;
return this.pageHeights[this.pageCount-1]=c},updateContentHeight:function(c){this.height+=c;this.resize()},updatePageHeight:function(c,e,b){if(this.pageExists(c)){var d=this.getPageHeight(c),k=this.measurePage(c);void 0===k&&(k=d);this.pageHeights[c]=k;if(d!=k){this.updateContentHeight(k-d);var f=this.grid.get("autoHeight");"number"==typeof f&&f>this.rowCount||!0===f&&!e?b?(e=this.grid.viewsNode.style,e.height=parseInt(e.height)+k-d+"px",this.repositionPages(c)):this.grid.sizeChange():this.repositionPages(c)}return k}return 0},
rowHeightChanged:function(c,e){this.updatePageHeight(Math.floor(c/this.rowsPerPage),!1,e)},invalidateNodes:function(){for(;this.stack.length;)this.destroyPage(this.popPage())},createPageNode:function(){var c=document.createElement("div");n.attr(c,"role","presentation");c.style.position="absolute";c.style[this.grid.isLeftToRight()?"left":"right"]="0";return c},getPageHeight:function(c){c=this.pageHeights[c];return void 0!==c?c:this.defaultPageHeight},pushPage:function(c){return this.stack.push(c)},
popPage:function(){return this.stack.shift()},findPage:function(c){for(var e=0,b=0,d=0;e<this.pageCount&&!(d=this.getPageHeight(e),b+d>=c);e++,b+=d);this.page=e;this.pageTop=b},buildPage:function(c,e,b){this.preparePage(c,e);this.positionPage(c,b);this.installPage(c);this.renderPage(c);this.pushPage(c)},needPage:function(c,e){var b=this.getPageHeight(c);this.pageExists(c)?this.positionPage(c,e):(this.buildPage(c,!this.grid._autoHeight&&this.keepPages&&this.stack.length>=this.keepPages,e),b=this.updatePageHeight(c,
!0));return b},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop)},scroll:function(c){this.grid.scrollTop=c;if(this.colCount){this.startPacify();this.findPage(c);for(var e=this.height,b=this.getScrollBottom(c),d=this.page,k=this.pageTop;d<this.pageCount&&(0>b||k<b);d++)k+=this.needPage(d,k);this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,c);this.lastVisibleRow=this.getLastVisibleRow(d-1,k,b);e!=this.height&&this.repositionPages(d-1);this.endPacify()}},getScrollBottom:function(c){return 0<=
this.windowHeight?c+this.windowHeight:-1},processNodeEvent:function(c,e){for(var b=c.target;b&&b!=e&&b.parentNode&&b.parentNode.parentNode!=e;)b=b.parentNode;if(!b||!b.parentNode||b.parentNode.parentNode!=e)return!1;c.topRowIndex=b.parentNode.pageIndex*this.rowsPerPage;var d=c.topRowIndex,k;a:{k=0;for(var f,a=b.parentNode;f=a.childNodes[k++];)if(f==b){k-=1;break a}k=-1}c.rowIndex=d+k;c.rowTarget=b;return!0},processEvent:function(c){return this.processNodeEvent(c,this.contentNode)},renderRow:function(c,
e){},removeRow:function(c){},getDefaultPageNode:function(c){return this.getDefaultNodes()[c]},positionPageNode:function(c,e){},getPageNodePosition:function(c){return c.offsetTop},invalidatePageNode:function(c,e){var b=e[c];b&&(delete e[c],this.removePage(c,b),f(b),b.innerHTML="");return b},getPageRow:function(c){return c*this.rowsPerPage},getLastPageRow:function(c){return Math.min(this.rowCount,this.getPageRow(c+1))-1},getFirstVisibleRow:function(c,e,b){if(!this.pageExists(c))return 0;var d=this.getPageRow(c),
k=this.getDefaultNodes();c=m(k[c],"div");for(var k=0,f=c.length;k<f&&e<b;k++,d++)e+=c[k].offsetHeight;return d?d-1:d},getLastVisibleRow:function(c,e,b){if(!this.pageExists(c))return 0;var d=this.getDefaultNodes(),k=this.getLastPageRow(c);c=m(d[c],"div");for(d=c.length-1;0<=d&&e>b;d--,k--)e-=c[d].offsetHeight;return k+1},findTopRow:function(c){for(var e=this.getDefaultNodes(),e=m(e[this.page],"div"),b=0,d=e.length,k=this.pageTop,f;b<d;b++)if(f=e[b].offsetHeight,k+=f,k>=c)return this.offset=f-(k-c),
b+this.page*this.rowsPerPage;return-1},findScrollTop:function(c){var e=Math.floor(c/this.rowsPerPage),b=0,d;for(d=0;d<e;d++)b+=this.getPageHeight(d);this.pageTop=b;this.page=e;this.needPage(e,this.pageTop);d=this.getDefaultNodes();var k=m(d[e],"div"),e=c-this.rowsPerPage*e;d=0;for(c=k.length;d<c&&d<e;d++)b+=k[d].offsetHeight;return b},dummy:0})})},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(s,q,l){var h=q.getObject("grid.util",!0,s);h.na="...";h.rowIndexTag=
"gridRowIndex";h.gridViewTag="gridView";h.fire=function(h,f,m){var c=h&&f&&h[f];return c&&(m?c.apply(h,m):h[f]())};h.setStyleHeightPx=function(h,f){if(0<=f){var m=h.style,c=f+"px";h&&m.height!=c&&(m.height=c)}};h.mouseEvents="mouseover mouseout mousedown mouseup click dblclick contextmenu".split(" ");h.keyEvents=["keyup","keydown","keypress"];h.funnelEvents=function(n,f,m,c){c=c?c:h.mouseEvents.concat(h.keyEvents);for(var e=0,b=c.length;e<b;e++)f.connect(n,"on"+c[e],m)};h.removeNode=function(h){(h=
l.byId(h))&&h.parentNode&&h.parentNode.removeChild(h);return h};h.arrayCompare=function(h,f){for(var m=0,c=h.length;m<c;m++)if(h[m]!=f[m])return!1;return h.length==f.length};h.arrayInsert=function(h,f,m){h.length<=f?h[f]=m:h.splice(f,0,m)};h.arrayRemove=function(h,f){h.splice(f,1)};h.arraySwap=function(h,f,m){var c=h[f];h[f]=h[m];h[m]=c};return h})},"dojox/grid/_Layout":function(){define("dojo/_base/kernel ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-geometry ./cells ./_RowSelector".split(" "),
function(s,q,l,h,n,f){return l("dojox.grid._Layout",null,{constructor:function(f){this.grid=f},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(f,c,e,b,d){var k=this.structure[f].cells[0],r=this.structure[c].cells[0],a=null,t=a=0;f=0;for(var u;u=k[f];f++)if(u.index==e){a=f;break}a=k.splice(a,1)[0];a.view=this.grid.views.views[c];f=0;for(u=null;u=r[f];f++)if(u.index==b){t=f;break}d||(t+=1);r.splice(t,0,a);if(e=this.grid.getCell(this.grid.getSortIndex()))e._currentlySorted=this.grid.getSortAsc();
this.cells=[];for(f=e=0;c=this.structure[f];f++)for(b=0;d=c.cells[b];b++)for(k=0;u=d[k];k++)u.index=e,this.cells.push(u),"_currentlySorted"in u&&(r=e+1,r*=u._currentlySorted?1:-1,this.grid.sortInfo=r,delete u._currentlySorted),e++;h.forEach(this.cells,function(a){var b=a.markup[2].split(" ");parseInt(b[1].substring(5))!=a.index&&(b[1]='idx\x3d"'+a.index+'"',a.markup[2]=b.join(" "))});this.grid.setupHeaderMenu()},setColumnVisibility:function(m,c){var e=this.cells[m];if(e.hidden==c){e.hidden=!c;var b=
e.view,d=b.viewWidth;d&&"auto"!=d&&(b._togglingColumn=f.getMarginBox(e.getHeaderNode()).w||0);b.update();return!0}return!1},addCellDef:function(f,c,e){var b=this,d=function(c){var d=0;1<c.colSpan?d=0:(d=c.width||b._defaultCellProps.width||b.defaultWidth,isNaN(d)||(d+="em"));return d};f={grid:this.grid,subrow:f,layoutIndex:c,index:this.cells.length};if(e&&e instanceof q.grid.cells._Base)return c=n.clone(e),f.unitWidth=d(c._props),c=n.mixin(c,this._defaultCellProps,e._props,f);c=e.type||e.cellType||
this._defaultCellProps.type||this._defaultCellProps.cellType||q.grid.cells.Cell;n.isString(c)&&(c=n.getObject(c));f.unitWidth=d(e);return new c(n.mixin({},this._defaultCellProps,e,f))},addRowDef:function(f,c){for(var e=[],b=0,d=0,k=!0,r=0,a;a=c[r];r++)a=this.addCellDef(f,r,a),e.push(a),this.cells.push(a),k&&a.relWidth?b+=a.relWidth:a.width&&(a=a.width,"string"==typeof a&&"%"==a.slice(-1)?d+=window.parseInt(a,10):"auto"==a&&(k=!1));b&&k&&h.forEach(e,function(a){a.relWidth&&(a.width=a.unitWidth=a.relWidth/
b*(100-d)+"%")});return e},addRowsDef:function(f){var c=[];if(n.isArray(f))if(n.isArray(f[0]))for(var e=0,b;f&&(b=f[e]);e++)c.push(this.addRowDef(e,b));else c.push(this.addRowDef(0,f));return c},addViewDef:function(f){this._defaultCellProps=f.defaultCell||{};f.width&&"auto"==f.width&&delete f.width;return n.mixin({},f,{cells:this.addRowsDef(f.rows||f.cells)})},setStructure:function(f){this.fieldIndex=0;this.cells=[];var c=this.structure=[];if(this.grid.rowSelector){var e={type:q._scopeName+".grid._RowSelector"};
if(n.isString(this.grid.rowSelector)){var b=this.grid.rowSelector;"false"==b?e=null:"true"!=b&&(e.width=b)}else this.grid.rowSelector||(e=null);e&&c.push(this.addViewDef(e))}e=function(b){return null!==b&&n.isObject(b)&&("cells"in b||"rows"in b||"type"in b&&!("name"in b||"field"in b||"get"in b))};if(n.isArray(f)){for(var b=!1,d=0,k;k=f[d];d++)if(e(k)){b=!0;break}if(b)for(d=0;k=f[d];d++)n.isArray(k)&&(n.isArray(k[0])||"name"in k[0]||"field"in k[0]||"get"in k[0])?c.push(this.addViewDef({cells:k})):
e(k)&&c.push(this.addViewDef(k));else c.push(this.addViewDef({cells:f}))}else e(f)&&c.push(this.addViewDef(f));this.cellCount=this.cells.length;this.grid.setupHeaderMenu()}})})},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(s){return s.grid.cells})},"dojox/grid/cells/_base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dijit/_Widget ../util".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){var r=q("dojox.grid._DeferredTextWidget",d,{deferred:null,_destroyOnRemove:!0,postCreate:function(){this.deferred&&this.deferred.addBoth(l.hitch(this,function(a){this.domNode&&(this.domNode.innerHTML=a)}))}}),a=function(){setTimeout(l.hitch.apply(s,arguments),0)},t=q("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:!1,alwaysEditing:!1,formatter:null,defaultValue:"...",value:null,hidden:!1,noresize:!1,draggable:!0,_valueProp:"value",_formatPending:!1,constructor:function(a){this._props=
a||{};l.mixin(this,a);void 0===this.draggable&&(this.draggable=!0)},_defaultFormat:function(a,c){var d=this.grid.formatterScope||this,e=this.formatter;e&&(d&&"string"==typeof e)&&(e=this.formatter=d[e]);d=a!=this.defaultValue&&e?e.apply(d,c):a;if("undefined"==typeof d)return this.defaultValue;d&&d.addBoth&&(d=new r({deferred:d},b.create("span",{innerHTML:this.defaultValue})));return d&&d.declaredClass&&d.startup?"\x3cdiv class\x3d'dojoxGridStubNode' linkWidget\x3d'"+d.id+"' cellIdx\x3d'"+this.index+
"'\x3e"+this.defaultValue+"\x3c/div\x3e":d},format:function(a,b){var c=this.grid.edit.info,d=this.get?this.get(a,b):this.value||this.defaultValue,d=d&&d.replace&&this.grid.escapeHTMLInData?d.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):d;return this.editable&&(this.alwaysEditing||c.rowIndex==a&&c.cell==this)?this.formatEditing(c.value?c.value:d,a):this._defaultFormat(d,[d,a,this])},formatEditing:function(a,b){},getNode:function(a){return this.view.getCellNode(a,this.index)},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index)},
getEditNode:function(a){return(this.getNode(a)||0).firstChild||0},canResize:function(){var a=this.unitWidth;return a&&"auto"!==a},isFlex:function(){var a=this.unitWidth;return a&&l.isString(a)&&("auto"==a||"%"==a.slice(-1))},applyEdit:function(a,b){this.getNode(b)&&this.grid.edit.applyCellEdit(a,this,b)},cancelEdit:function(a){this.grid.doCancelEdit(a)},_onEditBlur:function(a){this.grid.edit.isEditCell(a,this.index)&&this.grid.edit.apply()},registerOnBlur:function(a,b){this.commitOnBlur&&n.connect(a,
"onblur",function(a){setTimeout(l.hitch(this,"_onEditBlur",b),250)})},needFormatNode:function(b,c){this._formatPending=!0;a(this,"_formatNode",b,c)},cancelFormatNode:function(){this._formatPending=!1},_formatNode:function(a,b){this._formatPending&&(this._formatPending=!1,m("ie")||c.setSelectable(this.grid.domNode,!0),this.formatNode(this.getEditNode(b),a,b))},formatNode:function(b,c,d){m("ie")?a(this,"focus",d,b):this.focus(d,b)},dispatchEvent:function(a,b){if(a in this)return this[a](b)},getValue:function(a){return this.getEditNode(a)[this._valueProp]},
setValue:function(a,b){var c=this.getEditNode(a);c&&(c[this._valueProp]=b)},focus:function(a,b){var c=b||this.getEditNode(a);try{k.fire(c,"focus"),k.fire(c,"select")}catch(d){}},save:function(a){this.value=this.value||this.getValue(a)},restore:function(a){this.setValue(a,this.value)},_finish:function(a){c.setSelectable(this.grid.domNode,!1);this.cancelFormatNode()},apply:function(a){this.applyEdit(this.getValue(a),a);this._finish(a)},cancel:function(a){this.cancelEdit(a);this._finish(a)}});t.markupFactory=
function(a,b){var c=l.trim(e.get(a,"formatter")||"");c&&(b.formatter=l.getObject(c)||c);if(c=l.trim(e.get(a,"get")||""))b.get=l.getObject(c);c=function(b,c,d){var k=l.trim(e.get(a,b)||"");k&&(c[d||b]="false"!=k.toLowerCase())};c("sortDesc",b);c("editable",b);c("alwaysEditing",b);c("noresize",b);c("draggable",b);if(c=l.trim(e.get(a,"loadingText")||e.get(a,"defaultValue")||""))b.defaultValue=c;c=function(b,c,d){var k=l.trim(e.get(a,b)||"")||void 0;k&&(c[d||b]=k)};c("styles",b);c("headerStyles",b);c("cellStyles",
b);c("classes",b);c("headerClasses",b);c("cellClasses",b)};var u=t.Cell=q("dojox.grid.cells.Cell",t,{constructor:function(){this.keyFilter=this.keyFilter},keyFilter:null,formatEditing:function(a,b){this.needFormatNode(a,b);return'\x3cinput class\x3d"dojoxGridInput" type\x3d"text" value\x3d"'+a+'"\x3e'},formatNode:function(a,b,c){this.inherited(arguments);this.registerOnBlur(a,c)},doKey:function(a){this.keyFilter&&-1==String.fromCharCode(a.charCode).search(this.keyFilter)&&h.stop(a)},_finish:function(a){this.inherited(arguments);
var b=this.getEditNode(a);try{k.fire(b,"blur")}catch(c){}}});u.markupFactory=function(a,b){t.markupFactory(a,b);var c=l.trim(e.get(a,"keyFilter")||"");c&&(b.keyFilter=RegExp(c))};(t.RowIndex=q("dojox.grid.cells.RowIndex",u,{name:"Row",postscript:function(){this.editable=!1},get:function(a){return a+1}})).markupFactory=function(a,b){u.markupFactory(a,b)};(t.Select=q("dojox.grid.cells.Select",u,{options:null,values:null,returnIndex:-1,constructor:function(a){this.values=this.values||this.options},formatEditing:function(a,
b){this.needFormatNode(a,b);for(var c=['\x3cselect class\x3d"dojoxGridSelect"\x3e'],d=0,e,k;void 0!==(e=this.options[d])&&void 0!==(k=this.values[d]);d++)k=k.replace?k.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):k,e=e.replace?e.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):e,c.push("\x3coption",a==k?" selected":"",' value\x3d"'+k+'"',"\x3e",e,"\x3c/option\x3e");c.push("\x3c/select\x3e");return c.join("")},_defaultFormat:function(a,b){var c=this.inherited(arguments);if(!this.formatter&&this.values&&
this.options){var d=f.indexOf(this.values,c);0<=d&&(c=this.options[d])}return c},getValue:function(a){var b=this.getEditNode(a);if(b)return a=b.selectedIndex,b=b.options[a],-1<this.returnIndex?a:b.value||b.innerHTML}})).markupFactory=function(a,b){u.markupFactory(a,b);var c=l.trim(e.get(a,"options")||"");if(c){var d=c.split(",");d[0]!=c&&(b.options=d)}if(c=l.trim(e.get(a,"values")||""))d=c.split(","),d[0]!=c&&(b.values=d)};var v=t.AlwaysEdit=q("dojox.grid.cells.AlwaysEdit",u,{alwaysEditing:!0,_formatNode:function(a,
b){this.formatNode(this.getEditNode(b),a,b)},applyStaticValue:function(a){var b=this.grid.edit;b.applyCellEdit(this.getValue(a),this,a);b.start(this,a,!0)}});v.markupFactory=function(a,b){u.markupFactory(a,b)};(t.Bool=q("dojox.grid.cells.Bool",v,{_valueProp:"checked",formatEditing:function(a,b){return'\x3cinput class\x3d"dojoxGridInput" type\x3d"checkbox"'+(a?' checked\x3d"checked"':"")+' style\x3d"width: auto" /\x3e'},doclick:function(a){"INPUT"==a.target.tagName&&this.applyStaticValue(a.rowIndex)}})).markupFactory=
function(a,b){v.markupFactory(a,b)};return t})},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare","./_View"],function(s,q){return s("dojox.grid._RowSelector",q,{defaultWidth:"2em",noscroll:!0,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden"},getWidth:function(){return this.viewWidth||this.defaultWidth},buildRowContent:function(l,h){h.innerHTML='\x3ctable class\x3d"dojoxGridRowbarTable" style\x3d"width:'+
(this.contentWidth||0)+'px;height:1px;" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd class\x3d"dojoxGridRowbarInner"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight()},adaptWidth:function(){!("contentWidth"in this)&&(this.contentNode&&0<this.contentNode.offsetWidth)&&(this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth)},doStyleRowNode:function(l,
h){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];this.grid.rows.isOver(l)&&n.push("dojoxGridRowbarOver");this.grid.selection.isSelected(l)&&n.push("dojoxGridRowbarSelected");h.className=n.join(" ")},domouseover:function(l){this.grid.onMouseOverRow(l)},domouseout:function(l){if(!this.isIntraRowEvent(l))this.grid.onMouseOutRow(l)}})})},"dojox/grid/_View":function(){define("dojo dijit/registry ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/_base/sniff dojo/query dojo/_base/window dojo/text!./resources/View.html dojo/dnd/Source dijit/_Widget dijit/_TemplatedMixin dojox/html/metrics ./util dojo/_base/html ./_Builder dojo/dnd/Avatar dojo/dnd/Manager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B){d=h("dojox.grid._View",[r,a],{defaultWidth:"18em",viewWidth:"",templateString:d,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:D._HeaderBuilder,_contentBuilderClass:D._ContentBuilder,postMixInProperties:function(){this.rowNodes={}},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");u.funnelEvents(this.contentNode,this,"doContentEvent","mouseover mouseout click dblclick contextmenu mousedown".split(" "));
u.funnelEvents(this.headerNode,this,"doHeaderEvent","dblclick mouseover mouseout mousemove mousedown click contextmenu".split(" "));this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);this.grid.isLeftToRight()||(this.headerNodeContainer.style.width="")},destroy:function(){v.destroy(this.headerNode);delete this.headerNode;for(var a in this.rowNodes)this._cleanupRowWidgets(this.rowNodes[a]),v.destroy(this.rowNodes[a]);this.rowNodes={};this.source&&this.source.destroy();
this.inherited(arguments)},focus:function(){c("ie")||c("webkit")||c("opera")?this.hiddenFocusNode.focus():this.scrollboxNode.focus()},setStructure:function(a){a=this.structure=a;a.width&&!isNaN(a.width)?this.viewWidth=a.width+"em":this.viewWidth=a.width||(a.noscroll?"auto":this.viewWidth);this._onBeforeRow=a.onBeforeRow||function(){};this._onAfterRow=a.onAfterRow||function(){};if(this.noscroll=a.noscroll)this.scrollboxNode.style.overflow="hidden";this.simpleStructure=Boolean(1==a.cells.length);this.testFlexCells();
this.updateStructure()},_cleanupRowWidgets:function(a){a&&n.forEach(e("[widgetId]",a).map(q.byNode),function(a){a._destroyOnRemove?(a.destroy(),delete a):a.domNode&&a.domNode.parentNode&&a.domNode.parentNode.removeChild(a.domNode)})},onBeforeRow:function(a,b){this._onBeforeRow(a,b);0<=a&&this._cleanupRowWidgets(this.getRowNode(a))},onAfterRow:function(a,b,c){this._onAfterRow(a,b,c);var d=this.grid;n.forEach(e(".dojoxGridStubNode",c),function(a){if(a&&a.parentNode){var b=a.getAttribute("linkWidget"),
c=window.parseInt(v.attr(a,"cellIdx"),10);d.getCell(c);(b=q.byId(b))?(a.parentNode.replaceChild(b.domNode,a),b._started||b.startup(),s.destroy(a)):a.innerHTML=""}},this)},testFlexCells:function(){this.flexCells=!1;for(var a=0,b;b=this.structure.cells[a];a++)for(var c=0,d;d=b[c];c++)d.view=this,this.flexCells=this.flexCells||d.isFlex();return this.flexCells},updateStructure:function(){this.header.update();this.content.update()},getScrollbarWidth:function(){var a=this.hasVScrollbar(),b=v.style(this.scrollboxNode,
"overflow");this.noscroll||!b||"hidden"==b?a=!1:"scroll"==b&&(a=!0);return a?t.getScrollbar().w:0},getColumnsWidth:function(){var a=this.headerContentNode;return a&&a.firstChild?a.firstChild.offsetWidth||v.style(a.firstChild,"width"):0},setColumnsWidth:function(a){this.headerContentNode.firstChild.style.width=a+"px";this.viewWidth&&(this.viewWidth=a+"px")},getWidth:function(){return this.viewWidth||this.getColumnsWidth()+this.getScrollbarWidth()+"px"},getContentWidth:function(){return Math.max(0,
v._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px"},render:function(){this.scrollboxNode.style.height="";this.renderHeader();0<=this._togglingColumn&&(this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn),this._togglingColumn=-1);var a=this.grid.layout.cells,d=f.hitch(this,function(b,c){!this.grid.isLeftToRight()&&(c=!c);for(var d=c?-1:1,e=this.header.getCellNodeIndex(b)+d,k=a[e];k&&k.getHeaderNode()&&"none"==k.getHeaderNode().style.display;)e+=d,k=a[e];return k?k.getHeaderNode():
null});if(this.grid.columnReordering&&this.simpleStructure){this.source&&this.source.destroy();this.bottomMarker&&v.destroy(this.bottomMarker);this.bottomMarker=v.byId("dojoxGrid_bottomMarker");this.topMarker&&v.destroy(this.topMarker);this.topMarker=v.byId("dojoxGrid_topMarker");this.bottomMarker||(this.bottomMarker=v.create("div",{id:"dojoxGrid_bottomMarker","class":"dojoxGridColPlaceBottom"},b.body()),this._hide(this.bottomMarker),this.topMarker=v.create("div",{id:"dojoxGrid_topMarker","class":"dojoxGridColPlaceTop"},
b.body()),this._hide(this.topMarker));this.arrowDim=v.contentBox(this.bottomMarker);var e=v.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new k(this.headerContentNode.firstChild.rows[0],{horizontal:!0,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:!1,onMouseDown:f.hitch(this,function(a){this.header.decorateEvent(a);if((this.header.overRightResizeArea(a)||this.header.overLeftResizeArea(a))&&this.header.canResize(a)&&!this.header.moveable)this.header.beginColumnResize(a);
else{if(this.grid.headerMenu)this.grid.headerMenu.onCancel(!0);a.button===(9>c("ie")?1:0)&&k.prototype.onMouseDown.call(this.source,a)}}),onMouseOver:f.hitch(this,function(a){var b=this.source;b._getChildByEvent(a)&&k.prototype.onMouseOver.apply(b,arguments)}),_markTargetAnchor:f.hitch(this,function(a){var b=this.source;if(!(b.current==b.targetAnchor&&b.before==a)){b.targetAnchor&&d(b.targetAnchor,b.before)&&b._removeItemClass(d(b.targetAnchor,b.before),b.before?"After":"Before");k.prototype._markTargetAnchor.call(b,
a);var c=a?b.targetAnchor:d(b.targetAnchor,b.before);a=0;c||(c=b.targetAnchor,a=v.contentBox(c).w+this.arrowDim.w/2+2);c=v.position(c,!0);a=Math.floor(c.x-this.arrowDim.w/2+a);v.style(this.bottomMarker,"visibility","visible");v.style(this.topMarker,"visibility","visible");v.style(this.bottomMarker,{left:a+"px",top:e+c.y+"px"});v.style(this.topMarker,{left:a+"px",top:c.y-this.arrowDim.h+"px"});b.targetAnchor&&d(b.targetAnchor,b.before)&&b._addItemClass(d(b.targetAnchor,b.before),b.before?"After":"Before")}}),
_unmarkTargetAnchor:f.hitch(this,function(){var a=this.source;a.targetAnchor&&(a.targetAnchor&&d(a.targetAnchor,a.before)&&a._removeItemClass(d(a.targetAnchor,a.before),a.before?"After":"Before"),this._hide(this.bottomMarker),this._hide(this.topMarker),k.prototype._unmarkTargetAnchor.call(a))}),destroy:f.hitch(this,function(){m.disconnect(this._source_conn);m.unsubscribe(this._source_sub);k.prototype.destroy.call(this.source);this.bottomMarker&&(v.destroy(this.bottomMarker),delete this.bottomMarker);
this.topMarker&&(v.destroy(this.topMarker),delete this.topMarker)}),onDndCancel:f.hitch(this,function(){k.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker)})});this._source_conn=m.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=m.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup()}},_hide:function(a){v.style(a,{top:"-10000px",visibility:"hidden"})},_onDndDropBefore:function(a,b,c){B.manager().target===this.source&&
(this.source._targetNode=this.source.targetAnchor,this.source._beforeTarget=this.source.before,b=this.grid.views.views,a=b[a.viewIndex],b=b[this.index],b!=a&&(a.convertColPctToFixed(),b.convertColPctToFixed()))},_onDndDrop:function(a,b,c){if(B.manager().target!==this.source)B.manager().source===this.source&&(this._removingColumn=!0);else{this._hide(this.bottomMarker);this._hide(this.topMarker);c=v.marginBox(b[0]).w;if(a.viewIndex!==this.index){var d=this.grid.views.views,e=d[a.viewIndex],d=d[this.index];
e.viewWidth&&"auto"!=e.viewWidth&&e.setColumnsWidth(e.getColumnsWidth()-c);d.viewWidth&&"auto"!=d.viewWidth&&d.setColumnsWidth(d.getColumnsWidth())}c=this.source._targetNode;e=this.source._beforeTarget;!this.grid.isLeftToRight()&&(e=!e);var d=this.grid.layout,k=this.index;delete this.source._targetNode;delete this.source._beforeTarget;d.moveColumn(a.viewIndex,k,b[0]?v.attr(b[0],"idx"):null,c?v.attr(c,"idx"):null,e)}},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);
this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);u.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode])},_getHeaderContent:function(a){var b=a.name||a.grid.getCellName(a);/^\s+$/.test(b)&&(b="\x26nbsp;");var c=['\x3cdiv class\x3d"dojoxGridSortNode'];a.index!=a.grid.getSortIndex()?c.push('"\x3e'):c=c.concat([" ",0<a.grid.sortInfo?"dojoxGridSortUp":"dojoxGridSortDown",'"\x3e\x3cdiv class\x3d"dojoxGridArrowButtonChar"\x3e',
0<a.grid.sortInfo?"\x26#9650;":"\x26#9660;",'\x3c/div\x3e\x3cdiv class\x3d"dojoxGridArrowButtonNode" role\x3d"presentation"\x3e\x3c/div\x3e','\x3cdiv class\x3d"dojoxGridColCaption"\x3e']);c=c.concat([b,"\x3c/div\x3e\x3c/div\x3e"]);return c.join("")},resize:function(){this.adaptHeight();this.adaptWidth()},hasHScrollbar:function(a){var b=this._hasHScroll||!1;if(void 0==this._hasHScroll||a)this.noscroll?this._hasHScroll=!1:(a=v.style(this.scrollboxNode,"overflow"),this._hasHScroll="hidden"==a?!1:"scroll"==
a?!0:this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);b!==this._hasHScroll&&this.grid.update();return this._hasHScroll},hasVScrollbar:function(a){var b=this._hasVScroll||!1;if(void 0==this._hasVScroll||a)this.noscroll?this._hasVScroll=!1:(a=v.style(this.scrollboxNode,"overflow"),this._hasVScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);b!==this._hasVScroll&&this.grid.update();return this._hasVScroll},convertColPctToFixed:function(){var a=
!1;this.grid.initialWidth="";var b=e("th",this.headerContentNode),c=n.map(b,function(b,c){var d=b.style.width;v.attr(b,"vIdx",c);if(d&&"%"==d.slice(-1))a=!0;else if(d&&"px"==d.slice(-2))return window.parseInt(d,10);return v.contentBox(b).w});return a?(n.forEach(this.grid.layout.cells,function(a,b){if(a.view==this){var d=a.view.getHeaderCellNode(a.index);if(d&&v.hasAttr(d,"vIdx")){var e=window.parseInt(v.attr(d,"vIdx"));this.setColWidth(b,c[e]);v.removeAttr(d,"vIdx")}}},this),!0):!1},adaptHeight:function(a){if(!this.grid._autoHeight){var b=
this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10)||this.domNode.clientHeight;if(!a&&(a=this.noscroll))a:{for(var c in this.grid.views.views)if(a=this.grid.views.views[c],a!==this&&a.hasHScrollbar()){a=!0;break a}a=!1}a&&(b-=t.getScrollbar().h);u.setStyleHeightPx(this.scrollboxNode,b)}this.hasVScrollbar(!0)},adaptWidth:function(){this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);var a=this.scrollboxNode.offsetWidth-
this.getScrollbarWidth();this._removingColumn?(a=Math.min(a,this.getColumnsWidth())+"px",this._removingColumn=!1):a=Math.max(a,this.getColumnsWidth())+"px";this.contentNode.style.width=a;this.hasHScrollbar(!0)},setSize:function(a,b){var c=this.domNode.style,d=this.headerNode.style;a&&(c.width=a,d.width=a);c.height=0<=b?b+"px":""},renderRow:function(a){var b=this.createRowNode(a);this.buildRow(a,b);return b},createRowNode:function(a){var b=document.createElement("div");b.className=this.classTag+"Row";
this instanceof l.grid._RowSelector?v.attr(b,"role","presentation"):(v.attr(b,"role","row"),"none"!=this.grid.selectionMode&&b.setAttribute("aria-selected","false"));b[u.gridViewTag]=this.id;b[u.rowIndexTag]=a;return this.rowNodes[a]=b},buildRow:function(a,b){this.buildRowContent(a,b);this.styleRow(a,b)},buildRowContent:function(a,b){b.innerHTML=this.content.generateHtml(a,a);this.flexCells&&this.contentWidth&&(b.firstChild.style.width=this.contentWidth);u.fire(this,"onAfterRow",[a,this.structure.cells,
b])},rowRemoved:function(a){0<=a&&this._cleanupRowWidgets(this.getRowNode(a));this.grid.edit.save(this,a);delete this.rowNodes[a]},getRowNode:function(a){return this.rowNodes[a]},getCellNode:function(a,b){var c=this.getRowNode(a);if(c)return this.content.getCellNode(c,b)},getHeaderCellNode:function(a){if(this.headerContentNode)return this.header.getCellNode(this.headerContentNode,a)},styleRow:function(a,b){b._style=void 0==b.style.cssText?b.getAttribute("style"):b.style.cssText;this.styleRowNode(a,
b)},styleRowNode:function(a,b){b&&this.doStyleRowNode(a,b)},doStyleRowNode:function(a,b){this.grid.styleRowNode(a,b)},updateRow:function(a){var b=this.getRowNode(a);b&&(b.style.height="",this.buildRow(a,b));return b},updateRowStyles:function(a){this.styleRowNode(a,this.getRowNode(a))},lastTop:0,firstScroll:0,_nativeScroll:!1,doscroll:function(a){if(13<=c("ff")||c("chrome"))this._nativeScroll=!0;a=this.grid.isLeftToRight();if(2>this.firstScroll){if(!a&&1==this.firstScroll||a&&0===this.firstScroll){var b=
v.marginBox(this.headerNodeContainer);c("ie")?this.headerNodeContainer.style.width=b.w+this.getScrollbarWidth()+"px":c("mozilla")&&(this.headerNodeContainer.style.width=b.w-this.getScrollbarWidth()+"px",this.scrollboxNode.scrollLeft=a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth)}this.firstScroll++}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;a=this.scrollboxNode.scrollTop;a!==this.lastTop&&this.grid.scrollTo(a);
this._nativeScroll=!1},setScrollTop:function(a){this.lastTop=a;this._nativeScroll||(this.scrollboxNode.scrollTop=a);return this.scrollboxNode.scrollTop},doContentEvent:function(a){if(this.content.decorateEvent(a))this.grid.onContentEvent(a)},doHeaderEvent:function(a){if(this.header.decorateEvent(a))this.grid.onHeaderEvent(a)},dispatchContentEvent:function(a){return this.content.dispatchEvent(a)},dispatchHeaderEvent:function(a){return this.header.dispatchEvent(a)},setColWidth:function(a,b){this.grid.setCellWidth(a,
b+"px")},update:function(){if(this.domNode){this.content.update();this.grid.update();var a=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=a;this.headerNode.scrollLeft=a}}});var F=h("dojox.grid._GridAvatar",z,{construct:function(){var a=b.doc,c=a.createElement("table");c.cellPadding=c.cellSpacing="0";c.className="dojoxGridDndAvatar";c.style.position="absolute";c.style.zIndex=1999;c.style.margin="0px";var d=a.createElement("tbody"),e=a.createElement("tr"),k=a.createElement("td"),f=a.createElement("td");
e.className="dojoxGridDndAvatarItem";f.className="dojoxGridDndAvatarItemImage";f.style.width="16px";var r=this.manager.source;if(r.creator)r=r._normalizedCreator(r.getItem(this.manager.nodes[0].id).data,"avatar").node;else{var r=this.manager.nodes[0].cloneNode(!0),t,m;"tr"==r.tagName.toLowerCase()?(t=a.createElement("table"),m=a.createElement("tbody"),m.appendChild(r),t.appendChild(m),r=t):"th"==r.tagName.toLowerCase()&&(t=a.createElement("table"),m=a.createElement("tbody"),a=a.createElement("tr"),
t.cellPadding=t.cellSpacing="0",a.appendChild(r),m.appendChild(a),t.appendChild(m),r=t)}r.id="";k.appendChild(r);e.appendChild(f);e.appendChild(k);v.style(e,"opacity",0.9);d.appendChild(e);c.appendChild(d);this.node=c;c=B.manager();this.oldOffsetY=c.OFFSET_Y;c.OFFSET_Y=1},destroy:function(){B.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments)}}),A=B.manager().makeAvatar;B.manager().makeAvatar=function(){return void 0!==this.source.viewIndex&&!v.hasClass(b.body(),"dijit_a11y")?new F(this):
A.call(B.manager())};return d})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./_base/browser require".split(" "),function(s,q,l,h,n,f,m,c){m.isDebug&&l(["./_firebug/firebug"]);return s})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
function(s){return s})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(s,q,l){var h=window,n={addOnWindowUnload:function(f,m){s.windowUnloaded||l(h,"unload",s.windowUnloaded=function(){});l(h,"unload",q.hitch(f,m))},addOnUnload:function(f,m){l(h,"beforeunload",q.hitch(f,m))}};s.addOnWindowUnload=n.addOnWindowUnload;s.addOnUnload=n.addOnUnload;return n})},"dojox/html/metrics":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),
function(s,q,l,h,n,f,m){var c=q.getObject("dojox.html.metrics",!0),e=q.getObject("dojox");c.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};l("ie")&&(f.doc.documentElement.style.fontSize="100%");var b=f.doc.createElement("div"),c=b.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";c.lineHeight="1";
c.overflow="hidden";f.body().appendChild(b);for(var d in a)c.fontSize=d,a[d]=16*Math.round(12*b.offsetHeight/16)/12/1E3;f.body().removeChild(b);return a};var b=null;c.getCachedFontMeasurements=function(a){if(a||!b)b=c.getFontMeasurements();return b};var d=null,k={};c.getTextBox=function(a,b,c){var e,r;if(d)e=d;else{e=d=f.doc.createElement("div");var h=f.doc.createElement("div");h.appendChild(e);r=h.style;r.overflow="scroll";r.position="absolute";r.left="0px";r.top="-10000px";r.width="1px";r.height=
"1px";r.visibility="hidden";r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";f.body().appendChild(h)}e.className="";r=e.style;r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";if(1<arguments.length&&b)for(var n in b)n in k||(r[n]=b[n]);2<arguments.length&&c&&(e.className=c);e.innerHTML=a;r=m.position(e);r.w=e.parentNode.scrollWidth;return r};var r=16,a=16;c.getScrollbar=function(){return{w:r,h:a}};c._fontResizeNode=null;c.initOnFontResize=function(a){var b=c._fontResizeNode=f.doc.createElement("iframe");
a=b.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";l("ie")?b.onreadystatechange=function(){"complete"==b.contentWindow.document.readyState&&(b.onresize=b.contentWindow.parent[e._scopeName].html.metrics._fontresize)}:b.onload=function(){b.contentWindow.onresize=b.contentWindow.parent[e._scopeName].html.metrics._fontresize};b.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");
f.body().appendChild(b);c.initOnFontResize=function(){}};c.onFontResize=function(){};c._fontresize=function(){c.onFontResize()};n.addOnUnload(function(){var a=c._fontResizeNode;a&&(l("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),c._fontResizeNode=null)});h(function(){try{var b=f.doc.createElement("div");b.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";f.body().appendChild(b);
r=b.offsetWidth-b.clientWidth;a=b.offsetHeight-b.clientHeight;f.body().removeChild(b);delete b}catch(d){}"fontSizeWatch"in s.config&&s.config.fontSizeWatch&&c.initOnFontResize()});return c})},"dojox/grid/_Builder":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/window dojo/_base/event dojo/_base/sniff dojo/_base/connect dojo/dnd/Moveable dojox/html/metrics ./util dojo/_base/html dojo/dom-geometry".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){var r=s.grid,a=function(a){for(;a&&
"TABLE"!=a.tagName;a=a.parentNode);return a},t=function(a){var b=a.toUpperCase();return function(a){return a.tagName!=b}},u=b.rowIndexTag,v=b.gridViewTag,D=r._Builder=l.extend(function(a){a&&(this.view=a,this.grid=a.grid)},{view:null,_table:'\x3ctable class\x3d"dojoxGridRowTable" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"',getTableArray:function(){var a=[this._table];this.view.viewWidth&&a.push([' style\x3d"width:',this.view.viewWidth,';"'].join(""));a.push("\x3e");
return a},generateCellMarkup:function(a,b,c,d){var e=[],k;d?(k=a.index!=a.grid.getSortIndex()?"":0<a.grid.sortInfo?'aria-sort\x3d"ascending"':'aria-sort\x3d"descending"',a.id||(a.id=this.grid.id+"Hdr"+a.index),k=['\x3cth tabIndex\x3d"-1" aria-readonly\x3d"true" role\x3d"columnheader"',k,' id\x3d"',a.id,'"']):k=['\x3ctd tabIndex\x3d"-1" role\x3d"gridcell"',this.grid.editable&&!a.editable?'aria-readonly\x3d"true"':""];a.colSpan&&k.push(' colspan\x3d"',a.colSpan,'"');a.rowSpan&&k.push(' rowspan\x3d"',
a.rowSpan,'"');k.push(' class\x3d"dojoxGridCell ');a.classes&&k.push(a.classes," ");c&&k.push(c," ");e.push(k.join(""));e.push("");k=['" idx\x3d"',a.index,'" style\x3d"'];b&&";"!=b[b.length-1]&&(b+=";");k.push(a.styles,b||"",a.hidden?"display:none;":"");a.unitWidth&&k.push("width:",a.unitWidth,";");e.push(k.join(""));e.push("");k=['"'];a.attrs&&k.push(" ",a.attrs);k.push("\x3e");e.push(k.join(""));e.push("");e.push(d?"\x3c/th\x3e":"\x3c/td\x3e");return e},isCellNode:function(a){return Boolean(a&&
a!=h.doc&&d.attr(a,"idx"))},getCellNodeIndex:function(a){return a?Number(d.attr(a,"idx")):-1},getCellNode:function(a,b){for(var c=0,d;(d=a.firstChild&&((a.firstChild.rows||0)[c]||a.firstChild.childNodes[c]))&&d.cells;c++)for(var e=0,k;k=d.cells[e];e++)if(this.getCellNodeIndex(k)==b)return k;return null},findCellTarget:function(a,b){for(var c=a;c&&(!this.isCellNode(c)||c.offsetParent&&v in c.offsetParent.parentNode&&c.offsetParent.parentNode[v]!=this.view.id)&&c!=b;)c=c.parentNode;return c!=b?c:null},
baseDecorateEvent:function(a){a.dispatch="do"+a.type;a.grid=this.grid;a.sourceView=this.view;a.cellNode=this.findCellTarget(a.target,a.rowNode);a.cellIndex=this.getCellNodeIndex(a.cellNode);a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null},findTarget:function(a,b){for(var c=a;c&&c!=this.domNode&&(!(b in c)||v in c&&c[v]!=this.view.id);)c=c.parentNode;return c!=this.domNode?c:null},findRowTarget:function(a){return this.findTarget(a,u)},isIntraNodeEvent:function(a){try{return a.cellNode&&a.relatedTarget&&
d.isDescendant(a.relatedTarget,a.cellNode)}catch(b){return!1}},isIntraRowEvent:function(a){try{var b=a.relatedTarget&&this.findRowTarget(a.relatedTarget);return!b&&-1==a.rowIndex||b&&a.rowIndex==b.gridRowIndex}catch(c){return!1}},dispatchEvent:function(a){return a.dispatch in this?this[a.dispatch](a):!1},domouseover:function(a){a.cellNode&&a.cellNode!=this.lastOverCellNode&&(this.lastOverCellNode=a.cellNode,this.grid.onMouseOver(a));this.grid.onMouseOverRow(a)},domouseout:function(a){if(a.cellNode&&
(a.cellNode==this.lastOverCellNode&&!this.isIntraNodeEvent(a,this.lastOverCellNode))&&(this.lastOverCellNode=null,this.grid.onMouseOut(a),!this.isIntraRowEvent(a)))this.grid.onMouseOutRow(a)},domousedown:function(a){if(a.cellNode)this.grid.onMouseDown(a);this.grid.onMouseDownRow(a)},_getTextDirStyle:function(a,b,c){return""}});s=r._ContentBuilder=l.extend(function(a){D.call(this,a)},D.prototype,{update:function(){this.prepareHtml()},prepareHtml:function(){for(var a=this.grid.get,b=this.view.structure.cells,
c=0,d;d=b[c];c++)for(var e=0,k;k=d[e];e++)k.get=k.get||void 0==k.value&&a,k.markup=this.generateCellMarkup(k,k.cellStyles,k.cellClasses,!1),!this.grid.editable&&k.editable&&(this.grid.editable=!0)},generateHtml:function(a,c){var d=this.getTableArray(),e,k=this.view.structure.cells,f=this.grid.getItem(c);b.fire(this.view,"onBeforeRow",[c,k]);for(var r=0,t;t=k[r];r++)if(!t.hidden&&!t.header){d.push(!t.invisible?"\x3ctr\x3e":'\x3ctr class\x3d"dojoxGridInvisible"\x3e');for(var m=0,h,u,n;h=t[m];m++)u=
h.markup,e=h.customClasses=[],n=h.customStyles=[],u[5]=h.format(c,f),u[1]=e.join(" "),u[3]=n.join(";"),(e=h.textDir||this.grid.textDir)&&(u[3]+=this._getTextDirStyle(e,h,c)),d.push.apply(d,u);d.push("\x3c/tr\x3e")}d.push("\x3c/table\x3e");return d.join("")},decorateEvent:function(a){a.rowNode=this.findRowTarget(a.target);if(!a.rowNode)return!1;a.rowIndex=a.rowNode[u];this.baseDecorateEvent(a);a.cell=this.grid.getCell(a.cellIndex);return!0}});var z=r._HeaderBuilder=l.extend(function(a){this.moveable=
null;D.call(this,a)},D.prototype,{_skipBogusClicks:!1,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap?this.tableMap.mapRows(this.view.structure.cells):this.tableMap=new r._TableMap(this.view.structure.cells)},generateHtml:function(a,c){var d,e=this.getTableArray(),k=this.view.structure.cells;b.fire(this.view,"onBeforeRow",[-1,k]);for(var f=0,r;r=k[f];f++)if(!r.hidden){e.push(!r.invisible?"\x3ctr\x3e":'\x3ctr class\x3d"dojoxGridInvisible"\x3e');for(var t=0,m,h;m=r[t];t++)m.customClasses=
[],m.customStyles=[],this.view.simpleStructure&&(m.draggable&&(m.headerClasses?-1==m.headerClasses.indexOf("dojoDndItem")&&(m.headerClasses+=" dojoDndItem"):m.headerClasses="dojoDndItem"),m.attrs?-1==m.attrs.indexOf("dndType\x3d'gridColumn_")&&(m.attrs+=" dndType\x3d'gridColumn_"+this.grid.id+"'"):m.attrs="dndType\x3d'gridColumn_"+this.grid.id+"'"),h=this.generateCellMarkup(m,m.headerStyles,m.headerClasses,!0),h[5]=void 0!=c?c:a(m),h[3]=m.customStyles.join(";"),(d=m.textDir||this.grid.textDir)&&(h[3]+=
this._getTextDirStyle(d,m,c)),h[1]=m.customClasses.join(" "),e.push(h.join(""));e.push("\x3c/tr\x3e")}e.push("\x3c/table\x3e");return e.join("")},getCellX:function(a){var b;b=t("th");for(var c=a.target;c&&b(c);c=c.parentNode);(b=c)?(b=k.position(b),a=a.clientX-b.x):a=a.layerX;return a},decorateEvent:function(a){this.baseDecorateEvent(a);a.rowIndex=-1;a.cellX=this.getCellX(a);return!0},prepareResize:function(a,b){do{var c=a.cellIndex;a.cellNode=c?a.cellNode.parentNode.cells[c+b]:null;a.cellIndex=a.cellNode?
this.getCellNodeIndex(a.cellNode):-1}while(a.cellNode&&"none"==a.cellNode.style.display);return Boolean(a.cellNode)},canResize:function(a){if(!a.cellNode||1<a.cellNode.colSpan)return!1;a=this.grid.getCell(a.cellIndex);return!a.noresize&&a.canResize()},overLeftResizeArea:function(a){if(d.hasClass(h.body(),"dojoDndMove"))return!1;if(f("ie")){var b=a.target;if(d.hasClass(b,"dojoxGridArrowButtonNode")||d.hasClass(b,"dojoxGridArrowButtonChar")||d.hasClass(b,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?
0<a.cellIndex&&0<a.cellX&&a.cellX<this.overResizeWidth&&this.prepareResize(a,-1):a.cellNode&&0<a.cellX&&a.cellX<this.overResizeWidth},overRightResizeArea:function(a){if(d.hasClass(h.body(),"dojoDndMove"))return!1;if(f("ie")){var b=a.target;if(d.hasClass(b,"dojoxGridArrowButtonNode")||d.hasClass(b,"dojoxGridArrowButtonChar")||d.hasClass(b,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?a.cellNode&&a.cellX>=a.cellNode.offsetWidth-this.overResizeWidth:0<a.cellIndex&&a.cellX>=a.cellNode.offsetWidth-
this.overResizeWidth&&this.prepareResize(a,-1)},domousemove:function(a){if(!this.moveable){var b=this.overRightResizeArea(a)?"dojoxGridColResize":this.overLeftResizeArea(a)?"dojoxGridColResize":"";b&&!this.canResize(a)&&(b="dojoxGridColNoResize");d.toggleClass(a.sourceView.headerNode,"dojoxGridColNoResize","dojoxGridColNoResize"==b);d.toggleClass(a.sourceView.headerNode,"dojoxGridColResize","dojoxGridColResize"==b);b&&n.stop(a)}},domousedown:function(a){this.moveable||((this.overRightResizeArea(a)||
this.overLeftResizeArea(a))&&this.canResize(a)?this.beginColumnResize(a):(this.grid.onMouseDown(a),this.grid.onMouseOverRow(a)))},doclick:function(a){return this._skipBogusClicks?(n.stop(a),!0):!1},colResizeSetup:function(a,b){var c=d.contentBox(a.sourceView.headerNode);if(b){this.lineDiv=document.createElement("div");var k=d.position(a.sourceView.headerNode,!0),r=d.contentBox(a.sourceView.domNode),t=a.pageX;!this.grid.isLeftToRight()&&8>f("ie")&&(t-=e.getScrollbar().w);d.style(this.lineDiv,{top:k.y+
"px",left:t+"px",height:r.h+c.h+"px"});d.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=t;h.body().appendChild(this.lineDiv)}for(var k=[],r=this.tableMap.findOverlappingNodes(a.cellNode),t=0,m;m=r[t];t++)k.push({node:m,index:this.getCellNodeIndex(m),width:m.offsetWidth});r=a.sourceView;m=this.grid.isLeftToRight()?1:-1;for(var u=a.grid.views.views,t=[],n=r.idx+m,v;v=u[n];n+=m)t.push({node:v.headerNode,left:window.parseInt(v.headerNode.style.left)});m=r.headerContentNode.firstChild;
return{scrollLeft:a.sourceView.headerNode.scrollLeft,view:r,node:a.cellNode,index:a.cellIndex,w:d.contentBox(a.cellNode).w,vw:c.w,table:m,tw:d.contentBox(m).w,spanners:k,followers:t}},beginColumnResize:function(a){this.moverDiv=document.createElement("div");d.style(this.moverDiv,{position:"absolute",left:0});h.body().appendChild(this.moverDiv);d.addClass(this.grid.domNode,"dojoxGridColumnResizing");var b=this.moveable=new c(this.moverDiv),e=this.colResizeSetup(a,!0);b.onMove=l.hitch(this,"doResizeColumn",
e);m.connect(b,"onMoveStop",l.hitch(this,function(){this.endResizeColumn(e);e.node.releaseCapture&&e.node.releaseCapture();this.moveable.destroy();delete this.moveable;this.moveable=null;d.removeClass(this.grid.domNode,"dojoxGridColumnResizing")}));a.cellNode.setCapture&&a.cellNode.setCapture();b.onMouseDown(a)},doResizeColumn:function(a,b,c){var e=c.l,e={deltaX:e,w:a.w+(this.grid.isLeftToRight()?e:-e),vw:a.vw+e,tw:a.tw+e};this.dragRecord={inDrag:a,mover:b,leftTop:c};e.w>=this.minColWidth&&(b?d.style(this.lineDiv,
"left",this.lineDiv._origLeft+e.deltaX+"px"):this.doResizeNow(a,e))},endResizeColumn:function(a){if(this.dragRecord){var b=this.dragRecord.leftTop,b=this.grid.isLeftToRight()?b.l:-b.l,b=b+(Math.max(a.w+b,this.minColWidth)-(a.w+b));f("webkit")&&a.spanners.length&&(b+=d._getPadBorderExtents(a.spanners[0].node).w);this.doResizeNow(a,{deltaX:b,w:a.w+b,vw:a.vw+b,tw:a.tw+b});delete this.dragRecord}d.destroy(this.lineDiv);d.destroy(this.moverDiv);d.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=
!0;a.view.update();this._skipBogusClicks=!1;this.grid.onResizeColumn(a.index)},doResizeNow:function(b,c){b.view.convertColPctToFixed();if(b.view.flexCells&&!b.view.testFlexCells()){var d=a(b.node);d&&(d.style.width="")}for(var e,k,d=0;e=b.spanners[d];d++)k=e.width+c.deltaX,0<k&&(e.node.style.width=k+"px",b.view.setColWidth(e.index,k));if(this.grid.isLeftToRight()||!f("ie"))for(d=0;e=b.followers[d];d++)k=e.left+c.deltaX,e.node.style.left=k+"px";b.node.style.width=c.w+"px";b.view.setColWidth(b.index,
c.w);b.view.headerNode.style.width=c.vw+"px";b.view.setColumnsWidth(c.tw);this.grid.isLeftToRight()||(b.view.headerNode.scrollLeft=b.scrollLeft+c.deltaX)}});r._TableMap=l.extend(function(a){this.mapRows(a)},{map:null,mapRows:function(a){if(a.length){this.map=[];var b;for(b=0;a[b];b++)this.map[b]=[];for(var c=0;b=a[c];c++)for(var d=0,e=0,k,f;k=b[d];d++){for(;this.map[c][e];)e++;this.map[c][e]={c:d,r:c};f=k.rowSpan||1;k=k.colSpan||1;for(var r=0;r<f;r++)for(var t=0;t<k;t++)this.map[c+r][e+t]=this.map[c][e];
e+=k}}},dumpMap:function(){for(var a=0,b;b=this.map[a];a++)for(var c=0;b[c];c++);},getMapCoords:function(a,b){for(var c=0,d;d=this.map[c];c++)for(var e=0,k;k=d[e];e++)if(k.c==b&&k.r==a)return{j:c,i:e};return{j:-1,i:-1}},getNode:function(a,b,c){return(a=a&&a.rows[b])&&a.cells[c]},_findOverlappingNodes:function(a,b,c){var d=[];b=this.getMapCoords(b,c);c=0;for(var e;e=this.map[c];c++)c!=b.j&&(e=(e=e[b.i])?this.getNode(a,e.r,e.c):null)&&d.push(e);return d},findOverlappingNodes:function(b){return this._findOverlappingNodes(a(b),
0<=b.parentNode.rowIndex?b.parentNode.rowIndex:q.indexOf(b.parentNode.parentNode.childNodes,b.parentNode),0<=b.cellIndex?b.cellIndex:q.indexOf(b.parentNode.cells,b))}});return{_Builder:D,_HeaderBuilder:z,_ContentBuilder:s}})},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(s,q,l){return s("dojox.grid._ViewManager",null,{constructor:function(h){this.grid=h},defaultWidth:200,views:[],resize:function(){this.onEach("resize")},render:function(){this.onEach("render")},
addView:function(h){h.idx=this.views.length;this.views.push(h)},destroyViews:function(){for(var h=0,n;n=this.views[h];h++)n.destroy();this.views=[]},getContentNodes:function(){for(var h=[],n=0,f;f=this.views[n];n++)h.push(f.contentNode);return h},forEach:function(h){for(var n=0,f;f=this.views[n];n++)h(f,n)},onEach:function(h,n){n=n||[];for(var f=0,m;m=this.views[f];f++)h in m&&m[h].apply(m,n)},normalizeHeaderNodeHeight:function(){for(var h=[],n=0,f;f=this.views[n];n++)f.headerContentNode.firstChild&&
h.push(f.headerContentNode);this.normalizeRowNodeHeights(h)},normalizeRowNodeHeights:function(h){var n=0,f=[];if(this.grid.rowHeight)n=this.grid.rowHeight;else{if(1>=h.length)return;for(var m=0,c;c=h[m];m++)l.contains(c,"dojoxGridNonNormalizedCell")||(f[m]=c.firstChild.offsetHeight,n=Math.max(n,f[m]));n=0<=n?n:0;(q("mozilla")||8<q("ie"))&&n&&n++}for(m=0;c=h[m];m++)f[m]!=n&&(c.firstChild.style.height=n+"px")},resetHeaderNodeHeight:function(){for(var h=0,n;n=this.views[h];h++)if(n=n.headerContentNode.firstChild)n.style.height=
""},renormalizeRow:function(h){for(var n=[],f=0,m,c;(m=this.views[f])&&(c=m.getRowNode(h));f++)c.firstChild.style.height="",n.push(c);this.normalizeRowNodeHeights(n)},getViewWidth:function(h){return this.views[h].getWidth()||this.defaultWidth},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(h){h.headerContentNode.style.height=""});var h=0;this.forEach(function(n){h=Math.max(n.headerNode.offsetHeight,h)});return h},measureContent:function(){var h=0;this.forEach(function(n){h=
Math.max(n.domNode.offsetHeight,h)});return h},findClient:function(h){h=this.grid.elasticView||-1;if(0>h)for(var n=1,f;f=this.views[n];n++)if(f.viewWidth){for(n=1;f=this.views[n];n++)if(!f.viewWidth){h=n;break}break}0>h&&(h=Math.floor(this.views.length/2));return h},arrange:function(h,n){var f,m,c,e=this.views.length,b=this,d=0>=n?e:this.findClient(),k=function(a,c){var d=a.domNode.style,e=a.headerNode.style;b.grid.isLeftToRight()?(d.left=c+"px",e.left=c+"px"):(d.right=c+"px",4>q("ff")?e.right=c+
a.getScrollbarWidth()+"px":e.right=c+"px",!q("webkit")&&"auto"!=e.width&&(e.width=parseInt(e.width,10)-a.getScrollbarWidth()+"px"));d.top="0px";e.top=0};for(f=0;(m=this.views[f])&&f<d;f++)c=this.getViewWidth(f),m.setSize(c,0),k(m,h),c=m.headerContentNode&&m.headerContentNode.firstChild?m.getColumnsWidth()+m.getScrollbarWidth():m.domNode.offsetWidth,h+=c;f++;for(var r=n,a=e-1;(m=this.views[a])&&f<=a;a--)c=this.getViewWidth(a),m.setSize(c,0),c=m.domNode.offsetWidth,r-=c,k(m,r);d<e&&(m=this.views[d],
c=Math.max(1,r-h),m.setSize(c+"px",0),k(m,h));return h},renderRow:function(h,n,f){for(var m=[],c=0,e,b;(e=this.views[c])&&(b=n[c]);c++)e=e.renderRow(h),b.appendChild(e),m.push(e);f||this.normalizeRowNodeHeights(m)},rowRemoved:function(h){this.onEach("rowRemoved",[h])},updateRow:function(h,n){for(var f=0,m;m=this.views[f];f++)m.updateRow(h);n||this.renormalizeRow(h)},updateRowStyles:function(h){this.onEach("updateRowStyles",[h])},setScrollTop:function(h){for(var n=h,f=0,m;m=this.views[f];f++)n=m.setScrollTop(h),
q("ie")&&(m.headerNode&&m.scrollboxNode)&&(m.headerNode.scrollLeft=m.scrollboxNode.scrollLeft);return n},getFirstScrollingView:function(){for(var h=0,n;n=this.views[h];h++)if(n.hasHScrollbar()||n.hasVScrollbar())return n;return null}})})},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(s,q,l){return s("dojox.grid._RowManager",null,{constructor:function(h){this.grid=h},linesToEms:2,overRow:-2,prepareStylingRow:function(h,n){return{index:h,
node:n,odd:Boolean(h&1),selected:!!this.grid.selection.isSelected(h),over:this.isOver(h),customStyles:"",customClasses:"dojoxGridRow"}},styleRowNode:function(h,n){var f=this.prepareStylingRow(h,n);this.grid.onStyleRow(f);this.applyStyles(f)},applyStyles:function(h){h.node.className=h.customClasses;var n=h.node.style.height,f=h.node,m=h.customStyles+";"+(h.node._style||"");void 0==f.style.cssText?f.setAttribute("style",m):f.style.cssText=m;h.node.style.height=n},updateStyles:function(h){this.grid.updateRowStyles(h)},
setOverRow:function(h){var n=this.overRow;this.overRow=h;n!=this.overRow&&(q.isString(n)||0<=n)&&this.updateStyles(n);this.updateStyles(this.overRow)},isOver:function(h){return this.overRow==h&&!l.contains(this.grid.domNode,"dojoxGridColumnResizing")}})})},"dojox/grid/_FocusManager":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/event dojo/_base/sniff dojo/query ./util dojo/_base/html".split(" "),function(s,q,l,h,n,f,m,c,e){return l("dojox.grid._FocusManager",
null,{constructor:function(b){this.grid=b;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(h.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(h.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(h.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(h.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(h.connect(this.grid.domNode,
"oncontextmenu",this,"doContextMenu"));this._connects.push(h.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(h.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(h.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(h.connect(this.grid,"postrender",this,"_delayedHeaderFocus"))},destroy:function(){s.forEach(this._connects,h.disconnect);s.forEach(this._headerConnects,h.disconnect);delete this.grid;
delete this.cell},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:!1,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders()},isFocusCell:function(b,c){return this.cell==b&&this.rowIndex==c},isLastFocusCell:function(){return this.cell?this.rowIndex==this.grid.rowCount-1&&this.cell.index==this.grid.layout.cellCount-1:!1},isFirstFocusCell:function(){return this.cell?
0===this.rowIndex&&0===this.cell.index:!1},isNoFocusCell:function(){return 0>this.rowIndex||!this.cell},isNavHeader:function(){return!!this._colHeadNode},getHeaderIndex:function(){return this._colHeadNode?s.indexOf(this._findHeaderCells(),this._colHeadNode):-1},_focusifyCellNode:function(b){var d=this.cell&&this.cell.getNode(this.rowIndex);if(d&&(e.toggleClass(d,this.focusClass,b),b)){b=this.scrollIntoView();try{if(f("webkit")||!this.grid.edit.isEditing())c.fire(d,"focus"),b&&(this.cell.view.scrollboxNode.scrollLeft=
b)}catch(k){}}},_delayedCellFocus:function(){if(!this.isNavHeader()&&this.grid.focused){var b=this.cell&&this.cell.getNode(this.rowIndex);if(b)try{this.grid.edit.isEditing()||(e.toggleClass(b,this.focusClass,!0),this._colHeadNode&&this.blurHeader(),c.fire(b,"focus"))}catch(d){}}},_delayedHeaderFocus:function(){this.isNavHeader()&&this.focusHeader()},_initColumnHeaders:function(){s.forEach(this._headerConnects,h.disconnect);this._headerConnects=[];for(var b=this._findHeaderCells(),c=0;c<b.length;c++)this._headerConnects.push(h.connect(b[c],
"onfocus",this,"doColHeaderFocus")),this._headerConnects.push(h.connect(b[c],"onblur",this,"doColHeaderBlur"))},_findHeaderCells:function(){for(var b=m("th",this.grid.viewsHeaderNode),c=[],k=0;k<b.length;k++){var f=b[k],a=e.hasAttr(f,"tabIndex"),t=e.attr(f,"tabIndex");a&&0>t&&c.push(f)}return c},_setActiveColHeader:function(b,c,k){this.grid.domNode.setAttribute("aria-activedescendant",b.id);null!=k&&(0<=k&&k!=c)&&e.toggleClass(this._findHeaderCells()[k],this.focusClass,!1);e.toggleClass(b,this.focusClass,
!0);this._colHeadNode=b;this._colHeadFocusIdx=c;this._scrollHeader(this._colHeadFocusIdx)},scrollIntoView:function(){var b=this.cell?this._scrollInfo(this.cell):null;if(!b||!b.s)return null;var c=this.grid.scroller.findScrollTop(this.rowIndex);b.n&&b.sr&&(b.n.offsetLeft+b.n.offsetWidth>b.sr.l+b.sr.w?b.s.scrollLeft=b.n.offsetLeft+b.n.offsetWidth-b.sr.w:b.n.offsetLeft<b.sr.l&&(b.s.scrollLeft=b.n.offsetLeft));b.r&&b.sr&&(c+b.r.offsetHeight>b.sr.t+b.sr.h?this.grid.setScrollTop(c+b.r.offsetHeight-b.sr.h):
c<b.sr.t&&this.grid.setScrollTop(c));return b.s.scrollLeft},_scrollInfo:function(b,c){if(b){var e=b.view.scrollboxNode,f={w:e.clientWidth,l:e.scrollLeft,t:e.scrollTop,h:e.clientHeight},a=b.view.getRowNode(this.rowIndex);return{c:b,s:e,sr:f,n:c?c:b.getNode(this.rowIndex),r:a}}return null},_scrollHeader:function(b){var c=null;if(this._colHeadNode){var e=this.grid.getCell(b);if(!e)return;c=this._scrollInfo(e,e.getNode(0))}c&&(c.s&&c.sr&&c.n)&&(c.n.offsetLeft+c.n.offsetWidth>c.sr.l+c.sr.w?c.s.scrollLeft=
c.n.offsetLeft+c.n.offsetWidth-c.sr.w:c.n.offsetLeft<c.sr.l?c.s.scrollLeft=c.n.offsetLeft:7>=f("ie")&&(e&&e.view.headerNode)&&(e.view.headerNode.scrollLeft=c.s.scrollLeft))},_isHeaderHidden:function(){var b=this.focusView;if(!b)for(var c=0,k;k=this.grid.views.views[c];c++)if(k.headerNode){b=k;break}return b&&"none"==e.getComputedStyle(b.headerNode).display},colSizeAdjust:function(b,c,e){var f=this._findHeaderCells(),a=this.focusView;if(!a||!a.header.tableMap.map)for(var t=0,m;m=this.grid.views.views[t];t++)if(m.header.tableMap.map){a=
m;break}t=f[c];a&&!(c==f.length-1&&0===c)&&(a.content.baseDecorateEvent(b),b.cellNode=t,b.cellIndex=a.content.getCellNodeIndex(b.cellNode),b.cell=0<=b.cellIndex?this.grid.getCell(b.cellIndex):null,a.header.canResize(b)&&(c={l:e},b=a.header.colResizeSetup(b,!1),a.header.doResizeColumn(b,null,c),a.update()))},styleRow:function(b){},setFocusIndex:function(b,c){this.setFocusCell(this.grid.getCell(c),b)},setFocusCell:function(b,c){b&&!this.isFocusCell(b,c)&&(this.tabbingOut=!1,this._colHeadNode&&this.blurHeader(),
this._colHeadNode=this._colHeadFocusIdx=null,this.focusGridView(),this._focusifyCellNode(!1),this.cell=b,this.rowIndex=c,this._focusifyCellNode(!0));if(f("opera"))setTimeout(q.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);else this.grid.onCellFocus(this.cell,this.rowIndex)},next:function(){if(this.cell){var b=this.rowIndex,c=this.cell.index+1,e=this.grid.layout.cellCount-1,f=this.grid.rowCount-1;c>e&&(c=0,b++);b>f&&(c=e,b=f);if(this.grid.edit.isEditing()&&(e=this.grid.getCell(c),!this.isLastFocusCell()&&
(!e.editable||this.grid.canEdit&&!this.grid.canEdit(e,b)))){this.cell=e;this.rowIndex=b;this.next();return}this.setFocusIndex(b,c)}},previous:function(){if(this.cell){var b=this.rowIndex||0,c=(this.cell.index||0)-1;0>c&&(c=this.grid.layout.cellCount-1,b--);0>b&&(c=b=0);if(this.grid.edit.isEditing()){var e=this.grid.getCell(c);if(!this.isFirstFocusCell()&&!e.editable){this.cell=e;this.rowIndex=b;this.previous();return}}this.setFocusIndex(b,c)}},move:function(b,c){var k=0>c?-1:1;if(this.isNavHeader()){var f=
this._findHeaderCells(),a=currentIdx=s.indexOf(f,this._colHeadNode);for(currentIdx+=c;0<=currentIdx&&currentIdx<f.length&&"none"==f[currentIdx].style.display;)currentIdx+=k;0<=currentIdx&&currentIdx<f.length&&this._setActiveColHeader(f[currentIdx],currentIdx,a)}else if(this.cell){var t=this.grid.scroller,f=this.rowIndex,a=this.grid.rowCount-1,m=Math.min(a,Math.max(0,f+b));b&&(0<b?m>t.getLastPageRow(t.page)&&this.grid.setScrollTop(this.grid.scrollTop+t.findScrollTop(m)-t.findScrollTop(f)):0>b&&m<=
t.getPageRow(t.page)&&this.grid.setScrollTop(this.grid.scrollTop-t.findScrollTop(f)-t.findScrollTop(m)));for(var t=this.grid.layout.cellCount-1,h=this.cell.index,n=Math.min(t,Math.max(0,h+c)),l=this.grid.getCell(n);0<=n&&n<t&&l&&!0===l.hidden;)n+=k,l=this.grid.getCell(n);if(!l||!0===l.hidden)n=h;k=l.getNode(m);!k&&b?0<=m+b&&m+b<=a&&this.move(0<b?++b:--b,c):(!k||"none"===e.style(k,"display"))&&c?0<=n+c&&n+c<=t&&this.move(b,0<c?++c:--c):(this.setFocusIndex(m,n),b&&this.grid.updateRow(f))}},previousKey:function(b){this.grid.edit.isEditing()?
(n.stop(b),this.previous()):!this.isNavHeader()&&!this._isHeaderHidden()?(this.grid.domNode.focus(),n.stop(b)):(this.tabOut(this.grid.domNode),null!=this._colHeadFocusIdx&&(e.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,!1),this._colHeadFocusIdx=null),this._focusifyCellNode(!1))},nextKey:function(b){b.target===this.grid.domNode&&null==this._colHeadFocusIdx?(this.focusHeader(),n.stop(b)):this.isNavHeader()?(this.blurHeader(),this.findAndFocusGridCell()||this.tabOut(this.grid.lastFocusNode),
this._colHeadNode=this._colHeadFocusIdx=null):this.grid.edit.isEditing()?(n.stop(b),this.next()):this.tabOut(this.grid.lastFocusNode)},tabOut:function(b){this.tabbingOut=!0;b.focus()},focusGridView:function(){c.fire(this.focusView,"focus")},focusGrid:function(b){this.focusGridView();this._focusifyCellNode(!0)},findAndFocusGridCell:function(){var b=!0,c=0===this.grid.rowCount;this.isNoFocusCell()&&!c?(c=0,this.grid.getCell(c).hidden&&(c=this.isNavHeader()?this._colHeadFocusIdx:0),this.setFocusIndex(0,
c)):this.cell&&!c?(this.focusView&&!this.focusView.rowNodes[this.rowIndex]&&this.grid.scrollToRow(this.rowIndex),this.focusGrid()):b=!1;this._colHeadNode=this._colHeadFocusIdx=null;return b},focusHeader:function(){var b=this._findHeaderCells(),c=this._colHeadFocusIdx;this._isHeaderHidden()?this.findAndFocusGridCell():this._colHeadFocusIdx||(this.isNoFocusCell()?this._colHeadFocusIdx=0:this._colHeadFocusIdx=this.cell.index);for(this._colHeadNode=b[this._colHeadFocusIdx];this._colHeadNode&&0<=this._colHeadFocusIdx&&
this._colHeadFocusIdx<b.length&&"none"==this._colHeadNode.style.display;)this._colHeadFocusIdx++,this._colHeadNode=b[this._colHeadFocusIdx];this._colHeadNode&&"none"!=this._colHeadNode.style.display?(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode&&(this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode),this.headerMenu.bindDomNode(this.grid.domNode),this._contextMenuBindNode=this.grid.domNode),this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,c),this._scrollHeader(this._colHeadFocusIdx),
this._focusifyCellNode(!1)):this.findAndFocusGridCell()},blurHeader:function(){e.removeClass(this._colHeadNode,this.focusClass);e.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var b=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(b);this._contextMenuBindNode=b}},doFocus:function(b){b&&b.target!=b.currentTarget?n.stop(b):this._clickFocus||(this.tabbingOut||this.focusHeader(),
this.tabbingOut=!1,n.stop(b))},doBlur:function(b){n.stop(b)},doContextMenu:function(b){this.headerMenu||n.stop(b)},doLastNodeFocus:function(b){this.tabbingOut?this._focusifyCellNode(!1):0<this.grid.rowCount?(this.isNoFocusCell()&&this.setFocusIndex(0,0),this._focusifyCellNode(!0)):this.focusHeader();this.tabbingOut=!1;n.stop(b)},doLastNodeBlur:function(b){n.stop(b)},doColHeaderFocus:function(b){this._setActiveColHeader(b.target,e.attr(b.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());
n.stop(b)},doColHeaderBlur:function(b){e.toggleClass(b.target,this.focusClass,!1)},_mouseDown:function(b){this._clickFocus=dojo.some(this.grid.views.views,function(c){return c.scrollboxNode===b.target})},_mouseUp:function(b){this._clickFocus=!1}})})},"dojox/grid/_EditManager":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/connect dojo/_base/sniff ./util".split(" "),function(s,q,l,h,n,f){return l("dojox.grid._EditManager",null,{constructor:function(f){this.grid=f;
this.connections=!n("ie")?[]:[h.connect(document.body,"onfocus",s.hitch(this,"_boomerangFocus"))];this.connections.push(h.connect(this.grid,"onBlur",this,"apply"));this.connections.push(h.connect(this.grid,"prerender",this,"_onPreRender"))},info:{},destroy:function(){q.forEach(this.connections,h.disconnect)},cellFocus:function(f,c){this.grid.singleClickEdit||this.isEditRow(c)?this.setEditCell(f,c):this.apply();(this.isEditing()||f&&f.editable&&f.alwaysEditing)&&this._focusEditor(f,c)},rowClick:function(f){this.isEditing()&&
!this.isEditRow(f.rowIndex)&&this.apply()},styleRow:function(f){f.index==this.info.rowIndex&&(f.customClasses+=" dojoxGridRowEditing")},dispatchEvent:function(f){var c=f.cell;return(c=c&&c.editable?c:0)&&c.dispatchEvent(f.dispatch,f)},isEditing:function(){return void 0!==this.info.rowIndex},isEditCell:function(f,c){return this.info.rowIndex===f&&this.info.cell.index==c},isEditRow:function(f){return this.info.rowIndex===f},setEditCell:function(f,c){!this.isEditCell(c,f.index)&&(this.grid.canEdit&&
this.grid.canEdit(f,c))&&this.start(f,c,this.isEditRow(c)||f.editable)},_focusEditor:function(m,c){f.fire(m,"focus",[c])},focusEditor:function(){this.isEditing()&&this._focusEditor(this.info.cell,this.info.rowIndex)},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>(new Date).getTime()},_boomerangFocus:function(){this._shouldCatchBoomerang()&&(this.grid.focus.focusGrid(),this.focusEditor(),this._catchBoomerang=0)},_doCatchBoomerang:function(){n("ie")&&(this._catchBoomerang=
(new Date).getTime()+this._boomerangWindow)},start:function(f,c,e){this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.isEditing()&&!this.isEditRow(c)&&(this.applyRowEdit(),this.grid.updateRow(c)),e?(this.info={cell:f,rowIndex:c},this.grid.doStartEdit(f,c),this.grid.updateRow(c)):this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._focusEditor(f,c),this._doCatchBoomerang())},_editorDo:function(f){var c=this.info.cell;if(c&&c.editable)c[f](this.info.rowIndex)},editorApply:function(){this._editorDo("apply")},
editorCancel:function(){this._editorDo("cancel")},applyCellEdit:function(f,c,e){this.grid.canEdit(c,e)&&this.grid.doApplyCellEdit(f,e,c.field)},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field)},apply:function(){this.isEditing()&&this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.applyRowEdit(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},cancel:function(){this.isEditing()&&(this.grid.beginUpdate(),
this.editorCancel(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},save:function(f,c){var e=this.info.cell;this.isEditRow(f)&&((!c||e.view==c)&&e.editable)&&e.save(e,this.info.rowIndex)},restore:function(f,c){var e=this.info.cell;this.isEditRow(c)&&(e.view==f&&e.editable)&&e.restore(this.info.rowIndex)},_isValidInput:function(){var f=(this.info.cell||{}).widget;if(!f||!f.isValid)return!0;f.focused=!0;return f.isValid(!0)},_onPreRender:function(){this.isEditing()&&
(this.info.value=this.info.cell.getValue())}})})},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(s,q,l,h){return s("dojox.grid.Selection",null,{constructor:function(h){this.grid=h;this.selected=[];this.setMode(h.selectionMode)},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(h){this.selected.length&&this.deselectAll();this.mode="extended"!=h&&"multiple"!=h&&"single"!=h&&"none"!=
h?"extended":h},onCanSelect:function(h){return this.grid.onCanSelect(h)},onCanDeselect:function(h){return this.grid.onCanDeselect(h)},onSelected:function(h){},onDeselected:function(h){},onChanging:function(){},onChanged:function(){},isSelected:function(h){return"none"==this.mode?!1:this.selected[h]},getFirstSelected:function(){if(!this.selected.length||"none"==this.mode)return-1;for(var h=0,f=this.selected.length;h<f;h++)if(this.selected[h])return h;return-1},getNextSelected:function(h){if("none"==
this.mode)return-1;h+=1;for(var f=this.selected.length;h<f;h++)if(this.selected[h])return h;return-1},getSelected:function(){for(var h=[],f=0,m=this.selected.length;f<m;f++)this.selected[f]&&h.push(f);return h},getSelectedCount:function(){for(var h=0,f=0;f<this.selected.length;f++)this.selected[f]&&h++;return h},_beginUpdate:function(){if(0===this.updating)this.onChanging();this.updating++},_endUpdate:function(){this.updating--;if(0===this.updating)this.onChanged()},select:function(h){"none"!=this.mode&&
("multiple"!=this.mode?(this.deselectAll(h),this.addToSelection(h)):this.toggleSelect(h))},addToSelection:function(n){if("none"!=this.mode)if(l.isArray(n))q.forEach(n,this.addToSelection,this);else if(n=Number(n),this.selected[n])this.selectedIndex=n;else if(!1!==this.onCanSelect(n)){this.selectedIndex=n;var f=this.grid.getRowNode(n);f&&h.set(f,"aria-selected","true");this._beginUpdate();this.selected[n]=!0;this.onSelected(n);this._endUpdate()}},deselect:function(n){if("none"!=this.mode)if(l.isArray(n))q.forEach(n,
this.deselect,this);else if(n=Number(n),this.selectedIndex==n&&(this.selectedIndex=-1),this.selected[n]&&!1!==this.onCanDeselect(n)){var f=this.grid.getRowNode(n);f&&h.set(f,"aria-selected","false");this._beginUpdate();delete this.selected[n];this.onDeselected(n);this._endUpdate()}},setSelected:function(h,f){this[f?"addToSelection":"deselect"](h)},toggleSelect:function(h){l.isArray(h)?q.forEach(h,this.toggleSelect,this):this.setSelected(h,!this.selected[h])},_range:function(h,f,m){var c=0<=h?h:f;
h=f;c>h&&(h=c,c=f);for(f=c;f<=h;f++)m(f)},selectRange:function(h,f){this._range(h,f,l.hitch(this,"addToSelection"))},deselectRange:function(h,f){this._range(h,f,l.hitch(this,"deselect"))},insert:function(h){this.selected.splice(h,0,!1);this.selectedIndex>=h&&this.selectedIndex++},remove:function(h){this.selected.splice(h,1);this.selectedIndex>=h&&this.selectedIndex--},deselectAll:function(h){for(var f in this.selected)f!=h&&!0===this.selected[f]&&this.deselect(f)},clickSelect:function(h,f,m){if("none"!=
this.mode){this._beginUpdate();if("extended"!=this.mode)this.select(h);else{if(!m||0>this.rangeStartIndex)this.rangeStartIndex=h;f||this.deselectAll(h);m?this.selectRange(this.rangeStartIndex,h):f?this.toggleSelect(h):this.addToSelection(h)}this._endUpdate()}},clickSelectEvent:function(h){this.clickSelect(h.rowIndex,dojo.isCopyKey(h),h.shiftKey)},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate()}})})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver",
"./Selection"],function(s,q,l){return s("dojox.grid.DataSelection",l,{constructor:function(h){h.keepSelection&&(this.preserver=new q(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var h=l.prototype.getFirstSelected.call(this);return-1==h?null:this.grid.getItem(h)},getNextSelected:function(h){h=this.grid.getItemIndex(h);h=l.prototype.getNextSelected.call(this,h);return-1==h?null:this.grid.getItem(h)},getSelected:function(){for(var h=[],n=0,f=this.selected.length;n<
f;n++)this.selected[n]&&h.push(this.grid.getItem(n));return h},addToSelection:function(h){if("none"!=this.mode){var n=null,n="number"==typeof h||"string"==typeof h?h:this.grid.getItemIndex(h);l.prototype.addToSelection.call(this,n)}},deselect:function(h){if("none"!=this.mode){var n=null,n="number"==typeof h||"string"==typeof h?h:this.grid.getItemIndex(h);l.prototype.deselect.call(this,n)}},deselectAll:function(h){var n=null;h||"number"==typeof h?(n="number"==typeof h||"string"==typeof h?h:this.grid.getItemIndex(h),
l.prototype.deselectAll.call(this,n)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(s,q,l,h){return s("dojox.grid._SelectionPreserver",null,{constructor:function(h){this.selection=h;var f=this.grid=h.grid;this.reset();this._connects=[q.connect(f,"_setStore",this,"reset"),q.connect(f,"_addItem",this,"_reSelectById"),q.connect(h,"onSelected",l.hitch(this,"_selectById",!0)),
q.connect(h,"onDeselected",l.hitch(this,"_selectById",!1)),q.connect(h,"deselectAll",this,"reset")]},destroy:function(){this.reset();h.forEach(this._connects,q.disconnect);delete this._connects},reset:function(){this._selectedById={}},_reSelectById:function(h,f){h&&this.grid._hasIdentity&&(this.selection.selected[f]=this._selectedById[this.grid.store.getIdentity(h)])},_selectById:function(h,f){if("none"!=this.selection.mode&&this.grid._hasIdentity){var m=f,c=this.grid;if("number"==typeof f||"string"==
typeof f)m=(m=c._by_idx[f])&&m.item;m&&(this._selectedById[c.store.getIdentity(m)]=!!h);return m}}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(s,q,l){return s("dojo.store.Memory",null,{constructor:function(h){for(var n in h)this[n]=h[n];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:l,get:function(h){return this.data[this.index[h]]},getIdentity:function(h){return h[this.idProperty]},put:function(h,
n){var f=this.data,m=this.index,c=this.idProperty,c=h[c]=n&&"id"in n?n.id:c in h?h[c]:Math.random();if(c in m){if(n&&!1===n.overwrite)throw Error("Object already exists");f[m[c]]=h}else m[c]=f.push(h)-1;return c},add:function(h,n){(n=n||{}).overwrite=!1;return this.put(h,n)},remove:function(h){var n=this.index,f=this.data;if(h in n)return f.splice(n[h],1),this.setData(f),!0},query:function(h,n){return q(this.queryEngine(h,n)(this.data))},setData:function(h){h.items?(this.idProperty=h.identifier,h=
this.data=h.items):this.data=h;this.index={};for(var n=0,f=h.length;n<f;n++)this.index[h[n][this.idProperty]]=n}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(s){return function(q,l){function h(f){f=s.filter(f,q);var h=l&&l.sort;h&&f.sort("function"==typeof h?h:function(c,b){for(var d,k=0;d=h[k];k++){var f=c[d.attribute],a=b[d.attribute],f=null!=f?f.valueOf():f,a=null!=a?a.valueOf():a;if(f!=a)return!!d.descending==(null==f||f>a)?-1:1}return 0});if(l&&(l.start||
l.count)){var c=f.length;f=f.slice(l.start||0,(l.start||0)+(l.count||Infinity));f.total=c}return f}switch(typeof q){default:throw Error("Can not query with a "+typeof q);case "object":case "undefined":var n=q;q=function(f){for(var h in n){var c=n[h];if(c&&c.test){if(!c.test(f[h],f))return!1}else if(c!=f[h])return!1}return!0};break;case "string":if(!this[q])throw Error("No filter function "+q+" was found in store");q=this[q];case "function":}h.matches=q;return h}})},"dojo/data/ObjectStore":function(){define("../_base/lang ../Evented ../_base/declare ../_base/Deferred ../_base/array ../_base/connect ../regexp".split(" "),
function(s,q,l,h,n,f,m){function c(c){return"*"==c?".*":"?"==c?".":c}return l("dojo.data.ObjectStore",[q],{objectStore:null,constructor:function(c){this._dirtyObjects=[];c.labelAttribute&&(c.labelProperty=c.labelAttribute);s.mixin(this,c)},labelProperty:"label",getValue:function(c,b,d){return"function"===typeof c.get?c.get(b):b in c?c[b]:d},getValues:function(c,b){var d=this.getValue(c,b);return d instanceof Array?d:void 0===d?[]:[d]},getAttributes:function(c){var b=[],d;for(d in c)c.hasOwnProperty(d)&&
!("_"==d.charAt(0)&&"_"==d.charAt(1))&&b.push(d);return b},hasAttribute:function(c,b){return b in c},containsValue:function(c,b,d){return-1<n.indexOf(this.getValues(c,b),d)},isItem:function(c){return"object"==typeof c&&c&&!(c instanceof Date)},isItemLoaded:function(c){return c&&"function"!==typeof c.load},loadItem:function(c){var b;"function"===typeof c.item.load?h.when(c.item.load(),function(d){b=d;var k=d instanceof Error?c.onError:c.onItem;k&&k.call(c.scope,d)}):c.onItem&&c.onItem.call(c.scope,
c.item);return b},close:function(c){return c&&c.abort&&c.abort()},fetch:function(e){function b(a){e.onError&&e.onError.call(k,a,e)}e=s.delegate(e,e&&e.queryOptions);var d=this,k=e.scope||d,f=e.query;if("object"==typeof f){var f=s.delegate(f),a;for(a in f){var t=f[a];"string"==typeof t&&(f[a]=RegExp("^"+m.escapeString(t,"*?\\").replace(/\\.|\*|\?/g,c)+"$",e.ignoreCase?"mi":"m"),f[a].toString=function(a){return function(){return a}}(t))}}var u=this.objectStore.query(f,e);h.when(u.total,function(a){h.when(u,
function(b){e.onBegin&&e.onBegin.call(k,a||b.length,e);if(e.onItem)for(var c=0;c<b.length;c++)e.onItem.call(k,b[c],e);e.onComplete&&e.onComplete.call(k,e.onItem?null:b,e);return b},b)},b);e.abort=function(){u.cancel&&u.cancel()};u.observe&&(this.observing&&this.observing.cancel(),this.observing=u.observe(function(a,b,c){if(-1==n.indexOf(d._dirtyObjects,a))if(-1==b)d.onNew(a);else if(-1==c)d.onDelete(a);else for(var e in a)if(e!=d.objectStore.idProperty)d.onSet(a,e,null,a[e])},!0));this.onFetch(u);
e.store=this;return e},getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(c){if(this.isItem(c))return this.getValue(c,this.labelProperty)},getLabelAttributes:function(c){return[this.labelProperty]},getIdentity:function(c){return this.objectStore.getIdentity?this.objectStore.getIdentity(c):c[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(c){return[this.objectStore.idProperty]},
fetchItemByIdentity:function(c){var b;h.when(this.objectStore.get(c.identity),function(d){b=d;c.onItem.call(c.scope,d)},function(b){c.onError.call(c.scope,b)});return b},newItem:function(c,b){if(b){var d=this.getValue(b.parent,b.attribute,[]),d=d.concat([c]);c.__parent=d;this.setValue(b.parent,b.attribute,d)}this._dirtyObjects.push({object:c,save:!0});this.onNew(c);return c},deleteItem:function(c){this.changing(c,!0);this.onDelete(c)},setValue:function(c,b,d){var k=c[b];this.changing(c);c[b]=d;this.onSet(c,
b,k,d)},setValues:function(c,b,d){if(!s.isArray(d))throw Error("setValues expects to be passed an Array object as its value");this.setValue(c,b,d)},unsetAttribute:function(c,b){this.changing(c);var d=c[b];delete c[b];this.onSet(c,b,d,void 0)},changing:function(c,b){c.__isDirty=!0;for(var d=0;d<this._dirtyObjects.length;d++){var k=this._dirtyObjects[d];if(c==k.object){b&&(k.object=!1,this._saveNotNeeded||(k.save=!0));return}}k=c instanceof Array?[]:{};for(d in c)c.hasOwnProperty(d)&&(k[d]=c[d]);this._dirtyObjects.push({object:!b&&
c,old:k,save:!this._saveNotNeeded})},save:function(c){c=c||{};var b,d=[],k=[],r=this,a=this._dirtyObjects,t=a.length;try{f.connect(c,"onError",function(){if(!1!==c.revertOnError){var b=a;a=k;r.revert();r._dirtyObjects=b}else r._dirtyObjects=a.concat(k)});if(this.objectStore.transaction)var m=this.objectStore.transaction();for(var n=0;n<a.length;n++){var l=a[n],z=l.object,q=l.old;delete z.__isDirty;z?b=this.objectStore.put(z,{overwrite:!!q}):"undefined"!=typeof q&&(b=this.objectStore.remove(this.getIdentity(q)));
k.push(l);a.splice(n--,1);h.when(b,function(a){--t||c.onComplete&&c.onComplete.call(c.scope,d)},function(a){t=-1;c.onError.call(c.scope,a)})}m&&m.commit()}catch(s){c.onError.call(c.scope,value)}},revert:function(){for(var c=this._dirtyObjects,b=c.length;0<b;){b--;var d=c[b],k=d.object,d=d.old;if(k&&d){for(var f in d)d.hasOwnProperty(f)&&k[f]!==d[f]&&(this.onSet(k,f,k[f],d[f]),k[f]=d[f]);for(f in k)d.hasOwnProperty(f)||(this.onSet(k,f,k[f]),delete k[f])}else if(d)this.onNew(d);else this.onDelete(k);
delete (k||d).__isDirty;c.splice(b,1)}},isDirty:function(c){return!c?!!this._dirtyObjects.length:c.__isDirty},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(c){}})})},"xl/dijit/Iframe":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/Deferred dojo/on dojo/json dojo/dom-style dojo/dom-geometry dojo/window dojo/dom-attr xl/util/stringUtils".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.dijit.Iframe",[q],{_frameReadyDeferred:void 0,timeout:5E3,domLoadTimeout:2E3,
framePreferredSize:{h:void 0,w:void 0},minimumBottomPadding:4,loaded:!1,postCreate:function(){this.inherited(arguments);this._registerMessageHandler();e.set(this.domNode,{webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:"true"})},_registerMessageHandler:function(){var c=this;this.own(h(window,"message",function(e){try{if(null==c.domNode.contentWindow||e.source!==c.domNode.contentWindow&&e.source.name!==c.domNode.contentWindow.name+"-poppout")return}catch(f){return}e=b.parsePostMessage(e.data);
c._handleMessage(e)}))},_handleMessage:function(b){this.startup();switch(b["@type"]){case "FrameReady":case "PlayerReady":this._frameReady(b);break;case "PlayerResized":this._playerResized(b)}this.emit("framemessage",b)},_clearTimeout:function(){this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null)},_frameReady:function(b){this._clearTimeout();this.loaded=!0;var e=this._frameReadyDeferred;this.framePreferredSize={h:b.height,w:b.width};if(b.height){var r=c.getBox(this.domNode.ownerDocument),
a=m.position(this.domNode),r=Math.min(r.t+r.h-this.minimumBottomPadding,a.y+b.height)-a.y;f.set(this.domNode,"height",r+"px")}b.width&&f.set(this.domNode,"width",b.width+"px");return e?(this._frameReadyDeferred=null,e.resolve(),!0):!1},resize:function(b){b?f.set(this.domNode,{height:b.h+"px",width:b.w+"px"}):null!=this.framePreferredSize&&f.set(this.domNode,{height:this.framePreferredSize.h+"px",width:this.framePreferredSize.w+"px"})},_playerResized:function(b){this.framePreferredSize={h:b.height,
w:b.width};if(b.height){var e=c.getBox(this.domNode.ownerDocument),r=m.position(this.domNode),e=Math.min(e.t+e.h-this.minimumBottomPadding,r.y+b.height)-r.y;f.set(this.domNode,"height",e+"px")}b.width&&f.set(this.domNode,"width",b.width+"px")},_fixUri:function(b){var c=b;"https:"==location.protocol&&(c=b.replace(/^http:\/\//i,"https://"));return c},post:function(b,c,e){var a=this._frameReadyDeferred=new l;b=this._fixUri(b);var f=document.createElement("form");f.action=b;f.method="POST";f.target=this.domNode.name;
for(var m in c)if(c.hasOwnProperty(m)){var n=document.createElement("input");n.name=m;n.type="hidden";n.value="object"===typeof c[m]?JSON.stringify(c[m]):c[m];f.appendChild(n)}f.style.display="none";document.body.appendChild(f);this.loaded=!1;var D=this;if(e)var z=h(this.domNode,"load",function(){z.remove();var a=D._frameReadyDeferred;a&&(D._frameReadyDeferred=null,a.resolve())});f.submit();document.body.removeChild(f);this.src=b;this._timeoutHandle=setTimeout(function(){D._timeoutHandle=null;console.log("Frame considered loaded after timeout",
b);D._frameReady({})},e?this.domLoadTimeout:this.timeout);return a.promise},load:function(b,c,e,a){var f=this._frameReadyDeferred=new l;b=this._fixUri(b);var m=this;if(c||this.src!==b){this.domNode.src="about:blank";this.loaded=!1;if(e)var n=h(this.domNode,"load",function(){n.remove();var a=m._frameReadyDeferred;a&&(m._frameReadyDeferred=null,a.resolve())});a&&(this.domNode.title=a);this.domNode.src=this.src=b;this._timeoutHandle=setTimeout(function(){m._timeoutHandle=null;console.log("Frame considered loaded after timeout",
b);m._frameReady({})},e?this.domLoadTimeout:this.timeout)}else m._frameReady({}),m.emit("framemessage",{"@type":"FrameReady"});return f.promise},unload:function(){this.domNode.src=this.src="about:blank";this.loaded=!1},postMessage:function(b){this.domNode.contentWindow&&this.domNode.contentWindow.postMessage(n.stringify(b),this.src)}})})},"xl/player/actions/OpenSampleProblemAction":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/window dojo/has dojo/topic xl/player/dialogs/ResizableDialog xl/util/standbyHandler xl/util/stringUtils".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.player.actions.OpenSampleProblemAction",[],{process:function(b,d){if(!d.sample){var k=c.startStandby(),f=c.startModal(),a=n("ios")?h.getBox(d.ownerDocument):null,a=new m({viewportSize:a,minHeight:400,minWidth:600,isModal:b.dialogModal,canMinimize:!b.dialogModal,parentDomElement:d.domNode,minContentHeight:300});d.isInstanceOf(xl.player.HigherEdPlayerViewer)?d.sample=new xl.player.HigherEdPlayerViewer({controller:d.controller}):d.sample=new xl.player.PlayerViewer({controller:d.controller});
d.sample.setupKeyboard(d.keyboard);l.add(a.domNode,"problemPopupDialog");l.add(a.containerNode,"problemPopup");q.place(d.sample.domNode,a.containerNode,"only");d.sample.parentProblem=d;d.sample._problemState=b.state;d.sample._problemSettings=b.settings;d.sample._postUrl=b.postUrl||d._postUrl;d.sample.dialog=a;d.sample.startup();var t=a.on("hide",function(a){!0!=a&&(d.sample&&d.sample.postCommand("close"),c.endModal(f),t&&t.remove(),"undefined"!=typeof resizeEvent&&resizeEvent.remove())}),u=d.useSentenceCase?
e.sentenceCase(b.title):b.title;a.set("title",u);a.show().then(function(){d.sample.playActions(b.actions).then(function(){c.endStandby(k)});d.sample.resize();d.sample.refreshTdxInfoWindow()})}}})})},"xl/player/actions/CloseSampleProblemAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.CloseSampleProblemAction",[],{process:function(q,l){l.parentProblem&&l.parentProblem.sampleProblemClosed(q.interactions);l.dialog.open?l.dialog.hide().then(l.destroy(!1)):l.destroy(!1)}})})},
"xl/player/actions/OpenGuidedSolutionAction":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/window dojo/has dojo/topic xl/player/dialogs/ResizableDialog xl/util/standbyHandler xl/util/stringUtils".split(" "),function(s,q,l,h,n,f,m,c,e){return s("xl.player.actions.OpenGuidedSolutionAction",[],{process:function(b,d){if(!d.guided){var k=n("ios")?h.getBox(d.ownerDocument):null,f=c.startStandby(),a=c.startModal(),k=new m({viewportSize:k,minHeight:400,minWidth:600,isModal:!0,
parentDomElement:d.domNode,minContentHeight:300});d.guided=d.useSentenceCase?new xl.player.HigherEdPlayerViewer({controller:d.controller}):new xl.player.PlayerViewer({controller:d.controller});d.guided.setupKeyboard(d.keyboard);l.add(k.domNode,"problemPopupDialog");l.add(k.containerNode,"problemPopup");q.place(d.guided.domNode,k.containerNode,"only");d.guided.parentProblem=d;d.guided._problemState=b.state;d.guided._problemSettings=b.settings;d.guided._postUrl=b.postUrl||d._postUrl;d.guided.dialog=
k;d.guided.startup();var t=k.on("hide",function(){d.guided&&!d.guided.closing&&d.guided.postCommand("close");c.endModal(a);t&&t.remove()}),u=d.useSentenceCase?e.sentenceCase(b.title):b.title;k.set("title",u);k.show().then(function(){d.guided.playActions(b.actions).then(function(){c.endStandby(f)});d.guided.resize();d.guided.refreshTdxInfoWindow()})}}})})},"xl/player/actions/CloseGuidedSolutionAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.CloseGuidedSolutionAction",
[],{process:function(q,l){l.closing=!0;var h=l.parentProblem,n=function(){h&&h.guidedSolutionClosed(q.interactions,q.completed)};if(l.dialog&&l.dialog.open)l.dialog.hide().then(function(){try{l.closed=!0,l.destroy(!1)}finally{n()}},function(){n()});else try{l.closed=!0,l.destroy(!1)}finally{n()}}})})},"xl/player/actions/DisplayDataGrapherAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/dom","dijit/registry","xl/grapher/IPGraphScatter"],function(s,q,l,h,n){return s("xl.player.actions.DisplayDataGrapherAction",
null,{process:function(f,m){var c=h.byId(f.graphId),e=f.xAxis,b=f.yAxis,d=f.yAltAxis,k=f.drawObjects;if(null!=c){c.getAxisX().setProperties(e);c.getAxisY().setProperties(b);c.getAxisYAlt().setProperties(d);c.dataGraphRemoveAllPlots();for(e=0;e<k.length;e++)b=new n(k[e]),c.dataGraphAddPlot(b);c.reset(!0)}}})})},"xl/player/actions/SetAvailableLearningAidsAction":function(){define(["dojo/_base/declare","dojo/dom-style","dijit/MenuItem","dijit/MenuSeparator","xl/dijit-bootstrap/bootstrapUtils"],function(s,
q,l,h,n){return s("xl.player.actions.SetAvailableLearningAidsAction",[],{process:function(f,h){h.setLearningAids(f)}})})},"xl/dijit-bootstrap/bootstrapUtils":function(){define(["dojo/dom-class"],function(s){var q={setVisible:function(l,h){l.domNode&&(l=l.domNode);h?s.remove(l,"hidden"):s.add(l,"hidden")},getVisible:function(l){l.domNode&&(l=l.domNode);return!s.contains(l,"hidden")},hide:function(l){q.setVisible(l,!1)},show:function(l){q.setVisible(l,!0)}};return q})},"xl/player/actions/OpenCalculatorAction":function(){define(["dojo/_base/declare"],
function(s){return s("xl.player.actions.OpenCalculatorAction",null,{process:function(q,l){l.getCalculator().show()}})})},"xl/player/actions/OpenLearningAidAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.OpenLearningAidAction",null,{process:function(q){var l="Error Opening Learning Aid: ",l=q.contentType?l+q.contentType:l+q.data;q.fullUrl&&(l+="\nURL: "+q.fullUrl);console.log(l)}})})},"xl/player/actions/InteractionPlotMarkerAction":function(){define("dojo/_base/declare dojo/dom dijit/registry dojo/json dojo/_base/array xl/util/logger xl/grapher/IPGraphLabel".split(" "),
function(s,q,l,h,n,f,m){return s("xl.player.actions.InteractionPlotMarkerAction",null,{process:function(c,e){n.forEach(c.graphChanges,function(b){var c=l.byId(b.graphId);b=b.markers;if(null!=c){c.clearMarkerList();for(var e=0;e<b.length;e++)(new m(b[e])).setGraph(c);c.validateGraph()}})}})})},"xl/player/actions/InteractionResetAction":function(){define("dojo/_base/declare dojo/dom dijit/registry dojo/_base/array xl/util/logger xl/grapher/IPGraphLabel".split(" "),function(s,q,l,h,n,f){return s("xl.player.actions.InteractionResetAction",
null,{process:function(m,c){h.forEach(m.graphChanges,function(c){var b=l.byId(c.graphId);c=c.markers;if(null!=b){for(var d=0;d<b.getPlotCount();d++){var k=b.getPlot(d);null!=k.animatedPlot&&(b.removePart(k.animatedPlot),k.animatedPlot=null);k.hidden&&(k.hidden=!1,k.setVisible(k.origVisible))}b.clearMarkerList();for(d=0;d<c.length;d++)(new f(c[d])).setGraph(b);b.validateGraph()}})}})})},"xl/player/actions/InteractionAnimatePlotAction":function(){define("dojo/_base/declare dojo/dom dijit/registry dojo/_base/array xl/util/logger xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.player.actions.InteractionAnimatePlotAction",null,{process:function(e,b){var d=0,k=setInterval(function(){var b=e.graphChanges[d++];h.forEach(b,function(a){var b=l.byId(a.graphId),d=a.scatters;a=a.markers;if(null!=b){h.forEach(d,function(a){var d=b.getPlot(a.index);if(d&&(null!=d.animatedPlot&&(b.removePart(d.animatedPlot),d.animatedPlot=null),null!=a.scatter)){var e;a:{e=a.scatter;switch(e.plotType){case "scatter":e=new m(e);break a;case "function":e=new c(e);
break a}e=void 0}"function"===d.plotType&&(d.animatedPlot=e,e.setGraph(b));d.hasSamePoints(e.xPts,e.yPts)?d.hidden&&(d.hidden=!1,d.setVisible(d.origVisible)):(d.animatedPlot=e,e.setGraph(b),!a.showSnapshot&&!d.hidden&&(d.hidden=!0,d.origVisible=d.visible,d.setVisible(!1)))}});b.clearMarkerList();for(d=0;d<a.length;d++)(new f(a[d])).setGraph(b);b.validateGraph()}});10==d&&clearInterval(k)},200)}})})},"xl/player/actions/ConfirmationDialogAction":function(){define("dojo/_base/declare xl/util/logger xl/player/dialogs/ConfirmationDialog dojo/_base/Deferred xl/util/stringUtils xl/util/higherEdUtils dojo/topic xl/util/standbyHandler".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.player.actions.ConfirmationDialogAction",null,{process:function(e,b){var d=e.title,k=e.buttons;b.useSentenceCase&&(d=n.sentenceCase(d),f.sentenceCaseLabels(k));var r=!0===e.hideClose,a=e.html||n.textToHtml(e.text),t=new l({title:d,htmlContent:a,commandButtons:k,style:"width:400px","class":e["class"]||"xlConfirmationDialog",hideClose:r,closable:!r}),m=new h,v=c.startModal();t.on("hide",function(a){if(a=t.executeCommand)a.command?a.command.command&&(c.endModal(v),
v=null,b.postCommand(a.command.command,a.command.arguments)):a.actions&&(b._playActions?b._playActions(a.actions,b):b.playActions&&b.playActions(a.actions,b));t.destroy();m.resolve(a);v&&c.endModal(v)});t.show();return m}})})},"xl/player/actions/OpenPopupAction":function(){define("dojo/_base/declare dojo/on dojo/json dojo/dom dojo/_base/lang dojo/has xl/util/popupWindow xl/player/dialogs/ModalBaseDialog xl/util/localization!html5player/popup".split(" "),function(s,q,l,h,n,f,m,c,e){var b=s("",[c],
{callback:null,postMixInProperties:function(){this.inherited(arguments);this.addButton({label:e.ok},"OK")},buttonClicked:function(b,c){this.hide();this.callback&&this.callback()}});return s("xl.player.actions.OpenPopupAction",[],{process:function(b,c){"debug"===b.url?this.showDebugAlert(b):b.postParams?this.postWindow(b):this.popupWindow(b.popupName,b.url,b.options)},postWindow:function(b){var c=m.open(b.popupName,"",b.options),e=document.createElement("form");e.action=b.url;e.method="POST";e.target=
b.popupName;if(b=b.postParams)for(var a in b){var f=document.createElement("input");f.name=a;f.value="object"===typeof b[a]?l.stringify(b[a]):b[a];e.appendChild(f)}e.style.display="none";document.body.appendChild(e);e.submit();return c},showDebugAlert:function(b){var c="Learning Aid Popup: "+b.popupName+"\n";b.options&&(c+="\nPopup Options: "+l.stringify(b.options)+"\n");b.postParams&&(c+="\nPost Data: \n"+l.stringify(b.postParams));console.log(c)},popupWindow:function(b,c,e,a){var h=this,u=m.open(b,
c,e);setTimeout(function(){try{if(!u||u.closed&&!f("ios"))u&&u.close(),m.reset(b),h.popupAlternate(function(){var f=n.mixin(e,{blocked:!0}),f=m.open(b,c,f);a&&a(f)})}catch(l){}},500)},popupAlternate:function(c){(new b({content:e.popupBlocked,callback:c,title:"\x26nbsp;"})).show()}})})},"xl/player/actions/OpenPopoverAction":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/window dojo/has dojo/json dojo/dom-construct xl/dijit/IFrameDialog xl/util/stringUtils xl/util/higherEdUtils".split(" "),
function(s,q,l,h,n,f,m,c,e,b){var d=m.create("input",{type:"button",disabled:"disabled","aria-hidden":"true",style:{width:0,opacity:0,position:"absolute",bottom:0}},document.body),k=function(b){d.disabled=!1;d.focus();d.blur();d.disabled=!0;!this.minimized&&(this.viewer&&!b)&&this.viewer.postCommand("learningaidclosed",{data:this.id})};return s("xl.player.actions.OpenPopoverAction",[],{process:function(d,a){var f=n("ios")?h.getBox(a.ownerDocument):null,m=d.name,v;if(v=d.allowPopOut)v="ShowWork"===
d.name&&n("mac")?!0:!1,v=!v;var f={id:m,viewer:a,canMinimize:!0,allowPopOut:v,viewportSize:f,strictMove:d.strictDialogMove,canManualResize:d.canManualResize,cssName:d.className,title:d.title},D=l.byId(d.name);if(D){if(D.popoutWindow&&!D.popoutWindow.closed){D.popoutWindow.focus();return}if(D.minimized&&D.frame.loaded){D.show();return}}else D=new c(f),D.frame.on("framemessage",q.hitch(D,this.frameMessage)),D.on("hide",q.hitch(D,k)),D.on("hide",D.focusReferrer);var z=this;D.currentAction=d;D.buttonClicked=
function(b,c){q.hitch(D,z.learningAidActionButtonClicked)(b,c,a)};D.load({url:d.url,postParams:d.postParams,additionalPopoutPostParams:d.additionalPopoutPostParams,forceLoad:!0,hidden:d.hidden,useDomLoadEvent:d.useDomLoadEvent},"AskMyInstructor"===d.name?!0:!1);f=a.useSentenceCase?e.sentenceCase(d.title):d.title;D.set("title",f);D.destroyButtons();if(d.height||d.width)D.resizeAndCenter({width:d.width||400,height:d.height||200});d.headerMessage&&D.setupHeader(d.headerMessage);if(d.buttons){a.useSentenceCase&&
b.sentenceCaseLabels(d.buttons);for(f=0;f<d.buttons.length;f++)D.addButton({label:d.buttons[f].label},d.buttons[f]);D.setupFooter()}else if(d.buttonGroups){a.useSentenceCase&&b.sentenceCaseLabels(d.buttonGroups[0]);for(f=0;f<d.buttonGroups[0].length;f++)D.addButton({label:d.buttonGroups[0][f].label},d.buttonGroups[0][f]);D.setupFooter()}D.setFocusable(D.domNode)},learningAidActionButtonClicked:function(b,a){switch(a.type){case "PostMessage":"string"==typeof a.data?this.frame.postMessage({"@type":a.data}):
this.frame.postMessage(a.data);break;case "Close":this.hide()}},frameMessage:function(b){switch(b["@type"]){case "Close":this.hide();k(b.isAutoClose);break;case "ChangeButtonGroup":this.destroyButtons();if(b=this.currentAction.buttonGroups[b.index]){for(var a=null,c=0;c<b.length;c++){var d=this.addButton({label:b[c].label},b[c]);null==a&&(a=d)}this.setupFooter();a&&setTimeout(function(){a.focus()},500)}break;case "Command":this.viewer.postCommand(b.command,b.arguments);break;case "ParentMessage":window.parent.postMessage(f.stringify(b.message),
"*");break;case "FrameReady":this.currentAction.initializationData&&(b={"@type":"Initialize",data:this.currentAction.initializationData},this.popoutWindow&&!this.popoutWindow.closed?""===this.unloadPrompt&&this.popoutWindow.postMessage(f.stringify(b),"*"):this.frame.postMessage(b));break;case "AccessibilityMessage":this.viewer.commandAlert&&(this.viewer.commandAlert.innerHTML=b.message)}}})})},"xl/dijit/IFrameDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/window dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/on xl/player/dialogs/ResizableDialog ./Iframe xl/util/popupWindow xl/dijit/Standby xl/player/dialogs/ConfirmationDialog xl/util/localization!html5player/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.dijit.IFrameDialog",[e],{baseClass:"xlIFrameDialog",postCreate:function(){this.inherited(arguments);this.cssName&&m.add(this.domNode,this.cssName);this.frame=new b({},q.toDom("\x3ciframe\x3e\x3c/iframe\x3e"));this.frame.domNode.name=this.id;this.frame.domNode.title=this.title||"Dialog";this.own(this.frame);this.frame.on("framemessage",l.hitch(this,this.frameMessage));this.allowPopOut&&(this.popOutButtonNode=q.create("span",{"class":"dijitDialogNewWindowIcon",
role:"button","aria-label":a.popOut,tabIndex:"0"},this.minimizeButtonNode,"before"),this.own(this.connect(this.popOutButtonNode,"ondijitclick",l.hitch(this,this.onPopOut))),this.popOutText=q.create("span",{"class":"glyphicon glyphicon-white glyphicon-new-window"},this.popOutButtonNode));this.strictMove&&(this.constrainMove=this.constrainPosition);q.place(this.frame.domNode,this.containerNode,"only");this._initStandbyIndicator()},_initStandbyIndicator:function(){this.standbyDijit=new k({target:this.frame.domNode,
duration:0});document.body.appendChild(this.standbyDijit.domNode);this.standbyDijit.startup()},_toggleStandbyIndicator:function(a){this.standbyDijit||this._initStandbyIndicator();var b=this;!0===a?setTimeout(function(){b.standbyDijit.show()},0):setTimeout(function(){b.standbyDijit.hide()},0)},load:function(a,b){a.hidden||(this.show(),this.standbyDijit.show());var c=this;this.options=a;a.postParams?this.frame.post(a.url,a.postParams,a.useDomLoadEvent).then(function(){c.standbyDijit.hide()}):this.frame.load(a.url,
b,a.useDomLoadEvent).then(function(){c.standbyDijit.hide()})},resizeAndCenter:function(a){this.height=a.height;this.width=a.width;f.set(this.frame.domNode,{height:a.height+"px",width:a.width+"px"});delete this._relativePosition;delete this._singleChildOriginalStyle;this._size();this._position()},frameMessage:function(a){switch(a["@type"]){case "ResizeAndCenter":case "FrameReady":this.resizeAndCenter(a);break;case "SetUnloadPrompt":this.unloadPrompt=a.prompt;break;case "DoPopout":l.mixin(this.options.additionalPopoutPostParams||
{},a.postParams),this.doPopout()}},onPopOut:function(){if(this.unloadPrompt)if(this.options.postParams)this.frame.postMessage({"@type":"Popout"});else{var b=this;r.displayText(this.unloadPrompt+"\n\n"+a.closeWarning,"\x26nbsp;",[r.BUTTON.YES,r.BUTTON.NO],"400px").then(function(a){a&&a.command===r.BUTTON.YES.command&&b.doPopout()})}else this.doPopout()},doPopout:function(){if(this.options&&this.options.postParams){var a=this.options.url,b=this.options.postParams,c=this.id+"-poppout";this.popoutWindow=
d.open(c,"",{height:this.height,width:this.width});a=this.frame._fixUri(a);if(this.popoutWindow.location===a)return;var e=document.createElement("form");e.action=a;e.method="POST";e.target=c;this.options.additionalPopoutPostParams&&l.mixin(b,this.options.additionalPopoutPostParams);for(var k in b)b.hasOwnProperty(k)&&(a=document.createElement("input"),a.name=k,a.value="object"===typeof b[k]?JSON.stringify(b[k]):b[k],e.appendChild(a));e.style.display="none";document.body.appendChild(e);e.submit()}else this.popoutWindow=
d.open(this.id+"-popout",this.options.url.replace("frame\x3dyes",""),{height:this.height,width:this.width});this.hide()},hide:function(a){this._stopHide?this._stopHide=!1:(!0!==a&&("video"===this.id.toLowerCase()||"demodoc"===this.id.toLowerCase()||"showwork"===this.id.toLowerCase())&&this.frame.unload(),this.inherited(arguments))},unloadPrompt:"",onCancel:function(){if(this.unloadPrompt){this._stopHide=!0;var b=this;r.displayText(this.unloadPrompt+"\n\n"+a.closeWarning,"\x26nbsp;",[r.BUTTON.YES,
r.BUTTON.NO],"400px").then(function(a){a&&a.command===r.BUTTON.YES.command&&b.hide()})}this.inherited(arguments)},_changeDialogSize:function(){this.frame.framePreferredSize=null;return this.inherited(arguments)}})})},"xl/dijit/Standby":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/window dojo/_base/window dojo/_base/fx dojo/fx dijit/_Widget dijit/_TemplatedMixin dijit/registry".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v){return q("xl.dijit.Standby",[t,u],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.15,imageOpacity:1,templateString:'\x3cdiv class\x3d"xlStandby" aria-role\x3d"status" aria-live\x3d"polite"\x3e\x3cdiv class\x3d"xlStandbyUnderlay" style\x3d"display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint\x3d"_underlayNode"\x3e\x3c/div\x3e\x3cimg class\x3d"xlStandbyImage" src\x3d"${image}" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint\x3d"_imageNode"\x3e\x3cdiv class\x3d"xlStandbyText" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint\x3d"_textNode"\x3e\x3c/div\x3e\x3c/div\x3e',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:!1,_resizeCheck:null,_started:!1,_parent:null,startup:function(a){if(!this._started){if("string"===typeof this.target){var d=v.byId(this.target);this.target=d?d.domNode:f.byId(this.target)}this.text&&(this._textNode.innerHTML=this.text);"image"===this.centerIndicator?(this._centerNode=this._imageNode,m.set(this._imageNode,"src",this.image),m.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;b.set(this._underlayNode,
{display:"none",backgroundColor:this.color});b.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=k.body()&&k.body().appendChild(this.domNode);7==n("ie")&&(this._ieFixNode=c.create("div"),b.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),k.body().appendChild(this._ieFixNode));this.inherited(arguments)}},show:function(){this._displayed||(this._anim&&(this._anim.stop(),delete this._anim),
this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn())},hide:function(){this._displayed&&(this._anim&&(this._anim.stop(),delete this._anim),this._size(),this._fadeOut(),this._displayed=!1,null!==this._resizeCheck&&(clearInterval(this._resizeCheck),this._resizeCheck=null))},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);b.set(this._centerNode,"display",
"none");b.set(this._underlayNode,"display","none");7==n("ie")&&this._ieFixNode&&(k.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var a=m.get(k.body(),"dir");a&&(a=a.toLowerCase());var c,f=this._scrollerWidths(),r=this.target,h=b.get(this._centerNode,"display");b.set(this._centerNode,"display","block");var t=
e.position(r,!0);if(r===k.body()||r===k.doc)t=d.getBox(),t.x=t.l,t.y=t.t;var u=e.getMarginBox(this._centerNode);b.set(this._centerNode,"display",h);this._ieFixNode&&(c=-this._ieFixNode.offsetTop/1E3,t.x=Math.floor((t.x+0.9)/c),t.y=Math.floor((t.y+0.9)/c),t.w=Math.floor((t.w+0.9)/c),t.h=Math.floor((t.h+0.9)/c));var l=b.get(r,"zIndex"),v=h=l;if("auto"===this.zIndex)if("auto"!=l)h=parseInt(h,10)+1,v=parseInt(v,10)+2;else{var q=r.parentNode;for(c=-1E5;q&&q!==k.body();){if((l=b.get(q,"zIndex"))&&"auto"!==
l)l=parseInt(l,10),c<l&&(c=l,h=l+1,v=l+2);q=q.parentNode}}else h=parseInt(this.zIndex,10)+1,v=parseInt(this.zIndex,10)+2;b.set(this._centerNode,"zIndex",v);b.set(this._underlayNode,"zIndex",h);if((h=r.parentNode)&&h!==k.body()&&r!==k.body()&&r!==k.doc){q=t.h;v=t.w;r=e.position(h,!0);this._ieFixNode&&(c=-this._ieFixNode.offsetTop/1E3,r.x=Math.floor((r.x+0.9)/c),r.y=Math.floor((r.y+0.9)/c),r.w=Math.floor((r.w+0.9)/c),r.h=Math.floor((r.h+0.9)/c));"rtl"===a&&(n("opera")?(t.x+=h.scrollHeight>h.clientHeight&&
0<h.clientHeight?f.v:0,r.x+=h.scrollHeight>h.clientHeight&&0<h.clientHeight?f.v:0):n("ie")?r.x+=h.scrollHeight>h.clientHeight&&0<h.clientHeight?f.v:0:n("webkit"));r.w<t.w&&(t.w-=r.w);r.h<t.h&&(t.h-=r.h);var s=r.y,G=r.y+r.h,I=t.y,L=t.y+q,a=r.x;c=r.x+r.w;var l=t.x,O=t.x+v;if(L>s&&I<s)t.y=r.y,q-=s-I,t.h=q<r.h?q:t.h-2*(h.scrollWidth>h.clientWidth&&0<h.clientWidth?f.h:0);else if(I<G&&L>G)t.h=G-I;else if(L<=s||I>=G)t.h=0;if(O>a&&l<a)t.x=r.x,v-=a-l,t.w=v<r.w?v:t.w-2*(h.scrollHeight>h.clientHeight&&0<h.clientHeight?
f.w:0);else if(l<c&&O>c)t.w=c-l;else if(O<=a||l>=c)t.w=0}0<t.h&&0<t.w?(b.set(this._underlayNode,{display:"block",width:t.w+"px",height:t.h+"px",top:t.y+"px",left:t.x+"px"}),f=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(f),n("ie")||(f="MozBorderRadius MozBorderRadiusTopleft MozBorderRadiusTopright MozBorderRadiusBottomleft MozBorderRadiusBottomright WebkitBorderRadius WebkitBorderTopLeftRadius WebkitBorderTopRightRadius WebkitBorderBottomLeftRadius WebkitBorderBottomRightRadius".split(" "),
this._cloneStyles(f,this)),f=t.h/2-u.h/2,h=t.w/2-u.w/2,this.topAlignIndicator&&(f=0),t.h>=u.h&&t.w>=u.w?b.set(this._centerNode,{top:f+t.y+"px",left:h+t.x+"px",display:"block"}):b.set(this._centerNode,"display","none")):(b.set(this._underlayNode,"display","none"),b.set(this._centerNode,"display","none"));if(null===this._resizeCheck){var Q=this;this._resizeCheck=setInterval(function(){Q._size()},100)}}},_cloneStyles:function(a){l.forEach(a,function(a){b.set(this._underlayNode,a,b.get(this.target,a))},
this)},_fadeIn:function(){var b=this,c=r.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:0,end:b.opacity}}}),d=r.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:0,end:b.imageOpacity}},onEnd:function(){b.onShow();delete b._anim}});this._anim=a.combine([c,d]);this._anim.play()},_fadeOut:function(){var c=this,d=r.animateProperty({duration:c.duration,node:c._underlayNode,properties:{opacity:{start:c.opacity,end:0}},onEnd:function(){b.set(this.node,
{display:"none",zIndex:"-1000"})}}),e=r.animateProperty({duration:c.duration,node:c._centerNode,properties:{opacity:{start:c.imageOpacity,end:0}},onEnd:function(){b.set(this.node,{display:"none",zIndex:"-1000"});c.onHide();c._enableOverflow();delete c._anim}});this._anim=a.combine([d,e]);this._anim.play()},_ignore:function(a){a&&h.stop(a)},_scrollerWidths:function(){var a=c.create("div");b.set(a,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",
padding:"0px",margin:"0px"});var d=c.create("div");b.set(d,{width:"200px",height:"10px"});a.appendChild(d);k.body().appendChild(a);d=e.getContentBox(a);b.set(a,"overflow","scroll");var f=e.getContentBox(a);k.body().removeChild(a);return{v:d.w-f.w,h:d.h-f.h}},_setTextAttr:function(a){this.text=this._textNode.innerHTML=a},_setColorAttr:function(a){b.set(this._underlayNode,"backgroundColor",a);this.color=a},_setImageTextAttr:function(a){m.set(this._imageNode,"alt",a);this.imageText=a},_setImageAttr:function(a){m.set(this._imageNode,
"src",a);this.image=a},_setCenterIndicatorAttr:function(a){this.centerIndicator=a;"image"===a?(this._centerNode=this._imageNode,b.set(this._textNode,"display","none")):(this._centerNode=this._textNode,b.set(this._imageNode,"display","none"))},_disableOverflow:function(){if(this.target===k.body()||this.target===k.doc){this._overflowDisabled=!0;var a=k.body();this._oldOverflow=a.style&&a.style.overflow?b.get(a,"overflow"):"";if(n("ie")&&!n("quirks")){if(a.parentNode&&a.parentNode.style&&a.parentNode.style.overflow)this._oldBodyParentOverflow=
a.parentNode.style.overflow;else try{this._oldBodyParentOverflow=b.get(a.parentNode,"overflow")}catch(c){this._oldBodyParentOverflow="scroll"}b.set(a.parentNode,"overflow","hidden")}b.set(a,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var a=k.body();n("ie")&&!n("quirks")&&(a.parentNode.style.overflow=this._oldBodyParentOverflow,delete this._oldBodyParentOverflow);b.set(a,"overflow",this._oldOverflow);if(n("webkit")){var d=c.create("div",
{style:{height:"2px"}});a.appendChild(d);setTimeout(function(){a.removeChild(d)},0)}delete this._oldOverflow}}})})},"xl/player/actions/DisplayLoadingErrorAction":function(){define("dojo/_base/declare dojo/dom dojo/dom-construct dojo/dom-class dojo/html dojo/on dijit/registry xl/util/logger xl/dijit-bootstrap/Button xl/util/localization!html5player/popup".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.player.actions.DisplayAction",null,{process:function(b,k){var f=b.target,a=m.byId(f);a?(a.set("content",
""),f=l.create("div",{"class":"contentHolder errorPanel"},a.containerNode),n.set(f,b.message,{parseContent:!0}),b.buttonInfo&&(a=l.create("p",null,f),(new e({label:b.buttonInfo.label})).placeAt(a).on("click",function(){k.postCommand(b.buttonInfo.command.command)})),b.details&&(l.create("p",null,f),l.create("div",{innerHTML:b.details,className:"errorDetails"},f))):c.log("Display loading error action could not find target \x3d "+f)}})})},"xl/player/actions/DisplayAssignedMediaAction":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/array dojo/dom-class dojo/_base/lang xl/dijit-bootstrap/bootstrapUtils xl/util/localization!html5player/player dijit/MenuItem".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.player.actions.DisplayAssignedMediaAction",[],{process:function(c,b){var d=b.getAssignedMediaDropdown();d.buttonLabel.innerHTML=c.label;d.focusNode.setAttribute("aria-label",m["button.media.aria_label"]);this.updateDisplay(b,c.mediaList)},updateDisplay:function(e,b){var d=e.getAssignedMediaDropdown();d.clearItems();if(0==b.length)f.hide(d);else{f.show(d);var k=!0;l.forEach(b,function(f){var a="mediaTitle";f.viewed&&(a+=" viewed");a=new c({label:'\x3cspan class\x3d"'+
a+'"\x3e'+f.title+"\x3c/span\x3e",iconClass:"mediaIcon"});a.data=f;f.viewed||(k=!1);a.on("click",n.hitch(this,function(){e.emit("assignedmediaclicked",{mediaInfo:f,partnerGraded:f.partnerGraded});f.viewed=!0;this.updateDisplay(e,b)}));d.addItem(a)},this);h.toggle(d.domNode,"allViewed",k)}}})})},"xl/player/actions/ShowAltTextAction":function(){define(["dojo/_base/declare","xl/util/localStore"],function(s,q){return s("xl.player.actions.ShowAltTextAction",null,{process:function(l,h){h.showAltText=!h.showAltText;
q.setItem("showAltText",h.showAltText)}})})},"xl/player/actions/OpenChoosePrintModeDialogAction":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry xl/dijit/RadioButton dojo/dom-construct xl/player/dialogs/BaseDialog ./PrintQuestionAction xl/util/stringUtils".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.player.actions.OpenPopoverAction",[],{process:function(e,b){var d=e.title,k=e.printButtonText,r=e.cancelButtonText,a=e.printAssignmentLegendText;b.useSentenceCase&&(d=c.sentenceCase(d),
k=c.sentenceCase(k),r=c.sentenceCase(r));var t=new f({viewer:b,isModal:!0}),m=this;t.buttonClicked=function(a,c){q.hitch(t,m.buttonClicked)(a,c,b)};t.currentAction=e;t.addButton({label:k},"print");t.addButton({label:r},"cancel");t.setupFooter();t.set("title",d);d=n.create("fieldset",{"class":"printOptionsFiledset"},t.containerNode);n.create("legend",{"class":"sr-only",innerHTML:a},d);t.singleQuestionRadio=new h({checked:!0,value:"single",name:"printMode"});t.singleQuestionRadio.placeAt(d);n.create("label",
{"for":t.singleQuestionRadio.id,style:"margin-left:5px",innerHTML:e.singleQuestionText},d);n.create("br",{},d);t.assignmentRadio=new h({value:"assignment",name:"printMode"});t.assignmentRadio.placeAt(d);n.create("label",{"for":t.assignmentRadio.id,style:"margin-left:5px",innerHTML:e.assignmentText},d);t.show().then(function(){0<t.buttons.length&&t.buttons[0].domNode.focus()})},buttonClicked:function(c,b,d){switch(b){case "print":this.singleQuestionRadio.checked?(new m).process(this.currentAction.printQuestionAction,
d):d.getParent()._postAssignmentMessage({"@type":"PrintRequest",options:this.currentAction.assignmentPrintOptions});this.hide();break;case "cancel":this.hide()}}})})},"xl/dijit/RadioButton":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/form/RadioButton","dojo/text!./templates/RadioButton.html"],function(s,q,l,h){return s("xl.dijit.RadioButton",[l],{templateString:h})})},"xl/player/actions/UpdateResultAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.UpdateResultAction",
null,{process:function(q,l){var h=parseFloat(q.score),h=!q.correctness&&(isNaN(h)||0===h);l.updateResultIcon(q.correctness,h,q.warningText)}})})},"xl/player/actions/GradeEssayAction":function(){define("dojo/_base/declare xl/util/logger dijit/MenuItem dijit/MenuSeparator dijit/CheckedMenuItem dojo/dom-style dojo/dom-attr dojo/_base/kernel".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.player.actions.GradeEssayAction",null,{process:function(c,b){var d=b.gradePanel;c.gradeEssay?(d.updateDisplay(c,
b),f.set(d.domNode,"display",""),m.set(d.domNode.parentNode,"aria-hidden","false")):f.set(d.domNode,"display","none")}})})},"xl/player/actions/GrammarApplyShowDialogAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyShowDialogAction",null,{process:function(h,f){var m=h.clientID,c=h.itemID,e=h.instructions;!m||!c?console.log("id and/or itemClickedId was not passed down from server correctly"):(m=q.byId(m),
l.byId(c),m.showDialog({itemClickedID:c,instructions:e}))}})})},"xl/player/actions/GrammarApplyDialogDisplayIncorrectAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyDialogDisplayIncorrectAction",null,{process:function(h,f){var m=h.clientID;m?q.byId(m).getDialog().displayIncorrect():console.log("clientId was not passed down from server correctly")}})})},"xl/player/actions/GrammarApplyDisplayIncorrectAction":function(){define(["dojo/_base/declare",
"dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyDisplayIncorrectAction",null,{process:function(h,f){var m=h.clientID,c=h.correct,e=h.itemIDs,b=h.mode;if(!m||!e)console.log("id and/or itemClickedId was not passed down from server correctly");else{m=q.byId(m);b&&(m.mode=b);for(b=0;b<e.length;b++){var d=l.byId(e[b]);m.markClickedNode(d,c[b])}}}})})},"xl/player/actions/GrammarApplyReplDisplayAction":function(){define(["dojo/_base/declare","dijit/registry",
"dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyReplDisplayAction",null,{process:function(h,f){var m=h.itemIDs,c=h.answers,e=h.mode,b=h.isFinishAnswer,d=q.byId(h.clientID);e&&(d.mode=e);for(e=0;e<m.length;e++)d.idreplCorrectAnswer({ids:m[e],answer:c[e],overrideColor:b?"red":null});d.hideDialog()}})})},"xl/player/actions/GrammarApplyIdDisplayAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyIdDisplayAction",
null,{process:function(h,f){var m=h.clientID,c=h.correct,e=h.itemIDs,b=h.mode,d=h.isFinishAnswer;if(!m||!e)console.log("id and/or itemClickedId was not passed down from server correctly");else{m=q.byId(m);b&&(m.mode=b);for(b=0;b<e.length;b++)m.markClickedNode(e[b],c[b],d?"red":null)}}})})},"xl/player/actions/GrammarApplyIdReplDisplayAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyIdReplDisplayAction",
null,{process:function(h,f){var m=h.clientID,c=h.itemIDs,e=h.mode,b=h.replacementText,d=h.isFinishAnswer;if(!m||!c||!b)console.log("id and/or itemClickedId and/or replacementText was not passed down from server correctly");else{m=q.byId(m);e&&(m.mode=e);for(e=0;e<c.length;e++)m.idreplCorrectAnswer({ids:c[e],answer:b[e],overrideColor:d?"red":null})}}})})},"xl/player/actions/GrammarApplyCsfsDisplayAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,
q,l,h){return s("xl.player.actions.GrammarApplyCsfsDisplayAction",null,{process:function(h,f){var m=h.itemIDs,c=h.answers,e=h.mode,b=q.byId(h.clientID);e&&(b.mode=e);for(e=0;e<m.length;e++)b.markCsfsNode({ids:m[e],answer:c[e]})}})})},"xl/player/actions/GrammarApplyInsDragDisplayAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyInsDragDisplayAction",null,{process:function(h,f){var m=h.itemIDs,c=h.mode,
e=h.dragTypes,b=q.byId(h.clientID);c&&(b.mode=c);for(c=0;c<m.length;c++)b.markInsDragCorrect(m[c][0],e[c])}})})},"xl/player/actions/GrammarApplyInsDisplayAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyInsDisplayAction",null,{process:function(h,f){var m=h.itemIDs,c=h.mode,e=h.answers,b=h.correct,d=h.isFinishAnswer,k=q.byId(h.clientID);c&&(k.mode=c);for(c=0;c<m.length;c++)k.markInsNode({id:m[c][0],
answer:e[c],correct:b[c],overrideColor:d?"red":null});k.hideDialog()}})})},"xl/player/actions/GrammarApplyDelDisplayAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyDelDisplayAction",null,{process:function(h,f){var m=h.itemIDs,c=h.mode,e=h.answers,b=h.correct,d=h.isFinishAnswer,k=q.byId(h.clientID);c&&(k.mode=c);for(c=0;c<m.length;c++)k.markDelNode({ids:m[c],answer:e[c],correct:b[c],overrideColor:d?
"red":null});k.hideDialog()}})})},"xl/player/actions/GrammarApplyHintAction":function(){define("dojo/_base/declare dijit/registry dojo/dom dojo/dom-class dojo/dom-construct dojo/parser dojo/_base/lang dijit/form/Button dojo/on dojo/_base/connect".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.player.actions.GrammarApplyHintAction",null,{ga:null,itemClickedId:null,hint:null,subtitleText:null,getAnswerBtn:null,tryAgainBtn:null,process:function(b,c){var e=b.clientID;this.itemClickedId=b.itemClickedID;
this.hint=b.hint;this.subtitleText=b.subtitleText;var a=b.displayGetAnswer,f=b.displayTryAgain;!e||!this.itemClickedId?console.log("id and/or itemClickedId was not passed down from server correctly"):(this.ga=q.byId(e),this.ga.infoPanel.displayHintButtons(this.hint,this.subtitleText,this.itemClickedId,a,f))}})})},"xl/player/actions/GrammarApplyUpdateScoreAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyUpdateScoreAction",
null,{process:function(h,f){var m=h.clientID,c=h.score,e=h.numberRemaining,b=h.numberTotal,d=h.isQuestionAttempted;m?q.byId(m).getViewer().controlPanel.updateGrammarApplyPanel({score:c,numberRemaining:e,numberTotal:b,isQuestionAttempted:d}):console.log("id was not passed down from server correctly")}})})},"xl/player/actions/GrammarApplyScoreDetailsAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/dom","dojo/dom-class"],function(s,q,l,h){return s("xl.player.actions.GrammarApplyScoreDetailsAction",
null,{process:function(h,f){var m=h.clientID,c=h.content,e=h.title;m?(m=q.byId(m),m.controlPanel.hintBtn.domNode.innerText="Summary",m.mode="showsummary",m.isQuestionScored=!0,m.summaryData={tite:e,content:c,subtitleText:"SCORE DETAILS",mode:"showsummary"},m.infoPanel.updateContents(m.summaryData),m.disableDragIcons()):console.log("id was not passed down from server correctly")}})})},"xl/player/actions/SetupAnalyticsDimensionsAction":function(){define(["dojo/_base/declare","xl/util/ga"],function(s,
q){return s("xl.player.actions.SetupAnalyticsDimensionsAction",null,{process:function(l){q.setupDimensions({dimension1:l.book,dimension2:l.theme,dimension3:l.machine,dimension4:l.playMode,dimension5:l.isReviewMode,dimension6:l.adaptiveMode,dimension7:l.isCustomQuestion,dimension8:l.userRole})}})})},"xl/player/actions/DisplayShowWorkButtonAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom-class dojo/dom-attr dojo/dom-style dojo/dom-construct xl/dijit-bootstrap/Button".split(" "),
function(s,q,l,h,n,f,m){return s("xl.player.actions.DisplayShowWorkButtonAction",null,{process:function(c,e){var b=null;c.visible?(b=this.getControlPanelShowWorkButton(e),l.remove(b.domNode,"hidden"),h.set(b.domNode,"title",c.tooltip),l.replace(b.domNode,c.outline,"showworkgraded showworknotgraded showworksaved showworknotsaved showworknone"),b.set("label",c.label)):e.controlPanel.showWorkButton&&l.add(e.controlPanel.showWorkButton.domNode,"hidden")},getControlPanelShowWorkButton:function(c){var e=
c.controlPanel.showWorkButton;e||(e=new m({label:"Show Work",icon:c.iconShowWorkClass,"class":c.buttonShowWorkClass,onClick:function(){c.postCommand("learningaid",{data:"showwork"})}}),c.controlPanel.showWorkButton=e,c.controlPanel._checkAnswerButton?f.place(e.domNode,c.controlPanel._checkAnswerButton.id,"before"):c.controlPanel._similarExerciseButton?f.place(e.domNode,c.controlPanel._similarExerciseButton.id,"before"):c.controlPanel._nextQuestionButton?f.place(e.domNode,c.controlPanel._nextQuestionButton.id,
"before"):f.place(e.domNode,c.controlPanel.buttonContainerRight));return e}})})},"xl/player/actions/ChangeServerUrlAction":function(){define(["dojo/_base/declare"],function(s){var q=location.protocol+"//"+location.host;return s("xl.player.actions.ChangeServerUrlAction",null,{process:function(l,h){var n=h._controller._service,f=prompt("New Server Url",q);null!=f&&("/"===f[f.length-1]&&(f=f.substr(0,f.length-1)),h._postUrl&&(h._postUrl="/"===h._postUrl[0]?f+h._postUrl:h._postUrl.replace(q,f)),q=f,n.updateUrl(f),
h.sendAssignmentAction({action:"changeserverurl",value:f}))}})})},"xl/player/actions/CloseActivityAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.CloseActivityAction",null,{process:function(q,l){l.closeActivity(q.reason)}})})},"xl/player/actions/AnnounceQuestionAction":function(){define(["dojo/_base/declare","xl/util/stringUtils","xl/util/localization!html5player/player"],function(s,q,l){return s("xl.player.actions.AnnounceQuestionAction",[],{process:function(h,
n){h.questionName&&setTimeout(function(){n.commandAlert.innerHTML=q.substitute(l["acc.question_displayed"],[h.questionName])},100)}})})},"xl/player/actions/ChangeUseOskAction":function(){define("dojo/_base/declare dojo/_base/config dojo/dom-class dojo/dom-style dojo/on dojo/_base/lang xl/player/dialogs/ModalBaseDialog dojo/dom-construct xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localization xl/util/localStore xl/util/stringUtils xl/dijit-bootstrap/RadioButton".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){var t=s("xl.player.actions.UseOskDialog",[m],{setupHeader:function(){var a=e["osk.SettingsTitle"],b=this.getViewer();b&&b.useSentenceCase&&(a=r.sentenceCase(a));this.titleNode.innerHTML=a},setupContent:function(){l.add(this.domNode,"changeUseOskDialog");var d=k.getItem("useOsk");this.autoBtn=new a({checked:"null"===d||!d,value:!0,name:"useOskRdBtn"});this.onBtn=new a({checked:"true"===d,value:!0,name:"useOskRdBtn"});this.offBtn=new a({checked:"false"===d,value:!1,
name:"useOskRdBtn"});this.own(n(this.autoBtn,"change",f.hitch(this,this._hideMobileWarning)),n(this.onBtn,"change",f.hitch(this,this._hideMobileWarning)),n(this.offBtn,"change",f.hitch(this,this._showMobileWarning)));var d=c.toDom("\x3cdiv class\x3dradioButtons\x3e \x3c/div\x3e"),h=c.toDom("\x3clabel for\x3d'"+this.autoBtn.get("id")+"'\x3e"+e["osk.SettingsAuto"]+"\x3c/label\x3e"),r=c.toDom("\x3clabel for\x3d'"+this.onBtn.get("id")+"'\x3e"+e["osk.SettingsOn"]+"\x3c/label\x3e"),t=c.toDom("\x3clabel for\x3d'"+
this.offBtn.get("id")+"'\x3e"+e["osk.SettingsOff"]+"\x3c/label\x3e");c.place(this.autoBtn.domNode,d);c.place(h,d);c.place(c.toDom("\x3cbr /\x3e"),d);c.place(this.onBtn.domNode,d);c.place(r,d);c.place(c.toDom("\x3cbr /\x3e"),d);c.place(this.offBtn.domNode,d);c.place(t,d);c.place(d,this.containerNode,"only");this.divWarning=c.toDom("\x3cdiv class\x3d'hidden warning'\x3e"+b.onScreenKeyboard_Off_MobileWarning+" \x3c/div\x3e");c.place(this.divWarning,this.containerNode)},setupFooter:function(){this.addButton({label:b.cancel},
"cancel");this.addButton({label:b.ok},"ok");this.inherited(arguments)},buttonClicked:function(a,b){this.hide();if("ok"==b){var c=this.onBtn.checked?!0:this.autoBtn.checked?null:!1;k.setItem("useOsk",c);q.useOsk=c;this.viewer.postCommand("ChangeUseOsk",{value:c})}},_showMobileWarning:function(a){a&&q.isMobileDevice&&(l.remove(this.divWarning,"hidden"),this.resize(!0))},_hideMobileWarning:function(a){a&&q.isMobileDevice&&(l.add(this.divWarning,"hidden"),this.resize(!0))}});return s("xl.player.actions.ChangeUseOskAction",
null,{process:function(a,b){var c=new t({viewer:b});c.startup();c.show()}})})},"xl/dijit-bootstrap/RadioButton":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/_RadioButtonMixin","dojox/mobile/ToggleButton","dojo/dom-attr"],function(s,q,l,h,n){return s("xl.dijit-bootstrap.RadioButton",[h,l],{_setTypeAttr:null,baseClass:"radio-inline",buildRendering:function(){this.srcNodeRef||(this.srcNodeRef=q.create("input",{type:this.type,role:this.type}));this.inherited(arguments);n.has(this.srcNodeRef,
"type")||n.set(this.domNode,"type",this.type)},_getValueAttr:function(){return this.checked?this.value:!1}})})},"dojox/mobile/ToggleButton":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/form/_ToggleButtonMixin","./Button"],function(s,q,l,h){return s("dojox.mobile.ToggleButton",[h,l],{baseClass:"mblToggleButton",_setCheckedAttr:function(){this.inherited(arguments);var h=(this.baseClass+" "+this["class"]).replace(/(\S+)\s*/g,"$1Checked ").split(" ");q[this.checked?"add":"remove"](this.focusNode||
this.domNode,h)}})})},"dojox/mobile/Button":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/form/_ButtonMixin dijit/form/_FormWidgetMixin dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/Button".split(" "),function(s,q,l,h,n,f,m,c,e){n=q(c("dojo-bidi")?"dojox.mobile.NonBidiButton":"dojox.mobile.Button",[n,m,f],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,_onClick:function(b){var c=this.inherited(arguments);if(c&&0<=this.duration){var e=
this.focusNode||this.domNode,f=(this.baseClass+" "+this["class"]).split(" "),f=s.map(f,function(a){return a+"Selected"});l.add(e,f);this.defer(function(){l.remove(e,f)},this.duration)}return c},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var b=this.srcNodeRef.firstChild;b&&3===b.nodeType&&(b.nodeValue=this._cv(b.nodeValue))}}else this.srcNodeRef=h.create("button",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);
this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(b){this.inherited(arguments,[this._cv?this._cv(b):b])}});return c("dojo-bidi")?q("dojox.mobile.Button",[n,e]):n})},"xl/player/actions/SetItemPlayerSettingsAction":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/kernel dojo/dom-attr dijit/MenuItem dijit/MenuSeparator".split(" "),function(s,q,l,h,n,f){return s("xl.player.actions.SetItemPlayerSettingsAction",[],{process:function(m,c){c.addAdditionalSettings(m.itemPlayerSettings);
var e=c.getItemPlayerSettings();m.label&&(h.set(e._buttonNode,"aria-label",m.label),h.set(e._buttonNode,"title",e.title?e.title:m.label),e.buttonLabel.innerHTML=m.label);var b=e.dropDown;b.destroyDescendants(!1);if(0==m.itemPlayerSettings.length)q.set(e.domNode,"display","none");else{q.set(e.domNode,"display","");for(var d=0;d<m.itemPlayerSettings.length;d++){var k=m.itemPlayerSettings[d];if(k.isSeparator)e=new f;else if(e=new n({label:k.label,iconClass:k.iconClass,command:k.command}),e.data=k,k.disabled&&
e.set("disabled",!0),"Command"==k.type)e.on("click",function(){"about"==this.command?c.postCommand(this.command,{dojoVersion:l.version.toString()}):c.postCommand(this.command,this.data.commandArgs)});else"Actions"==k.type&&(e.actions=k.actions,e.on("click",function(){c.playActions(this.actions)}));b.addChild(e)}}}})})},"xl/player/actions/ChangeAccessibilityAction":function(){define("dojo/_base/declare dojo/_base/config dojo/dom-class xl/player/dialogs/ModalBaseDialog dojo/dom-construct xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localization xl/util/localStore xl/dijit/RadioButton dojo/on dojo/_base/lang".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){var r=s("xl.player.actions.AccessibilityDialog",[h],{setupHeader:function(){this.titleNode.innerHTML=f["acc.SettingsTitle"]},setupContent:function(){l.add(this.domNode,"changeAccessibilityDialog");var a=e.getItem("accessibilityOverride");this.onBtn=new b({checked:"true"===a,value:"on",name:"accessibilityRdBtn"});this.offBtn=new b({checked:"true"!==a,value:"off",name:"accessibilityRdBtn"});a=n.toDom("\x3cp\x3e"+f["acc.SettingsOsk"]+"\x3c/p\x3e");n.place(a,this.containerNode,
"only");var a=n.toDom("\x3cfieldset class\x3d'accOptionfieldset' tabindex\x3d-1\x3e \x3c/fieldset\x3e"),c=n.toDom("\x3clegend class\x3d'sr-only'\x3e"+f["acc.SettingsLegendTitle"]+"\x3c/fieldset\x3e"),h=n.toDom("\x3clabel for\x3d'"+this.onBtn.get("id")+"'\x3e"+f["acc.SettingsOn"]+"\x3c/label\x3e"),r=n.toDom("\x3clabel for\x3d'"+this.offBtn.get("id")+"'\x3e"+f["acc.SettingsOff"]+"\x3c/label\x3e");n.place(c,a);n.place(this.onBtn.domNode,a);n.place(h,a);n.place(n.toDom("\x3cbr /\x3e"),a);n.place(this.offBtn.domNode,
a);n.place(r,a);n.place(a,this.containerNode);this.own(d(this.onBtn,"focus",k.hitch(this,this.radiobBnFocus)));this.own(d(this.onBtn,"blur",k.hitch(this,this.radioBtnBlur)));this.own(d(this.offBtn,"focus",k.hitch(this,this.radiobBnFocus)));this.own(d(this.offBtn,"blur",k.hitch(this,this.radioBtnBlur)))},setupFooter:function(){this.addButton({label:m.cancel},"cancel");this.addButton({label:m.ok},"ok");this.inherited(arguments)},buttonClicked:function(a,b){this.hide();if("ok"==b){var c=this.onBtn.checked;
e.setItem("accessibilityOverride",c);q.accessible=c;this.viewer.postCommand("ChangeAccessibility",{value:c});this.destroy()}},radiobBnFocus:function(a){this.inherited(arguments);l.add(this.onBtn.domNode.parentNode,"mcFocused")},radioBtnBlur:function(a){this.inherited(arguments);l.remove(this.onBtn.domNode.parentNode,"mcFocused")}});return s("xl.player.actions.ChangeAccessibilityAction",null,{process:function(a,b){var c=new r({viewer:b});c.startup();c.on("hide",function(){c.destroy()});c.show()}})})},
"xl/player/actions/ChangeLanguageAction":function(){define("dojo/_base/declare dojo/_base/config xl/player/dialogs/ModalBaseDialog dojo/dom-construct dojo/dom-style xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localization xl/util/localStore dojo/html xl/util/domMethods".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){var k=s("xl.player.actions.LanguageDialog",[l],{setupHeader:function(){b.set(this.titleNode,f["languagesetting.caption"])},setupContent:function(){for(var b=
e.getItem("localeOverride"),a=": \x3cselect\x3e\x3coption value\x3d''\x3e"+f["languagesetting.set_by_book"]+"\x3c/option\x3e",d=0;d<c.AVAILABLE_LOCALES.length;d++)var k=c.AVAILABLE_LOCALES[d],a=b==k?a+("\x3coption selected\x3d'selected' value\x3d'"+k+"'\x3e"+k+"\x3c/option\x3e"):a+("\x3coption value\x3d'"+k+"'\x3e"+k+"\x3c/option\x3e");b=h.toDom("\x3cdiv\x3e"+f["languagesetting.choose_locale"]+(a+"\x3c/select\x3e")+"\x3c/div\x3e");h.place(b,this.containerNode,"only");n.set(this.containerNode,{minWidth:"275px"})},
setupFooter:function(){this.addButton({label:m.ok},"ok");this.addButton({label:m.cancel},"cancel");this.inherited(arguments)},buttonClicked:function(b,a){this.hide();if("ok"==a){var k=this.containerNode.firstChild.lastChild.value;e.setItem("localeOverride",k);""==k&&(k=q.originalCulture);this.viewer.assignmentHandlesLocale?this.viewer.sendAssignmentCommand("changelanguage",{locale:k}):(this.viewer.postCommand("changelanguage",{locale:k}),c.changeLocale(k));this.destroy();d.addLangAttrToHtmlTag(dojoConfig)}}});
return s("xl.player.actions.ChangeLanguageAction",null,{process:function(b,a){var c=new k({viewer:a});c.startup();c.on("hide",function(){c.destroy()});c.show()}})})},"xl/player/actions/GiveUpAction":function(){define("dojo/_base/declare xl/util/logger xl/player/dialogs/ConfirmationDialog dojo/_base/Deferred xl/util/stringUtils dojo/topic xl/util/standbyHandler xl/util/localization!html5player/popup".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.player.actions.GiveUpAction",null,{process:function(e,
b){var d=c["giveup.title"],k=c.yes,f=c.no;b.useSentenceCase&&(d=n.sentenceCase(d),k=n.sentenceCase(k),f=n.sentenceCase(f));var a="";c["giveup.content"]&&(a=n.textToHtml(c["giveup.content"]));var t=new l({title:d,htmlContent:a,commandButtons:[{label:k,command:"giveup"},{label:f}],style:"width:400px","class":"xlConfirmationDialog"}),u=new h,v=m.startModal();t.on("hide",function(a){(a=t.executeCommand)&&a.command&&b.postCommand(a.command);t.destroy();u.resolve(a);m.endModal(v)});t.show();return u}})})},
"xl/player/actions/ChangeUseMobileUIAction":function(){define("dojo/_base/declare dojo/_base/config dojo/dom-class dojo/dom-style dojo/on dojo/_base/lang xl/player/dialogs/ModalBaseDialog dojo/dom-construct xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localization xl/util/localStore xl/dijit/RadioButton xl/player/dialogs/ChangeMobileUIDialog".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.player.actions.ChangeUseMobileUIAction",null,{process:function(b,
c){var d=new a({viewer:c});d.startup();d.show()}})})},"xl/player/dialogs/ChangeMobileUIDialog":function(){define("dojo/_base/declare dojo/_base/config dojo/dom-class dojo/dom-attr dojo/html dojo/dom-style dojo/on dojo/_base/lang xl/player/dialogs/ModalBaseDialog dojo/dom-construct xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localization xl/util/localStore xl/dijit/RadioButton dojo/text!./templates/ChangeMobileUIDialog.html".split(" "),function(s,q,l,h,n,
f,m,c,e,b,d,k,r,a,t,u){return s("xl.player.dialogs.ChangeUseMobileUIDialog",[e],{baseClass:"changeMobileUiDialog",contentString:u,setupHeader:function(){this.titleNode.innerHTML=d["mui.SettingsTitle"]},setupContent:function(){var b=a.getItem("useMobileUI");"null"===b||!b?this.autoBtn.set("checked",!0):"true"===b?this.onBtn.set("checked",!0):"false"===b&&this.offBtn.set("checked",!0);h.set(this.labelAuto,"for",this.autoBtn.get("id"));h.set(this.labelOn,"for",this.onBtn.get("id"));h.set(this.labelOff,
"for",this.offBtn.get("id"));n.set(this.labelAuto,d["mui.SettingsAuto"]);n.set(this.labelOn,d["mui.SettingsOn"]);n.set(this.labelOff,d["mui.SettingsOff"])},setupFooter:function(){this.addButton({label:k.ok},"ok");this.addButton({label:k.cancel},"cancel");this.inherited(arguments)},buttonClicked:function(b,c){this.hide();if("ok"===c){var d=this.onBtn.checked?!0:this.autoBtn.checked?null:!1;a.setItem("useMobileUI",d);q.useMobileUI=d;this.viewer.postCommand("changeusemobileui",{value:d})}},_showMobileWarning:function(a){a&&
q.isMobileDevice&&(l.remove(this.divWarning,"hidden"),this.resize(!0))},_hideMobileWarning:function(a){a&&q.isMobileDevice&&(l.add(this.divWarning,"hidden"),this.resize(!0))}})})},"xl/player/actions/SetInactivityTimeoutAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.SetInactivityTimeoutAction",[],{process:function(q,l){l.createIdleCheck(q.inactivityTimeout,q.inactivityTimeoutCountdown)}})})},"xl/player/actions/DisplayFollowupAction":function(){define(["dojo/_base/declare",
"xl/util/logger","dojo/dom","dijit/registry","./_DisplayAction"],function(s,q,l,h,n){return s("xl.player.actions.DisplayFollowupAction",n,{process:function(f,m){var c=f.target,e=h.byId(c);e?(e.contentPane&&(e=e.contentPane),f.clear&&e.set("content",""),this.appendContent(e,f.content,m,!1,"step followup")):q.log("Display action could not find target \x3d "+c)}})})},"xl/player/actions/DisplayTaglineAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/dom","dijit/registry","./_DisplayAction"],
function(s,q,l,h,n){return s("xl.player.actions.DisplayTaglineAction",n,{process:function(f,m){var c=f.target,e=h.byId(c);e?(f.clear&&e.set("content",""),this.appendContent(e,f.content,m,!1,"step tagline")):q.log("Display action could not find target \x3d "+c)}})})},"xl/player/actions/SendAssignmentCommandAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.SendAssignmentCommandAction",null,{process:function(q,l){l.sendAssignmentCommand(q.command,q.arguments)}})})},
"xl/player/actions/ShowTinCanMessageAction":function(){define("dojo/_base/declare xl/util/logger dojo/_base/Deferred ../dialogs/ReviewDataEdit xl/util/standbyHandler dojo/dom-style".split(" "),function(s,q,l,h,n,f){return s("xl.player.actions.ShowTinCanMessageAction",null,{process:function(m){m=m.multiPartQuestionAnswered;var c=new h;c.startup();c.set("value",{reviewData:m});c.set("title","Multi_Part_Question_User_Answered");f.set(c.cancelButton.domNode,"display","none");var e=n.startModal();c.on("hide",
function(){c.destroyRecursive(!1);n.endModal(e)});c.show();return!0}})})},"xl/player/actions/RenderInitialValuesAction":function(){define(["dojo/_base/declare","dijit/form/Select","dojo/dom-construct","dojo/_base/lang","dojo/dom-style"],function(s,q,l,h,n){return s("xl.player.actions.RenderInitialValuesAction",[],{process:function(f,h){this._viewer=h;var c=h.getMenuHolder();this._viewer.initialValHolder=this._buildDropdowns(c,f.count,f.visible,f.initialValueIndex,f.selectedInitialValueIndex);this._viewer.initialValHolder&&
l.place(this._viewer.initialValHolder,c)},_viewer:null,_buildDropdowns:function(f,m,c,e,b){if(!c)return null;f=l.create("span",{"class":"initialValues"});c=[{label:"Random Values",value:"0"},{label:"Default Initial Values",value:"1"},{label:"Random Initial Values",value:"2"},{label:"Custom Initial Values",value:"3"}];e&&0<=e&&(c[e].selected=!0);this._viewer.initialValSelect=new q({name:"initialValues",options:c});l.place(this._viewer.initialValSelect.domNode,f);c=[];for(e=0;e<m;e++)c.push({label:"IV:"+
(e+1),value:e.toString()});b&&0<=b?c[b].selected=!0:c[0].selected=!0;this._viewer.selectedInitialValSelect=new q({name:"initialValues",options:c});l.place(this._viewer.selectedInitialValSelect.domNode,f);n.set(this._viewer.selectedInitialValSelect.domNode,"visibility","0"==this._viewer.initialValSelect.attr("value")?"hidden":"visible");this._viewer.initialValSelect.on("change",h.hitch(this,this._initialValuesChanged));this._viewer.selectedInitialValSelect.on("change",h.hitch(this,this._selectedInitialValuesChanged));
return f},_initialValuesChanged:function(f){"0"==this._viewer.initialValSelect.attr("value")?n.set(this._viewer.selectedInitialValSelect.domNode,"visibility","hidden"):n.set(this._viewer.selectedInitialValSelect.domNode,"visibility","visible");this._sendCommand()},_selectedInitialValuesChanged:function(f){"3"==this._viewer.initialValSelect.attr("value")?this._sendCommand():this._viewer.initialValSelect.attr("value","3")},_sendCommand:function(){this._viewer&&this._viewer.postCommand("loadinitialvalues",
{initialValue:this._viewer.initialValSelect.attr("value"),selectedInitialValue:this._viewer.selectedInitialValSelect.attr("value")})}})})},"xl/player/actions/HintOpenAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/dom","dijit/registry","./_DisplayAction"],function(s,q,l,h,n){return s("xl.player.actions.HintOpenAction",n,{process:function(f,m){var c=f.target,e=h.byId(c);e?e.panel||(this.appendContent(e.createcContentPane(),f.content,m,f.disableScroll,"hintStep"),e.panel.resize(),
e.hintOpened()):q.log("Display action could not find target \x3d "+c)}})})},"xl/player/actions/HintDialogAction":function(){define(["dojo/_base/declare","xl/util/logger","xl/player/dialogs/HintDialog","dojo/_base/Deferred","dijit/registry"],function(s,q,l,h,n){return s("xl.player.actions.HintDialogAction",null,{process:function(f,m){var c=f.title,e=f.buttons,b=new h;b.resolve();var d=f.scope+"_HintsDialog";if(n.byId(d))return b;var k=new l({title:c,id:d,hints:f.hints,commandButtons:e,style:"width:600px",
"class":f["class"]||"xlConfirmationDialog",parentDomElement:m.domNode});k.on("hide",function(b){delete m.otherInputParents[d];m.postCommand("hintsclose",{scope:f.scope});k.destroy();Object.keys(m.otherInputParents).length||(m.disableCheckAnswerButton=!1,m.updateControlPanelButtonDisplay())});k.show();m.otherInputParents[d]=k.domNode;m.disableCheckAnswerButton=!0;m.updateControlPanelButtonDisplay();return b}})})},"xl/player/dialogs/HintDialog":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/_base/array xl/player/dialogs/ConfirmationDialog xl/player/controls/Hint dojo/_base/Deferred xl/util/localization!html5player/popup xl/util/stringUtils xl/player/controls/InlineMathPalette dojo/text!./templates/HintDialog.html".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){var t=s("xl.player.dialogs.HintDialog",[c],{hints:null,_hintWidgets:null,contentString:"",isModal:!1,templateString:a,isHintDialog:!0,postCreate:function(){this.inherited(arguments)},show:function(){this.inherited(arguments)},hide:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this._hintWidgets=[];if(this.hints){var a=this;m.forEach(this.hints,function(b){b=new e(b);b.dialog=a;b.startup();n.place(b.domNode,a.containerNode);
a._hintWidgets.push(b)})}this.setInlineMathPalette()},destroy:function(){m.forEach(this._hintWidgets,function(a){a.destroyRecursive()});this.inherited(arguments)},setInlineMathPalette:function(){this.palettePanelhint&&f.remove(this.palettePanelhint.domNode,"hidden");this.mathPalettehint&&(this.mathPalettehint.owner=this);this.mathPalettehint&&!this.mathPalettehint.isInline&&(this.mathPalettehint.set("state","minimized"),this.mathPalettehint.set("docked",!0),this.mathPalettehint._setTargetWidget(null));
var a=this._hintWidgets[0].getViewer();a&&(a.mathPalette&&this.mathPalettehint)&&(this.mathPalettehint.showPalette=a.mathPalette.showPalette,this.mathPalettehint.setSiSemicolonDelimiter(a.mathPalette._siSemicolonDelimiter),this.mathPalettehint.setToolButtons(a.mathPalette._toolButtonList),this.mathPalettehint.setMoreToolButtons(a.mathPalette._moreButtonList))}});t.DEFAULT_WIDTH="600px";t.displayHtml=function(a,c,d,e,k,f){var h=new t({title:c,htmlContent:a,commandButtons:d,style:"width:"+(e||t.DEFAULT_WIDTH),
"class":f||""});k&&h.countDown.setCountdown(k);var r=new b;h.on("hide",function(a){r.resolve(h.executeCommand);h.destroy()});h.show();return r};t.displayText=function(a,b,c,d,e){return t.displayHtml(k.textToHtml(a),b,c,d,e)};return t})},"xl/player/controls/Hint":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/html dijit/layout/ContentPane xl/player/controls/_NeedsPlayerViewer xl/util/localization!html5player/popup xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.controls.Hint",[q,d],{baseClass:"hint",opened:!1,tagline:null,title:null,content:null,scope:null,panel:null,_link:null,_stepControlPanel:null,hidden:null,nestedClass:"nestedHints",postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"input_changed",h.hitch(this,this._inputChanged)),l(this.domNode,"input_entered",h.hitch(this,this._inputEntered)))},startup:function(){this.inherited(arguments);f.empty(this.domNode);this.createLink();
if(this.content){var a=this.getViewer();a&&a.playActions([{action:"hintopen",content:this.content,target:this.get("id")}])}},createLink:function(){this._link&&f.destroy(this._link);var a=f.create("div",{"class":"hintTitle"},this.domNode,"first"),a=this._link=f.create("a",{title:this.title,alt:this.title,href:"javascript:void(0);"},a,"first"),b=f.create("span",{"class":"title"},a);f.create("span",{"class":"partName",innerHTML:this.title},b);b=f.create("span",{"class":"tagline"},b);e.set(b,this.tagline,
{parseContent:!0});b={"class":"openText",innerHTML:k["hint.click_to_open"]};this.opened?this.hidden?this.prepareLink(a,b,this.showContent):this.prepareLink(a,null,this.hideContent):this.prepareLink(a,b,this.fetchContent)},prepareLink:function(a,b,c){b&&f.create("span",b,a);this.own(l(a,"click",h.hitch(this,c)))},createcContentPane:function(){var a=this.contentPane=new b({region:"full","class":"framePanel full"});c.set(a.domNode,{role:"region",tabindex:0,"aria-label":r["hint.region"]});f.place(a.domNode,
this.domNode);return this.panel=a},destroy:function(){this.panel&&this.panel.destroyRecursive();this.hints&&n.forEach(this.hints,function(a){a.destroyRecursive()});this.inherited(arguments)},hintOpened:function(){this.opened=!0;this.createLink();this.dialog&&this.dialog.resize()},fetchContent:function(){var a=this.getViewer();a&&this.scope&&a.postCommand("hintopen",{scope:this.scope});return!1},_inputChanged:function(a){a.preventDefault();a.stopPropagation();this._stepControlPanel&&(a=this.getViewer())&&
this._stepControlPanel.update(a,this.nestedClass)},setStepControlPanel:function(a){this._stepControlPanel=a},_inputEntered:function(a){a.preventDefault();a.stopPropagation();if(this._stepControlPanel){var b=this.getViewer();a=a.sourceObject;b&&a&&this._stepControlPanel.clickCheckAnswerButton(b,a)}},hideContent:function(){this.hidden=!0;m.add(this.contentPane.domNode,"hidden");this.hints&&n.forEach(this.hints,function(a){a.hideHint()});this.createLink()},showContent:function(){this.hidden=!1;m.remove(this.contentPane.domNode,
"hidden");this.hints&&n.forEach(this.hints,function(a){a.showHint()});this.createLink()},hideHint:function(){this.hints&&n.forEach(this.hints,function(a){a.hideHint()});m.add(this.domNode,"hidden")},showHint:function(){m.remove(this.domNode,"hidden");this.hints&&n.forEach(this.hints,function(a){a.showHint()})}})})},"xl/player/controls/InlineMathPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/has dojo/on dijit/place dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/event dojo/touch dojo/topic dijit/_TemplatedMixin dojo/text!./templates/InlineMathPalette.html xl/dijit-bootstrap/Button dijit/_WidgetsInTemplateMixin xl/util/_ToolPaletteMixin xl/util/eqEditorToolActions xl/util/mobileMethods xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E){return s("xl.player.controls.InlineMathPalette",[q,z,A,x,E],{baseClass:"xlInlineMathPalette",templateString:B,_moreButtonList:null,_toolButtonList:null,hidePaletteOnBlur:!1,buttonCancel:null,isInline:!0,_currentPaletteList:null,constructor:function(){this._toolButtons=[];this._moreButtons=[]},onCancel:function(a){this._hide();this.owner&&this.owner.isHintDialog&&this.owner.resize()},onWidgetBlurred:function(a){a.paletteGainingFocus||(m.forEach(this._toolButtons,
function(a){a.set("disabled",!0)}),m.forEach(this._moreButtons,function(a){a.set("disabled",!0)}))},onWidgetFocused:function(a){m.forEach(this._toolButtons,function(a){a.set("disabled",!1)});m.forEach(this._moreButtons,function(a){a.set("disabled",!1)})},_setTargetWidget:function(a){a&&a!==this.targetWidget&&(a.paletteOverride?this._currentPaletteList!==a.paletteOverride&&(this._destroyToolButtons(),this._createPalette(a.paletteOverride)):this._currentPaletteList!==this._toolButtonList&&(this._destroyToolButtons(),
this._createPalette(this._toolButtonList)));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);C.preventDoubleTabZoom(this.domNode,this);C.preventDoubleTabZoom(this.paletteNode,this);C.preventDoubleTabZoom(this.morePaletteNode,this)},onShow:function(){d.set(this.domNode.parentNode,"visibility","visible");this._resizeViewerContent()},onShowing:function(){},onHide:function(){d.set(this.domNode.parentNode,"visibility","hidden");this._resizeViewerContent()},attach:function(a){this._visible&&
a.scrollIntoView&&a.scrollIntoView()},detach:function(a){},positionPalette:function(){},determineTarget:function(a){return("xl.player.controls.InputField"===a.declaredClass||"xl.player.controls.NumberUnitsEditor"===a.declaredClass)&&!a.readOnly&&!a.get("disabled")?a:null},stopEvent:function(a){if(c("ie")||c("trident"))a.stopImmediatePropagation(),a.preventDefault()},_destroyToolButtons:function(){this._toolButtons&&(m.forEach(this._toolButtons,function(a){a.destroy()}),this._toolButtons=null)},_destroyMoreButtons:function(){this._moreButtons&&
(m.forEach(this._moreButtons,function(a){a.destroy()}),this._moreButtons=null)},_createPalette:function(a){l.empty(this.paletteNode);var b=l.create("div",{"class":"keyRow"},this.paletteNode);a&&(this._toolButtons=[],m.forEach(a,function(a){this._addPaletteButton(a,b)},this),this._addPaletteButton("moretools",b),this._currentPaletteList=a)},_createMorePalette:function(){l.empty(this.morePaletteNode);if(this._moreButtonList){this._moreButtons=[];var a=w.defaultMoreActions.concat(this._moreButtonList),
b=l.create("div",{"class":"keyRow"},this.morePaletteNode);m.forEach(a,function(a){m.forEach(a,function(a){this._addMorePaletteButton(a,b)},this)},this);l.create("div",{"class":"toolGroup"},this.morePaletteNode);this._addMorePaletteButton("lesstools",b)}},_addPaletteButton:function(a,b){var c=this._createCommand(a,b);c&&this._toolButtons.push(c)},_addMorePaletteButton:function(a,b){var c=this._createCommand(a,b);c&&this._moreButtons.push(c)},_createPlaceholder:function(a){var b=new F({baseClass:"btn",
"class":"placeholder toolButton",innerHTML:"\x26nbsp;"});this._moreButtons.push(b);a.appendChild(b.domNode);b.startup()},_createCommand:function(a,b){"pair"==a&&this.siSemicolonDelimiter&&(a="pairalt");var c=w.getButtonInfo()[a];if(void 0==c)return null;var d=c.tip?c.tip:c.text?c.text:"",d=new F({baseClass:"btn","class":"toolButton "+(c.className?c.className:""),title:d,alt:d,innerHTML:c.text?c.text:"\x26nbsp;"});d.domNode.cmd=c.cmd;d.domNode.announceText=c.announceText;b.appendChild(d.domNode);this.own(e(d,
v.press,n.hitch(this,this._toolButtonClicked)));d.startup();return d},setToolButtons:function(a){this._isListSame(a,this._toolButtonList)||(this._toolButtonList=a,this._destroyToolButtons(),this._createPalette(a))},getToolButtons:function(){return this._toolButtonList},_isListSame:function(a,b){return a&&b?a.join(",")==b.join(","):null==a&&null==b},setMoreToolButtons:function(a){this._isListSame(a,this._moreButtonList)||(this._moreButtonList=a,this._destroyMoreButtons(),this._createMorePalette())},
getMoreToolButtons:function(){return this._moreButtonList},_toolToggle:function(){f.toggle(this.paletteNode,"hidden");f.toggle(this.morePaletteNode,"hidden");this.owner&&this.owner.isHintDialog?this._resizeHintDialogContent():this._resizeViewerContent()},_toolButtonClicked:function(a){var b;b=a.target.cmd?a.target.cmd:a.target.parentElement.cmd;var c=a.target.announceText?a.target.announceText:a.target.parentElement.announceText;a.target.blur();a.preventDefault();a.stopPropagation();switch(b){case "moretools":case "lesstools":this._toolToggle();
return}w.action(b,this.targetWidget,c)},_resizeViewerContent:function(){var a=this.getViewer();a&&(a.viewerResizedByXYGraph=!1,a.mainPanel.resize());this.targetWidget&&this.targetWidget.scrollIntoView&&this.targetWidget.scrollIntoView()},_resizeHintDialogContent:function(){if(f.contains(this.paletteNode,"hidden"))d.set(this.domNode,"height","250px");else{var a=k.getMarginBox(this.paletteNode).h+"px";d.set(this.domNode,"height",a)}this.owner.resize()},destroy:function(){this.inherited(arguments)},
_siSemicolonDelimiter:!1,setSiSemicolonDelimiter:function(a){a!=this._siSemicolonDelimiter&&(this._siSemicolonDelimiter=a,this._destroyToolButtons(),this._destroyMoreButtons())}})})},"xl/util/_ToolPaletteMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/focus dijit/Destroyable dijit/place dijit/registry dojo/dom-geometry dojo/has dojo/dom dojo/window dojo/dom-style dojo/json".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.util._ToolPaletteMixin",[n],{targetWidget:null,
_focusWatch:null,dockPositions:null,docked:!0,dockPadding:null,owner:null,_positioned:!1,showPalette:!0,hidePaletteOnBlur:!0,constructor:function(a,b){this.dockPositions=this.dockPositions||["below","above","after","before"];this.dockPadding=this.dockPadding||{left:2,top:2,right:2,bottom:2};a&&a.owner&&(this.owner=a.owner)},postCreate:function(){this.inherited(arguments);this.own(h.on("widget-focus",q.hitch(this,this._widgetFocused)));this._focusWatch=h.watch("activeStack",q.hitch(this,this._checkFocus))},
destroy:function(a){this._hide();this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode);this.inherited(arguments);this._focusWatch&&this._focusWatch.unwatch();this.targetWidget&&this.detach(this.targetWidget);this.targetWidget=null},attach:function(a){},detach:function(a){},onShow:function(){},onShowing:function(){},onHide:function(){},determineTarget:function(a){return null},_show:function(){if(!this._visible){this._visible=!0;if(null==this.domNode.parentNode){var a=
this.parentNode();a&&a.appendChild(this.domNode)}this.isInline&&(this.domNode&&this.domNode.parentNode)&&[].map.call(this.domNode.parentNode.children,function(a){return a}).map(q.hitch(this,function(a){a!==this.domNode&&(a=m.byNode(a),a._hide&&a._hide())}));l.remove(this.domNode,"hidden");this.startup();this.onShowing();this.positionPalette();this.onShow()}},_hide:function(){!1!==this._visible&&(this._visible=!1,l.add(this.domNode,"hidden"),this.onHide())},_setTargetWidget:function(a){a!=this.targetWidget&&
(this.targetWidget&&this.detach(this.targetWidget),this.set("targetWidget",a),this.targetWidget?(this.attach(this.targetWidget),this._show()):this.hidePaletteOnBlur&&this._hide())},blurTarget:function(){var a=this.targetWidget;a&&a.focusNode&&a.focusNode.blur&&a.focusNode.blur()},focusTarget:function(){var a=this.targetWidget;if(a){if(a.focusNode&&a.focusNode.blur)try{a.focusNode.blur()}catch(b){}if(!a.disabled&&a.focusNode&&a.focusNode.focus)try{a.focusNode.focus()}catch(c){}}},anchorNode:function(){return this.targetWidget.domNode},
parentNode:function(){return null},positionPalette:function(){if(this.targetWidget&&(this.docked||!this._positioned)){this._positioned=!0;var a=this.anchorNode();a&&(a=c.position(a,!0),this.dockPadding&&(a.x-=this.dockPadding.left,a.y-=this.dockPadding.top,a.w+=this.dockPadding.right,a.h+=this.dockPadding.bottom),this.dockOffset&&(a.x+=this.dockOffset.x,a.y+=this.dockOffset.y),f.around(this.domNode,a,this.dockPositions,!0))}},_isOwnFocus:function(a){return 0<=a.indexOf(this.id)},_checkFocus:function(a,
b,c){a=!1;this.targetWidget&&(a=0<=b.indexOf(this.targetWidget.id)&&0>c.indexOf(this.targetWidget.id));b=this._isOwnFocus(b);c=this._isOwnFocus(c);if(a||b)c?this.defer(this.focusTarget,50):this._setTargetWidget(null),this.onWidgetBlurred({paletteGainingFocus:c})},onWidgetBlurred:function(a){},onWidgetFocused:function(){},_widgetFocused:function(a){if(this.showPalette&&(a=this.determineTarget(a))&&this.isOwner(a))this._setTargetWidget(a),this.onWidgetFocused()},isOwner:function(a){return null==this.owner?
!0:b.isDescendant(a.domNode,this.owner.domNode)},_setDockedAttr:function(a){this._set("docked",a)},constrainPosition:function(){var a=c.position(this.domNode),b=d.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);k.set(this.domNode,{left:Math.floor(b.l+a.x)+"px",top:Math.floor(b.t+a.y)+"px"})}})})},"xl/util/eqEditorToolActions":function(){define("dojo/_base/declare dojo/topic dojo/has xl/util/localization!html5player/math xl/util/localization!html5player/player xl/eqeditor/AssessmentsComponents xl/util/eqEditorClipboard".split(" "),
function(s,q,l,h,n,f,m){var c=f.EquationClasses.EqCaretEventDirection,e={createButtonInfo:function(){return{undo:{className:"iconUndo",cmd:"undo",tip:n["palette.undo"]},redo:{className:"iconRedo",cmd:"redo",tip:n["palette.redo"]},uparrowdir:{className:"iconUpArrowDir",cmd:"uparrowdir",tip:n["grpal.up"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-up"\x3e\x3c/span\x3e'},downarrowdir:{className:"iconDownArrowDir",cmd:"downarrowdir",tip:n["grpal.down"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-down"\x3e\x3c/span\x3e'},
leftarrowdir:{className:"iconLeftArrowDir",cmd:"leftarrowdir",tip:n["grpal.left"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-left"\x3e\x3c/span\x3e'},rightarrowdir:{className:"iconRightArrowDir",cmd:"rightarrowdir",tip:n["grpal.right"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-right"\x3e\x3c/span\x3e'},over:{className:"iconDiv",cmd:"@DIV{;}",tip:h.fraction,announceText:"Fraction"},sqrt:{className:"iconSqrt",cmd:"@RT{}",tip:h.sqrt,announceText:"Square Root"},nroot:{className:"iconNRoot",
cmd:"@RT{;@CURSOR{}}",tip:h.nrt,announceText:"Nth Root"},mnum:{className:"iconMnum",cmd:"@DUMMY{}@DIV{}",tip:h.mnum},abs:{className:"iconAbs",cmd:"@ABS{@CURSOR{}}",tip:h.abs,announceText:"Absolute Value"},pi:{className:"iconPI",cmd:"\x26pi;",tip:h.pi},alpha:{className:"iconAlpha",cmd:"\x26alpha;",tip:h.alpha},and:{className:"iconAnd",cmd:"\x26and;",tip:h.and},angle:{className:"iconAngle",cmd:"\x26angle;",tip:h.cis},beta:{className:"iconBeta",cmd:"\x26beta;",tip:h.beta},delta:{className:"iconDelta",
cmd:"\x26delta;",tip:h.delta},tau:{className:"iconTau",cmd:"\x26tau;",tip:h.tau},intersect:{className:"iconCap",cmd:"\x26cap;",tip:h["int"]},cdelta:{className:"iconCDelta",cmd:"\x26cdelta;",tip:h.cdelta},union:{className:"iconCup",cmd:"\x26cup;",tip:h.union},divide:{className:"iconDivideSymbol",cmd:"\x26div;",tip:h.divsym},exp:{className:"iconE",cmd:"e",tip:h.e},emptyset:{className:"iconEmpty",cmd:"\x26empty;",tip:h.empty},gamma:{className:"iconGamma",cmd:"\x26gamma;",tip:h.gamma},ge:{className:"iconGE",
cmd:"\x26ge;",tip:h.ge},gt:{className:"iconGT",cmd:"\x26gt;",tip:h.gt},imag:{className:"iconI",cmd:"i",tip:h.i},element:{className:"iconIn",cmd:"\x26in;",tip:h.belongs},inf:{className:"iconInf",cmd:"\x26inf;",tip:h.inf},le:{className:"iconLE",cmd:"\x26le;",tip:h.le},lognot:{className:"iconLogNot",cmd:"\x26lognot;",tip:h.not},lt:{className:"iconLT",cmd:"\x26lt;",tip:h.lt},minus:{className:"iconMinus",cmd:"-",tip:h.minus},mu:{className:"iconMu",cmd:"\x26mu;",tip:h.mu},ne:{className:"iconNE",cmd:"\x26ne;",
tip:h.ne},notelement:{className:"iconNotIn",cmd:"\x26notin;",tip:h.notbelong},notpropsubset:{className:"iconNotPropSubset",cmd:"\x26notpropsubset;",tip:h.notpropersub},notsubset:{className:"iconNotSubset",cmd:"\x26notsubset;",tip:h.notsubset},or:{className:"iconOr",cmd:"\x26or;",tip:h.or},pairalt:{className:"iconOrderedPairAlt",cmd:"(@DUMMY{@CURSOR{}}\\;@DUMMY{})",tip:h.opair},pair:{className:"iconOrderedPair",cmd:"(@DUMMY{@CURSOR{}},@DUMMY{})",tip:h.opair,announceText:"Ordered Pair"},matx:{className:"iconMatrix",
cmd:"matx",tip:h.matx},detx:{className:"iconDeterminant",cmd:"detx",tip:h.detx},pipe:{className:"iconPipe",cmd:"|",tip:h.pipe},plus:{className:"iconPlus",cmd:"+",tip:h.plus},plusminus:{className:"iconPlusMinus",cmd:"\x26plusminus;",tip:h.plusminus_sc},propsubset:{className:"iconPropSubset",cmd:"\x26propsubset;",tip:h.propersub},sigma:{className:"iconSigma",cmd:"\x26sigma;",tip:h.sigma},asterisk:{className:"iconDot",cmd:"*",tip:h.multdot},sub:{className:"iconSub",cmd:"@Sub{}",tip:h.sub},subset:{className:"iconSubset",
cmd:"\x26subset;",tip:h.subset},"super":{className:"iconSup",cmd:"@Sup{}",tip:h["super"]},smscriptl:{className:"iconSmScriptL",cmd:"l",tip:h.smscriptl},theta:{className:"iconTheta",cmd:"\x26theta;",tip:h.theta},not:{className:"iconTilda",cmd:"~",tip:h.tilde},cross:{className:"iconCross",cmd:"\x26times;",tip:h.times},equal:{className:"iconEqual",cmd:"\x3d",tip:h.eq},lambda:{className:"iconLambda",cmd:"\x26lambda;",tip:h.lambda},chi:{className:"iconChi",cmd:"\x26chi;",tip:h.chi},rho:{className:"iconRho",
cmd:"\x26rho;",tip:h.rho},phiv:{className:"iconPhiv",cmd:"\x26phiv;",tip:h.phiv},grad:{className:"iconGrad",cmd:"\x26grad;",tip:h.grad},integral:{className:"iconIntegral",cmd:"\x26integral;",tip:h.integral},dintegral:{className:"iconDIntegral",cmd:"@INTEGRAL{;}",tip:h.dintegral},hat:{className:"iconHat",cmd:"@HAT{}",tip:h.hat},overbar:{className:"iconOverbar",cmd:"@OVERBAR{}",tip:h.overbar},overdbar:{className:"iconOverdbar",cmd:"@OVDBBAR{}",tip:h.dbloverbar},sum:{className:"iconSum",cmd:"@SUM{ ; }",
tip:h.sum},dsum:{className:"iconDSum",cmd:"@SUM{;}",tip:h.dsum},supsub:{className:"iconSupsub",cmd:"@SupSub{;;}",tip:h.supsub},subsub:{className:"iconSubsub",cmd:"@Sub{}@DUMMY{}@SUB{}",tip:h.subsub},mellip:{className:"iconEllipsis",cmd:"\x26mellip;",tip:h.mellip},semicolon:{className:"iconSemicolon",cmd:"\\;",tip:h.semicolon},colon:{className:"iconColon",cmd:":",tip:h.colon},leftbracket:{className:"iconLeftBracket",cmd:"[",tip:h.leftsquarebracket},rightbracket:{className:"iconRightBracket",cmd:"]",
tip:h.rightsquarebracket},epsi:{className:"iconEpsi",cmd:"\x26epsi;",tip:h.epsilon},eta:{className:"iconEta",cmd:"\x26eta;",tip:h.eta},psi:{className:"iconPsi",cmd:"\x26psi;",tip:h.psi},omega:{className:"iconOmega",cmd:"\x26omega;",tip:h.omega},phi:{className:"iconPhi",cmd:"\x26phi;",tip:h.phi},partiald:{className:"iconPartialD",cmd:"\x26partiald;",tip:h.partiald},prime:{className:"iconPrimeImg1",cmd:"\x26prime;",tip:h.prime},prime2:{className:"iconPrimeImg2",cmd:"\x26prime2;",tip:h.prime2},prime3:{className:"iconPrimeImg3",
cmd:"\x26prime3;",tip:h.prime3},ndash:{className:"iconMinus",cmd:"\x26ndash;",tip:h.ndash},mdash:{className:"iconMDash",cmd:"\x26mdash;",tip:h.mdash},leftarrow:{className:"iconLeftArrow",cmd:"\x26leftarrow;",tip:h.arrowleft,text:"\x26#x2190;"},rightarrow:{className:"iconRightArrow",cmd:"\x26rightarrow;",tip:h.arrowright,text:"\x26#x2192;"},leftrightarrow:{className:"iconLeftRightArrow",cmd:"\x26leftrightarrow;",tip:h.arrowleftright,text:"\x26#x2194;"},moretools:{className:"iconMoreTools",cmd:"moretools",
tip:n["palette.more"],text:n["palette.more"]},lesstools:{className:"iconLessTools",cmd:"lesstools",tip:n["palette.Less"],text:n["palette.Less"]},abctools:{className:"iconAbcTools",cmd:"lesstools",tip:n["palette.Less"],text:""},magnifyglass:{className:"iconMagnifyingGlass",cmd:"magnifyglass",tip:n["osk.zoomeditor"],text:" "},vcut:{className:"iconCutDir",cmd:"vcut",tip:n["palette.cut"],text:'\x3cspan class\x3d"glyphicon glyphicon-scissors"\x3e\x3c/span\x3e'},vcopy:{className:"iconCopyDir",cmd:"vcopy",
tip:n["palette.copy"],text:'\x3cspan class\x3d"glyphicon glyphicon-duplicate"\x3e\x3c/span\x3e'},vpaste:{className:"iconPasteDir",cmd:"vpaste",tip:n["palette.paste"],text:'\x3cspan class\x3d"glyphicon glyphicon-paste"\x3e\x3c/span\x3e'},osksettings:{className:"iconOskSettings",cmd:"osksettings",tip:"",text:" "},"delete":{className:"iconDelete",cmd:"delete",tip:n["osk.deletekey"],text:'\x3cspan class\x3d"glyphicon glyphicon-circle-arrow-left"\x3e\x3c/span\x3e'},stack:{className:"iconStack",cmd:"@SUPSUBSTACK{;}",
tip:h.stack},supsubstack:{className:"iconStack",cmd:"@SUPSUBSTACK{;}",tip:h.stack},nu:{className:"iconNu",cmd:"\x26nu;",tip:h.nu,text:"\x26#x3bd"},dbharpoon:{className:"iconDbharpoon",cmd:"\x26dbharpoon;",tip:h.dbharpoon,text:"\x26#x21cc;"},sci:{className:"iconSci",cmd:"*10@SUP{@CURSOR{}}",tip:h.sci},pc:{className:"iconPct",cmd:"%",tip:h.pc},deg:{className:"iconDeg",cmd:"\x26deg;",tip:h.deg},angstrom:{className:"iconAng",cmd:"\x26angstrom;",tip:h.angstrom},vector:{className:"iconVector",cmd:"@rayr{@CURSOR{}}",
tip:h.vector},unitvector:{className:"iconUnitVector",cmd:"@hat{@CURSOR{}}",tip:h.unitvector},kappa:{className:"iconKappa",cmd:"\x26kappa;",tip:h.kappa},csigma:{className:"iconCapSigma",cmd:"\x26csigma;",tip:h.csigma},cphi:{className:"iconCphi",cmd:"\x26cphi;",tip:h.cphi},cpsi:{className:"iconCpsi",cmd:"\x26cpsi;",tip:h.cpsi},comega:{className:"iconComega",cmd:"\x26comega;",tip:h.comega},hbar:{className:"iconHbar",cmd:"\x26hbar;",tip:h.hbar},emf:{className:"iconEmf",cmd:"\x26cale;",tip:h.emf}}},action:function(b,
e,f){switch(b){case "undo":e.undo();break;case "redo":e.redo();break;case "uparrowdir":e.moveCaret(c.UP);break;case "downarrowdir":e.moveCaret(c.DOWN);break;case "leftarrowdir":e.moveCaret(c.LEFT);break;case "rightarrowdir":e.moveCaret(c.RIGHT);break;case "matx":e.showMatrixSizePopup(!1,"@MATX{{;};{;}}",!1);break;case "detx":e.showMatrixSizePopup(!1,"@DETX{{;};{;}}",!0);break;case "vcut":m.cut(e);return;case "vpaste":m.paste(e);return;case "vcopy":m.copy(e);return;case "delete":e.deleteChar(!0);return;
default:e.insertEqText(b,{announce:!0,announceText:f})}l("ios")?setTimeout(function(){e&&e.setFocused(!0)},250):e.setFocused(!0)},defaultActions:"undo redo uparrowdir downarrowdir leftarrowdir rightarrowdir".split(" "),defaultMoreActions:["undo redo uparrowdir downarrowdir leftarrowdir rightarrowdir".split(" "),[]]},b=null;e.getButtonInfo=function(){return b||(b=e.createButtonInfo())};q.subscribe("localizationChanged",function(c){if("html5player/player"==c||"html5player/math"==c)b=null});return e})},
"xl/util/eqEditorClipboard":function(){define(["dojo/_base/declare","xl/util/localStore"],function(s,q){return new (s("xl.util.eqEditorClipboard",null,{_text:null,cut:function(l){this.copy(l)&&l.inputCharacter("delete")},paste:function(l){this._text&&(l.extractSelectionEqText(!0),l.insertEqText(this._text))},copy:function(l){return(l=l.extractSelectionEqText(!0))?(this._text=l,!0):!1}}))})},"xl/player/actions/StepControlPanelAction":function(){define("dojo/_base/declare xl/util/logger dojo/dom dijit/registry dojo/dom-construct dojo/html dojo/_base/array dojo/dom-class xl/player/controls/StepControlPanel".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.player.actions.StepControlPanelAction",null,{process:function(b,d){var k=h.byId(b.target);if(k){k.contentPane&&(k=k.contentPane);var f=b.id,a=h.byId(f);a?a.buttons&&a.clear():(a=new e({id:f,scope:b.scope,viewer:d}),f=k.containerNode.lastChild,c.contains(f,"step")||(f=k.containerNode.lastChild.lastChild),n.place(a.domNode,f),a.startup());var t=null;!b.buttons||0===b.buttons.length?a.hide():(m.forEach(b.buttons,function(b,c){var d=a.addButton(b);b.forceFocus&&
(t=function(){d.focus()})}),a.show(),a.update(d),(k=h.byId(b.target))&&k.setStepControlPanel&&k.setStepControlPanel(a),t&&setTimeout(t,150))}}})})},"xl/player/controls/StepControlPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-attr dijit/layout/ContentPane xl/player/controls/StepAction dijit/focus".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.player.controls.StepControlPanel",[q],{baseClass:"stepControlPanel controlPanel hide",
buttons:null,scopeId:null,_checkAnswerButton:null,viewer:null,constructor:function(b){this.buttons=[];b&&b.scope&&(this.scopeId=b.scope);b&&b.viewer&&(this.viewer=b.viewer)},addButton:function(c){var d=new b(c);f.place(d.domNode,this.domNode);d.startup();this.buttons.push(d);"checkanswer"===c.command&&(this._checkAnswerButton=d.actionButton);return d},clear:function(){n.forEach(this.buttons,function(b,c){b.destroyRecursive()});this.buttons=[]},show:function(){m.remove(this.domNode,"hide")},hide:function(){m.add(this.domNode,
"hide")},destroy:function(){this.clear();this.inherited(arguments)},update:function(b,d){if(this._checkAnswerButton){var a=!b.allInputFilledInScope(this.scopeId,d);this._checkAnswerButton&&c.set(this._checkAnswerButton,"disabled",a)}},clickCheckAnswerButton:function(b,c){b.isRegisteredInput(c,this.scopeId)&&!b.focusToNextInput(c,this.scopeId)&&(b.blurFromInput(c),this._checkAnswerButton&&this._checkAnswerButton.click())}})})},"xl/player/controls/StepAction":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/json xl/player/controls/_NeedsPlayerViewer xl/util/stringUtils".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.player.controls.StepAction",[q,c],{baseClass:"stepAction",label:null,commandArguments:null,command:null,style:null,actionButton:null,startup:function(){this.inherited(arguments);var b=n.create("button",{"class":"btn "+(this.style?this.style:""),"aria-label":this.label,title:this.label,alt:this.label,innerHTML:this.label,href:"javascript:void(0);"},this.domNode,"only");this.own(l(b,"click",h.hitch(this,this.click)));this.actionButton=b},click:function(b){var c=
this.getViewer(),e=this.commandArguments?m.parse(this.commandArguments,!0):null;c&&this.command&&c.postCommand(this.command,e);b.preventDefault();b.stopPropagation();return!1}})})},"xl/player/actions/HintNestedAction":function(){define("dojo/_base/declare dojo/_base/array dojo/dom-construct dijit/registry dojo/_base/Deferred dojo/dom-attr xl/player/controls/Hint".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.actions.HintNestedAction",null,{process:function(c,e){var b=h.byId(c.scope);if(c.hints&&
!b.hints){var d=l.create("div",null,b.domNode);b.hints=[];q.forEach(c.hints,function(c){c=new m(c);c.startup();f.set(d,"class",c.nestedClass);l.place(c.domNode,d);b.hints.push(c)})}var k=new n;k.resolve();return k}})})},"xl/player/actions/ShowWorkImageSavedAction":function(){define(["dojo/_base/declare","dijit/registry","dojo/json"],function(s,q,l){return s("xl.player.actions.ShowWorkImageSavedAction",[],{process:function(h){var n=q.byId("ShowWork");n&&(h={"@type":"ImagedSaved",src:h.src,name:h.name,
contentType:h.contentType},n.popoutWindow&&!n.popoutWindow.closed?n.popoutWindow.postMessage(l.stringify(h),"*"):n.frame.postMessage(h))}})})},"xl/player/actions/ProblemStatementAction":function(){define(["dojo/_base/declare","./DisplayAction"],function(s,q){return s("xl.player.actions.ProblemStatementAction",q,{process:function(){this.inherited(arguments)}})})},"xl/player/actions/CheckAnswerAction":function(){define(["dojo/_base/declare","xl/util/logger","dojo/_base/Deferred"],function(s,q,l){return s("xl.player.actions.CheckAnswerAction",
null,{process:function(h,n){var f=new l;n.postCommand(h.action);f.resolve(h.action);return f}})})},"xl/player/actions/InactivityTimeoutDialogAction":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/kernel dojo/dom-attr xl/player/dialogs/CountdownDialog xl/util/localization!html5player/popup".split(" "),function(s,q,l,h,n,f){return s("xl.player.actions.InactivityTimeoutDialogAction",[],{process:function(h,c){if(h.timedOut)return setTimeout(function(){c.inactivityTimeout()},2E3),null;
var e=n.displayText(f.inactivityTimeout,f.warning,[{label:f.inactivityTimeoutButton,command:"YES"}],null,c.inactivityTimeoutCountdown);e.then(function(b){b&&"YES"===b.command?c.resetIdleCheck():c.inactivityTimeout()});return e}})})},"xl/player/dialogs/CountdownDialog":function(){define("dojo/_base/declare xl/player/dialogs/ConfirmationDialog dojo/_base/Deferred xl/player/controls/Countdown xl/util/stringUtils dojo/text!./templates/CountdownDialog.html dojo/dom-attr xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c){var e=s("xl.player.dialogs.CountdownDialog",[q],{templateString:f,postCreate:function(){this.inherited(arguments);this.minimizeButtonNode&&m.set(this.minimizeButtonNode,"aria-label",c.minimize)},show:function(){this.inherited(arguments);this.countDown.start()},timerDone:function(b){this.hide()},hide:function(){this.countDown.stop();this.inherited(arguments)}});e.DEFAULT_WIDTH="400px";e.displayHtml=function(b,c,k,f,a,h){var m=new e({title:c,htmlContent:b,commandButtons:k,
style:"width:"+(f||e.DEFAULT_WIDTH),"class":h||""});a&&m.countDown.setCountdown(a);var n=new l;m.on("hide",function(a){n.resolve(m.executeCommand);m.destroy()});m.show();return n};e.displayText=function(b,c,k,f,a){return e.displayHtml(n.textToHtml(b),c,k,f,a)};return e})},"xl/player/controls/Countdown":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojox/timing/_base dijit/_TemplatedMixin dojo/text!./templates/Countdown.html".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.controls.Countdown",
[q,f],{baseClass:"countdown",templateString:m,startTime:5,_start:null,_timer:null,constructor:function(){},postCreate:function(){this.inherited(arguments);this._timer=new n.Timer(1E3);this._timer.onTick=h.hitch(this,this.tick)},startup:function(){this.inherited(arguments)},start:function(){var c=new Date;c.setMinutes(c.getMinutes()+this.startTime);this._start=c;this.displayTime();this._timer.start()},stop:function(){this._timer.stop()},reset:function(){this._timer.stop();this.start()},tick:function(){this.displayTime()},
displayTime:function(){var c=Math.floor((this._start-new Date)/1E3);if(0>c)this._timer.stop(),this.emit("zeroreached",{});else{var e=Math.floor(c/60),c=this.addDigit(c%60);this.minutesNode.innerHTML=e;this.secondsNode.innerHTML=c}},setCountdown:function(c){this.startTime=c},addDigit:function(c){return 10>c?"0"+c:""+c}})})},"dojox/timing/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(s){s.experimental("dojox.timing");s.getObject("timing",!0,dojox);dojox.timing.Timer=function(q){this.timer=
null;this.isRunning=!1;this.interval=q;this.onStop=this.onStart=null};s.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(q){this.isRunning&&window.clearInterval(this.timer);this.interval=q;this.isRunning&&(this.timer=window.setInterval(s.hitch(this,"onTick"),this.interval))},start:function(){if("function"==typeof this.onStart)this.onStart();this.isRunning=!0;this.timer=window.setInterval(s.hitch(this,"onTick"),this.interval)},stop:function(){if("function"==typeof this.onStop)this.onStop();
this.isRunning=!1;window.clearInterval(this.timer)}});return dojox.timing})},"xl/player/actions/SaveResultCancelledAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.SaveResultCancelledAction",null,{process:function(q,l){l.emit("saveresultcancelled",{msg:{"@type":"SaveResultResponse",response:"Cancel",messageId:q.msgId,result:null}})}})})},"xl/assignment/actions/CloseAssignmentAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.assignment.actions.CloseAssignmentAction",
null,{process:function(q,l){console.log("doing assignment CloseAssignmentAction");l.closeAssignment(q.arguments)}})})},"xl/player/actions/ShowProblemStateAction":function(){define("dojo/_base/declare xl/util/logger dojo/_base/Deferred ../dialogs/ReviewDataEdit xl/util/standbyHandler xl/util/localization!html5player/player dojo/dom-attr".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.actions.ShowProblemStateAction",null,{process:function(c,e){var b=f["contextmenu.problem_state"],d=c.data,k=
new h;k.startup();k.set("value",{reviewData:d});k.set("title",b);m.set(k.cancelButton,"label",f["ga.prompt.cancel"]);m.set(k.OkButton,"label",f.ok);var r=null,a=n.startModal();k.execute=function(a){r=a.reviewData};k.on("hide",function(b){k.destroyRecursive(!1);r&&e.postCommand("loadproblemstate",{data:r});n.endModal(a)});k.show();return!0}})})},"xl/player/actions/DisplayExternalAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.DisplayExternalAction",null,{process:function(q,
l){l.contentPanel.hide();l.externalPlayer.display(q.external)}})})},"xl/player/actions/CloseExternalAction":function(){define(["dojo/_base/declare"],function(s){return s("xl.player.actions.CloseExternalAction",null,{process:function(q,l){l.externalPlayer.close(q.external);l.contentPanel.show()}})})},"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(s,q,
l,h,n,f,m,c){return q("dijit.ProgressBar",[f,m],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:c,_indeterminateHighContrastImagePath:s.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());
this.update()},_setDirAttr:function(c){l.toggle(this.domNode,"dijitProgressBarRtl","rtl"==c);this.inherited(arguments)},update:function(c){h.mixin(this,c||{});c=this.internalProgress;var b=this.domNode,d=1;this.indeterminate?b.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(d=Math.min(parseFloat(this.progress)/100,1),this.progress=d*this.maximum):(this.progress=Math.min(this.progress,this.maximum),d=this.maximum?this.progress/this.maximum:0),b.setAttribute("aria-valuenow",
this.progress));b.setAttribute("aria-labelledby",this.labelNode.id);b.setAttribute("aria-valuemin",0);b.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(d);l.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);c.style.width=100*d+"%";this.onChange()},_setValueAttr:function(c){this._set("value",c);Infinity==c?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:c})},_setLabelAttr:function(c){this._set("label",c);this.update()},_setIndeterminateAttr:function(c){this._set("indeterminate",
c);this.update()},report:function(c){return this.label?this.label:this.indeterminate?"\x26#160;":n.format(c,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"xl/player/PlayerControlPanel":function(){define("dojo/_base/declare dojo/dom-attr dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PlayerControlPanel.html xl/player/_PlayerControlPanelBase xl/util/localization!html5player/player".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.PlayerControlPanel",
[f,l,h],{templateString:n,widgetsInTemplate:!0,constructor:function(c){this.inherited(arguments)},postCreate:function(){q.set(this.btnNext.domNode,{title:m["button.next_question"]});q.set(this.btnPrev.domNode,{title:m["button.previous_question"]});this.inherited(arguments)}})})},"xl/player/_PlayerControlPanelBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/_base/array dojo/has dojo/dom-attr dojo/dom-style xl/dijit-bootstrap/bootstrapUtils dijit/_WidgetBase xl/dijit-bootstrap/Button xl/dijit/StatusProgressBar xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return q("xl.player._PlayerControlPanelBase",[b],{_checkAnswerButton:null,_clearAllButton:null,_saveForLaterButton:null,_gaScoreQuestionButton:null,_progressBar:null,_buttons:null,_eventsHookedUp:!1,isAdaptive:!1,isGrammarApply:!1,showWorkButton:null,constructor:function(){this._buttons=[]},postCreate:function(){f("touch")&&h.add(this.domNode,"ios");this.lblScore.innerHTML=r["ga.score"];this.lblRemaining.innerHTML=r["ga.remaining"];this.inherited(arguments)},clear:function(){n.forEach(this._buttons,
function(a){a.destroy(!1)});this._buttons=[];this._navigationInfo=this._saveForLaterButton=this._clearAllButton=this._checkAnswerButton=null;this.progressBar&&h.add(this.progressBar.domNode,"hidden")},addButton:function(a,b){var c="navButton",c=a.style?c+(" "+a.style):b?c+b:c+" btn-primary",c=new d({label:a.label,onClick:this.onButtonClick,stayDisabled:a.disabled,command:a.command,"class":c});m.set(c.domNode,{title:a.label});this.addButtonToControlPanel(c,a.column);c.startup();"checkanswer"===a.command?
(this._checkAnswerButton=c,this._checkAnswerButton.set("aria-haspopup","true")):"clear"===a.command?(this._clearAllButton=c,h.add(c.domNode,"btnTransparent btnClear"),m.set(c.domNode,{"aria-label":r["button.clear_all.aria_label"]}),c.domNode.removeAttribute("title")):"saveforlater"===a.command?this._saveForLaterButton=c:"ga_scorequestion"===a.command?this._gaScoreQuestionButton=c:"similarexercise"===a.command||"similarexercisereview"===a.command?this._similarExerciseButton=c:"nextquestion"===a.command&&
(this._nextQuestionButton=c);return c},addButtonToControlPanel:function(a,b,c){var d=this.buttonContainerRight;b&&("left"===b.toLowerCase()?d=this.buttonContainerLeft:"center"===b.toLowerCase()&&(d=this.buttonContainerCenter));l.place(a.domNode,d,c);this._buttons.push(a)},enableGrammarApplyPanel:function(){this.isGrammarApply=!0;h.add(this.progressBar,"hidden");h.add(this.nextPrevPanel,"hidden");h.add(this.buttonContainerLeft,"hidden");h.remove(this.grammarApplyScorePanel,"hidden")},disableGrammarApplyPanel:function(){this.isGrammarApply=
!1;h.remove(this.progressBar,"hidden");h.remove(this.nextPrevPanel,"hidden");h.remove(this.buttonContainerLeft,"hidden");h.add(this.grammarApplyScorePanel,"hidden")},updateGrammarApplyPanel:function(a){a?(this.lblScoreValue.innerHTML=a.score,this.lblRemainingValue.innerHTML=a.numberRemaining+"/"+a.numberTotal,this._checkAnswerButton&&!0===a.isQuestionAttempted&&this._checkAnswerButton.set("disabled",!1)):this._checkAnswerButton&&this._checkAnswerButton.set("disabled",!0)},updateProgressBar:function(a){var b=
this.progressBar;a&&a.show?(b.update({maximum:a.progressMax,progress:a.currentProgress,label:a.label,partsRemaining:a.partsRemaining}),e.show(b)):e.hide(b)},finishButtonAdd:function(){},update:function(a){if(this._clearAllButton){var b=!a.anyInputsFilled();this._clearAllButton.set("disabled",b);!b&&a.dialog&&(a.dialog._lastFocusableNode=this._clearAllButton)}this._checkAnswerButton&&(b=a.disableCheckAnswerButton||!a.allInputFilledInScope(a.id)||this._checkAnswerButton.stayDisabled,this._checkAnswerButton.set("disabled",
b),!b&&a.dialog&&(a.dialog._lastFocusableNode=this._checkAnswerButton));if(this._saveForLaterButton){b=!a.allInputsFilled()||null!=this._navigationInfo&&!this._navigationInfo.nextEnabled;this.btnNext&&this.btnNext.set("disabled",b);var c=!a.allInputsFilled()||null!=this._navigationInfo&&!this._navigationInfo.prevEnabled;this.btnPrev&&this.btnPrev.set("disabled",c);this.isAdaptive&&(b=a.anyInputsFilled());this._saveForLaterButton.set("disabled",b)}},updateNavigation:function(a){a&&(a.showNext||a.showPrev)?
(this._navigationInfo=a,e.show(this.nextPrevPanel),e.setVisible(this.btnPrev.domNode,a.showPrev),e.setVisible(this.btnNext.domNode,a.showNext),this.btnPrev.set("disabled",!a.prevEnabled),this.btnNext.set("disabled",!a.nextEnabled),this.btnPrev.command="prevquestion",this.btnNext.command="nextquestion",a.nextLabel&&(this.btnNext.set("label",a.nextLabel),this.btnNext.set("class","btn btn-secondary")),a.prevLabel&&(this.btnPrev.set("label",a.prevLabel),this.btnPrev.set("class","btn btn-secondary")),
a.nextTooltip&&this.btnNext.set("title",a.nextTooltip),this._eventsHookedUp||(s.mixin(this.btnPrev,{onClick:this.onButtonClick}),s.mixin(this.btnNext,{onClick:this.onButtonClick}),this._eventsHookedUp=!0),this.updateNextPrevDivider()):e.hide(this.nextPrevPanel)},updateNextPrevDivider:function(){e.getVisible(this.nextPrevPanel)&&h.toggle(this.nextPrevPanel,"divider-left",null!=this.buttonContainerRight.firstChild)},onButtonClick:function(a){a.targetButton=this;return!0}})})},"xl/dijit/StatusProgressBar":function(){define(["dojo/_base/declare",
"dojo/dom-class","dijit/ProgressBar","dojo/text!./templates/StatusProgressBar.html"],function(s,q,l,h){return s("xl.dijit.StatusProgressBar",[l],{templateString:h,baseClass:"xlStatusProgressBar",hideVisualBar:!1,postCreate:function(){this.inherited(arguments);this.hideVisualBar&&q.add(this.progressBar,"hidden")},update:function(h){this.inherited(arguments);h&&h.partsRemaining&&0<h.partsRemaining?(q.remove(this.labelNode,"AllParts"),this.partsNode.innerHTML=h.partsRemaining,this.partsNode.style.display=
"inline-block"):(q.add(this.labelNode,"AllParts"),this.partsNode.style.display="none")}})})},"xl/player/PlayerControlPanelMobile":function(){define("dojo/_base/lang dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/_base/array dojo/has dojo/dom-attr dojo/on dojo/touch dojo/dom-style dojo/dom-geometry xl/dijit-bootstrap/bootstrapUtils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin xl/dijit-bootstrap/Button xl/dijit/StatusProgressBar dojo/text!./templates/PlayerControlPanelMobile.html xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z){return q("xl.player.PlayerControlPanelMobile",[r,a,t],{_checkAnswerButton:null,_clearAllButton:null,_saveForLaterButton:null,_gaScoreQuestionButton:null,_progressBar:null,templateString:D,_buttons:null,baseClass:"controlPanelMobile",_eventsHookedUp:!1,isAdaptive:!1,isGrammarApply:!1,_collapsed:!0,contstructor:function(){this._buttons=[]},postCreate:function(){c(this.handle,e.release,s.hitch(this,this._infoBtnClicked));this.lblScore.innerHTML=z["ga.score"];
this.lblRemaining.innerHTML=z["ga.remaining"];this.inherited(arguments)},_infoBtnClicked:function(a){(this._collapsed=!this._collapsed)?(h.add(this.drawer,"collapsed"),h.add(this.infoBtn,"collapsed"),h.remove(this.drawer,"expanded"),h.remove(this.infoBtn,"expanded")):(h.add(this.drawer,"expanded"),h.add(this.infoBtn,"expanded"),h.remove(this.drawer,"collapsed"),h.remove(this.infoBtn,"collapsed"))},clear:function(){n.forEach(this._buttons,function(a){a.destroy(!1)});this._buttons=[];this._navigationInfo=
this._saveForLaterButton=this._clearAllButton=this._checkAnswerButton=null;h.add(this.progressBar.domNode,"hidden");this._rightButtons=[];this._primaryBtn=null},_rightButtons:[],_primaryBtn:null,finishButtonAdd:function(){if(0<this._rightButtons.length){this._primaryBtn=this._rightButtons[this._rightButtons.length-1];h.add(this._primaryBtn.domNode,"btn-circle btn-lg");""!=this._primaryBtn.label&&(this._primaryBtn.label="\x3cspan\x3e"+this._primaryBtn.label[0]+"\x3c/span\x3e",l.place(this._primaryBtn.label,
this._primaryBtn.domNode,"only"));l.place(this._primaryBtn.domNode,this.primaryBtnContainer);this._primaryBtn.startup();"checkanswer"===this._primaryBtn.command&&(h.remove(this._primaryBtn.domNode),l.empty(this._primaryBtn.domNode),h.add(this._primaryBtn.domNode,"checkAnswerBtn"));this._adjustPrimaryBtnContainer();for(var a,b=0;b<this._rightButtons.length-1;b++)a=this._rightButtons[b],l.place(a.domNode,this.buttonContainerRight),a.startup()}},_adjustPrimaryBtnContainer:function(){if(this._primaryBtn){var a=
d.getMarginBox(this._primaryBtn.domNode),c=d.getMarginBox(this.primaryBtnContainer);b.set(this.infoBtn,"width",a.w+c.w+10+"px")}},addButton:function(a){var b="navButton",b=a.style?b+(" "+a.style):b+" btn-primary",b=new u({label:a.label,onClick:this.onButtonClick,stayDisabled:a.disabled,command:a.command,"class":b});m.set(b.domNode,{title:a.label,"aria-title":a.label});this._buttons.push(b);"Right"===a.column&&this._rightButtons.push(b);var c=this.buttonContainerRight;"Left"==a.column?c=this.buttonContainerLeft:
"Center"==a.column&&(c=this.buttonContainerCenter);"Left"!=a.column&&(l.place(b.domNode,c),b.startup());"checkanswer"===a.command?this._checkAnswerButton=b:"clear"===a.command?this._clearAllButton=b:"saveforlater"===a.command?this._saveForLaterButton=b:"ga_scorequestion"===a.command&&(this._gaScoreQuestionButton=b);return b},enableGrammarApplyPanel:function(a){this.isGrammarApply=!0;h.add(this.progressBar,"hidden");h.add(this.nextPrevPanel,"hidden");h.add(this.buttonContainerLeft,"hidden");h.remove(this.grammarApplyScorePanel,
"hidden")},disableGrammarApplyPanel:function(a){this.isGrammarApply=!1;h.remove(this.progressBar,"hidden");h.remove(this.nextPrevPanel,"hidden");h.remove(this.buttonContainerLeft,"hidden");h.add(this.grammarApplyScorePanel,"hidden")},updateGrammarApplyPanel:function(a){a?(this.lblScoreValue.innerHTML=a.score,this.lblRemainingValue.innerHTML=a.numberRemaining+"/"+a.numberTotal,this._checkAnswerButton&&!0===a.isQuestionAttempted&&this._checkAnswerButton.set("disabled",!1)):this._checkAnswerButton&&
this._checkAnswerButton.set("disabled",!0)},updateProgressBar:function(a){var b=this.progressBar;a&&a.show?(b.update({maximum:a.progressMax,progress:a.currentProgress,label:a.label,partsRemaining:a.partsRemaining}),k.show(b)):k.hide(b)},update:function(a){this._checkAnswerButton&&this._checkAnswerButton.set("disabled",!a.allInputsFilled()||this._checkAnswerButton.stayDisabled);this._clearAllButton&&this._clearAllButton.set("disabled",!a.anyInputsFilled());if(this._saveForLaterButton){var b=!a.anyInputsFilled()||
null!=this._navigationInfo&&!this._navigationInfo.nextEnabled;this.btnNext&&this.btnNext.set("disabled",b);this.isAdaptive&&(b=a.anyInputsFilled());this._saveForLaterButton.set("disabled",b)}},updateNavigation:function(a){a&&(a.showNext||a.showPrev)?(this._navigationInfo=a,k.show(this.nextPrevPanel),k.setVisible(this.btnPrev.domNode,a.showPrev),k.setVisible(this.btnNext.domNode,a.showNext),this.btnPrev.set("disabled",!a.prevEnabled),this.btnNext.set("disabled",!a.nextEnabled),this.btnPrev.command=
"prevquestion",this.btnNext.command="nextquestion",a.nextLabel&&(this.btnNext.set("label",a.nextLabel),this.btnNext.set("class","btn btn-secondary")),a.nextTooltip&&this.btnNext.set("title",a.nextTooltip),this._eventsHookedUp||(s.mixin(this.btnPrev,{onClick:this.onButtonClick}),s.mixin(this.btnNext,{onClick:this.onButtonClick}),this._eventsHookedUp=!0),this.updateNextPrevDivider()):k.hide(this.nextPrevPanel)},updateNextPrevDivider:function(){k.getVisible(this.nextPrevPanel)&&h.toggle(this.nextPrevPanel,
"divider-left",null!=this.buttonContainerRight.firstChild)},onButtonClick:function(a){a.targetButton=this;return!0}})})},"xl/player/controls/MultipleChoice":function(){define("dojo/_base/declare xl/util/logger dijit/_Widget dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/_TemplatedMixin ./_AccessibleName dojo/text!./templates/MultipleChoice.html dojo/dom-construct dojo/dom-geometry dojo/dom dojo/_base/array dojo/_base/lang dijit/form/RadioButton dijit/layout/BorderContainer dijit/layout/ContentPane dojo/dom-style dojo/_base/connect ./_InputObject dojo/dom-class dojo/on dojo/keys dojo/_base/event dojo/dom-attr dijit/_FocusMixin xl/util/localization!html5player/player xl/player/controls/_NeedsPlayerViewer dojo/has xl/util/DijitLoadMonitor".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G){s=s("xl.player.controls.MultipleChoice",[h,C,n,z,J,f,m],{templateString:c,baseClass:"xlMultipleChoice",buttonWidget:"xl.player.controls._MultipleChoiceAnswerButton",columns:1,distpos:0,distalign:0,multi:!1,userResponse:null,_selectedIndex:-1,startup:function(){this._started||(k.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments),this.updateControlState(),setTimeout(r.hitch(this,this.initializeTabIndex),10))},
postCreate:function(){this.inherited(arguments);this.own(F(this.domNode,"keydown",r.hitch(this,this._onKeyDown)));this.own(F(this.domNode,"keyup",r.hitch(this,this._onKeyUp)));this.printing&&v.set(this.domNode,"pointer-events","none");G.staticFunctions.loadingStarted(this)},_onKeyDown:function(a){this.printing&&x.stop(a);a.keyCode===A.ENTER&&!this.isAnswered&&(x.stop(a),this.inputEntered())},_onKeyUp:function(a){this.printing&&(H("ff")&&32===a.keyCode)&&a.preventDefault()},_onFocus:function(){this.inherited(arguments)},
_onBlur:function(){this.inherited(arguments)},layout:function(){var a=Math.max(this.columns,1),c=1,d=this._contentBox.w,e=(d-1)/a,f=this.getChildren(),h=0;k.forEach(f,function(a,b){h=Math.max(h,a.getPreferredButtonWidth())});k.forEach(f,function(a,b){a.setButtonAreaWidth(h)});for(var r=Math.ceil(f.length/a),m=0;m<r;m++){var t,u,l,n=0;for(l=0;l<a;l++)t=m*a+l,t<f.length&&(t=f[t],u=e,l==a-1&&(u=d-1-l*e),t.resize({w:u,h:0}),u=b.getMarginBox(t.domNode),u=Math.max(u.h,10),n=Math.max(u,n));var v;for(l=0;l<
a;l++)t=m*a+l,t<f.length&&(v=l*e,u=l==a-1?d-1-v:e,t=f[t],t.setRowHeight(n),t.resize({l:v,t:c,w:u,h:n}));c+=n+1}b.setContentSize(this.domNode,{h:c})},buildRendering:function(){this.inherited(arguments);B.add(this.domNode,"mcControl")},_setupChild:function(a){this.inherited(arguments);v.set(a.domNode,"position","absolute");a.onClick=r.hitch(this,this.buttonClicked);a.setMultipleChoice(this);a.printing=this.printing},buttonClicked:function(a,b){var c=this;setTimeout(function(){c.processButtonClicked(c)},
0)},processButtonClicked:function(a){a.updateFilled();a.updateInputState();a.updateTabIndex()},inputFilled:!1,inputEmpty:!0,updateFilled:function(){var a=this.isInputFilled(),b=this.isInputEmpty();if(this.inputFilled!=a||this.inputEmpty!=b)this.inputFilled=a,this.inputEmpty=b,this.inputChanged()},addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},removeChild:function(a){this.inherited(arguments)},getChildren:function(){return this.inherited(arguments)},destroy:function(){k.forEach(this.getChildren(),
function(a){a._wrapperWidget?a._wrapperWidget.destroy():a.destroyRecursive()});this.inherited(arguments)},getSelectedIndex:function(){for(var a=this.getChildren(),b=0;b<a.length;b++)if(a[b].get("selected"))return b;return-1},getSelectedIndices:function(){for(var a=this.getChildren(),b="",c=0;c<a.length;c++)a[c].get("selected")&&(b+=c.toString()+",");return b},getInputData:function(){return this.multi?{selectedIndices:this.getSelectedIndices(),inputData:this.getEmbeddedInputData()}:{selectedIndex:this.getSelectedIndex(),
inputData:this.getEmbeddedInputData()}},getEmbeddedInputData:function(){var a=[];k.forEach(this.getChildren(),function(b){a=a.concat(b.getEmbeddedInputData())},this);return a},clear:function(){k.forEach(this.getChildren(),function(a,b){a.set("selected",!1);a.clearEmbeddedInputs()});this.inputFilled=!1;this.inputChanged();this.initializeTabIndex()},isInputFilled:function(){var a=null;k.forEach(this.getChildren(),function(b,c){b.get("selected")&&(null==a&&(a=!0),a=b.embeddedInputsFilled()?a&1:a&0)});
return a},isInputEmpty:function(){var a=!0;k.forEach(this.getChildren(),function(b,c){b.get("selected")&&(a=!1)});return a},updateTabIndex:function(){k.forEach(this.getChildren(),function(a,b){a.get("selected")?a.updateTabIndex(0):a.updateTabIndex(-1)})},initializeTabIndex:function(){this.isAnswered?this.disableTabStop():k.forEach(this.getChildren(),function(a,b){a.updateTabIndex(0===b?0:-1)})},disableTabStop:function(){w.set(this.domNode,"tabindex",-1);k.forEach(this.getChildren(),function(a,b){a.disableTabStop()})},
processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){if(a){a=a.userResponse;a instanceof Array||(a=[a]);for(var b=this.getChildren(),c=0;c<b.length;c++){var d=b[c];d.set("selected",!1);0<=a.length&&0<=a.indexOf(c)&&d.set("selected",!0)}this.updateFilled()}},answeredCommand:function(a){a&&(this.isAnswered=a.isAnswered,this.userResponse=a.userResponse,this.toolTipContent=a.toolTip,this.isCorrect=
a.isCorrect,this.answeredStates=a.answeredStates,this.showFeedbackLink=a.showFeedbackLink,this.updateControlState())},updateControlState:function(){this.updateToolTipDijit();var a=this.getChildren(),b=this.userResponse;b instanceof Array||(b=[b]);for(var c=0;c<a.length;c++){var d=a[c];d.set("answered",this.isAnswered||!1);var e=!1,k=!1;this.answeredStates&&(d.set("answeredState",this.answeredStates[c]),e="correct"===this.answeredStates[c]);0<=b.length&&0<=b.indexOf(c)&&(d.set("selected",!0),k=!0);
var f="";k&&this.answeredStates?f=E[e?"acc.mc_correct":"acc.mc_incorrect"]:e&&(f=E["acc.mc_correct_answer"]);d.accLabel.innerHTML=f}this._inputsReady>=a.length?this.updateInputState(!0):0<this._updateInputCnt--&&setTimeout(r.hitch(this,this.updateInputState),0);this.isAnswered&&this.disableTabStop();this._setAriaLabelText()},_setAriaLabelText:function(){if(!this.ariaLabel){var a=d.byId(this.id+"_label");a&&(a.innerHTML=this.getDefaultAccessibleName())}},_inputsReady:0,_updateInputCnt:5,_updatingInputState:!1,
updateInputState:function(a){if(!this._updatingInputState)try{this._updatingInputState=!0,k.forEach(this.getChildren(),function(b,c){b.updateInputState(a)})}finally{this._updatingInputState=!1}G.staticFunctions.loadingCompleted(this)},resize:function(){this.inherited(arguments)},getDefaultAccessibleName:function(){var a="Multiple Choice "+this.accessibleNumber;this.isAnswered||(a+=", "+(!0==this.multi?E["mc.instructiontextMS"]:E["mc.instructiontext"]));return a},getFocusNode:function(){return this.domNode}});
s.alignTOPLEFT=0;s.alignCENTERLEFT=1;s.posLEFT=0;s.posTOP=1;return s})},"xl/player/controls/_AccessibleName":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-attr","./_NeedsPlayerViewer","xl/util/eqUtils"],function(s,q,l,h,n){return s("xl.player.controls._AccessibleName",[h],{setAccessibleAttributes:function(){var f=this.ariaLabel||this.getDefaultAccessibleName(),h=this.getViewer(),h=h&&h.ariaContentHolder,c=this.id+"_label";h&&!this.defaultAriaLabelNode&&(this.defaultAriaLabelNode=
q.create("span",{innerHTML:n.altTextExpander(f),id:c},h),f=this.getFocusNode(),l.set(f,"aria-labelledby",c),this.ariaDescription&&(c=this.id+"_description",q.create("span",{innerHTML:n.altTextExpander(this.ariaDescription),id:c},h),l.set(f,"aria-describedby",c)))}})})},"xl/player/controls/MultipleChoiceAnswer":function(){define("dojo/_base/declare xl/util/logger dojo/dom-geometry dijit/layout/BorderContainer dijit/layout/_LayoutWidget dijit/_Widget dijit/focus dojo/dom-construct dijit/form/RadioButton dijit/form/CheckBox dijit/layout/ContentPane dijit/registry dojo/_base/lang dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/_base/array dojo/dom-attr dojo/parser dojo/html xl/player/controls/MultipleChoice require dojo/has xl/util/domMethods dojo/query".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E){var J=s("xl.player.controls._MultipleChoiceAnswerButton",[f],{button:null,label:null,labelNode:null,multi:!1,baseClass:"mcButtonArea",disabled:!1,groupName:"",accessible:!1,_accLabel:null,constructor:function(){this.inherited(arguments)},destroy:function(){this.button&&this.button.destroy();this.inherited(arguments)},buildRendering:function(){this.domNode=c.create("div",{style:"position:absolute"});this.multi?this.button=(new b({value:this.groupName,
onClick:r.hitch(this,this.clicked)})).placeAt(this.domNode):(this.button=(new e({value:this.groupName,onClick:r.hitch(this,this.clicked)})).placeAt(this.domNode),z.set(this.button,"tabindex",-1));this.labelNode=c.create("label",{innerHTML:this.label,"aria-hidden":"true","for":this.button.id},this.domNode);this.inherited(arguments);u.add(this.domNode,"mcAnswer")},getPreferredWidth:function(){var a=l.getMarginBox(this.labelNode);return a.l+a.w},clicked:function(a){a.preventDefault()},_setDisabledAttr:function(a){this._set("disabled",
a);this.button&&this.button.set("disabled",a);this.labelNode&&(a?u.add(this.labelNode,"disabled"):u.remove(this.labelNode,"disabled"))},_setAnsweredStateAttr:function(a){if(this.button&&this.button.domNode){var b=this.button.domNode;u.remove(b,"correct");u.remove(b,"incorrect");a&&u.add(b,a)}}});return s("xl.player.controls.MultipleChoiceAnswer",[n],{_multipleChoice:null,multi:!1,accessible:!1,buttonArea:null,contentArea:null,contentNode:null,accountTableIncluded:!1,constructor:function(){this.inherited(arguments);
this.inputs=[];this.inputListeners=[]},onClick:null,_onFocus:function(){u.add(this.domNode,"mcFocused")},_onBlur:function(){u.remove(this.domNode,"mcFocused")},select:function(){var a=this.buttonArea&&this.buttonArea.button;this.multi&&a&&a.get("checked")?a.set("checked",!1):a&&a.set("checked",!0);this.buttonClicked(this.buttonArea)},_setFocus:function(){this._multipleChoice.isAnswered||(u.contains(this.domNode,"mcFocused")||this.buttonArea.button.focus(),this.select())},buttonClicked:function(a){this.printing&&
(w("ie")||w("trident")||w("edge"))&&event.preventDefault();if(this.onClick)this.onClick(a,this)},setMultipleChoice:function(a){this._multipleChoice=a;this.buttonArea.button.set("name",this._multipleChoice.id+"_value");this._multipleChoice.labelSize&&v.set(this.buttonArea.labelNode,{fontSize:this._multipleChoice.labelSize+"px"});this._multipleChoice.buttonSize&&v.set(this.buttonArea.button.domNode,{height:this._multipleChoice.buttonSize+"px"});a=E(".equation",this.contentNode);var b=E(".eqAccessibleLabel",
this.contentNode);0<a.length&&!(1==a.length&&null!=a[0].ariaLabel&&a[0].ariaLabel!=C.getAccessibleText(this.contentNode))&&!(0<b.length&&b[0].innerHTML!=C.getAccessibleText(this.contentNode))&&(z.set(this.buttonArea.labelNode,"for",this.buttonArea.button.id),this._accLabel=c.create("span",{"class":"eqAccessibleLabel",innerHTML:C.getAccessibleText(this.contentNode)}),c.place(this._accLabel,this.buttonArea.labelNode))},buildRendering:function(){this.buttonArea=new J({label:this.label,multi:this.multi,
addImage:this.addImage,accessible:this.accessible});this.inherited(arguments);u.add(this.domNode,"mcAnswerOverflow");this.contentNode=this.accessible&&this.embeddedinputs?c.create("div",{"class":"mcAnswerContent",style:"position:absolute","aria-hidden":"false"}):c.create("div",{"class":"mcAnswerContent",style:"position:absolute","aria-hidden":"true"});for(this.own(a(this.domNode,"click",r.hitch(this,this._setFocus)));this.domNode.hasChildNodes();)this.contentNode.appendChild(this.domNode.firstChild);
this.addChild(this.buttonArea);var b=this.buttonArea.get("id")+"_label";z.set(this.contentNode,"id",b);c.place(this.contentNode,this.domNode);this.accLabel=c.create("span",{"class":"offScreen"},this.domNode);z.set(this.domNode,"tabindex","-1")},_layingOut:!1,layout:function(a){this._layingOut=!0;var b=l.getMarginBox(this.buttonArea.domNode),c,d;u.add(this.contentNode,"mcAnswerOverflow");this._multipleChoice.distpos===A.posLEFT?(c=Math.max(b.w,this._buttonAreaWidth),d=this._contentBox.w-c,l.setMarginBox(this.contentNode,
{l:c,w:d}),c=l.getMarginBox(this.contentNode),c=Math.max(b.h,c.h),this._multipleChoice.distalign===A.alignCENTERLEFT&&l.setMarginBox(this.buttonArea.domNode,{l:0,t:(c-b.h)/2})):(c=Math.max(b.w,this._buttonAreaWidth)/5,d=this._contentBox.w-c,l.setMarginBox(this.contentNode,{l:c,t:b.h,w:d}),c=l.getMarginBox(this.contentNode),c=b.h+c.h+1);l.setMarginBox(this.domNode,{h:c});this.contentNode.scrollWidth>d&&(this.domNode.scrollTop=Number.MAX_VALUE,0<this.domNode.scrollTop&&(c+=this.domNode.scrollTop,l.setMarginBox(this.domNode,
{h:c})));u.remove(this.contentNode,"mcAnswerOverflow");a||(a=this.getChildren(),D.forEach(a,function(a){a._started&&(!a._destroyed&&r.isFunction(a.resize))&&a.resize()}));z.set(this.buttonArea.button.focusNode,"aria-label",this.label+" "+C.getAccessibleText(this.contentNode));this._accLabel&&F.set(this._accLabel,C.getAccessibleText(this.contentNode));this._layedOut=!0;this._layingOut=!1},updateInputsCnt:5,updateInputs:function(){if(this.embeddedinputs){var a=this.embeddedinputs.split(",");!this._inputWidgetsReady(a)&&
0<this.updateInputsCnt--?setTimeout(r.hitch(this,this.updateInputs),0):(D.forEach(a,function(a){if(a=k.byId(a))this.inputs.push(a),a.controlManager=this,this.addInputListeners(a)},this),this._multipleChoice._inputsReady+=1,this.embeddedinputs="")}},updateTabIndex:function(a){0===this.multi&&z.set(this.buttonArea.button,"tabindex",a);D.forEach(this.inputs,function(a){a.focusNode&&z.set(a.focusNode,"tabindex",this.isUnselected()?-1:0)},this)},disableTabStop:function(){z.set(this.buttonArea.button,"tabindex",
-1);D.forEach(this.inputs,function(a){z.set(a.domNode,"tabindex",-1);a.focusNode&&z.set(a.focusNode,"tabindex",-1)},this)},_inputWidgetsReady:function(a){var b=!0;D.forEach(a,function(a){a&&!k.byId(a)&&(b=!1)});return b},inputs:null,inputListeners:null,addInputListeners:function(b){this.inputListeners.push(a(b,"eqeditor_change",r.hitch(this,function(){this.embeddedInputChange(b)})));this.inputListeners.push(a(b,"eqeditor_focus",r.hitch(this,function(){this.embeddedInputFocused(b)})));this.inputListeners.push(a(b,
"click",r.hitch(this,function(a){this.embeddedInputClicked(b,a)})));w("ie")&&this.inputListeners.push(a(b,"mouseup",r.hitch(this,function(){b.focused&&setTimeout(function(){b.focusNode.blur&&b.focusNode.blur();b.focusNode.focus()},100)})))},removeInputListeners:function(){D.forEach(this.inputListeners,function(a){a.remove()},this)},embeddedInputChange:function(){this._layingOut||(this.resize(!0),this._multipleChoice.resize(),this._multipleChoice.updateInputState())},embeddedInputFocused:function(){this.isUnselected()&&
this.set("selected",!0)},embeddedInputClicked:function(a,b){u.contains(a.domNode,"inactive")||b.stopPropagation()},isUnselected:function(){return!this.get("selected")},isInactive:function(){return this._multipleChoice.isAnswered&&!this.isCorrect()},isCorrectOnFail:function(){return this._multipleChoice.isAnswered&&this.isCorrect()&&this.isUnselected()},isCorrect:function(){return"correct"===this.answeredState||"correctchoiceonly"===this.answeredState},postCreate:function(){this.inherited(arguments);
this.own(a(this.contentNode,"graphscale_changed",r.hitch(this,this._embeddedGraphScaleChanged)))},_embeddedGraphScaleChanged:function(a){this._layingOut||(this.resize(!0),this._multipleChoice.resize())},label:"???",_setSelectedAttr:function(a){this._set("selected",a);this.buttonArea.button.set("checked",a)},_getSelectedAttr:function(){return this.buttonArea.button.get("checked")},startup:function(){var b=E(".acctable",this.contentNode);b&&0<b.length&&(this.accountTableIncluded=!0);this.accessible&&
this.accountTableIncluded&&(z.set(this.contentNode,{"aria-hidden":"false","aria-label":"choice "+this.label+" content with Table",role:"region",tabindex:"0"}),a(this.contentNode,"focus",r.hitch(this,function(){z.set(this.buttonArea.button,"checked","true")})));this.inherited(arguments);this.updateInputs()},destroy:function(){this.removeInputListeners();D.forEach(this.inputs,function(a){a.destroyRecursive()},this);this.inherited(arguments)},destroyDescendants:function(){},getPreferredButtonWidth:function(){return l.getMarginBox(this.buttonArea.domNode).w},
_buttonAreaWidth:0,setButtonAreaWidth:function(a){this._buttonAreaWidth=a},_rowHeight:0,setRowHeight:function(a){this._rowHeight=a},getPreferredHeight:function(a){l.setMarginBox(this.domNode,{w:a});return l.getMarginBox(this.domNode).h},_setAnsweredAttr:function(a){this.buttonArea.set("disabled",a)},answeredState:null,_setAnsweredStateAttr:function(a){this.buttonArea.set("answeredState",a);this.answeredState=a},resize:function(){this.inherited(arguments)},updateInputState:function(a){var b=this;w("chrome")&&
(v.set(this.buttonArea.button.domNode,{backgroundPositionX:"initial"}),v.set(this.buttonArea.button.domNode,{backgroundPositionX:""}));this._multipleChoice.isAnswered&&this.removeInputListeners();a?D.forEach(b.inputs,function(a){a&&a.updateInputState&&a.updateInputState(b)},this):(setTimeout(function(){D.forEach(b.inputs,function(a){a&&a.updateInputState&&a.updateInputState(b)},this)},0),setTimeout(function(){b._multipleChoice.updateFilled()},0))},clearEmbeddedInputs:function(){D.forEach(this.inputs,
function(a){a.clear()},this)},embeddedInputsFilled:function(){var a=!0;D.forEach(this.inputs,function(b){b.inputFilled||(a=!1)},this);return a},getEmbeddedInputData:function(){var a=[];D.forEach(this.inputs,function(b){a.push({id:b.id,inputData:b.getInputData()})},this);return a}})})},"xl/player/controls/VectorMoment":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_AccessibleName ./_InputObject xl/util/localStore xl/nonamd/ac/ac xl/util/DijitLoadMonitor xl/player/controls/AnswerToggle".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.player.controls.VectorMoment",[l,h,n,f,m],{baseClass:"vectorMoment",templateString:'\x3cdiv data-dojo-attach-point\x3d"domNode"\x3e\x3cdiv data-dojo-attach-point\x3d"toggleButton" data-dojo-type\x3d"xl/player/controls/AnswerToggle" data-dojo-props\x3d"hidden: true"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(b,d){b||(b={});b.overrideBaseUrl=c.getItem("acs-override-vmt")||b.overrideBaseUrl;b.baseURL=b.overrideBaseUrl||b.baseURL;b.logger=c.getItem("logging:VectorMoment")||
b.logger;var a=d.getElementsByTagName("img");a.length&&(a=a[0],b.backgroundImage=a.src,b.backgroundImageAlt=a.alt.replace(/'/g,"\\'"),b.backgroundImageTitle=a.title.replace(/'/g,"\\'"));a=d.getElementsByTagName("span");a.length&&(a=encodeURI(a[0].innerHTML).replace(/'/g,"%27"),b.configLoadURL="data:application/json;,"+a)},postCreate:function(){this.getVectorMoment();this.setAccessibleAttributes();this.inputFilled=!!this.params.interactive;q(this.toggleButton.focusNode,"click",function(b){this.setVectorData(this.toggleButton.checked?
this.correctAnswer:this.userResponse)}.bind(this));b.staticFunctions.loadingCompleted(this)},getVectorMoment:function(){return this._vectorMoment?this._vectorMoment:this._vectorMoment=(new (window.AssessmentsComponents||e).VectorMoment(this.params,this.domNode)).then(function(b){this.focusNode=b.domNode;return b}.bind(this))},setDisabled:function(b){this.set("disabled",b);return this.getVectorMoment().then(function(c){c.setDisabled(b)})},setVectorData:function(b){return this.getVectorMoment().then(function(c){c.setVectorData(b)})},
getVectorData:function(){return this.getVectorMoment().then(function(b){return b.getVectorData()})},getAnswerVectorData:function(){return this.getVectorMoment().then(function(b){return b.getAnswerVectorData()})},getConfig:function(){return this.getVectorMoment().then(function(b){return b.getConfig()})},callNativeMethod:function(b,c){return this.getVectorMoment().then(function(a){return a.callMethod(b,c)})},getDefaultAccessibleName:function(){return"Vector Moment "+this.accessibleNumber},getFocusNode:function(){return this.domNode},
getInputData:function(){return this.getVectorData().then(function(b){return{userResponse:b}})},processCommand:function(b,c){switch(b){case "answered":this.answeredCommand(c);break;case "answerapplied":this.answeredAppliedCommand(c)}},answeredCommand:function(b){b&&(this.isAnswered=b.isAnswered,this.isCorrect=b.isCorrect,this.correctAnswer=b.correctAnswer,this.userResponse=b.userResponse,this.isCorrect||(this.toggleButton.showCorrectAnswer(),this.setVectorData(b.correctAnswer)),this.setDisabled(!0))},
answeredAppliedCommand:function(b){this.toggleButton.showCorrectAnswer();this.setVectorData(b.correctAnswer)}})})},"xl/player/controls/AnswerToggle":function(){define("dojo/_base/declare dojo/on dojo/dom-class dojo/dom-attr dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/AnswerToggle.html".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.controls.AnswerToggle",[n,f],{baseClass:"answerToggle",templateString:m,hidden:!0,checked:!0,postCreate:function(){this.hidden&&l.add(this.domNode,
"hidden");this.checked?this.setCorrectAnswer():this.setUserAnswer();q(this.focusNode,"click",function(){(this.checked=!this.checked)?this.showCorrectAnswer():this.showUserAnswer()}.bind(this))},setCorrectAnswer:function(){this.checked=!0;h.set(this.focusNode,"aria-label","Press enter to display your answer");l.remove(this.iconNode,"toggleOff");l.add(this.iconNode,"toggleOn");this.iconNode.innerHTML='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"48" height\x3d"24" viewBox\x3d"0 0 48 24"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect width\x3d"48" height\x3d"24" fill\x3d"#047A9C" fill-rule\x3d"nonzero" rx\x3d"12"\x3e\x3c/rect\x3e\x3cpath d\x3d"M5 3h18v18H5z"\x3e\x3c/path\x3e\x3cpath fill\x3d"#FFF" fill-rule\x3d"nonzero" d\x3d"M12.637 16.725a.935.935 0 0 1-1.325 0l-3.038-3.046a.94.94 0 0 1 0-1.328.935.935 0 0 1 1.325 0l2.33 2.336 6.43-7.366a.935.935 0 0 1 1.321-.089.94.94 0 0 1 .088 1.325l-7.082 8.115a.951.951 0 0 1-.049.053z"\x3e\x3c/path\x3e\x3ccircle cx\x3d"36" cy\x3d"12" r\x3d"9" fill\x3d"#FFF" fill-rule\x3d"nonzero"\x3e\x3c/circle\x3e\x3c/g\x3e\x3c/svg\x3e'},
setUserAnswer:function(){this.checked=!1;h.set(this.focusNode,"aria-label","Press enter to display the correct answer");l.remove(this.iconNode,"toggleOn");l.add(this.iconNode,"toggleOff");this.iconNode.innerHTML='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"48" height\x3d"24" viewBox\x3d"0 0 48 24"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect width\x3d"48" height\x3d"24" fill\x3d"#C7C7C7" fill-rule\x3d"nonzero" rx\x3d"12"\x3e\x3c/rect\x3e\x3cpath d\x3d"M25 3h18v18H25z"\x3e\x3c/path\x3e\x3cpath fill\x3d"#FFF" fill-rule\x3d"nonzero" d\x3d"M34 10.672l3.397-3.397a.94.94 0 0 1 1.328 1.328L35.328 12l3.397 3.397a.94.94 0 0 1-1.328 1.328L34 13.328l-3.397 3.397a.94.94 0 0 1-1.328-1.328L32.672 12l-3.397-3.397a.94.94 0 1 1 1.328-1.328L34 10.672z"\x3e\x3c/path\x3e\x3ccircle cx\x3d"12" cy\x3d"12" r\x3d"9" fill\x3d"#FFF" fill-rule\x3d"nonzero"\x3e\x3c/circle\x3e\x3c/g\x3e\x3c/svg\x3e'},
show:function(){this.hidden=!1;l.remove(this.domNode,"hidden");h.remove(this.focusNode,"hidden")},showCorrectAnswer:function(){this.setCorrectAnswer();this.show()},showUserAnswer:function(){this.setUserAnswer();this.show()}})})},"xl/player/ContentPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry dojo/topic dijit/_Container dijit/layout/LayoutContainer".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.ContentPanel",[q,r],{layoutPanel:null,constructor:function(){},setLayout:function(a){this.clearChildren();this.layoutPanel=a;this.addChild(a)},clearChildren:function(){this.layoutPanel=null},_setLayoutTypeAttr:function(a){this._started&&this.clearChildren()},addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},startup:function(){this._started||(f.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},
_setupChild:function(a){this.inherited(arguments);e.set(a.domNode,"position","absolute")},layout:function(){this._started&&this.layoutPanel&&this.layoutPanel.layout();this.inherited(arguments);d.publish("contentPanelLayout")},getInnerContentHeight:function(){var a=0;this.layoutPanel&&(a=this.layoutPanel.getInnerContentHeight());return a},focusFirstPanel:function(){this.layoutPanel&&this.layoutPanel.focus()},destroyDescendants:function(a){var b=this.getChildren();0<b.length&&f.forEach(b,function(a){var b=
a.getChildren();0<b.length&&f.forEach(b,function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);a.destroy()});a.destroy()});this.clearChildren();this.inherited(arguments)},hide:function(){e.set(this.domNode,"visibility","hidden")},show:function(){e.set(this.domNode,"visibility","visible")}})})},"xl/player/controls/Fillin":function(){define("dijit/_Widget dijit/_WidgetBase ./_InputObject dijit/_TemplatedMixin dijit/_HasDropDown dijit/form/_FormWidgetMixin ./_AccessibleName dojo/text!./templates/Fillin.html dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry dojo/on dojo/_base/lang dojo/keys dojo/_base/event dojo/dom-attr dojo/window dijit/DropDownMenu dijit/MenuItem dijit/Tooltip xl/util/stringUtils xl/util/domMethods xl/util/localization!html5player/player xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I){return e("xl.player.controls.Fillin",[q,l,h,n,f,I,m],{templateString:c,baseClass:"xlFillin",placeHolderText:"\x3cdiv class\x3d'xlFillinArrow' role\x3d'presentation' aria-hidden\x3d'true'\x3e\x26#9660;\x3c/div\x3e\x3cspan\x3e\x26nbsp;\x3c/span\x3e",autoWidth:!0,selectedIndex:-1,maxHeight:-1,printing:!1,isEmpty:!1,textClass:"",useFormulas:!1,accessible:!1,_isLoaded:!1,accessibleNumber:1,constructor:function(){},buildRendering:function(){this.inherited(arguments);
u.add(this.focusNode,"hide");this._popupStateNode=this.focusNode=this.displayNode;A.set(this.focusNode,"tabindex","0")},postCreate:function(){this.dropDown=new w({id:this.id+"_menu",parentWidget:this,"class":"xlFillinMenu"});this.dropDown.domNode.setAttribute("role","listbox");this.inherited(arguments);this.own(D(this.focusNode,"focus",z.hitch(this,"_inputFocus")),D(this.focusNode,"blur",z.hitch(this,"_inputBlur")));this.accessible&&this.own(D(this.focusNode,"keydown",z.hitch(this,"_inputKeydown")));
this.inputValueAriaLabelNode.setAttribute("id",this.id+"_inputValueAriaLabelNode")},_inputFocus:function(a){this.inherited(arguments);this.setFocused(!0)},_inputBlur:function(a){this.inherited(arguments);this.setFocused(!1)},setFocused:function(a){a?u.add(this.domNode,"focused"):u.remove(this.domNode,"focused");this.focused=a},_inputKeydown:function(a){switch(a.keyCode){case B.UP_ARROW:case B.DOWN_ARROW:case B.ENTER:case B.TAB:case B.SHIFT:this.inherited(arguments);break;case B.SPACE:this.toggleMenu();
break;default:a.preventDefault(),a.stopPropagation()}},toggleMenu:function(){this.inherited(arguments);this.toggleDropDown();var a=this.dropDown.getChildren();a&&0<a.length&&a[0].focus()},_onKeyUp:function(a){this.printing?(a.stopPropagation(),a.preventDefault()):0<=this.selectedIndex&&a.keyCode==B.ENTER?(F.stop(a),this.inputEntered()):this.inherited(arguments)},startup:function(){this.inherited(arguments);if(this.printing&&this.isEmpty)this.startupForPrinting();else{var b=0,c=new C({id:this.id+"_blank",
label:" ",fillinParent:this});c.on("click",this.menuItemClicked);this.dropDown.addChild(c);c.focusNode.setAttribute("role","option");c.focusNode.setAttribute("aria-label",G["acc.fillin_empty"]);c=a("\x3e div",this.containerNode);c.forEach(function(a,c){b=Math.max(b,r.getMarginBox(a).w)});b=20>b?20:b;d.set(this.displayNode,"width",b+5+"px");0<=this.response?(this.selectedIndex=this.response,this.inputFilled=!0,this.displayNode.innerHTML=c[this.response].innerHTML.replace(/id="[a-zA-Z\-_0-9]+"/g,"")):
(u.add(this.displayNode.childNodes[0],this.textClass),c=parseInt(d.get(this.displayNode.childNodes[0],"fontSize")),d.set(this.displayNode.childNodes[1],"fontSize",c+"px"),this.placeHolderText=this.displayNode.innerHTML);this.updateAccessible()}},isLoaded:function(){return this._isLoaded},loadDropDown:function(b){var c=this;a("\x3e div",this.containerNode).forEach(function(a){var b=new C({id:a.id,label:"",fillinParent:c});t.place(a,b.containerNode);b.itemNode=a;b.on("click",c.menuItemClicked);b.focusNode.setAttribute("role",
"option");b.focusNode.setAttribute("aria-labelledby",b.containerNode.id);c.dropDown.addChild(b)});this._isLoaded=!0;"function"==typeof b&&b()},startupForPrinting:function(){t.empty(this.displayNode);u.add(this.domNode,"printing");this.readOnly=!0},menuItemClicked:function(){k.forEach(this.fillinParent.dropDown.children,function(a){a.focusNode.setAttribute("aria-selected","false")});this.focusNode.setAttribute("aria-selected","true");if(" "==this.label)this.fillinParent.displayNode.innerHTML=this.fillinParent.placeHolderText,
this.fillinParent.selectedIndex=-1,this.fillinParent.inputFilled=!1,this.fillinParent.updateAccessible(this.itemNode),this.fillinParent.inputChanged(),A.remove(this.fillinParent.focusNode,"aria-activedescendant");else{this.fillinParent._cloneItemNode(this.itemNode,this.fillinParent.displayNode);var a=parseInt(this.id.substr(this.fillinParent.id.length+1));this.fillinParent.selectedIndex=a;this.fillinParent.inputFilled=!0;this.fillinParent.updateAccessible(this.itemNode);this.fillinParent.inputChanged();
x.scrollIntoView(this.fillinParent.displayNode);A.set(this.fillinParent.displayNode,"aria-activedescendant",this.itemNode.id)}},getAccessibleName:function(a){var b="";this.isAnswered?this.isCorrect?b=J.substitute(G["acc.fillin_correct"],[a?H.getAccessibleText(a):""]):(b=this._getItemNode(this.selectedIndex),b=J.substitute(G["acc.fillin_incorrect"],[a?H.getAccessibleText(a):"",b?H.getAccessibleText(b):""])):b=0>this.selectedIndex?G["acc.fillin_empty"]:a?G["acc.fillin_name"]+" "+H.getAccessibleText(a):
"";return b},getDefaultAccessibleName:function(){return"listbox "+this.accessibleNumber+","},getFocusNode:function(){return this.focusNode},setAccessibleName:function(){this.updateAccessible()},updateAccessible:function(a){var b=this.getFocusNode();a=this.getAccessibleName(a);this.inputValueAriaLabelNode.innerHTML=a;var c=this.defaultAriaLabelNode?this.defaultAriaLabelNode.id:"";A.set(b,"aria-labelledby",a?c+" "+this.inputValueAriaLabelNode.id:c)},getInputData:function(){return{selectedIndex:this.selectedIndex}},
processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){if(a){var b=document.getElementById(this.id+"-"+a.correctIndex);this._cloneItemNode(b,this.displayNode);this.selectedIndex=a.correctIndex;this.inputFilled=!0;this.inputChanged()}},answeredCommand:function(a){a&&(this.isAnswered=a.isAnswered,this.correctIndex=a.correctIndex,this.userIndex=a.userIndex,this.isCorrect=a.isCorrect,this.toolTipContent=
a.toolTip,this.showFeedbackLink=a.showFeedbackLink,this._isLoaded?this.updateControlState():this.loadDropDown(z.hitch(this,this.updateControlState)))},updateControlState:function(){this.updateToolTipDijit();if(this.isAnswered){this.set("disabled",!0);var a=this._getItemNode(this.correctIndex);this._cloneItemNode(a,this.displayNode);this.updateAccessible(a);u.add(this.displayNode,"answered");this.isCorrect||u.add(this.displayNode,"incorrect")}else this.set("disabled",!1)},_cloneItemNode:function(a,
b){var c=H.cloneNode(a,!0);t.place(c,b,"only")},_getItemNode:function(a){return 0>a?null:this.printing&&this.isEmpty?document.getElementById(this.id+"-"+a):v.byId(this.id+"-"+a).itemNode},clear:function(){for(var a=this.dropDown.getChildren(),b,c=0;c<a.length;c++)if(" "==a[c].label){b=a[c];break}b&&(b.fillinParent.displayNode.innerHTML=b.fillinParent.placeHolderText,b.fillinParent.selectedIndex=-1,b.fillinParent.inputFilled=!1,b.fillinParent.inputChanged())}})})},"xl/player/controls/MathImage":function(){define("dijit/_Widget dijit/_WidgetBase xl/player/controls/_NeedsPlayerViewer xl/player/controls/_AltTextToolTip dojo/_base/declare xl/util/logger dojo/dom-construct dojo/_base/lang dojo/io-query require dojo/on dojo/dom-style xl/util/DijitLoadMonitor".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return n("xl.player.controls.MathImage",[q,l,h],{mathServer:"http://mathematica.intellipro.com/Math.ashx",evaluate:!1,plot:!1,plotWidth:0,plotHeight:0,mathExpr:void 0,forceImage:!1,offset:0,srcId:void 0,fontSize:15,italic:!1,baseClass:"mathimage",constructor:function(a){c.mixin(this,a)},postCreate:function(){var a;this.plot?(a={plot:this.mathExpr,imageType:"gif",width:this.plotWidth,height:this.plotHeight},this.makeMathImage(a)):this.forceImage&&(a={expr:this.mathExpr,
evaluate:this.evaluate,form:"gif",imageType:"gif",fontSize:this.fontSize,ivar:this.italic},this.makeMathImage(a));0!=this.offset&&k.set(this.domNode,0<this.offset?"marginBottom":"marginTop",(0<this.offset?2*this.offset:-2*this.offset)+"px");this.inherited(arguments);r.staticFunctions.loadingStarted(this)},makeMathImage:function(a){this.placeholder=m.create("div",{style:{width:this.plotWidth+"px",height:this.plotHeight+"px"}},this.domNode);a.srcId=this.srcId;this.img=m.create("img",{src:b.toUrl("xl/themes/tdx/images/mma/mma_wait.gif"),
"class":"mma"},this.placeholder);var f=this;setTimeout(function(){f.own(d.once(f.img,"load",c.hitch(f,f.imageLoaded)));f.img.src=f.mathServer+"?"+e.objectToQuery(a)},50)},destroy:function(){this.inherited(arguments)},imageLoaded:function(){k.set(this.placeholder,"width","");k.set(this.placeholder,"height","");this.img.alt=this.mathExpr;this.img.removeAttribute("height");this.img.removeAttribute("width");for(var a=this.getParent();a;a=a.getParent())if(a.isLayoutContainer&&a.getParent()&&!a.getParent().isLayoutContainer){a.resize();
break}r.staticFunctions.loadingCompleted(this)}})})},"xl/player/controls/InputField":function(){define("./_InputObject xl/player/controls/UIEqEditor xl/player/controls/_NeedsPlayerViewer xl/player/controls/_AccessibleName dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/keys xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dojo/on dijit/registry dojo/_base/window dojo/_base/connect dojo/dom-attr dijit/Tooltip xl/util/localization!html5player/math xl/util/DijitLoadMonitor".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x){return n("xl.player.controls.InputField",[q,s,l,h],{paletteOverride:null,accessibleNumber:1,constructor:function(){this.baseClass+=" inputField";this.intermediateChanges=!0;this._setEditorSettings()},_setEditorSettings:function(){var a=this.getEqDoc();a.smartSlash=!0;this.setEditorProps({wordShortcuts:!0,processRelationalShortcuts:!0,inputEntered:f.hitch(this,this.inputEntered)});a.getShortcutList().setCaseSensitive(!1);a.addShortcut(A.divsym_sc,
"\x26div;");a.addShortcut(A.times_sc,"\x26times;");a.addShortcut(A.sqrt_sc,"@RT{@CURSOR{}}");a.addShortcut(A.nrt_sc,"@RT{;@CURSOR{}}");a.addShortcut(A.abs_sc,"|@DUMMY{@CURSOR{}}|");a.addShortcut(A.pipe_sc,"|");a.addShortcut(A.supsub_sc,"@SUPSUB{@CURSOR{};;}");a.addShortcut(A.subsub_sc,"@SUB{@CURSOR{}}@DUMMY{}@SUB{}");a.addShortcut(A.pi_sc,"\x26pi;");a.interpretFunctions?a.addShortcut(A.pi_sc1,"\x26pi;"):a.getShortcutList().remove("pi");a.addShortcut(A.union_sc,"\x26cup;");a.addShortcut(A.int_sc,"\x26cap;");
a.addShortcut(A.inf_sc,"\x26inf;");a.addShortcut(A.empty_sc,"\x26empty;");a.addShortcut(A.angle_sc,"\x26angle;");a.addShortcut(A.cis_sc,"\x26angle;");a.addShortcut(A.cdelta_sc||"\\cdelta","\x26cdelta;");a.addShortcut(A.belongs_sc,"\x26in;");a.addShortcut(A.notbelong_sc,"\x26notin;");a.addShortcut(A.subset_sc,"\x26subset;");a.addShortcut(A.notsubset_sc,"\x26notsubset;");a.addShortcut(A.propersub_sc,"\x26propsubset;");a.addShortcut(A.notpropersub_sc,"\x26notpropsubset;");a.addShortcut(A.and_sc,"\x26and;");
a.addShortcut(A.or_sc,"\x26or;");a.addShortcut(A.not_sc,"\x26lognot;");a.addShortcut(A.grad_sc||"\\grad","\x26grad;");a.addShortcut(A.integral_sc,"@integral{}");a.addShortcut(A.dintegral_sc,"@INTEGRAL{@CURSOR{};}");a.addShortcut(A.sum_sc,"@SUM{@CURSOR{}; }");a.addShortcut(A.dsum_sc,"@SUM{@CURSOR{};}");a.addShortcut(A.hat_sc,"@HAT{@CURSOR{}}");a.addShortcut(A.overbar_sc,"@OVERBAR{@CURSOR{}}");a.addShortcut(A.dbloverbar_sc,"@OVDBBAR{@CURSOR{}}");a.addShortcut(A.alpha_sc,"\x26alpha;");a.addShortcut(A.beta_sc,
"\x26beta;");a.addShortcut(A.gamma_sc,"\x26gamma;");a.addShortcut(A.theta_sc,"\x26theta;");a.addShortcut(A.mu_sc,"\x26mu;");a.addShortcut(A.sigma_sc,"\x26sigma;");a.addShortcut(A.lambda_sc,"\x26lambda;");a.addShortcut(A.chi_sc,"\x26chi;");a.addShortcut(A.rho_sc,"\x26rho;");a.addShortcut(A.csigma_sc||"\\csigma","\x26csigma;");a.addShortcut(A.delta_sc,"\x26delta;");a.addShortcut(A.epsilon_sc,"\x26epsi;");a.addShortcut(A.eta_sc,"\x26eta;");a.addShortcut(A.kappa_sc,"\x26kappa;");a.addShortcut(A.nu_sc,
"\x26nu;");a.addShortcut(A.tau_sc,"\x26tau;");a.addShortcut(A.phi_sc,"\x26phi;");a.addShortcut(A.vphi_sc,"\x26phiv;");a.addShortcut(A.psi_sc,"\x26psi;");a.addShortcut(A.omega_sc,"\x26omega;");a.addShortcut(A.cphi_sc||"\\cphi","\x26cphi;");a.addShortcut(A.cpsi_sc||"\\cpsi","\x26cpsi;");a.addShortcut(A.comega_sc||"\\comega","\x26comega;");a.addShortcut(A.vec_sc,"@RAYR{@CURSOR{}}");a.addShortcut(A.partiald_sc,"\x26partiald;");a.addShortcut(A.tilde_sc,"\x26tilde;");a.addShortcut(A.rarrow_sc,"\x26rightarrow;");
a.addShortcut(A.larrow_sc,"\x26leftarrow;");a.addShortcut(A.biarrow_sc,"\x26leftrightarrow;");a.addShortcut(A.endash_sc,"\x26ndash;");a.addShortcut(A.emdash_sc,"\x26mdash;");a.addShortcut(A.plusminus_sc,"\x26plusminus;");a.diffEqMode&&a.addShortcut(A.mellip_sc,"\x26mellip;");a.addShortcut(A.sci_sc||"\\sci","*10@SUP{@CURSOR{}}");a.addShortcut(A.vector_sc||"\\vec","@rayr{@CURSOR{}}");a.addShortcut(A.unitvector_sc||"\\unitvector","@hat{@CURSOR{}}");a.addShortcut(A.hbar_sc||"\\hbar","\x26hbar;");a.addShortcut(A.emf_sc||
"\\emf","\x26cale;");a.addShortcut(A.pc_sc||"\\pc","%");a.addShortcut(A.deg_sc||"\\deg","\x26deg;");a.addShortcut(A.angstrom_sc||"\\angstrom","\x26angstrom;")},blurSelf:function(){var a=this.getViewer();a?a.domNode.focus():this.getEditor().blurSelf()},getValue:function(a){return this.getEqText()},changed:function(a){this.inputFilled=!this.getEditor().isEmpty();this.inputChanged();this.onChange()},onChange:function(){},buildRendering:function(){this.inherited(arguments);t.add(this.domNode,"inputField")},
postCreate:function(){this.inherited(arguments);this.on("eqeditor_blur",f.hitch(this,this.setLastFocused));this.on("eqeditor_change",f.hitch(this,this.changed));this.setEditorProps({blacklistedCharCodes:[127,178,179],filterEqText:!0});x.staticFunctions.loadingStarted(this)},setAccessibleName:function(){B.set(this.getFocusNode(),"aria-label","input field "+this.accessibleNumber+", ")},getDefaultAccessibleName:function(){return"input field "+this.accessibleNumber},startup:function(){this.inherited(arguments);
x.staticFunctions.loadingCompleted(this)},getInputData:function(){return{userResponse:this.getEqText(),accessible:this.getAccessible(),checkParens:this.getEqDoc().checkParens(),rowsFilled:this.getEqDoc().rowsFilled()}},processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;case "answerapplied":this.answeredAppliedCommand(b)}},answeredAppliedCommand:function(a){this.setEqText(a.correctAnswer)},answeredCommand:function(b){b&&(this.isAnswered=b.isAnswered,this.isCorrect=
b.isCorrect,this.toolTipContent=b.toolTip,this.showFeedbackLink=b.showFeedbackLink,b.showTolerance&&(t.add(this.domNode,"showTolerance"),this.showTolerance=!0),this.updateControlState(),this.isCorrect?this.getEqDoc().reLayout():this.setEqText(b.correctAnswer),this.overlay&&a.destroy(this.overlay))},canShowToolTip:function(){return this.isAnswered&&(!this.isCorrect||this.showTolerance)&&this.toolTipContent},updateControlState:function(){this.updateToolTipDijit();t.remove(this.domNode,"correct");t.remove(this.domNode,
"incorrect");this.isAnswered?(t.add(this.domNode,this.isCorrect?"correct":"incorrect"),this.setDisabled(!0)):this.setDisabled(!1)},updateInputState:function(a){var b=a._multipleChoice;t.remove(this.domNode,"inactive");b.isAnswered?(this.setDisabled(!0),a.isCorrectOnFail()?(t.add(this.domNode,"correct"),t.remove(this.domNode,"incorrect"),this.toolTipContent=null,this.updateToolTipDijit()):a.isCorrect()||(t.remove(this.domNode,"correct"),t.remove(this.domNode,"incorrect"),t.add(this.domNode,"inactive"),
this.clear())):a.isUnselected()&&t.add(this.domNode,"inactive")},clear:function(){this.getEditor().clear()},setLastFocused:function(){var a=this.getViewer();a&&a.storeLastFocusedInput(this)}})})},"xl/player/controls/UIEqEditor":function(){define("dojo/_base/declare dojo/on dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-class dojo/has dojo/topic xl/eqeditor/EqEditor xl/player/dialogs/MatrixSizePopup xl/player/dialogs/MatrixEditPopup".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.player.controls.UIEqEditor",
[e],{_matrixSizePopup:null,_currentMatrix:null,_currentRowInMatrix:null,_matrixEditPopup:null,useOsk:!1,topNode:null,framePanel:null,postCreate:function(){this.inherited(arguments);this.useOsk?(this.own(q(this.domNode,m("touch")?"touchstart":"click",l.hitch(this,this.editorClicked))),this.topNode=this.overlay=n.create("div",{"class":"eqEditorOverlay",innerHTML:"\x26nbsp;",style:{zIndex:1}},this.domNode,"first")):this.topNode=this.domNode;(this.framePanel=this.findParentNode("framePanel",this.domNode))&&
this.own(q(this.framePanel,"scroll",l.hitch(this,this.scrolling)))},buildRendering:function(){this.keyboardHandlerParams={useOsk:this.useOsk,isOSKEditor:this.isOSKEditor};this.inherited(arguments)},editorClicked:function(b){!this.getReadOnly()&&!this.getDisabled()&&(this.useOsk&&b.stopPropagation(),q.emit(this.domNode,"input_clicked",{bubbles:!0,cancelable:!0,sourceObject:this}),c.publish("input_clicked",this))},keyboardInput:function(b){(0==b.indexOf("@")||0==b.indexOf("\x26"))&&1<b.length?this.insertEqText(b):
this.inputCharacter(b)},setFocused:function(b){this.inherited(arguments);b&&!this.useOsk&&f.add(this.domNode,"caretVisible")},setOskFocused:function(b){b?f.add(this.domNode,"oskFocused"):f.remove(this.domNode,"oskFocused")},updateMatrixIcon:function(){for(var b=this.getCurrentRow();b&&b!==this.getEqDoc()&&b.parent&&!b.parent.isEqMat();)b=b.parent;this._currentRowInMatrix=(this._currentMatrix=b?b.parent:null)?b:null;this.isAnswered&&(this._currentMatrix=null);this.emit("MatrixFocus",{mat:this._currentMatrix})},
frameLoc:{x:0,y:0},onMatrixFocus:function(b){f.contains(this.domNode,"oskFocused")||(b&&b.mat&&!this.getReadOnly()?(this._matrixEditPopup||(this._matrixEditPopup=(new d({parent:this})).placeAt(h.body()),this.own(q(this._matrixEditPopup,"MenuClosed",l.hitch(this,this._matrixMenuClosed))),this._matrixEditPopup.startup()),setTimeout(l.hitch(this,function(){this.getCurrentMatrix()&&this._matrixEditPopup.show({inputField:this,domNode:b.mat.domNode,rowCount:b.mat.getMatRowCount(),colCount:b.mat.getMatColCount(),
dx:this.frameLoc.x,dy:this.frameLoc.y},this.framePanel)}),16)):this._matrixEditPopup&&this._matrixEditPopup.hide())},_matrixMenuClosed:function(){!this.getFocused()&&this._matrixEditPopup&&this._matrixEditPopup.hide()},onFocus:function(){this.updateMatrixIcon()},onBlur:function(){if(this._currentMatrix){var b=this;setTimeout(function(){!b.focused&&(b._matrixEditPopup&&!b._matrixEditPopup.isMenuOpen())&&b._matrixEditPopup.hide()},150)}this.updateMatrixIcon()},onUpdateCaret:function(){this._editor&&
this.updateMatrixIcon()},showMatrixSizePopup:function(c,d,a){this._matrixSizePopup||(this._matrixSizePopup=new b,this._matrixSizePopup.parentEditor=this);c?(this._matrixSizePopup.parentObject=this._currentMatrix,this._matrixSizePopup.isDeterminant=this._currentMatrix.isDetx()):(this._matrixSizePopup.parentObject=this._editor,this._matrixSizePopup.isDeterminant=a);this._matrixSizePopup.eqText=d;this._matrixSizePopup.show({domNode:this.domNode,inputField:this})},hideMatrixSizePopup:function(){this._matrixSizePopup&&
this._matrixSizePopup.hide()},getCurrentMatrix:function(){return this._currentMatrix},getCurrentMatrixRowIndex:function(){if(this._currentMatrix&&this._currentRowInMatrix){var b=this._currentMatrix.getChildIndex(this._currentRowInMatrix);return Math.floor(b/this._currentMatrix.getMatColCount())}return-1},getCurrentMatrixColIndex:function(){return this._currentMatrix&&this._currentRowInMatrix?this._currentMatrix.getChildIndex(this._currentRowInMatrix)%this._currentMatrix.getMatColCount():-1},matrixDeleteRow:function(b,
c){var a=this.getCurrentMatrixColIndex();0>a||(b.removeRow(c),a=b.getMatEqRow(Math.min(c,b.getMatRowCount()-1),a),this.setCaretPosition(a,0,!0),this.updateCaret())},matrixDeleteCol:function(b,c){var a=this.getCurrentMatrixRowIndex();0>a||(b.removeCol(c),a=b.getMatEqRow(a,Math.min(c,b.getMatRowCount()-1)),this.setCaretPosition(a,0,!0),this.updateCaret())},matrixSetSize:function(b,c,a){var d=this.getCurrentMatrixRowIndex(),e=this.getCurrentMatrixColIndex(),f=d>=c||e>=a;b.setMatRowCount(c);b.setMatColCount(a);
f&&(b=b.getMatEqRow(Math.min(d,b.getMatRowCount()-1),Math.min(e,b.getMatRowCount()-1)),this.setCaretPosition(b,0,!0));this._editor.focused=!0;this.updateCaret()},updateCaret:function(){this.inherited(arguments);this.updateMatrixIcon()},_editMatrix:function(b){this.setChanged(!0);b&&this.saveUndo();var c=this.getCurrentMatrix();if(c){var a=this.getCurrentMatrixRowIndex(),d=this.getCurrentMatrixColIndex();switch(b){case "setsize":this.showMatrixSizePopup(!0);break;case "insertrowabove":c.addRow(a);
this.focusMatrix(c,a,d);break;case "insertrowbelow":c.addRow(a+1);this.focusMatrix(c,a,d+1);break;case "insertcolbefore":c.addCol(d);this.focusMatrix(c,a,d);break;case "insertcolafter":c.addCol(d+1);this.focusMatrix(c,a,d+1);break;case "deleterow":c.removeRow(a);this.focusMatrix(c,a,d,!0,!1);break;case "deletecol":c.removeCol(d);this.focusMatrix(c,a,d,!1,!0);break;default:this.focusMatrix(c,a,d)}this.doLayout();this.resetMultiSelect();this.focus()}},focusMatrix:function(b,c,a,d,e){if(b){var f=!1,
h=b.getMatEqRow(c,a);null!=h?(this.setCurrentRow(h),f=!0):d?(h=b.getMatEqRow(c-1,a),null!=h&&(this.setCurrentRow(h),f=!0)):e&&(h=b.getMatEqRow(c,a-1),null!=h&&(this.setCurrentRow(h),f=!0));f||this.setCurrentRow(this.getEqDoc())}},findParentNode:function(b,c){if(!c.parentNode)return null;for(var a=c.parentNode;!f.contains(a,b);){if(!a.parentNode)return null;a=a.parentNode}return a},scrolling:function(){this._matrixEditPopup&&this._currentMatrix&&this._matrixEditPopup.reposition({inputField:this,domNode:this._currentMatrix.domNode,
rowCount:this._currentMatrix.getMatRowCount(),colCount:this._currentMatrix.getMatColCount(),dx:this.frameLoc.x,dy:this.frameLoc.y},this.framePanel)},destroy:function(){this.inherited(arguments);this._matrixSizePopup&&this._matrixSizePopup.destroy();this._matrixEditPopup&&this._matrixEditPopup.destroy()}})})},"xl/player/dialogs/MatrixSizePopup":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/html dojo/query dojo/on xl/dijit-bootstrap/Button dojo/text!./templates/MatrixSizePopup.html ./BaseDialog xl/player/controls/NumberSpinner xl/util/localization!html5player/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.dialogs.MatrixSizePopup",[d],{parentObject:null,_sampleMatrix:null,eqEditor:null,rows:null,columns:null,contentString:b,isModal:!0,_events:null,eqText:null,isDeterminant:!1,parentEditor:null,baseClass:"matrixSizeBaseDialog",constructor:function(){this._events=[]},destroy:function(){this.inherited(arguments);this._sampleMatrix=this.parentObject=null;this.eqEditor&&this.eqEditor.destroy();this._events.forEach(function(a){a.remove()})},postCreate:function(){this.inherited(arguments);
this._events.push(c(this.rows,"change",n.hitch(this,this._changeSize)));this._events.push(c(this.columns,"change",n.hitch(this,this._changeSize)))},setupPopup:function(){this.inherited(arguments)},setupFooter:function(){this.addButton({label:r.cancel,onClick:n.hitch(this,this.cancel)});this.addButton({label:r.ok,onClick:n.hitch(this,this.ok)},null,!1,!0);this.inherited(arguments)},ok:function(){this.parentObject&&(this.parentObject.isEqEditor()?(this.parentObject.insertEqText(this._sampleMatrix.getEqText()),
this.parentObject.getEqDoc().invalidateAndLayout()):this.parentObject.isEqMat()&&(this.parentObject.setMatColCount(this.columns.get("value")),this.parentObject.setMatRowCount(this.rows.get("value")),this.parentObject.getEqDocument().invalidateAndLayout()));this.hide();this.parentEditor&&(this.parentEditor.focus(),this.parentEditor.updateMatrixIcon())},cancel:function(){this.inherited(arguments);this.hide();this.parentEditor&&(!this.parentEditor._beingDestroyed&&!this.parentEditor.getEditor()._beingDestroyed)&&
(this.parentEditor.updateMatrixIcon(),this.parentEditor.focus())},setupHeader:function(){this.inherited(arguments)},setupStyles:function(){this.inherited(arguments)},setupContent:function(){this.inherited(arguments)},_changeSize:function(a){this._checkConstraints();this.parentObject.isEqMat()&&(this._sampleMatrix=this.eqEditor.insertEqText(this.parentObject.getEqText())[0]);this._sampleMatrix.setMatColCount(this.columns.get("value"));this._sampleMatrix.setMatRowCount(this.rows.get("value"));this.eqEditor.clear();
this.eqEditor.insertEqText(this._sampleMatrix.getEqText());this._size();this._position()},_checkConstraints:function(){var a=this.columns.get("value"),b=this.rows.get("value");a<this.columns.constraints.min||""==a?this.columns.set("value",this.columns.constraints.min):(a>this.columns.constraints.max||""==a)&&this.columns.set("value",this.columns.constraints.max);b<this.rows.constraints.min||""==b?this.rows.set("value",this.rows.constraints.min):(b>this.rows.constraints.max||""==b)&&this.rows.set("value",
this.rows.constraints.max)},onShown:function(){this.eqEditor&&this.eqEditor.clear();this.isDeterminant?(this.titleNode.innerHTML=r.matrix_dialog_det_title,this.contentHeader.innerHTML=r.matrix_dialog_det_text):(this.titleNode.innerHTML=r.matrix_dialog_title,this.contentHeader.innerHTML=r.matrix_dialog_text);this._sampleMatrix=null;var a=2,b=2;this.parentObject.isEqMat()?(a=Math.min(this.parentObject.getMatRowCount(),10),b=Math.min(this.parentObject.getMatColCount(),10),this._sampleMatrix=this.eqEditor.insertEqText(this.parentObject.getEqText())[0]):
(this._sampleMatrix=this.parentObject.createMatrix(a,b),this._sampleMatrix=this.eqEditor.insertEqText(this.eqText)[0]);this.rows&&this.rows.set("value",a);this.columns&&this.columns.set("value",b)}})})},"xl/player/controls/NumberSpinner":function(){define("dijit/form/NumberSpinner dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/_base/lang dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry dojo/text!./templates/NumberSpinner.html dojo/on dojo/keys dijit/Tooltip dojo/has".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){return q("xl.player.controls.NumberSpinner",[s],{templateString:k,restrictInput:!1,postCreate:function(){this.inherited(arguments);u("mobile")&&this.own(r(this.textbox,"keypress",f.hitch(this,this._onKeyPress)))},_onKeyDown:function(a){this.inherited(arguments);if(this.restrictInput&&!this.disabled&&!this.readOnly&&!n.some([46,8,9,27,13],function(b){return b==a.keyCode})&&!(n.some([65,67,86,88,90],function(b){return b==a.keyCode})&&!0===a.ctrlKey||33<=a.keyCode&&
40>=a.keyCode))if(a.shiftKey||(48>a.keyCode||57<a.keyCode)&&(96>a.keyCode||105<a.keyCode))a.preventDefault(),a.stopPropagation()},_onKeyPress:function(a){if((48>a.keyCode||57<a.keyCode)&&(96>a.keyCode||105<a.keyCode))a.preventDefault(),a.stopPropagation()}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(s,q,l,h){return s("dijit.form.NumberSpinner",[l,h.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(h,
f){var m=this.constraints,c=isNaN(h),e=!isNaN(m.max),b=!isNaN(m.min);c&&0!=f&&(h=0<f?b?m.min:e?m.max:0:e?this.constraints.max:b?m.min:0);var d=h+f;if(c||isNaN(d))return h;e&&d>m.max&&(d=m.max);b&&d<m.min&&(d=m.min);return d},_onKeyDown:function(h){if(!this.disabled&&!this.readOnly&&(h.keyCode==q.HOME||h.keyCode==q.END)&&!h.ctrlKey&&(!h.altKey&&!h.metaKey)&&"undefined"!=typeof this.get("value")){var f=this.constraints[h.keyCode==q.HOME?"min":"max"];"number"==typeof f&&this._setValueAttr(f,!1);h.stopPropagation();
h.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("dijit.form._Spinner",c,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:e,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},
adjust:function(b){return b},_arrowPressed:function(c,e,f){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),e*f),!1),b.selectInputText(this.textbox,this.textbox.value.length))},_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(b,c,e){var a=this.smallDelta;c==this.textbox&&(c=e.keyCode,a=c==q.PAGE_UP||c==q.PAGE_DOWN?this.largeDelta:this.smallDelta,c=c==q.UP_ARROW||c==q.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==b?this._arrowReleased(c):
this._arrowPressed(c,c==this.upArrowNode?1:-1,a)},_wheelTimer:null,_mouseWheeled:function(b){b.stopPropagation();b.preventDefault();var c=b.wheelDelta/120;Math.floor(c)!=c&&(c=0<b.wheelDelta?1:-1);b=b.detail?-1*b.detail:c;if(0!==b){var e=this[0<b?"upArrowNode":"downArrowNode"];this._arrowPressed(e,b,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(e)},50)}},_setConstraintsAttr:function(b){this.inherited(arguments);this.focusNode&&
(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(b,c){this.focusNode.setAttribute("aria-valuenow",b);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,n.wheel,l.hitch(this,"_mouseWheeled")),
m.addListener(this.upArrowNode,this.textbox,{keyCode:q.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),m.addListener(this.downArrowNode,this.textbox,{keyCode:q.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),m.addListener(this.upArrowNode,this.textbox,{keyCode:q.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},
this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),m.addListener(this.downArrowNode,this.textbox,{keyCode:q.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(s,q,l){return s("dijit.form.RangeBoundTextBox",l,{rangeMessage:"",rangeCheck:function(h,l){return("min"in
l?0<=this.compare(h,l.min):!0)&&("max"in l?0>=this.compare(h,l.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var h=this.get("value");if(null==h)return!1;var l=!1;"min"in this.constraints&&(l=this.constraints.min,l=0>this.compare(h,"number"==typeof l&&0<=l&&0!=h?0:l));!l&&"max"in this.constraints&&(l=this.constraints.max,l=0<this.compare(h,"number"!=typeof l||0<l?l:0));return l},_isValidSubset:function(){return this.inherited(arguments)&&
!this._isDefinitelyOutOfRange()},isValid:function(h){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(h))},getErrorMessage:function(h){var l=this.get("value");return null!=l&&""!==l&&("number"!=typeof l||!isNaN(l))&&!this.isInRange(h)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=q.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},
"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(s,q,l,h){return s("dijit.form.MappedTextBox",h,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(h){return h.toString?h.toString():""},toString:function(){var h=this.filter(this.get("value"));return null!=h?"string"==typeof h?h:this.serialize(h,this.constraints):""},validate:function(){this.valueNode.value=
this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=l.place("\x3cinput type\x3d'hidden'"+(this.name&&!q("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(s,q,l,h,n,f){var m;return m=s("dijit.form.ValidationTextBox",h,{templateString:f,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,e){e!=m.prototype[c]&&(q.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",e))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",
c);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(c,e){return RegExp("^(?:"+this._computeRegexp(e)+")"+(this.required?"":"?")+"$").test(c)&&(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,e))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(c){return(this.trim?/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,e="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?c:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?e:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var e=
"",b=this.disabled||this.isValid(c);b&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),f=!b&&c&&this._isValidSubset();this._set("state",b?"":((!this._hasBeenBlurred||c)&&d||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&c)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",b?"false":"true");"Error"==this.state?(this._maskValidSubsetError=c&&f,e=this.getErrorMessage(c)):"Incomplete"==this.state?(e=this.getPromptMessage(c),this._maskValidSubsetError=
!this._hasBeenBlurred||c):d&&(e=this.getPromptMessage(c));this.set("message",e);return b},displayMessage:function(c){c&&this.focused?n.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):n.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(c){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){!c.locale&&
this.lang&&(c.locale=this.lang);this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",c);this._refreshState()},_computeRegexp:function(c){var e=this.pattern;"function"==typeof e&&(e=e.call(this,c));if(e!=this._lastRegExp){var b="";this._lastRegExp=e;".*"!=e&&e.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(c){switch(c.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":b+=c;break;case ")":b+="|$)";break;default:b+=
"(?:"+c+"|$)"}});try{"".search(b)}catch(d){b=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+b+")$"}return e},postMixInProperties:function(){this.inherited(arguments);this.messages=l.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",
c);this._refreshState()},_setMessageAttr:function(c){this._set("message",c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(s,q,l,h){var n=s("dijit.form.NumberTextBoxMixin",null,{pattern:function(f){return"("+(this.focused&&this.editOptions?this._regExpGenerator(q.delegate(f,
this.editOptions))+"|":"")+this._regExpGenerator(f)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:l.format,_regExpGenerator:l.regexp,postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(f){var h="number"==typeof f.places?f.places:0;h&&h++;"number"!=typeof f.max&&(f.max=9*Math.pow(10,15-h));"number"!=typeof f.min&&(f.min=-9*Math.pow(10,15-h));this.inherited(arguments,[f]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&
this.set("value",this.value)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var f=this.get("value");"number"==typeof f&&!isNaN(f)&&(f=this.format(f,this.constraints),void 0!==f&&(this.textbox.value=f));this.inherited(arguments)}},format:function(f,h){var c=String(f);if("number"!=typeof f)return c;if(isNaN(f))return"";if(!("rangeCheck"in this&&this.rangeCheck(f,h))&&!1!==h.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(h=q.mixin({},h,this.editOptions));return this._formatter(f,
h)},_parser:l.parse,parse:function(f,h){var c=this._parser(f,q.mixin({},h,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(f,h));return c},_getDisplayedValueAttr:function(){var f=this.inherited(arguments);return isNaN(f)?this.textbox.value:f},filter:function(f){return null==f||""===f?NaN:this.inherited(arguments)},serialize:function(f,h){return"number"!=typeof f||isNaN(f)?"":this.inherited(arguments)},_setBlurValue:function(){var f=q.hitch(q.delegate(this,
{focused:!0}),"get")("value");this._setValueAttr(f,!0)},_setValueAttr:function(f,h,c){if(void 0!==f&&void 0===c)if(c=String(f),"number"==typeof f)if(isNaN(f))c="";else{if("rangeCheck"in this&&this.rangeCheck(f,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else f?f=void 0:(c="",f=NaN);this.inherited(arguments,[f,h,c])},_getValueAttr:function(){var f=this.inherited(arguments);if(isNaN(f)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&
RegExp("^"+l._realNumberRegexp(q.delegate(this.constraints))+"$").test(this.textbox.value))return f=Number(this.textbox.value),isNaN(f)?void 0:f}else return f},isValid:function(f){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var h=this.get("value");return!isNaN(h)&&this.rangeCheck(h,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}});s=s("dijit.form.NumberTextBox",[h,n],{baseClass:"dijitTextBox dijitNumberTextBox"});
s.Mixin=n;return s})},"xl/player/dialogs/MatrixEditPopup":function(){define("dojo/_base/declare dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/html dojo/query dojo/dom-geometry dijit/popup dijit/_WidgetBase dijit/Menu dijit/MenuItem dijit/MenuSeparator dijit/place dojo/window dijit/_HasDropDown dijit/form/_FormWidgetMixin xl/util/localization!html5player/popup xl/player/controls/_NeedsPlayerViewer xl/util/_ToolPaletteMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/MatrixEditPopup.html xl/player/dialogs/ConfirmationDialog xl/ZOrder/ZOrderManager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E){return s("xl.player.dialogs.MatrixEditPopup",[d,A,x,v,B,F,D],{templateString:w,baseClass:"xlMatrixEditPopup",position:["above","after","below","before"],dropDownPosition:["after-centered","before-centered","below","above"],_menuCreated:!1,_menu:null,_currentNode:null,_parent:null,_iconNode:null,_menuOpen:!1,constructor:function(a){a&&a.parent&&(this._parent=a.parent)},postCreate:function(){this.inherited(arguments)},_createMenu:function(b){this.get("id");
var c=this;this.dropDown.onOpen=function(){c._onMenuOpen(b)};this.dropDown.onClose=function(){c._onMenuClose()};this.dropDown.addChild(new r({label:z.matrix_insertrowabove,onClick:function(){c._menuItemClicked("insertrowabove")}}));this.dropDown.addChild(new r({label:z.matrix_insertrowbelow,onClick:function(){c._menuItemClicked("insertrowbelow")}}));this.dropDown.addChild(new a);this.dropDown.addChild(new r({label:z.matrix_insertcolbefore,onClick:function(){c._menuItemClicked("insertcolbefore")}}));
this.dropDown.addChild(new r({label:z.matrix_insertcolafter,onClick:function(){c._menuItemClicked("insertcolafter")}}));this.dropDown.addChild(new a);this.dropDown.addChild(new r({label:z.matrix_deleterow,onClick:function(){c._confirmDelete("deleterow")}}));this.dropDown.addChild(new r({label:z.matrix_deletecol,onClick:function(){c._confirmDelete("deletecol")}}));this.dropDown.addChild(new a);this.dropDown.addChild(new r({label:z.matrix_setsize,onClick:function(){c._menuItemClicked("setsize")}}));
this._menuCreated=!0},_confirmDelete:function(a){var b=this;C.displayText(z.matrix_warningdelete,z.confirmation,[C.BUTTON.OK,C.BUTTON.CANCEL]).then(function(c){c&&c.command==C.COMMAND.OK?b._menuItemClicked(a):b._menuItemClicked(null)})},_menuItemClicked:function(a){this._currentNode._editMatrix(a)},show:function(a,b){var c=a.domNode,d=a.inputField;if(!(null==c||null==d)){this._aroundNode=c;this._menuCreated||this._createMenu(a);this.dropDown.getChildren()[6].set("disabled",2>a.rowCount);this.dropDown.getChildren()[7].set("disabled",
2>a.colCount);var f=e.position(c),c=a.dx+f.x+f.w-16,f=a.dy+f.y+f.h+5;if(!b||!this._isPopupOutsideRegion(b,c,f))E.bringToTop(this.domNode),l.remove(this.domNode,"hidden"),!d.focused&&!this._menuOpen&&l.add(this.domNode,"hidden"),e.setMarginBox(this.domNode,{l:c,t:f}),u.scrollBottomIntoView(this.domNode,void 0,d.domNode),this._currentNode=d}},hide:function(){this.domNode&&l.add(this.domNode,"hidden")},destroy:function(){this.inherited(arguments);this._currentNode=null;this.dropDown&&this.dropDown.destroy()},
_onMenuOpen:function(a){this._menuOpen=!0;n.set(this.dropDown._popupWrapper,"margin",a.dx+"px");this.emit("MenuOpened");this.dropDown.domNode.focus()},_onMenuClose:function(){this._menuOpen=!1;this.emit("MenuClosed")},onMenuOpened:function(){},onMenuClosed:function(){},isMenuOpen:function(){return this._menuOpen},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&!a&&(this._popupStateNode.setAttribute("aria-expanded",
"false"),b.close(this.dropDown),this._opened=!1)},reposition:function(a,b){var c=a.domNode,d=a.inputField;if(!(null==c||null==d)){this._aroundNode=c;var f=e.position(c),c=a.dx+f.x+f.w-16,f=a.dy+f.y+f.h+5;if(b){if(this._isPopupOutsideRegion(b,c,f)){this.hide();return}if(l.contains(this.domNode,"hidden")){this.show(a);return}}e.setMarginBox(this.domNode,{l:c,t:f});this._currentNode=d}},_isPopupOutsideRegion:function(a,b,c){a=e.position(a);return c<a.y||c>a.y+a.h?!0:b<a.x||b>a.x+a.w?!0:!1}})})},"xl/player/controls/AccessibleInputField":function(){define("./_InputObject dijit/_WidgetBase xl/player/controls/_NeedsPlayerViewer ./_AccessibleName xl/player/controls/InputField xl/eqeditor/AssessmentsComponents xl/util/eqUtils dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-prop dojo/on dojo/_base/connect dojo/keys dojo/_base/event dijit/_FocusMixin xl/util/stringUtils dojo/dom-attr dijit/_Container dijit/form/TextBox xl/util/_FormWidgetKeyboardMixin xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C){var E=f.EquationClasses.EqDocument;return c("xl.player.controls.AccessibleInputField",[q,z,s,A,w,l,h],{baseClass:"eqAccessibleInputField",_inputTextBox:null,eqText:null,_accessible:!0,_eqDocument:null,_inputField:null,_params:null,_answerApplied:!1,accessibleNumber:1,constructor:function(a){this._eqDocument=new E;this._eqDocument.interpretFunctions=!0;this._eqDocument.setShortcuts(E.DefaultShortcuts);this._eqDocument.setAccessible(this._accessible);
this._eqDocument.showAccessibleSymbolNames=this._accessible;a&&e.mixin(this,a);a.docSettings&&e.mixin(this._eqDocument,a.docSettings);this._params=a},postCreate:function(){this.addChild(this._inputTextBox);if(this.srcNodeRef){var b=a.get(this.srcNodeRef,"textContent"),b=this._getEqPlainText(b.trim());this._inputTextBox.set("value",b)}this.own(t(this._inputTextBox,"keydown",e.hitch(this,this._onKeyDown)),t(this._inputTextBox,"change",e.hitch(this,this._onChange)))},setAccessibleName:function(){var a=
this.isEmpty()?C["acc.instructionText"]:this._inputTextBox.value;F.set(this._inputTextBox,"aria-label","input field "+this.accessibleNumber+", "+a)},getFocusNode:function(){return this._inputTextBox.focusNode},getDefaultAccessibleName:function(){return"input field "+this.accessibleNumber},buildRendering:function(){this.domNode=k.create("span");this.inherited(arguments);this.focusNode=this._inputTextBox=new x({intermediateChanges:!0})},_encodeRawInput:function(a){var b="";this._eqDocument.simpleEqText=
!1;for(var c=0;c<a.length;c++){var d=a.charAt(c);try{var e=this._eqDocument.createNode(d);e.setEqDocument(this._eqDocument);b+=e.getEqText()}catch(f){b+=d}}return b},_onKeyDown:function(a){switch(a.keyCode){case v.ENTER:D.stop(a);t.emit(this.domNode,"input_entered",{bubbles:!0,cancelable:!0,sourceObject:this});break;case v.DELETE:case v.BACKSPACE:this.doChanged()}},doChanged:function(){this.inputFilled=!this.isEmpty();this.inputChanged();this.setAccessibleName();t.emit(this.domNode,"eqeditor_change",
{bubbles:!0,cancelable:!0,eqEditor:this})},_onChange:function(){this.doChanged()},isEmpty:function(){return""===this._inputTextBox.value},getInputData:function(){return{userResponse:this.get("eqText"),accessible:!0,checkParens:!0,rowsFilled:!this.isEmpty()}},destroy:function(){this.inherited(arguments);this._inputTextBox&&this._inputTextBox.destroyRecursive();this._inputField&&this._inputField.destroyRecursive()},processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;
case "answerapplied":this.answeredAppliedCommand(b)}},answeredCommand:function(a){if(a){null==this._inputField&&this._createNewInputField();this.isAnswered=a.isAnswered;this.isCorrect=a.isCorrect;this.toolTipContent=a.toolTip;this.showFeedbackLink=a.showFeedbackLink;this.isCorrect&&!this._answerApplied&&this._inputField.setEqText(this.get("eqText"));this._inputField.answeredCommand(a);if(this.isAnswered){try{this.isCorrect||this._eqDocument.parse(a.userResponse)}catch(b){}this._setInputAccessibleLabel(this.isCorrect)}this.updateControlState()}},
answeredAppliedCommand:function(a){this.set("eqText",a.correctAnswer);this._answerApplied=!0;a.isAnswered&&(null==this._inputField&&this._createNewInputField(!0),this._inputField.answeredAppliedCommand(a))},updateControlState:function(){r.remove(this.domNode,"correct");r.remove(this.domNode,"incorrect");this.isAnswered&&(r.add(this.domNode,this.isCorrect?"correct":"incorrect"),b.set(this._inputTextBox.domNode,"display","none"),b.set(this._inputField.domNode,"display",""))},updateInputState:function(a){var b=
a._multipleChoice,c=a.isCorrect();this._params.id&&(b.isAnswered&&!c)&&(null!=this._inputField&&this._createNewInputField(),this.isAnswered=b.isAnswered,this.isCorrect=c,this._setInputAccessibleLabel(c),this.updateControlState(),this._inputField.set("disabled",!0));b.isAnswered&&a.isCorrectOnFail()&&(this._inputField.toolTipContent=null,this._inputField.updateToolTipDijit())},_createNewInputField:function(a){delete this._params.id;this._inputField=new n(this._params);this._inputField.id=this.id;this._inputField.startup();
a&&b.set(this._inputField.domNode,"display","none");k.place(this._inputField.domNode,this.domNode);this._inputField.setAccessible(this._accessible)},_setInputAccessibleLabel:function(a){var b=this._getEqPlainText(this._inputField.getValue());try{a?this._inputField.set("accessibleLabel",B.substitute(C["acc.correct_freeresponse"],[b])):this._inputField.set("accessibleLabel",B.substitute(C["acc.incorrect_freeresponse"],[b,this._getEqPlainText(this._eqDocument.getEqText())]))}catch(c){}},_setEqTextAttr:function(a){a=
m.ParseIn(a);this._inputTextBox.set("value",a)},_getEqTextAttr:function(){var a=this._inputTextBox.get("value");try{this._eqDocument.parse(a),a=this._eqDocument.getEqText()}catch(b){}return a},insertEqText:function(a,b){this._inputTextBox.set("value",a)},_onFocus:function(){this.inherited(arguments);r.add(this.domNode,"focused")},_onBlur:function(){this.inherited(arguments);r.remove(this.domNode,"focused")},_getEqPlainText:function(a){try{for(var b=(new f.EquationClasses.EqParser(this._eqDocument,
a)).parse(),c="",d=0;d<b.length;d++)c+=b[d].getAccessiblePlainText();return c}catch(e){return a}},clear:function(){this._inputTextBox.set("value","")}})})},"xl/player/PlayerMenu":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_HasDropDown dojo/Evented dijit/form/_FormWidgetMixin dojo/text!./templates/PlayerMenu.html dojo/_base/declare xl/util/logger dojo/topic dojo/has dojo/_base/kernel dojo/_base/config dijit/Menu dijit/MenuItem dijit/MenuSeparator".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){return c("xl.player.PlayerMenu",[s,q,l,h,n,f],{templateString:m,baseClass:"xlPlayerMenu",getPlayerVersion:function(){this.emit("commandSent","about",{dojoVersion:k.version.toString()})},loadAndOpenDropDown:function(){var a=this.inherited(arguments),b=this;a.then(function(){(d("ie")||d("trident"))&&setTimeout(function(){b.dropDown.focus()},100)});return a}})})},"xl/player/controls/RolloverStep":function(){define("./_BasePopupStep dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/html dijit/registry dojo/dom-geometry dijit/Tooltip dojo/touch dojo/on dojo/has dojo/dom-class".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){q("xl.player.controls.RolloverStep",[s],{baseClass:"xlRolloverStep",closeHandler:null,destroy:function(){this.inherited(arguments);dijit._masterTT&&(r.remove(dijit._masterTT.connectorNode,"xlRolloverTooltip"),r.remove(dijit._masterTT.containerNode,"xlRolloverTooltip"));this.tooltip&&this.tooltip.destroyRecursive();this.closeHandler&&this.closeHander.remove()},setupPopup:function(){this.tooltip=new e({connectId:this._buttonNode,label:void 0,position:["above","before",
"below","after"]});this.tooltip.baseOpen=this.tooltip.open;this.tooltip.open=h.hitch(this,this.showTooltip);l.place(this.containerNode,this.tooltip.domNode)},showTooltip:function(a){if(this._contentLoaded&&!this._loadingError)this.open(a);else{var b=this;this.loadContent().then(function(){setTimeout(function(){b.open(a)},50)})}},isTouch:function(){return k("touch")},open:function(a){this.tooltip.baseOpen(a);r.add(dijit._masterTT.connectorNode,"xlRolloverTooltip");r.add(dijit._masterTT.containerNode,
"xlRolloverTooltip");this._buttonNode.setAttribute("aria-label",dijit._masterTT.containerNode.innerText);d(this.domNode,"click",h.hitch(this,this._onMouseClick));dojo.connect(a,"mouseover",function(){r.add(dijit._masterTT.connectorNode,"xlRolloverTooltip");r.add(dijit._masterTT.containerNode,"xlRolloverTooltip")});dojo.connect(a,"mouseleave",function(){setTimeout(function(){r.remove(dijit._masterTT.connectorNode,"xlRolloverTooltip");r.remove(dijit._masterTT.containerNode,"xlRolloverTooltip")},dijit._masterTT.fadeOut.duration)});
if(this.isTouch()){var c=this;this.closeHandler=d(window.document,b.press,h.hitch(this,function(){c.tooltip.close();c.closeHandler.remove();c.closeHandler=null;c._buttonNode.blur()}))}},_onMouseClick:function(){r.remove(dijit._masterTT.connectorNode,"xlRolloverTooltip");r.remove(dijit._masterTT.containerNode,"xlRolloverTooltip")},loadSteps:function(a){this.inherited(arguments);l.empty(this.tooltip.domNode);this._buttonNode.setAttribute("role","tooltip");this._buttonNode.setAttribute("title","");var b=
l.create("div",{"class":"offScreen"},window.document.body,"last");n.forEach(a,h.hitch(this,function(a){var c=l.create("span",null,b);f.set(c,a,{parseContent:!0})}));l.place(b,this.tooltip.domNode);r.remove(b,"offScreen");this._contentLoaded=!0}})})},"xl/player/controls/_BasePopupStep":function(){define("dijit/_Widget dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/_FormWidgetMixin ./_NeedsPlayerViewer dojo/text!./templates/PopupStep.html dojo/_base/declare dojo/html dojo/dom-class dojo/dom-attr dijit/Tooltip dojo/Deferred".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){return m("xl.player.controls._BasePopupStep",[q,l,h,n],{templateString:f,type:"hyperlink",iconIndex:0,text:"\x26nbsp;",isActive:!1,_contentLoaded:!1,_loadingError:!1,postCreate:function(){"hyperlink"==this.type?this.isActive?(c.set(this._buttonNode,this.text),e.add(this._buttonNode,"xlPopupLink"),b.set(this._buttonNode,"aria-haspopup","true")):c.set(this._dummyTextHolder,this.text):"button"==this.type&&this.isActive&&(e.add(this._buttonNode,"xlPopupIcon"),e.add(this._buttonNode,
"xlPopupIconStyle"+this.iconIndex),b.set(this._buttonNode,"aria-haspopup","true"),b.set(this._buttonNode,"aria-label",this.title));this.tooltip&&new d({connectId:this._buttonNode,label:this.title,position:["below","after","above","before"]});this.setupPopup()},setupPopup:function(){},loadContent:function(){return this._contentLoaded&&!this._loadingError?(new k).resolve():this.getViewer().postCommand("getpopupstepcontent",{name:this.name,clientId:this.id})},loadSteps:function(b,a){this._loadingError=
a}})})},"xl/player/controls/PopupStep":function(){define("./_BasePopupStep xl/player/dialogs/ResizableDialog dojo/_base/declare dojo/dom-class dojo/window dojo/dom-construct dojo/dom-geometry dojo/_base/lang dojo/on dojo/_base/array dojo/html dojo/dom-style dijit/registry dijit/form/Button xl/dijit-bootstrap/Button dijit/layout/ContentPane dojo/has dojo/keys dojo dojo/dom-attr".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B){return l("xl.player.controls.PopupStep",[s],{baseClass:"xlPopupStep",
setupPopup:function(){var a=v("ios")?n.getBox(this.getViewer().ownerDocument):null;this.dialog=new q({title:this.title,isCustomTitle:this.isCustomTitle,canMinimize:!0,_endDrag:function(){},viewportSize:a,minHeight:100,minWidth:600});this.own(this.dialog.on("resize",c.hitch(this,this.dialogResized)));h.add(this.dialog.domNode,"xlPopupStepDialog");B.set(this.dialog,{tabIndex:-1,"aria-label":this.title});this.contentPane=new u;this.contentPane.placeAt(this.dialog.containerNode,"only");this.contentDiv=
f.create("div",{"class":"xlPopupStepContent dijitDialogPaneContentArea",innerHTML:this.containerNode.innerHTML},this.contentPane.containerNode);this.containerNode.setAttribute("aria-hidden",!0);var a={},b=m.getPadExtents(this.contentPane.domNode),d=m.getMarginExtents(this.contentPane.domNode);0<this.width&&(a.w=7*Math.max(this.width,38)+b.l+b.r+d.l+d.r);0<this.height&&(a.h=7*this.height+b.t+b.b+d.t+d.b);this.hidePrintButton||this.dialog.addButton({label:this.printLabel},"print");this.dialog.addButton({label:this.doneLabel},
"done");this.contentPane.startup();this.contentPane.resize(a);this.dialog.setupDialog();this.dialog.buttonClicked=c.hitch(this,this.dialogButtonClicked);e(this.dialog,"keypress",c.hitch(this,this.dialogKeyDown));e(this._buttonNode,"click",c.hitch(this,this.buttonClicked));e(this._buttonNode,"keyup",c.hitch(this,this.buttonKeyUp))},dialogKeyDown:function(a){if(a.keyCode===D.TAB){var b=document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||
null;if(null!=b){var c=this.dialog.getDialogButtons(),d=b.getAttribute("type"),e=b.getAttribute("data-dojo-attach-point"),c=c[c.length-1].domNode.innerHTML;a.shiftKey?"minimizeText"===e&&(this.dialog.tabKeyPress("minimizeText"),a.preventDefault()):"button"===d&&b.textContent===c&&(this.dialog.tabKeyPress(c),a.preventDefault())}}},buttonClicked:function(){this.dialog.show();(!this._contentLoaded||this._loadingError)&&this.loadContent()},buttonKeyUp:function(a){a.stopPropagation();(a.keyCode===D.SPACE||
a.keyCode===D.ENTER)&&this.buttonClicked()},_onDialogShow:function(){var a=m.position(this.dialog.containerNode);m.position(this.contentDiv).h>a.h-70&&k.set(this.contentDiv,"height",a.h-70+"px")},dialogButtonClicked:function(a,b){"print"===b&&this.printButtonClicked();"done"===b&&this.doneButtonClicked();"continue"===b&&this.continueButtonClicked()},printButtonClicked:function(){var a=this.getViewer(),b=k.get(this.dialog.domNode,"left"),c=document.body.style.height;k.set(this.dialog.domNode,"left",
"-10000px");var d=document.title,e=h.contains(a.domNode,"hidePrinted");try{document.title=this.printTitle?this.printTitle:this.title;a.printErrorMessageDiv&&h.add(a.printErrorMessageDiv,"hidePrinted");a.parentProblem&&a.parentProblem.printErrorMessageDiv&&h.add(a.parentProblem.printErrorMessageDiv,"hidePrinted");e||h.add(a.domNode,"hidePrinted");for(var m=this.contentDiv.cloneNode(!0),r=m.querySelectorAll("[widgetid],[id]"),t=[],u=0;u<r.length;u++)t.push(r[u]);t.forEach(function(a){z.removeAttr(a,
"id");z.removeAttr(a,"widgetid")});this.PopupStepPrintDiv=f.create("div",{"class":"popupStepPrintDiv"},document.body);this.PopupStepPrintDiv.appendChild(m);window.print()}finally{var l=this,m=v("android")||v("ios")?1E3:10;setTimeout(function(){z.destroy(l.PopupStepPrintDiv);l.PopupStepPrintDiv=null;e||h.remove(a.domNode,"hidePrinted");document.body.style.height=c;document.title=d;k.set(l.dialog.domNode,"left",b+"px");a.printErrorMessageDiv&&h.remove(a.printErrorMessageDiv,"hidePrinted");a.parentProblem&&
a.parentProblem.printErrorMessageDiv&&h.remove(a.parentProblem.printErrorMessageDiv,"hidePrinted")},m)}},doneButtonClicked:function(){this.dialog.hide()},continueButtonClicked:function(){var a=f.create("span",null,this.contentDiv);d.set(a,this.steps[this.stepIndex++],{parseContent:!0});this.stepIndex>=this.steps.length&&this.continueButton.set("disabled",!0)},dialogResized:function(a){this.resizeFirstTable(a.w)},resizeFirstTable:function(a){this.holder&&(1===this.holder.children.length&&1===this.holder.children[0].children.length&&
"TABLE"===this.holder.children[0].children[0].tagName&&"100%"===this.holder.children[0].children[0].style.width)&&k.set(this.holder.children[0].children[0],{maxWidth:a+"px"})},loadSteps:function(a){this.inherited(arguments);b.forEach(r.findWidgets(this.contentDiv),function(a){a.destroyRecursive()});f.empty(this.contentDiv);this.steps=a;1<this.steps.length&&(void 0==this.continueButton?this.continueButton=this.dialog.addButton({label:"Continue"},"continue",!0):this.continueButton.set("disabled",!1));
this.holder=f.create("span",null,this.contentDiv);d.set(this.holder,this.steps[0],{parseContent:!0});this.resizeFirstTable(7*this.width);this.stepIndex=1;this._contentLoaded=!0;this.dialog.resize(!0);this.dialog.resetContainerSize();this.dialog.resize(!0)},destroy:function(){this.inherited(arguments);b.forEach(r.findWidgets(this.contentDiv),function(a){a.destroyRecursive()});this.dialog&&this.dialog.destroy();this.printButton&&this.printButton.destroyRecursive();this.doneButton&&this.doneButton.destroyRecursive()}})})},
"xl/player/controls/WebLink":function(){define("dijit/_WidgetBase dojo/_base/declare dojo/on dojo/dom-class dojo/_base/lang dijit/Tooltip dojo/has dojo/dom-construct dojo/dom-attr dojo/keys xl/util/localization!html5player/popup".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){return q("xl.player.controls.WebLink",[s],{_tooltip:null,postCreate:function(){c.create("span",{"class":"visuallyHidden",innerHTML:d.opensInANewTab},this.domNode);h.add(this.domNode,"xlWebLink");e.set(this.domNode,{tabindex:"0",
role:"link"});l(this.domNode,"click, keydown",n.hitch(this,this.linkClicked));m("mobile")||(this._tooltip=new f({connectId:[this.id],label:"\x3cspan aria-hidden\x3d'true'\x3e"+this.tooltip+"\x3c/span\x3e"}))},linkClicked:function(c){if("click"===c.type||c.keyCode===b.ENTER)c="fullscreen\x3d0,location\x3d0,status\x3d0,toolbar\x3d0,resizable\x3d1,scrollbars\x3d1",0<this.width&&(c+=",width\x3d"+this.width),0<this.height&&(c+=",height\x3d"+this.height),c+=",menubar\x3d"+(this.includeMenu?"1":"0"),window.open(this.url,
"xlWebLink"+this.id,c)}})})},"xl/player/controls/MathPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/has dojo/on dijit/place xl/dojo-ext/Moveable dojo/dom-style dojo/io-query xl/dijit/ResizeHandle dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/event dojo/touch dojo/topic dijit/_TemplatedMixin dojo/text!./templates/MathPalette.html xl/dijit-bootstrap/Button dijit/_WidgetsInTemplateMixin xl/util/_ToolPaletteMixin xl/util/localization!html5player/math xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localStore xl/util/eqEditorToolActions xl/ZOrder/ZOrderManager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O){return s("xl.player.controls.MathPalette",[q,A,C,E],{baseClass:"xlMathPalette",templateString:x,state:void 0,_toolButtons:null,_moreButtons:null,_movable:null,padding:{x:5,y:3},_maximizedWidth:0,_mediumWidth:0,_moreButtonList:null,_toolButtonNames:null,constructor:function(){this._toolButtons=[]},defaultPaletteState:"minimized",postCreate:function(){this.inherited(arguments);this.set("state",this.defaultPaletteState);9>=c("ie")&&
f.add(this.minimized,"ie9");this.moreButton.set("label",H["palette.more"]);this.fewerButton.set("label",H["palette.Less"]);e(this.moreButton,B.press,n.hitch(this,this._moreButtonClicked));e(this.fewerButton,B.press,n.hitch(this,this._fewerButtonClicked));e(this.close,B.release,n.hitch(this,this._closeButtonClicked));e(this.minimized,B.press,n.hitch(this,this._minimizedButtonClicked));this._movable=new d(this.domNode,{handle:this.titleBar,delay:2});e(this._movable,"Moved",n.hitch(this,this._moveableMoved));
e(this._movable,"MoveStop",n.hitch(this,this._endDrag));this._resizeHandle=(new a({targetContainer:this.maximized,animateSizing:!1,activeResize:!0,minHeight:5})).placeAt(this.maximized);O.bringToTop(this.domNode)},setZIndex:function(a){k.set(this.domNode,"zIndex",a)},startup:function(){this.inherited(arguments)},_endDrag:function(){this.constrainPosition()},onShow:function(){},onShowing:function(){"maximized"==this.state?this._setupMoreButtons():"medium"==this.state&&this._setupToolButtons()},onHide:function(){},
attach:function(a){this._changeHandler=a.on("change",n.hitch(this,this._editorChanged))},detach:function(a){this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null)},determineTarget:function(a){return"xl.player.controls.InputField"==a.declaredClass&&!a.readOnly&&!a.get("disabled")?a:null},_editorChanged:function(a){this.positionPalette()},_setStateAttr:function(a){f.add(this.minimized,"hidden");f.add(this.palette,"hidden");f.add(this.medium,"hidden");f.add(this.maximized,"hidden");
this.title.innerHTML="maximized"==a?G.mathPaletteMaximizedTitle:"medium"==a?G.mathPaletteMediumTitle:"";f.remove(this[a],"hidden");"minimized"!=a&&f.remove(this.palette,"hidden");"medium"==a?this._setupToolButtons():"maximized"==a&&this._setupMoreButtons();this._set("state",a)},stopEvent:function(a){if(c("ie")||c("trident"))a.stopImmediatePropagation(),a.preventDefault()},_moreButtonClicked:function(a){this.set("state","maximized");this.stopEvent(a)},_fewerButtonClicked:function(a){this.set("state",
"medium");this.stopEvent(a)},_minimizedButtonClicked:function(a){this.set("state","medium");this.stopEvent(a)},_closeButtonClicked:function(a){this.set("docked",!0);this.set("state","minimized");this.positionPalette()},_moveableMoved:function(){this.set("docked",!1)},_destroyToolButtons:function(){this._toolButtons&&(m.forEach(this._toolButtons,function(a){a.destroy()}),this._toolButtons=null)},_destroyMoreButtons:function(){this._moreButtons&&(m.forEach(this._moreButtons,function(a){a.destroy()}),
this._moreButtons=null)},setToolButtons:function(a){this._isListSame(a,this._toolButtonList)||(this._toolButtonList=a,this._destroyToolButtons())},getToolButtons:function(){return this._toolButtonList},_setupToolButtons:function(){if(null==this._toolButtons&&this._started){this._toolButtons=[];var a=L.defaultActions.concat(this._toolButtonList),b=l.create("div",{"class":"row"},this.mediumButtons),c=l.create("div",{"class":"row"},this.mediumButtons);m.forEach(a,function(a,d){"pair"==a&&this._siSemicolonDelimiter&&
(a="pairalt");var f=L.getButtonInfo()[a];if(void 0!=f){var k;k=0==d%2?b:c;var h=new w({baseClass:"btn","class":"toolButton "+f.className,title:f.tip,alt:f.tip,innerHTML:f.text?f.text:"\x26nbsp;"});h.domNode.cmd=f.cmd;k.appendChild(h.domNode);this._toolButtons.push(h);e(h,B.press,n.hitch(this,this._toolButtonClicked));h.startup()}},this);this._mediumWidth=t.getMarginBox(this.medium).w;k.set(this.medium,{minWidth:this._mediumWidth+"px"})}},_isListSame:function(a,b){return a&&b?a.join(",")==b.join(","):
null==a&&null==b},setMoreToolButtons:function(a){this._isListSame(a,this._moreButtonList)||(this._moreButtonList=a,this._destroyMoreButtons())},getMoreToolButtons:function(){return this._moreButtonList},_setupMoreButtons:function(){if(null==this._moreButtons&&this._started){this._moreButtons=[];var a=L.defaultMoreActions.concat(this._moreButtonList);l.empty(this.maximizedButtons);var b=0;m.forEach(a,function(a){if(null==a||0<a.length){var c=l.create("span",{"class":"toolButtonGroup"},this.maximizedButtons);
m.forEach(a,function(a){"pair"==a&&this._siSemicolonDelimiter&&(a="pairalt");a=L.getButtonInfo()[a];if(void 0!=a){var b=new w({baseClass:"btn","class":"toolButton "+a.className,title:a.tip,alt:a.tip,innerHTML:a.text?a.text:"\x26nbsp;"});b.domNode.cmd=a.cmd;c.appendChild(b.domNode);e(b,B.press,n.hitch(this,this._toolButtonClicked));this._moreButtons.push(b);b.startup()}},this);a=t.getMarginBox(c);b<a.w&&(b=a.w)}else l.create("br",{},this.maximizedButtons)},this);this._maximizedWidth=b+8;this._resizeHandle.minSize.w=
this._maximizedWidth;k.set(this.maximized,{width:this._maximizedWidth+"px"})}},_toolButtonClicked:function(a){L.action(a.target.cmd?a.target.cmd:a.target.parentElement.cmd,this.targetWidget);this.stopEvent(a)},destroy:function(){this.inherited(arguments)},_siSemicolonDelimiter:!1,setSiSemicolonDelimiter:function(a){a!=this._siSemicolonDelimiter&&(this._siSemicolonDelimiter=a,this._destroyToolButtons(),this._destroyMoreButtons())}})})},"xl/player/controls/Tab":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-geometry dojo/html dojo/_base/lang dojo/dom-style xl/util/positionMonitor xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f,m,c){var e=s("xl.player.controls.Tab",[q,c],{baseClass:"xlTab",styleName:"Normal",_positionMonitor:null,_siblingPositionMonitor:null,_tabStyle:null,align:null,startup:function(){this.inherited(arguments);setTimeout(n.hitch(this,function(){this.fixTab(l.getMarginBox(this.domNode));this._positionMonitor=m.register(this.domNode,n.hitch(this,this.fixTab))}),1)},destroy:function(){this.inherited(arguments);this._positionMonitor&&this._positionMonitor.remove();this._siblingPositionMonitor&&
this._siblingPositionMonitor.remove()},fixTab:function(b,c){var k=!1;null==this.align&&this.domNode.offsetParent&&(this.align=f.get(this.domNode.offsetParent,"textAlign"));try{if(this.domNode){c!=this.domNode&&(b=l.getMarginBox(this.domNode));"left"!=this.align&&this.domNode.offsetParent&&(f.set(this.domNode.offsetParent,"textAlign","left"),k=!0,b=l.getMarginBox(this.domNode));var r=this._findClosestTab(b.l+e.MinimumTabWidth),a=this.domNode.nextSibling,t;switch(r.align){case "Left":b.w=r.position-
b.l;break;case "Right":if(a){this._siblingPositionMonitor||(this._siblingPositionMonitor=m.register(a,n.hitch(this,this.fixTab)));t=l.getMarginBox(a);var u=t.l+t.w-b.w;u>r.position&&(r=this._findClosestTab(u));b.w=r.position-u}break;case "Center":if(a){this._siblingPositionMonitor||(this._siblingPositionMonitor=m.register(a,n.hitch(this,this.fixTab)));t=l.getMarginBox(a);var v=Math.floor(t.l+t.w-b.w-t.w/2);v>r.position&&(r=this._findClosestTab(v));b.w=r.position-v}}delete b.l;delete b.t;l.setMarginBox(this.domNode,
b);""==r.leader&&(r.leader="\x26nbsp;");h.set(this.domNode,Array(b.w).join(r.leader))}}finally{k&&this.domNode.offsetParent&&f.set(this.domNode.offsetParent,"textAlign",this.align)}},_findClosestTab:function(b){var c,f;null==this._tabStyle&&(this._tabStyle=this.getViewer().tabStyles[this.styleName]);if(this._tabStyle)for(c=0;c<this._tabStyle.length;c++)if(f=this._tabStyle[c],f.position>b)return f;0<e.DefaultTabWidth?(c=e.DefaultTabWidth,f={position:Math.floor((b+c)/c)*c,leader:"\x26nbsp;",align:"Left"}):
f=null;return f}});e.TabStyles={};e.DefaultTabWidth=48;e.MinimumTabWidth=0;return e})},"xl/util/positionMonitor":function(){define(["dojo/dom-geometry","dojo/_base/array"],function(s,q){var l=[],h=void 0,n=function(){q.forEach(l,function(f){var h=s.getMarginBox(f.domNode);if(h.l!=f.lastPos.l||h.t!=f.lastPos.t||h.w!=f.lastPos.w||h.h!=f.lastPos.h)f.callback(h,f.domNode),f.lastPos=s.getMarginBox(f.domNode)});h=0<l.length?setTimeout(n,50):void 0};return{register:function(f,m){var c={domNode:f,callback:m};
c.lastPos=s.getMarginBox(f);l.push(c);h||(h=setTimeout(n,50));return{remove:function(){l=q.filter(l,function(e){return e!=c});0==l.length&&(clearTimeout(h),h=void 0)}}}}})},"xl/player/controls/Collection":function(){define(["dojo/_base/declare","dijit/_WidgetBase"],function(s,q){return s("xl.player.controls.Collection",[q],{baseClass:"xlCollection",constructor:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)}})})},"xl/player/controls/AccountingTable":function(){define("./EditGrid ./_InputObject dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/AccountingTable.html ./_NeedsPlayerViewer dojo/_base/declare dojo/_base/lang xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dojo/mouse dojo/on dojo/window dijit/popup dijit/form/Select dojo/html dojo/dom xl/player/dialogs/InputFeedbackDialog xl/player/dialogs/DataTableDialog xl/util/stringUtils xl/util/localization!html5player/player dojo/dom-attr dojo/has".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H){var G=m("xl.player.controls.AccountingTable",[s,q,l,h,f],{templateString:n,appendToDomNode:!0,constructor:function(a){this._mouseEvents=[];this.editable=a.isInteractive;this._wrapperKeyEvents=[];this.inputFilled=!0},postCreate:function(){this.inherited(arguments);var a=this.getViewer(),a=H("ios")?D.getBox(a.ownerDocument):null;this.dialog=new w({contentString:"",viewportSize:a,minHeight:200,minWidth:400,dataTable:this});this.dropDown&&
(a=this.dropDown.getChildren(),a[0].set("label",E["accounting.savetable"]),a[1].set("label",E["accounting.copytable"]));J.set(this.domTable,{role:"table"})},startup:function(){this.inherited(arguments);this.dropDown&&this.dropDown.bindDomNode(this.domNode.id)},focus:function(){},menuItemClick:function(a){switch(a.type){case "save":a=this._formatTableData(",");var b=this.getViewer();null!=b&&b.postDownload(a,"table.csv");break;default:this._showCopyDialog()}},_showCopyDialog:function(){var a=this._formatTableData();
F.set(this.dialog.contentText,a);this.dialog.show()},formatTable:function(a){var c=this._formatTableData(a);F.set(this.dialog.contentText,c);if(a=this.getViewer()){var d=a.ownerDocumentBody.clientWidth-250,c=c.split("\r\n"),e=c.reduce(function(a,b){return Math.max(a,b.length)},0),f=b.getComputedStyle(this.dialog.contentText),h=f&&k.getPadBorderExtents(this.dialog.contentText,f),d=Math.max(Math.min(10*e+(h&&h.w||5.6),d),340);b.set(this.dialog.contentText,"width",d+"px");1>=c.length||(d=b.get(this.dialog.contentText,
"line-height")||20.5,f=b.getComputedStyle(this.dialog.contentText),newHeight=Math.max(Math.min(c.length*d+(h&&h.h||5.6),a.ownerDocumentBody.clientHeight-300),75),b.set(this.dialog.contentText,"height",newHeight+"px"))}},_formatTableData:function(a){a||(a="\t");for(var b=[],c=this.domTable.children,d=0;d<c.length;d++){0<d&&b.push("\r\n");for(var e=c[d].row,f=0;f<e.length;f++){0<f&&b.push(a);var k=e[f];k.hidden||(k=this.getCellCopyText(k),k.indexOf&&-1<k.indexOf(a)?(b.push('"'),b.push(k.replace('"',
'""')),b.push('"')):b.push(k))}}return b.join("").replace(/&nbsp;/g,"")},getCellCopyText:function(a,b){var c;a?a.type==G.ctINPUTLIST?this.authoring?c=a.lookupText:b?c=a.text:(c=void 0!=a.responseItem?a.responseItem:-1,c=a.listHasEmpty?c:c+1):c=a.type==G.ctLOOKUP&&this.authoring?a.lookupText:this.getTDXText(a.text):c="";a.isNumber&&a.dollar&&(c=a.dollar+c);return c},authoring:!1,baseClass:"acctable",styleTable:function(a){t.add(a,"acctable");b.set(a,{backgroundColor:this.backColor});0<this.borderWidth&&
b.set(a,{border:this.borderWidth+"px solid "+this.borderColor})},grid:{},gridRenderCell:function(c,d,e,f){if(!e)return null;var k=Math.ceil(C.getMSize(this.fontFamily,this.fontSize).w*s.em_coeff),h=Math.ceil(Number(this.table.columns[d].width)*k-4);if(e.td)a.empty(e.td);else{if(e.hidden){this.grid.spanWidth+=h;b.set(this.grid.spanNode,{width:this.grid.spanWidth+"px"});if(e.border&&(!e.borderColor||"transparent"!=e.borderColor))k=e.border.split(","),h=(h=this.grid.spanNode.style.borderTop)?Number(h.substr(0,
h.length-2)):0,e=(e=this.grid.spanNode.style.borderBottom)?Number(e.substr(0,e.length-2)):0,f=h+e,0!=k[0]&&(c=(c=this.grid.spanNode.style.paddingTop)?Number(c.substr(0,c.length-2)):0,Math.max(c,k[0]),c>f&&b.set(this.grid.spanNode,"padding-top",c-h+2+"px")),0!=k[2]&&(h=(h=this.grid.spanNode.style.paddingTop)?Number(h.substr(0,h.length-2)):0,h=Math.max(h,k[2]),h>f&&b.set(this.grid.spanNode,"padding-bottom",h-e+2+"px"));return null}this.grid.spanNode=null;this.grid.spanWidth=0;if(e.isDummy)return h&&
b.set(f,"width",h+"px"),f;this.initCellData(e);e.colSpan&&(f.colSpan=e.colSpan,this.grid.spanNode=f,this.grid.spanWidth=h)}if(e.colSpan)for(var m=1;m<e.colSpan;m++)h+=Number(this.table.columns[d+m])*k;e.fill&&b.set(f,{backgroundColor:e.fill});e.color&&b.set(f,{color:e.color});if(e.border&&(!e.borderColor||"transparent"!=e.borderColor))k=e.border.split(","),m=e.borderColor?e.borderColor:"black",0<k[0]?b.set(f,{borderTopWidth:k[0]+"px ",borderTopStyle:"solid",borderColor:m}):0>k[0]&&b.set(f,{borderTopWidth:-k[0]+
"px ",borderTopStyle:"double",borderColor:m}),0<k[3]?b.set(f,{borderRightWidth:k[3]+"px ",borderRightStyle:"solid",borderColor:m}):0>k[3]&&b.set(f,{borderRightWidth:-k[3]+"px ",borderRightStyle:"double",borderColor:m}),0<k[1]?b.set(f,{borderLeftWidth:k[1]+"px ",borderLeftStyle:"solid",borderColor:m}):0>k[1]&&b.set(f,{borderLeftWidth:-k[1]+"px ",borderLeftStyle:"double",borderColor:m}),h-=Math.abs(k[3])+Math.abs(k[1]),0<k[2]?b.set(f,{borderBottomWidth:k[2]+"px ",borderBottomStyle:"solid",borderColor:m}):
0>k[2]&&b.set(f,{borderBottomWidth:-k[2]+"px ",borderBottomStyle:"double",borderColor:m});var r=this.isEditable(e),k=e.ariaLabel,m=e.ariaDescription;r||k||m?(c={id:this.id+"_cell_"+c+"_"+d},r&&(c.tabindex="0",c["class"]="inputcell",e.type===G.ctINPUTFIELD?c.role="textbox":e.type===G.ctINPUTLIST&&(c.role="listbox")),c=a.create("div",c),v(c,"focus",this.divClick),a.place(c,f),k&&this.addAriaNode(k,"label",c,f),m&&this.addAriaNode(m,"description",c,f),e.inputCellNode=c):c=f;e.underline?(d=a.create("div"),
"double"==e.underline?b.set(d,{borderBottom:"double 4px black",marginBottom:"2px"}):b.set(d,{borderBottom:"solid 1px black",marginBottom:"3px"}),t.add(d,"textbasecell"),a.place(d,c),c=d,this.isEditable(e)||b.set(c,{padding:"2px 0"})):(d=a.create("div"),t.add(d,"textbasecell"),a.place(d,c),c=d);h&&b.set(f,"width",h+"px");""==e.text&&b.set(f,"max-width",h+"px");e.textBaseNode=c;this.updateCellText(e,c);this._SetTableCellVerticalAlign(e,f);return f},updateCellText:function(c,d){a.empty(d);var e=0;if(c.indent&&
(!c.conditionalIndent||this.authoring||this.isAnswered||!this.editable))e=10*c.indent,b.set(d,{paddingLeft:e+"px"});if(c.isNumber&&c.dollar){var f=a.create("span",{innerHTML:c.dollar});t.add(f,"acctCurrSymbol");var k=Math.ceil(C.getTextSize(this.fontFamily,this.fontSize,c.dollar).w*s.em_coeff);b.set(f,{paddingLeft:Number(e+2)+"px"});b.set(d,{paddingLeft:e+k+2+"px"});a.place(f,d)}"Center"===c.align?b.set(d,{textAlign:"center"}):"Right"===c.align?b.set(d,{textAlign:"right"}):b.set(d,{textAlign:"left"});
e=c.text;e=e.trim()?e:"\x26nbsp;";e=e.replace("\n","\x3cbr/\x3e");c.bold&&(e="\x3cb\x3e"+e+"\x3c/b\x3e");c.italic&&(e="\x3ci\x3e"+e+"\x3c/i\x3e");e=a.create("span",{innerHTML:e});c.padParen&&t.add(e,"padParen");a.place(e,d);c.textNode=e},initCellData:function(a){!a.list&&0<=a.listId&&(a.list=this.lists[a.listId])},updateCellRendering:function(c){c.isAnswered&&(c.td&&this.isEditableCell(c))&&b.set(c.td,{backgroundColor:"#e3e9f3"});c.showEll&&(c.text&&"\x26nbsp;"!==c.text&&(!c.align||"Left"===c.align))&&
this._addEllipses(c);c.ast&&(a.destroy(c.ast),c.ast=null);c.isAnswered&&(!c.isCorrect&&!this.showCompletedProblem&&this.isEditable(c))&&(c.ast=a.create("div"),t.add(c.ast,"asterisk"),a.place(c.ast,c.inputCellNode))},_addEllipses:function(b){b.ellNode&&a.destroy(b.nodeEll);var c=a.create("span");a.place(c,b.textBaseNode);var d=k.getContentBox(b.textBaseNode),e=a.create("span",{},b.textNode),f=k.getMarginBox(e),d=d.w-f.l;a.destroy(e);10<d&&(e=" .",a.create(c,{innerHTML:e}),f=k.getMarginBox(c).w,e+=
Array(Math.floor(d/f)).join(e),a.create(c,{innerHTML:e}));t.add(c,"acctEll");b.ellNode=c},initEditor:function(a,c){a.type==G.ctINPUTFIELD?b.set(c,{textAlign:"right"}):b.set(c,{textAlign:"left"});a.type==G.ctINPUTLIST?(this.updateListItems(a,c),c.selectObj.loadChildren(),c.selectObj.set("value",this.getEditorValue(a)),c.selectObj.validate()):c.value=this.getEditorValue(a)},saveEditor:function(a,b){a.type==G.ctINPUTLIST?this.setEditorValue(a,b.selectObj.value):this.setEditorValue(a,b.value);this.inputChanged()},
getInputData:function(){var a,b,c=[];for(a=0;a<this.rowCount;a++){var d=[];for(b=0;b<this.colCount;b++)d.push(this.getCellInputData(this.cell(a,b)));c.push(d)}return c},getCellInputData:function(a){if(a&&!a.hidden)switch(a.type){case G.ctINPUTFIELD:case G.ctINPUTTEXT:return{userResponse:a.userResponse};case G.ctINPUTLIST:return{responseItem:a.responseItem};default:return null}else return null},updateListItems:function(a,b){if(a.list){var c=b.selectObj;c.options=[];for(var d=0;d<a.list.length;d++)c.options.push({value:String(d),
label:a.list[d]})}},getEditorValue:function(a,b){var c;a?!this.authoring&&(a.type==G.ctINPUTFIELD||a.type==G.ctINPUTTEXT)?c=this.getDisplayText(a.userResponse):a.type==G.ctINPUTFIELD&&this.authoring?c=this.getDisplayText(a.text):a.type==G.ctTEXT?c=this.getDisplayText(a.text):a.type==G.ctINPUTLIST?this.authoring?c=a.lookupText:b?c=a.text:(c=void 0!=a.responseItem?a.responseItem:-1,c=a.listHasEmpty?c:c+1):c=a.type==G.ctLOOKUP&&this.authoring?a.lookupText:a.text:c="";return c},getDisplayText:function(a){for(var b=
"",c=0;c<a.length;c++)b+=this.getDisplayChar(a.charAt(c));return b},getDisplayChar:function(a){return"-"==a?"\u2013":a},getTDXText:function(a){for(var b="",c=0;c<a.length;c++)b+=this.getTDXChar(a.charAt(c));return b},getTDXChar:function(a){return"\u2013"==a?"-":a},setEditorValue:function(a,b){if(a)if(this.authoring)switch(a.type){case G.ctINPUTLIST:case G.ctLOOKUP:var c;c=a.listHasEmpty?b:b-1;a.listItem=c;break;case G.ctINPUTFIELD:a.text=this.getTDXText(b);break;case G.ctTEXT:a.text=this.getTDXText(b);
break;default:a.text=b}else switch(a.type){case G.ctINPUTFIELD:a.userResponse=this.getTDXText(b);a.text=b;break;case G.ctINPUTTEXT:a.userResponse=this.getTDXText(b);a.text=b;break;case G.ctINPUTLIST:c=a.listHasEmpty?b:Math.max(-1,b-1),a.responseItem=c,a.text=a.list[b]}},isEditable:function(a){return this.isEditableCell(a)&&this.editable},isEditableCell:function(a){return(a.type==G.ctINPUTFIELD||a.type==G.ctINPUTLIST||a.type==G.ctINPUTTEXT)&&!a.disabled&&!a.hidden},getEditorKind:function(a){switch(a.type){case G.ctINPUTLIST:return s.edtList;
case G.ctINPUTFIELD:case G.ctINPUTTEXT:return s.edtText;default:return s.edtNone}},processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){a=a.cellData;for(var b=0;b<a.length;b++){var d=a[b],e=this.cell(d.row,d.col);e.hidden||(c.mixin(e,d),this.updateCellText(e,e.textBaseNode))}this.inputChanged()},answeredCommand:function(a){this.stopEdit();a&&(this.isAnswered=a.isAnswered,this.showCompletedProblem=
a.showCompletedProblem,this.isCorrect=a.isCorrect,this.showFeedbackLink=a.showFeedbackLink,this.updateCells(a.cellData))},updateCells:function(a){for(var b=0;b<a.length;b++){var d=a[b],e=this.cell(d.row,d.col);e.hidden||(c.mixin(e,d),this.updateCellText(e,e.textBaseNode),this.updateCellRendering(e),this.updateCellControlState(e),e.disabled=e.isAnswered,this.updateCellToolTip(e))}},updateCellControlState:function(a){var b=a.td;this.updateNode(a,b);b.children[0]instanceof HTMLDivElement&&(b=b.children[0],
this.updateNode(a,b));b.children[0]instanceof HTMLDivElement&&(b=b.children[0],this.updateNode(a,b));b.children[0]instanceof HTMLDivElement&&(b=b.children[0],this.updateNode(a,b))},updateNode:function(a,b){t.remove(b,"correct");t.remove(b,"incorrect");a.isAnswered?(t.add(b,"disabled"),t.add(b,a.isCorrect||this.showCompletedProblem?"correct":"incorrect")):t.remove(b,"disabled")},updateCellToolTip:function(a){var b=a.td;a.isAnswered&&!a.isCorrect&&!this.showCompletedProblem?(a.toolTip=new x({content:E.you_answered+
": "+(a.userResponse?this.getDisplayText(a.userResponse):"nothing"),baseClass:"xlTooltip",showFeedbackLink:this.showFeedbackLink,onCancel:c.hitch(this,function(){this._hideCellToolTip(a)}),inputId:this.id}),this._mouseEvents.push(v.once(a.toolTip,"show",function(){this.startup()})),this._mouseEvents.push(v(b,"click",c.hitch(this,function(b){this._showCellToolTip(a);b.preventDefault();b.stopPropagation()}))),this._wrapperKeyEvents.push(this.wrapDomNode(a.td.firstChild,c.hitch(this,function(){this._showCellToolTip(a)}),
{style:"Width:100%"}))):this._destroyToolTip(a)},_wrapperKeyEvents:null,_destroyToolTip:function(a){a.toolTip&&(a.toolTip.destroy(),a.toolTip=null)},_showCellToolTip:function(a){if(a.toolTip&&!this.printing){z.open({popup:a.toolTip,around:a.td});this._evtDocumentClick&&(this._evtDocumentClick.remove(),this._evtDocumentClick=null);var b=this;this._evtDocumentClick=v(window.document,"click",c.hitch(this,function(c){(!a.toolTip||!A.isDescendant(c.target,a.toolTip.domNode))&&b._hideCellToolTip(a)}))}},
_hideCellToolTip:function(a){z.close(a.toolTip);this._evtDocumentClick&&(this._evtDocumentClick.remove(),this._evtDocumentClick=null);a.inputCellNode.focus()},isStatic:function(){return!this.isInteractive},isAnyInputFilled:function(){return!0},isCellInputFilled:function(a){if(a&&!a.hidden)switch(a.type){case G.ctINPUTFIELD:case G.ctINPUTTEXT:case G.ctINPUTLIST:return a.text&&"\x26nbsp;"!=a.text;default:return!1}else return!1},clear:function(){this.stopEdit();for(var a=0;a<this.rowCount;a++)for(var b=
0;b<this.colCount;b++){var c=this.cell(a,b);if(c&&this.isEditableCell(c)){switch(c.type){case G.ctINPUTFIELD:case G.ctINPUTTEXT:this.setEditorValue(c,"");break;case G.ctINPUTLIST:this.setEditorValue(c,"0")}this.updateCell(c)}}this.inputChanged()},destroy:function(){this.inherited(arguments);this._wrapperKeyEvents&&d.forEach(this._wrapperKeyEvents,function(a){a&&a.remove()});for(var a=0;a<this.rowCount;a++)for(var b=0;b<this.colCount;b++){var c=this.cell(a,b);c&&this._destroyToolTip(c)}},divClick:function(a){(a=
a.currentTarget.parentNode)&&a.cell&&a.cell.grid.setCurrentCell(a.cell)},_SetTableCellVerticalAlign:function(a,c){"undefined"!==typeof a.vAlign&&"middle"===a.vAlign.toLowerCase()?b.set(c,{verticalAlign:"middle"}):"undefined"!==typeof a.vAlign&&"top"===a.vAlign.toLowerCase()?b.set(c,{verticalAlign:"top"}):b.set(c,{verticalAlign:"bottom"})}});G.ctTEXT=0;G.ctLOOKUP=1;G.ctINPUTFIELD=2;G.ctINPUTLIST=3;G.ctINPUTTEXT=4;return G})},"xl/player/controls/EditGrid":function(){define("dijit/_WidgetBase ./_NeedsPlayerViewer dojo/_base/declare dojo/_base/lang xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dojo/on dojo/has dojo/keys dijit/registry dijit/focus xl/util/eqUtils xl/util/localization!html5player/player xl/util/localStore dijit/form/Select xl/player/controls/AcctSelect dojo/dom-attr".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A){var x=l("xl.player.controls.EditGrid",[s,q],{constructor:function(a){this.table=a},appendToDomNode:!1,editable:!1,table:null,domTable:null,grid:{},indentSize:10,colCount:0,rowCount:0,rows:null,cell:function(a,b){return this.rows[a][b]},_editMode:!1,_editor:null,_editors:null,currentCell:null,accessibilityEnable:!1,previousTableId:null,setCurrentCell:function(a){if(a&&a.td&&(a!==this.currentCell||this.isEditable(a)&&!this._editMode))this._editMode&&
this.stopEdit(),this.currentCell&&(this.currentCell.selected=!1),this.currentCell=a,this.currentCell.selected=!0,this.isEditable(a)&&this.startEdit()},styleTable:function(){},_getPreviousTable:function(){if(!1===this.table.allowMerging)return null;var a=this.srcNodeRef&&this.srcNodeRef.closest(".rvParagraph"),b=a&&a.closest(".step");if(!b)return null;b=e(":not(.sr-only)",b);if(a!==(b.length&&b[0]))return null;b=this.srcNodeRef.closest(".dijitContentPane");if(!b)return null;b=e(".contentHolder",b);
b=2<=b.length&&b[b.length-2];if(!b)return null;b=e(".step",b);b=b.length&&b[b.length-1];if(!b)return null;var c=b.children.length&&b.children[b.children.length-1];if(!c)return null;b=e("table.acctable",c);b=b.length&&b[0];if(!b||b.closest("table.rvTable")||this.srcNodeRef.closest("table.rvTable")||b.closest(".nowrap")||1<c.children.length||this.srcNodeRef.closest(".nowrap")||1<a.children.length)return null;this.existingRows=Array.from(b.children);this.existingRowsCount=this.existingRows.length;return!this.existingRowsCount?
null:d.contains(a,"startonnext")?(this.existingColSpans=Array.from(this.existingRows[this.existingRowsCount-1].children).reduce(function(a,b){var c=b.getAttribute("colspan");return!c?a+1:b.getAttribute("hidden")?a:a+parseInt(c)},0),a=this.rows.some(function(a){return a.some(function(a){return"col"==a.th})}),(this.addRows=this.existingColSpans==this.colCount&&!a)?b:null):d.contains(a,"sameline")?(a=this.rows.some(function(a){return a.some(function(a){return"row"==a.th})}),(this.addColumns=this.existingRowsCount==
this.rows.length&&!a)?b:null):null},buildRendering:function(){var a=this._getPreviousTable(),c=a||b.create("table");this.domTable=c;this.caption&&(c.createCaption().innerHTML=this.caption);this.own(k(c,"click",this.tableClick));this.styleTable(c);var d;for(d=0;d<this.rowCount;d++){var e=this.addColumns?this.existingRows[d]:b.create("tr");b.place(e,c);for(var f=this.table.rows[d],h=0;h<f.length;h++){var m;f[h].th?"col"===f[h].th?(m=b.create("th"),A.set(m,{scope:"col"})):"row"===f[h].th?(m=b.create("th"),
A.set(m,{scope:"row"})):m=b.create("td"):m=b.create("td");if(m=this.gridRenderCell(d,h,f[h],m)){var r=this.cell(d,h);r.td=m;r.row=d;r.col=h;r.grid=this;m.cell=r;b.place(m,e);k(m,"click",this.cellClick)}}e.row=(e.row||[]).concat(f)}d=this.addRows?this.existingRowsCount+this.rowCount:this.rowCount;2>(this.addColumns?this.existingColSpans+this.colCount:this.colCount)||2>d?A.set(this.domTable,"DataTable","1"):A.remove(this.domTable,"DataTable");d=a&&a.closest("div.acctable");a=a&&a.closest(".rvParagraph");
!this.appendToDomNode||!this.domNode?this.domNode=c:b.place(c,this.domNode);delete this.params.rows;if(d){this.previousTableId=d.id;if(c=t.byId(this.previousTableId))c._inputNode=this.domNode;b.destroy(d)}this.addRows&&a&&b.destroy(a)},postCreate:function(){this.inherited(arguments);this.updateRendering();this.afterUpdate()},tableClick:function(){},cellClick:function(a){(a=a.currentTarget)&&a.cell&&a.cell.grid.setCurrentCell(a.cell)},gridRenderCell:function(){},updateRendering:function(){for(var a=
0;a<this.rowCount;a++)for(var b=this.rows[a],c=0;c<b.length;c++){var d=this.cell(a,c);this.updateCellRendering(d)}},afterUpdate:function(){},createEditor:function(a){switch(this.getEditorKind(a)){case x.edtText:return a=b.create("input",{type:"text"}),d.add(a,"acctTextInput"),a.grid=this,k(a,"keydown",this.editorKeyDown),k(a,"keyup",this.editorKeyUp),k(a,"change",this.editorChange),k(a,"blur",h.hitch(this,this.setLastFocused)),a;case x.edtList:return a=new F,k(a,"keydown",this.editorKeyDown),k(a,
"keyup",this.editorKeyUp),k(a.domNode,"change",this.editorChange),a.domNode.grid=this,a.domNode.selectObj=a,a.domNode}return null},editorKeyDown:function(b){var c=b.currentTarget.grid,d=b.currentTarget;if(((189===b.keyCode||173===b.keyCode)&&!b.shiftKey||109===b.keyCode)&&c._editKind===x.edtText)c=d.value,d.value=c.substring(0,d.selectionStart)+"\u2013"+c.substring(d.selectionEnd),d.selectionEnd=d.selectionStart+=1,b.preventDefault();else if(9===b.keyCode){if(d=c.findNextEditableCell(b.shiftKey))b.preventDefault(),
c.setCurrentCell(d)}else if(b.keyCode===a.RIGHT_ARROW){if(c._editKind===x.edtText)var e=d.selectionStart===d.selectionEnd&&d.selectionEnd===d.value.length;if(e||c._editKind===x.edtList)c.selectNextCell(),b.preventDefault()}else if(b.keyCode===a.LEFT_ARROW){if(c._editKind===x.edtText)var f=d.selectionStart===d.selectionEnd&&0===d.selectionEnd;if(f||c._editKind===x.edtList)c.selectPrevCell(),b.preventDefault()}else b.keyCode===a.UP_ARROW&&c._editKind===x.edtText?(c.selectUpCell(),b.preventDefault()):
b.keyCode===a.DOWN_ARROW&&c._editKind===x.edtText?(c.selectDownCell(),b.preventDefault()):13===b.keyCode&&c._editKind===x.edtText&&(b.preventDefault(),d.selectionStart=0,d.selectionEnd=d.value.length,d.selectionDirection="forward")},selectNextCell:function(){var a=this.findNextEditableCell();a&&this.setCurrentCell(a)},selectPrevCell:function(){var a=this.findNextEditableCell(!0);a&&this.setCurrentCell(a)},selectUpCell:function(){var a=this.findEditableCellDownUp(!0);a&&this.setCurrentCell(a)},selectDownCell:function(){var a=
this.findEditableCellDownUp();a&&this.setCurrentCell(a)},editorKeyUp:function(a){a.currentTarget.grid.editorChange(a)},editorChange:function(a){a=a.currentTarget.grid;a._sanitizeInput(a);a.saveEditor(a.currentCell,a._editor)},_sanitizeInput:function(a){a.getEditorKind(a.currentCell)===x.edtText&&(a._editor.value=a._editor.value.replace(/\x7F/g,""))},findNextEditableCell:function(a){var b,c;this.currentCell?(b=this.currentCell.row,c=this.currentCell.col):c=b=0;for(;0<=b&&b<this.rowCount&&0<=c&&c<this.colCount;){if(this.cell(b,
c)!==this.currentCell&&this.isEditable(this.cell(b,c)))return this.cell(b,c);a?(c--,0>c&&(c=this.colCount-1,b--)):(c++,c>=this.colCount&&(c=0,b++))}return null},findEditableCellDownUp:function(a){var b,c;this.currentCell?(b=this.currentCell.row,c=this.currentCell.col):c=b=0;for(;0<=b&&b<this.rowCount&&0<=c&&c<this.colCount;){if(this.cell(b,c)!==this.currentCell&&this.isEditable(this.cell(b,c)))return this.cell(b,c);a?b--:b++}return null},initEditor:function(a,b){b.value=a.text},saveEditor:function(a,
b){a.text=b.value},startEdit:function(){if(this.editable&&this.currentCell&&!this._editMode&&this.isEditable(this.currentCell)){var a=this.getEditorKind(this.currentCell);this._editors||(this._editors=[]);this._editor=this._editors[a]?this._editors[a]:this._editors[a]=this.createEditor(this.currentCell);this.initEditor(this.currentCell,this._editor);this._editMode=!0;this._editKind=a;this.showEditor(this.currentCell,this._editor)}},stopEdit:function(){this._editMode&&(this.currentCell&&(this.saveEditor(this.currentCell,
this._editor),this.hideEditor(this.currentCell,this._editor)),this._editMode=!1)},showEditor:function(a,d){if(d.parent!==a.td){A.set(d,"id",this.id+"_edit_"+a.row+"_"+a.col);b.empty(a.td);this.getEditorKind(a)===x.edtList?(d.selectObj.placeAt(a.td),window.setTimeout(function(){d.selectObj.loadAndOpenDropDown();d.selectObj.dropDown.focus()},0)):(b.place(d,a.td),window.setTimeout(function(){u.focus(d);d.click&&d.click()},0));var e=c.getContentBox(a.td).w-c.getPadBorderExtents(d).w;f.set(d,"width",e+
"px")}a.ariaLabel&&this.addAriaNode(a.ariaLabel,"label",d,a.td);a.ariaDescription&&this.addAriaNode(a.ariaDescription,"description",d,a.td)},simulateClick:function(){var a=this._editor;if(document.createEvent){var b=document.createEvent("MouseEvents");b.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b);b=document.createEvent("MouseEvents");b.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}else document.createEventObject&&
(b=document.createEventObject(),a.fireEvent("onmousedown",b),b=document.createEventObject(),a.fireEvent("onmouseup",b))},hideEditor:function(a,b){a.td.removeChild(b);this.updateCell(a)},updateCell:function(a){this.gridRenderCell(a.row,a.col,a,a.td);this.updateCellRendering(a)},isEditable:function(){return!1},getEditorKind:function(){return-1},startup:function(){this.inherited(arguments)},destroy:function(a){var b=this.previousTableId&&t.byId(this.previousTableId);b&&b.destroy();this._editors&&(this._editors[x.edtList]&&
(this._editors[x.edtList].selectObj.destroy(a),this._editors[x.edtList]=null),this._editors[x.edtText]=null);this.inherited(arguments)},setLastFocused:function(){var a=this.getViewer();a&&a.storeLastFocusedInput(this)},addAriaNode:function(a,c,d,e){var f=A.get(d,"id")+"_"+c;a={"class":"sr-only",innerHTML:v.altTextExpander(a),id:f,"aria-hidden":"true"};e=b.create("span",a,e,"label"==c?"first":"last");A.set(d,"label"==c?"aria-labelledby":"aria-describedby",f);return e}});x.edtNone=-1;x.edtText=0;x.edtList=
1;x.em_coeff=0.91333;return x})},"xl/player/controls/AcctSelect":function(){define("dijit/_WidgetBase dojo dojo/_base/declare dojo/_base/lang xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on dojo/has dojo/keys dijit/registry dijit/form/Select xl/util/localization!html5player/player".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D){return l("xl.player.controls.AcctSelect",[v],{openDropDown:function(){var a=f.getComputedStyle(this.domNode);
f.set(this.dropDown.domNode,{borderRadius:"0px",margin:"0px",fontFamily:a.fontFamily,fontSize:a.fontSize});d.add(this.dropDown.domNode,"acctDropDown");this.inherited(arguments)},closeDropDown:function(){this.inherited(arguments);this._closing=!0},postCreate:function(){this.inherited(arguments);this.own(r(this.focusNode||this.domNode,"keydown",h.hitch(this,"_onKeyDown")))},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown;b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a)?
(a.stopPropagation(),a.preventDefault()):!this._opened&&a.keyCode==t.UP_ARROW&&(this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault())}},_setValueAttr:function(a){this.inherited(arguments);if(this.domNode&&this._closing){this._closing=!1;var b=this.domNode.grid;b.saveEditor(b.currentCell,b._editor)}},loadChildren:function(){this._loadingStore=!0;this._loadChildren(!0);this._loadingStore=!1},loadDropDown:function(){this.inherited(arguments);for(var a=this.dropDown.domNode.rows,b=0;b<a.length;b++){var c=
a[b],d=c.getAttribute("aria-label");d&&"\x26nbsp;"===d.trim()?k.remove(c,"aria-label"):null}}})})},"xl/player/dialogs/DataTableDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/dom-style dojo/has xl/dijit-bootstrap/Button ./BaseDialog xl/util/localization!html5player/player xl/util/localization!html5player/feedback".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.player.dialogs.DataTableDialog",[c],{setupHeader:function(){q.create("label",{innerHTML:"\x26nbsp;"},
this.titleNode);this.inherited(arguments)},setupContent:function(){this.helpLabel=q.create("div",{innerHTML:e["table.help"]},this.containerNode);this.delimDiv=q.create("div",{},this.containerNode);this.dropDownLabel=q.create("label",{innerHTML:e["table.select_delimiter"],"for":"delim",style:{"margin-right":"2px"}},this.delimDiv);q.create("span",{id:"delimAriaDescribedby","class":"visuallyHidden",innerHTML:e["table.datatable_select_aria_describedby"]},this.delimDiv);this.delimDrp=q.create("select",
{id:"delim",name:"delim","aria-describedby":"delimAriaDescribedby"},this.delimDiv);q.create("option",{innerHTML:e["table.comma"],value:"comma"},this.delimDrp);q.create("option",{innerHTML:e["table.semicolon"],value:"semicolon"},this.delimDrp);q.create("option",{innerHTML:e["table.space"],value:"space"},this.delimDrp);q.create("option",{innerHTML:e["table.tab"],value:"tab",selected:"true"},this.delimDrp);this.own(h(this.delimDrp,"change",l.hitch(this,this.delimChange)));this.contentText=q.create("textarea",
{"class":"xlDataTablePopupContent",readOnly:!0,innerHTML:"","aria-label":this.dataTable&&this.dataTable.toolTipText&&0<this.dataTable.toolTipText.length?this.dataTable.toolTipText:e["table.copy_table_tip"]},this.containerNode);this.own(h(this.contentText,"focus",l.hitch(this,this._selectText)));(f("ie")||f("trident"))&&this.own(h(this.contentText,"scroll",l.hitch(this,this._selectText)));n.set(this.containerNode,"text-align","center")},setupFooter:function(){this.addButton({label:b.done,onClick:l.hitch(this,
this.doneButtonClicked)});this.inherited(arguments)},doneButtonClicked:function(){this.hide()},show:function(){this.formatTable();this.inherited(arguments).then(l.hitch(this,this.contentTextFocus))},contentTextFocus:function(){setTimeout(l.hitch(this,function(){this.contentText.focus()}),8)},delimChange:function(){this.formatTable();this.delimDrp.focus()},formatTable:function(){switch(this.delimDrp.value){case "comma":this.dataTable.formatTable(",");break;case "semicolon":this.dataTable.formatTable(";");
break;case "space":this.dataTable.formatTable("\x26nbsp;");break;case "tab":this.dataTable.formatTable("\x26#09;")}},_selectText:function(){var b=this.contentText.innerHTML.length;if(f("ie")||f("trident"))b=this.contentText.innerText.length;f("ios")?setTimeout(l.hitch(this,function(){this.contentText.setSelectionRange(0,b)}),8):setTimeout(l.hitch(this,function(){this.contentText.setSelectionRange(0,b,"backward")}),8)}})})},"xl/player/controls/DataTable":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_HasDropDown dojo/Evented dijit/form/_FormWidgetMixin dojo/text!./templates/DataTable.html ./_NeedsPlayerViewer dojo/_base/declare xl/util/logger dojo/topic dojo/dom-class dojo/html dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/_base/lang dojo/json dojo/on dojo/window dojo/has dojo/_base/array dojo/dom-attr dojo/mouse dojo/touch dijit/Menu dijit/MenuItem dijit/MenuSeparator dijit/Tooltip dijit/TooltipDialog dijit/popup xl/player/dialogs/DataTableDialog xl/util/localization!html5player/player xl/eqeditor/AssessmentsComponents".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M){return e("xl.player.controls.DataTable",[s,q,l,h,n,f,c],{templateString:m,baseClass:"xlDataTable",isLink:!1,hyperLinkText:"",tableData:"",isToolTip:!1,toolTipText:"",showStatCrunch:!1,firstRowIsHeader:!1,visible:!0,formulaOptions:null,isTouch:!1,constructor:function(){this._mouseEvents=[];this.isTouch=F("touch")},postCreate:function(){this.visible&&(this.isLink?(r.set(this._buttonNode,this.linkText),k.add(this._buttonNode,
this.baseClass+"Link"),this.toolTipText&&x.set(this._buttonNode,"aria-label",this.toolTipText)):k.add(this._buttonNode,this.baseClass+"Icon"),x.set(this._buttonNode,"title",this.toolTipText?this.toolTipText:Q["table.copy_table_tip"]),this.isToolTip&&this.createToolTip(),this.tableData=D.parse(this.tableData),this.inherited(arguments),this.setupPopup(),this.showExcel&&this.dropDown.addChild(new J({label:Q["table.open_in_excel"],type:"excel"}),0),this.dropDown.addChild(new J({label:Q["table.copy_table"],
type:"none"}),0),this.showStatCrunch&&this.dropDown.addChild(new J({label:Q["table.open_in_statcrunch"],type:"statcrunch"}),0),this.eqDoc=new M.EquationClasses.EqDocument,this.formulaOptions&&(this.eqDoc.setItalicizeVariables(this.formulaOptions.italicizeVariables),this.eqDoc.siCommaChar=this.formulaOptions.siCommaChar,this.eqDoc.siCommaDecimal=this.formulaOptions.siCommaDecimal,this.eqDoc.currencyChar=this.formulaOptions.currencyChar))},setupPopup:function(){var a=this.getViewer(),a=F("ios")?B.getBox(a.ownerDocument):
null;this.dialog=new O({contentString:"",viewportSize:a,minHeight:200,minWidth:400,dataTable:this});var b=this;this.dialog.onCancel=function(){this.hide();x.set(b._buttonNode,"aria-expanded","false")};this.dialog.onHide=function(){x.set(b._buttonNode,"aria-expanded","false")}},openDataTablePopup:function(a){x.set(this._buttonNode,"aria-expanded","true");switch(a.type){case "statcrunch":this.getViewer().postCommand("openstatcrunch",{clientId:this.id});break;case "excel":this.getViewer().postCommand("openexcel",
{clientId:this.id});break;default:this.dialog.show()}},formatTable:function(a){a||(a="\x26#09;");for(var b="",c=0,d=0;d<this.tableData.length;d++)for(var e=this.tableData[d],f="",k=0,h=0;h<e.length;h++){var m=e[h];"\x26nbsp;"===a&&(m=m.trim(),m=m.replace(/["]/g,""),""===m.trim()&&(m=0===d&&this.firstRowIsHeader?"_":"*"));0===d&&(m=this._ReplaceNewLines(m));var m=m.split(" "),u=[],l=this;A.forEach(m,function(a){var b=a;if(-1===a.indexOf("\x26"))try{l.eqDoc.parse(a),b=l.eqDoc.getSimpleEqText()}catch(c){}u.push(b)});
m="\x26nbsp;"===a?u.join("_"):u.join(" ");0<=m.indexOf(a)&&(m='"'+m+'"');k+=m.length+("\x26#09;"===a?4:1);f+=m;h!==e.length-1?f+=a:(k>c&&(c=k),b+=f,d!==this.tableData.length-1&&(b+="\r\n"))}r.set(this.dialog.contentText,b);a=this.getViewer();if(null!=a){b=a.ownerDocumentBody.clientWidth-250;c=8.5*c>b?b:8.5*c;340<c&&t.set(this.dialog.contentText,"width",c+"px");var n=a.ownerDocumentBody.clientHeight-300;if(1<this.tableData.length){var v=t.get(this.dialog.contentText,"line-height");0===v?setTimeout(function(){l.computeHeight(v,
n)},1):this.computeHeight(v,n)}}},_ReplaceNewLines:function(a){var b=a;this.firstRowIsHeader?b=a.replace(/\r\n/g," ").replace(/\n/g," "):0>a.indexOf("\r\n")&&(b=a.replace(/["]/g,""));return b},computeHeight:function(a,b){var c;if(0===a){if(c=t.get(this.dialog.contentText,"line-height"),0===c)return}else c=a;var d=t.getComputedStyle(this.dialog.contentText);d?(d=u.getPadBorderExtents(this.dialog.contentText,d).h,c=this.tableData.length*c+d>=b?b:this.tableData.length*c+d):c=75;t.set(this.dialog.contentText,
"height",c+"px")},_evtDocumentClick:null,_mouseEvents:null,loadAndOpenDropDown:function(){1===this.dropDown.getChildren().length?this.openDataTablePopup({type:"comma"}):this.inherited(arguments)},createToolTip:function(){var a=this._buttonNode;this.isTouch?this._mouseEvents.push(z(a,C.release,v.hitch(this,function(){this._showToolTip(a)}))):(this._mouseEvents.push(z(a,w.enter,v.hitch(this,function(){this._showToolTip(a)}))),this._mouseEvents.push(z(a,w.leave,v.hitch(this,function(){this._hideToolTip()}))))},
_clearMouseEvents:function(){this._evtDocumentClick&&this._evtDocumentClick.remove();this._evtDocumentClick=null;A.forEach(this._mouseEvents,function(a){a.remove()});this._mouseEvents=[]},_showToolTip:function(){G.show(this.toolTipText,this._buttonNode,["above"]);this.isTouch&&(this._evtDocumentClick=z(window.document,C.press,v.hitch(this,function(){this._hideToolTip()})))},_hideToolTip:function(){G.hide(this._buttonNode);this._evtDocumentClick&&(this._evtDocumentClick.remove(),this._evtDocumentClick=
null)},destroy:function(){this.inherited(arguments);this.eqDoc&&this.eqDoc.destroy();this._clearMouseEvents()}})})},"xl/player/controls/NumberUnits":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/_base/lang dijit/focus dijit/_WidgetBase dijit/_Container xl/eqeditor/AssessmentsComponents ./NumberUnitsEditor ./_InputObject ./_NeedsPlayerViewer xl/util/AriaAttributes xl/util/localization!html5player/player".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){var t=
e.EquationClasses.EqEventDispatcher;return s("xl.player.controls.NumberUnits",[m,c,d,k,r],{_eqEditor:null,_unitsEqEditor:null,_slopeEqEditor:null,domNode:null,defaultUseTemplateFunctions:!1,defaultEngineeringNotation:!1,useUnits:!1,lockUnits:!1,useUnitsAndSlope:!1,error:"",_lastFocusedEditor:null,focusDelay:250,baseClass:"numberUnits",hideNativeMobileKeyboard:!1,userResponseUnits:"",constructor:function(a){a&&(this.useUnits=a);f.watch("curNode",n.hitch(this,function(a,b,c){this._updateLastFocusedEditor(c)}))},
buildRendering:function(){this.domNode=q.create("span");this.inherited(arguments)},postCreate:function(){this._eqEditor=this.createEqEditor({processRelationalShortcuts:!0,docSettings:{allowCommaNumbers:!0}});this.own(h(this._eqEditor,"input_changed",n.hitch(this,this.changed)));this.setEditorDefaults(this._eqEditor,this.useUnits);var b=this._getUserResponse();b.value&&this._eqEditor.setEqText(b.value);this.useUnits&&(this._unitsEqEditor=this.createEqEditor({processRelationalShortcuts:!0,docSettings:{allowCommaNumbers:!0}}),
this.own(h(this._unitsEqEditor,"input_changed",n.hitch(this,this.changed))),this.setEditorDefaults(this._unitsEqEditor,!0,!0),this._unitsEqEditor.showBorder=!0,this._unitsEqEditor.getEqDoc().setPrompt(a["eqEditor.numberUnits.dataPrompt.units"]||"Units"),b.units&&this._unitsEqEditor.setEqText(b.units),this._eqEditor.showBorder=!0,this._eqEditor.getEqDoc().setPrompt(a["eqEditor.numberUnits.dataPrompt.value"]||"Value"),this.lockUnits?(this._unitsEqEditor.readOnly=!0,this._unitsEqEditor.enabled=!1,this._unitsEqEditor.tabEnabled=
!1):this.own(h(this._eqEditor,t.EqEditorEvent.MOVE,n.hitch(this,this._leaveValueEditor)),h(this._unitsEqEditor,t.EqEditorEvent.MOVE,n.hitch(this,this._leaveUnitEditor))),this.useUnitsAndSlope&&(this._slopeEqEditor=this.createEqEditor({processRelationalShortcuts:!0,docSettings:{allowCommaNumbers:!0}}),this.setEditorDefaults(this._slopeEqEditor,!0),this._slopeEqEditor.showBorder=!0,this._slopeEqEditor.getEqDoc().setPrompt("  Slope/Displacement  "),this.own(h(this._slopeEqEditor,t.EqEditorEvent.MOVE,
n.hitch(this,this._leaveSlopeEditor)))));this._lastFocusedEditor=this._eqEditor},_getUserResponse:function(){return{value:this.srcNodeRef&&this.srcNodeRef.innerText||"",units:this.userResponseUnits}},_leaveValueEditor:function(a){console.log("_leaveValueEditor event:",a);this._unitsEqEditor&&a.direction==t.MoveDirection.MOVE_RIGHT&&(this._unitsEqEditor.focusNode.focus(),this._unitsEqEditor.setCaretHome())},_leaveUnitEditor:function(a){console.log("_leaveUnitEditor event:",a);a.direction==t.MoveDirection.MOVE_LEFT?
this._eqEditor&&(this._eqEditor.focusNode.focus(),this._eqEditor.setCaretEnd()):a.direction==t.MoveDirection.MOVE_RIGHT&&this._slopeEqEditor&&(this._slopeEqEditor.focusNode.focus(),this._slopeEqEditor.setCaretHome())},_leaveSlopeEditor:function(a){console.log("_leaveSlopeEditor event:",a);this._unitsEqEditor&&a.direction==t.MoveDirection.MOVE_LEFT&&(this._unitsEqEditor.focusNode.focus(),this._unitsEqEditor.setCaretEnd())},startup:function(){this.addChild(this._eqEditor);this._unitsEqEditor&&this.addChild(this._unitsEqEditor);
this._slopeEqEditor&&this.addChild(this._slopeEqEditor);this.inherited(arguments)},destroy:function(){this.inherited(arguments);this._eqEditor&&this._eqEditor.destroy();this._unitsEqEditor&&this._unitsEqEditor.destroy();this._slopeEqEditor&&this._slopeEqEditor.destroy()},createEqEditor:function(a){return new b(a)},setEditorDefaults:function(a,b,c){var d=a.getEqDoc();d.useTemplateFunctions=this.defaultUseTemplateFunctions;this.own(h(a.focusNode,"focus",n.hitch({parent:this,node:a.focusNode},this._editorFocused)));
b&&(c?(a.isUnits=!0,d.interpretFunctions=!1,d.clearShortcuts(),d.getShortcutList().caseSensitive=!0,d.addShortcut("\\mu","\x26mu;"),d.addShortcut("\\Omega","\x26comega;"),d.addShortcut("\\comega","\x26comega;"),d.addShortcut("\\deg","\x26deg;"),d.addShortcut("\\AA","\x26angstrom;")):(a.allowSuperscriptShortcuts=!0,a.allowSubscriptShortcuts=!1,d.smartSlash=!1,d.interpretFunctions=!1,d.clearShortcuts(),d.getShortcutList().caseSensitive=!0,d.addShortcut("\\pi","\x26pi;")),a.pipeKeyIsAbs=!1)},_updateLastFocusedEditor:function(a){var b;
a===this._eqEditor.focusNode?b=this._eqEditor:this._unitsEqEditor&&a===this._unitsEqEditor.focusNode?b=this._unitsEqEditor:this._slopeEqEditor&&a===this._slopeEqEditor.focusNode&&(b=this._slopeEqEditor);var c=this;setTimeout(function(){b&&b.focused&&(c._lastFocusedEditor=b)},this.focusDelay)},_editorFocused:function(a){this.parent.hideNativeMobileKeyboard&&(this.node.blur(),a.preventDefault(),this.parent._updateLastFocusedEditor.call(this.parent,this.node))},focus:function(a){a=this.getEditor(a);
null!=a&&a.focus()},getEditor:function(a){var b=null;switch(a){case 0:b=this._eqEditor;break;case 1:b=this._unitsEqEditor;break;case 2:b=this._slopeEqEditor;break;default:b=this._lastFocusedEditor}return b},callEditorMethod:function(a,b,c){c=this.getEditor(c);return null==c?null:c[a].apply(c,b)},undo:function(){this._lastFocusedEditor&&this._lastFocusedEditor.undo()},redo:function(){this._lastFocusedEditor&&this._lastFocusedEditor.redo()},clear:function(){this._eqEditor&&this._eqEditor.clear();this._unitsEqEditor&&
this._unitsEqEditor.clear();this._slopeEqEditor&&this._slopeEqEditor.clear()},getInputData:function(){return{userResponse:this._eqEditor&&this._eqEditor.getEqText(),userResponseUnits:this._unitsEqEditor&&this._unitsEqEditor.getEqText(),accessible:this._eqEditor&&this._eqEditor.getAccessible(),checkParens:this._eqEditor&&this._eqEditor.getEqDoc().checkParens(),rowsFilled:this._eqEditor&&this._eqEditor.getEqDoc().rowsFilled()}},processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);
break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){this.setAnswerEqText(a.correctAnswer,a.correctAnswerUnits)},setAnswerEqText:function(a,b){this._eqEditor&&this._eqEditor.setEqText(a);this._unitsEqEditor&&this._unitsEqEditor.setEqText(b)},answeredCommand:function(a){a&&(this.isAnswered=a.isAnswered,this.isCorrect=a.isCorrect,this.toolTipContent=a.toolTip,this.showFeedbackLink=a.showFeedbackLink,this.updateControlState(),this._eqEditor&&(this.isCorrect?this._eqEditor.getEqDoc().reLayout():
this._eqEditor.setEqText(a.correctAnswer),this._eqEditor.setDisabled(!0)),this._unitsEqEditor&&(this.isCorrect?this._unitsEqEditor.getEqDoc().reLayout():this._unitsEqEditor.setEqText(a.correctAnswerUnits),this._unitsEqEditor.setDisabled(!0)),this.overlay&&q.destroy(this.overlay))},canShowToolTip:function(){return this.isAnswered&&(!this.isCorrect||this.showTolerance)&&this.toolTipContent},updateControlState:function(){this.updateToolTipDijit();l.remove(this.domNode,"correct");l.remove(this.domNode,
"incorrect");this.isAnswered?(l.add(this.domNode,this.isCorrect?"correct":"incorrect"),this.set("disabled",!0)):this.set("disabled",!1)},changed:function(){this.inputFilled=this._eqEditor&&this._eqEditor.inputFilled&&this._unitsEqEditor&&this._unitsEqEditor.inputFilled;this.inputChanged()},_setDisabledAttr:function(a){this.inherited(arguments);a?l.add(this.domNode,"disabled"):l.remove(this.domNode,"disabled");this._eqEditor&&this._eqEditor.set("disabled",a);this._unitsEqEditor&&this._unitsEqEditor.set("disabled",
a)},setAccessibleAttributes:function(){var a=this.getViewer();if(a=a&&a.ariaContentHolder)this.defaultAriaLabelNode=a,this.setAriaAttributes(this._eqEditor,a,"Value"),this.setAriaAttributes(this._unitsEqEditor,a,"Units")}})})},"xl/player/controls/NumberUnitsEditor":function(){define(["dojo/_base/declare","./InputField"],function(s,q){return s("xl.player.controls.NumberUnitsEditor",[q],{isUnits:!1,constructor:function(l){this.baseClass+=" numberUnitsEditor";this.seamlessTabbing=!0;l=this.getEqDoc();
this.showBorder=!0;l.setItalicizeVariables(!1);l.useTemplateFunctions=!1;l.enlargeItalicMargin=!0;l.suppressEmptyHiding=!0;l.interpretFunctions=!0;l.sharpEmbedded=!0;l.thickBrackets=!0;l.smartOperatorSpace=!0;l.fullArrows=!0;this.pipeKeyIsAbs=this.wordShortcuts=this.processCtrlShortcuts=this.keepSelection=this.ignoreTab=this.ignoreSpace=this.smartSlash=l.fixNRoot=!0;this.allowedMaxCharCode=128;this.filterEqText=!0;l.setFunctionList("\\ % sin cos tan asin acos atan sinh cosh tanh asinh acosh atanh ln log exp sec csc cot asec acsc acot csch sech coth cdot".split(" "));
l.boldFunctions=!1;this.addShortcuts();this.allowNestingEmptyScripts=!1},addShortcuts:function(){var l=this.getEqDoc();l.clearShortcuts();l.getShortcutList().setCaseSensitive(!0);l.addShortcut("\\sqrt","@RT{@CURSOR{}}");l.addShortcut("\\nrt","@RT{;@CURSOR{}}");l.addShortcut("\\pi","\x26pi;");l.addShortcut("\\Delta","\x26cdelta;");l.addShortcut("\\cdelta","\x26cdelta;");l.addShortcut("\\alpha","\x26alpha;");l.addShortcut("\\beta","\x26beta;");l.addShortcut("\\gamma","\x26gamma;");l.addShortcut("\\theta",
"\x26theta;");l.addShortcut("\\mu","\x26mu;");l.addShortcut("\\sigma","\x26sigma;");l.addShortcut("\\lambda","\x26lambda;");l.addShortcut("\\chi","\x26chi;");l.addShortcut("\\rho","\x26rho;");l.addShortcut("\\Sigma","\x26csigma;");l.addShortcut("\\csigma","\x26csigma;");l.addShortcut("\\delta","\x26delta;");l.addShortcut("\\epsilon","\x26epsi;");l.addShortcut("\\eta","\x26eta;");l.addShortcut("\\kappa","\x26kappa;");l.addShortcut("\\nu","\x26nu;");l.addShortcut("\\tau","\x26tau;");l.addShortcut("\\phi",
"\x26phi;");l.addShortcut("\\psi","\x26psi;");l.addShortcut("\\omega","\x26omega;");l.addShortcut("\\Phi","\x26cphi;");l.addShortcut("\\cphi","\x26cphi;");l.addShortcut("\\Psi","\x26cpsi;");l.addShortcut("\\cpsi","\x26cpsi;");l.addShortcut("\\Omega","\x26comega;");l.addShortcut("\\comega","\x26comega;");l.addShortcut("\\hbar","\x26hbar;");l.addShortcut("\\EMF","\x26cale;");l.addShortcut("\\vec","@RAYR{@CURSOR{}}");l.addShortcut("\\hat","@HAT{@CURSOR{}}")}})})},"xl/util/AriaAttributes":function(){define(["dojo/_base/declare"],
function(s){return s("xl.player.controls.AriaAttributes",null,{setAriaAttributes:function(q,l,h){q=this._getAriaTargetNode(q);this.createAriaLabelledBy(q,l,h);this.createAriaDescribedBy(q,l,h,h)},_getAriaTargetNode:function(q){return q.focusNode},getDefaultAccessibleName:function(){return"input field "+this.accessibleNumber}})})},"xl/player/controls/AccessibleNumberUnits":function(){define("./_InputObject dijit/_WidgetBase xl/player/controls/_NeedsPlayerViewer ./_AccessibleName xl/player/controls/InputField xl/player/controls/NumberUnits xl/util/AriaAttributes xl/eqeditor/AssessmentsComponents xl/util/eqUtils dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-prop dojo/on dojo/_base/connect dojo/keys dojo/_base/event dijit/_FocusMixin xl/util/stringUtils dojo/dom-attr dojo/dom dijit/_Container dijit/form/TextBox xl/util/_FormWidgetKeyboardMixin xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H){var G=c.EquationClasses.EqDocument;return b("xl.player.controls.AccessibleNumberUnits",[q,F,s,C,J,l,h,m],{baseClass:"eqAccessibleInputField",_inputTextBoxNumber:null,_intputTextBoxUnits:null,_accessible:!0,_eqDocument:null,_numberUnitsControl:null,_params:null,_answerApplied:!1,accessibleNumber:1,constructor:function(a){a&&d.mixin(this,a);this._eqDocument=this._createEqDocument();a.docSettings&&d.mixin(this._eqDocument,a.docSettings);
this._params=a},_createEqDocument:function(a){a=new G;a.interpretFunctions=!0;a.setShortcuts(G.DefaultShortcuts);a.setAccessible(this._accessible);a.showAccessibleSymbolNames=this._accessible;return a},postCreate:function(){this.addChild(this._inputTextBoxNumber);this.addChild(this._inputTextBoxUnits);if(this.srcNodeRef){var a=u.get(this.srcNodeRef,"textContent"),a=this._getEqPlainText(a.trim());this._inputTextBoxNumber.set("value",a);this.userResponseUnits&&(a=this._getEqPlainText(this.userResponseUnits.trim()),
this._inputTextBoxUnits.set("value",a))}this.own(v(this._inputTextBoxNumber,"keydown",d.hitch(this,this._onKeyDown)),v(this._inputTextBoxNumber,"change",d.hitch(this,this._onChange)),v(this._inputTextBoxUnits,"keydown",d.hitch(this,this._onKeyDown)),v(this._inputTextBoxUnits,"change",d.hitch(this,this._onChange)))},setAccessibleName:function(){this._setAccessibleName_Number();this._setAccessibleName_Units()},_setAccessibleName_Number:function(){var a=this._numberIsEmpty()?H["acc.numberunits_number_instructionText"]:
this._inputTextBoxNumber.value;x.set(this._inputTextBoxNumber,"aria-label","number input field "+this.accessibleNumber+", "+a)},_setAccessibleName_Units:function(){var a=this._unitsIsEmpty()?H["acc.numberunits_units_instructionText"]:this._inputTextBoxUnits.value;x.set(this._inputTextBoxUnits,"aria-label","units input field "+this.accessibleNumber+", "+a)},getFocusNode:function(){return this._inputTextBoxNumber.focusNode},getDefaultAccessibleName:function(){return"input field "+this.accessibleNumber},
buildRendering:function(){this.domNode=a.create("span");this.inherited(arguments);this._inputTextBoxNumber=new E({intermediateChanges:!0});this._inputTextBoxUnits=new E({intermediateChanges:!0});this.focusNode=this._inputTextBoxNumber},_onKeyDown:function(a){switch(a.keyCode){case z.ENTER:B.stop(a);v.emit(this.domNode,"input_entered",{bubbles:!0,cancelable:!0,sourceObject:this});break;case z.DELETE:case z.BACKSPACE:this.doChanged()}},doChanged:function(){this.inputFilled=!this.isEmpty();this.inputChanged();
this.setAccessibleName();v.emit(this.domNode,"eqeditor_change",{bubbles:!0,cancelable:!0,eqEditor:this})},_onChange:function(){this.doChanged()},isEmpty:function(){return this._numberIsEmpty()||this._unitsIsEmpty()},_numberIsEmpty:function(){return""===this._inputTextBoxNumber.value},_unitsIsEmpty:function(){return""===this._inputTextBoxUnits.value},getInputData:function(){return{userResponse:this.get("numberEqText"),userResponseUnits:this.get("unitsEqText"),accessible:!0,checkParens:!0,rowsFilled:!this.isEmpty()}},
destroy:function(){this.inherited(arguments);this._inputTextBoxNumber&&this._inputTextBoxNumber.destroyRecursive();this._inputTextBoxUnits&&this._inputTextBoxUnits.destroyRecursive();this._numberUnitsControl&&this._numberUnitsControl.destroyRecursive()},processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;case "answerapplied":this.answeredAppliedCommand(b)}},answeredCommand:function(a){a&&(null==this._numberUnitsControl&&this._createNewInputField(!0),this.isAnswered=
a.isAnswered,this.isCorrect=a.isCorrect,this.toolTipContent=a.toolTip,this.showFeedbackLink=a.showFeedbackLink,this.isAnswered&&this._hideInputBoxes(),this.isCorrect&&!this._answerApplied&&this._numberUnitsControl.setAnswerEqText(this._getEqText(a.userResponse),this._getEqText(a.userResponseUnits)),this._numberUnitsControl.answeredCommand(a),this.isAnswered&&this._setInputAccessibleLabel(this.isCorrect,a),this.updateControlState())},answeredAppliedCommand:function(a){this._hideInputBoxes();this.set("numberEqText",
a.correctAnswer);this.set("unitsEqText",a.correctAnswerUnits);this._answerApplied=!0;a.isAnswered&&(null==this._numberUnitsControl&&this._createNewInputField(!0),this._numberUnitsControl.answerAppliedCommand(a))},updateControlState:function(){t.remove(this.domNode,"correct");t.remove(this.domNode,"incorrect");this.isAnswered&&(t.add(this.domNode,this.isCorrect?"correct":"incorrect"),this._hideInputBoxes(),k.set(this._numberUnitsControl.domNode,"display",""))},_hideInputBoxes:function(){k.set(this._inputTextBoxNumber.domNode,
"display","none");k.set(this._inputTextBoxUnits.domNode,"display","none")},_createNewInputField:function(b){var c=new f(!0);c.startup();b&&k.set(c,"display","none");a.place(c.domNode,this.domNode);this._numberUnitsControl=c},_setInputAccessibleLabel:function(a,b){try{var c=this._getEqPlainText(b.userResponse)+this._getEqPlainText(b.userResponseUnits);if(a)this._numberUnitsControl.getEditor(0).set("accessibleLabel",A.substitute(H["acc.correct_freeresponse"],[c]));else{var d=this._getEqPlainText(b.correctAnswer)+
this._getEqPlainText(b.correctAnswerUnits);this.domNode.set("accessibleLabel",A.substitute(H["acc.incorrect_freeresponse"],[d,c]))}}catch(e){}},_getNumberEqTextAttr:function(){var a=this._inputTextBoxNumber.get("value");return this._getEqText(a)},_getUnitsEqTextAttr:function(){var a=this._inputTextBoxUnits.get("value");return this._getEqText(a)},_getEqText:function(a){try{this._eqDocument.parse(a),a=this._eqDocument.getEqText()}catch(b){}return a},_setNumberEqTextAttr:function(a){a=e.ParseIn(a);this._inputTextBoxNumber.set("value",
a)},_setUnitsEqTextAttr:function(a){a=e.ParseIn(a);this._inputTextBoxUnits.set("value",a)},_onFocus:function(){this.inherited(arguments);t.add(this.domNode,"focused")},_onBlur:function(){this.inherited(arguments);t.remove(this.domNode,"focused")},_getEqPlainText:function(a){try{for(var b=(new c.EquationClasses.EqParser(this._eqDocument,a)).parse(),d="",e=0;e<b.length;e++)d+=b[e].getAccessiblePlainText();return d}catch(f){return a}},clear:function(){this._inputTextBoxNumber.set("value","");this._inputTextBoxUnits.set("value",
"")},setAccessibleAttributes:function(){var a=this.getViewer();if(a=a&&a.ariaContentHolder)this.defaultAriaLabelNode=a,this.setAriaAttributes(this._inputTextBoxNumber,a,"Value"),this.setAriaAttributes(this._inputTextBoxUnits,a,"Units")}})})},"xl/player/controls/XYGraph":function(){define("dojo/_base/declare dojo/_base/connect dijit/_WidgetBase dojo/dom-construct dojox/gfx dojo/dom-geometry dojo/_base/array dijit/_Container xl/util/IPMath xl/grapher/enums dojo/_base/lang xl/grapher/XYGraph2 xl/grapher/IPGraphScatter".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.controls.XYGraph",[k],{constructor:function(){this.createOwnAccLabel=!0}})})},"xl/player/controls/XYGraphMobile":function(){define("dojo/_base/declare dojo/_base/connect dijit/_WidgetBase dojo/dom-construct dojox/gfx dojo/dom-geometry dojo/_base/array dijit/_Container xl/util/IPMath xl/grapher/enums dojo/_base/lang xl/grapher/XYGraph2Mobile xl/grapher/IPGraphScatter".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.controls.XYGraphMobile",
[k],{})})},"xl/grapher/XYGraph2Mobile":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/dom-geometry dojo/dom-construct dojo/dom-class dojo/dom-style dojo/on dojo/touch ./XYGraph2 xl/util/positionMonitor xl/grapher/enums".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.grapher.XYGraph2Mobile",[b],{_positionMonitor:null,_mobileOverlayNode:null,constructor:function(){},postCreate:function(){this.inherited(arguments);this._positionMonitor=d.register(this.domNode.parentNode.parentNode,
q.hitch(this,this.reset))},destroy:function(){this.inherited(arguments);this._positionMonitor&&this._positionMonitor.remove()},addZoomButton:function(){m.set(this.domNode,"cursor","pointer")},mouseDown:function(b){this.isZoomed&&this.inherited(arguments)},mouseUp:function(b){this.isZoomed?this.inherited(arguments):this.openZoom(b)},draw:function(b){for(var a=this.domNode,c;a.parentNode;){if(f.contains(a,"dijitTooltipContents")){c=a;break}a=a.parentNode}c&&(this.reset(),m.set(c,"width",h.getMarginBox(this.getViewer().domNode).w-
75+"px"));this.inherited(arguments)},onFormatNumber:null,resize:function(){var b=h.getMarginBox(this.domNode);if(b.w!=this.myWidth||b.h!=this.myHeight)this.reset(),this.myWidth=b.w,this.myHeight=b.h}})})},"xl/player/controls/XYCursor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class xl/grapher/XYCursor xl/player/controls/_InputObject dijit/registry xl/grapher/XYPointCursor xl/grapher/enums dojo/keys dojo/_base/event xl/player/controls/_NeedsPlayerViewer".split(" "),function(s,
q,l,h,n,f,m,c,e,b,d){return s("xl.player.controls.XYCursor",[h,n,d],{cursor:null,getInputData:function(){return{x:this.cursor.getLocationX(),y:this.cursor.getLocationY(),type:"cursor"}},setInputData:function(b){this._graph.getGraphControl().getGraphManager().clearGraphPoints();b&&(b.noninteractive?(this.cursor.setVisible(!1),this.nonInteractive=!0,this.dropPoint(this._graph,b)):(this.cursor.setVisible(!0),this.cursor.setLocation(b.x,b.y)))},processCommand:function(b,d){switch(b){case "attach":this.graphId=
d.graphId;this._graph=f.byId(this.graphId);if(!this._graph)break;this.cursor=new m({graph:this._graph,snapX:this.snapX,snapY:this.snapY});d.hideCrosshair&&(this.cursor.setShowVertLine(!1),this.cursor.setShowHorzLine(!1));this.cursor.setLocation(this.startX,this.startY);this.cursor.on(c.IPGraphBlobEvent.BLOB_MOVED,q.hitch(this,this.blobMoved));this._graph.on("graphZoomed",q.hitch(this,this.graphZoomed));this._graph.on("keydown",q.hitch(this,this._onKeyDown));this._graph.on("graphmouseup",q.hitch(this,
this.graphMouseUp));this._graph.addXYCursor(this);d.clearPoints&&this._graph.getGraphControl().getGraphManager().clearGraphPoints();this.cursorLoaded&&this.cursorLoaded();break;case "answered":this.answeredCommand(d);this.clearCursor(this._graph);this.dropPoint(this._graph);this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(d)}},answerAppliedCommand:function(b){b&&(this.cursor.setLocation(b.answerX,b.answerY),this.solutionX=b.answerX,this.solutionY=b.answerY,this.userResponseX=
b.answerX,this.userResponseY=b.answerY,this.displayAnswer())},answeredCommand:function(b){b&&(this.isAnswered=!0,this.isCorrect=b.isCorrect,this.toolTipContent=b.toolTip,this.showFeedbackLink=b.showFeedbackLink,this.solutionX=b.answerX,this.solutionY=b.answerY,this.userResponseX=b.userResponse.x,this.userResponseY=b.userResponse.y,this.isCorrect||this.displayAnswer())},displayAnswer:function(){this.label.setEqText("("+this.solutionX+this.delimiterChar+" "+this.solutionY+")")},updateControlState:function(){this.updateToolTipDijit(this._answerPoint._node.rawNode,
!0);l.remove(this.domNode,"correct");l.remove(this.domNode,"incorrect");l.remove(this.domNode,"answered");this.isAnswered&&(l.add(this.domNode,"answered"),l.add(this.domNode,this.isCorrect?"correct":"incorrect"))},clear:function(){this.cursor.setLocation(this.startX,this.startY);this.userResponseX=this.startX;this.userResponseY=this.startY;this.display()},_onKeyDown:function(c){c.keyCode===e.ENTER&&!this.isAnswered?(b.stop(c),this.inputEntered()):c.keyCode===e.ENTER&&this.isAnswered&&(b.stop(c),this.showToolTip(this.cursor.graph.domNode.getElementsByTagName("circle")[0],
this.cursor.graph.domNode))}})})},"xl/grapher/XYCursor":function(){define("dojo/_base/declare dijit/_WidgetBase xl/grapher/XYPointCursor xl/eqeditor/EqLabel dijit/registry dojo/_base/lang dojo/dom-construct dojo/dom-class xl/grapher/IPCursorResponse xl/grapher/enums dojo/Evented dojo/_base/event dojo/keys dijit/Tooltip xl/util/localization!html5player/player xl/util/stringUtils xl/util/DijitLoadMonitor dojo/on xl/player/controls/_NeedsPlayerViewer".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,
t,u,v,D,z){return s("xl.grapher.XYCursor",[q,d,z],{name:null,format:null,show:!0,cursor:null,label:null,_graph:null,graphId:null,startX:null,startY:null,solutionX:null,solutionY:null,userResponseX:null,userResponseY:null,snapX:1,snapY:1,isAnswered:!1,propName:"",baseClass:"xycursor",toolTipContent:null,DEF_FORMAT:"#",delimiterChar:",",constructor:function(a){f.mixin(a);this.inputFilled=!0},postCreate:function(){this._graph=n.byId(this.graphId);var a=m.create("span",null,this.domNode);this.label=new h(null,
a);this.label.startup();this.propName||(this.userResponseX=this.startX,this.userResponseY=this.startY);this.display();v.staticFunctions.loadingStarted(this)},display:function(){switch(this.propName){case "response":this.label.setEqText("("+this._format(this.userResponseX)+this.delimiterChar+" "+this._format(this.userResponseY)+")");break;case "output":this.label.setEqText("("+this._format(this.solutionX)+this.delimiterChar+" "+this._format(this.solutionY)+")");break;default:this.label.setEqText("("+
this._format(this.userResponseX)+this.delimiterChar+" "+this._format(this.userResponseY)+")")}this.label.domNode.style.display=this.show?"inline":"none"},_parentCursorNode:null,cancelZoomed:function(a){this.resetToolTipEvents(a)},resetToolTipEvents:function(a){null!=this._parentCursorNode&&(this._answerPoint._node.rawNode=this._parentCursorNode,this.updateToolTipDijit(this._parentCursorNode,!0),this._parentCursorNode=null)},okZoomed:function(a){this._parentCursorNode=null;if(!this.isAnswered){var b=
a.zoomedGraph.currentBlob.getLocationX(),c=a.zoomedGraph.currentBlob.getLocationY();this.userResponseX=b;this.userResponseY=c;a.graph.currentBlob.setLocationX(b);a.graph.currentBlob.setLocationY(c);a.graph.currentBlob.draw(a.graph.getBlobSurfaceLayer());this.display()}},graphZoomed:function(a){if(this.isAnswered)this._parentCursorNode=this._answerPoint._node.rawNode,this.dropPoint(a.zoomedGraph.getGraphControl().getGraph());else{var b=a.zoomedGraph.getGraphControl().getGraph(),c=new l({graph:b,delayDraw:!0,
snapX:b.getAxisX().tickSpacing,snapY:b.getAxisY().tickSpacing,cursor:this});c.setLocationX(a.graph.currentBlob.getLocationX());c.setLocationY(a.graph.currentBlob.getLocationY());b.on("graphmouseup",f.hitch(this,this.graphMouseUp))}a.zoomedGraph.on("okZoomed",f.hitch(this,this.okZoomed));a.zoomedGraph.on("cancelZoomed",f.hitch(this,this.cancelZoomed));a.zoomedGraph.on("resetToolTip",f.hitch(this,this.resetToolTipEvents))},blobMoved:function(a){this.userResponseX=a.x;this.userResponseY=a.y;this.display();
D.emit(this.domNode,"xycursor_moved",{x:this.userResponseX,y:this.userResponseY,bubbles:!0})},graphMouseUp:function(a){if(!(void 0==a.x||void 0==a.y||!a.graph)){var c=a.graph.getXYCursorBlobObject();c&&c.move(a.x,a.y,b.IPGraphBlobState.MOVED,!1,!1)}},_answerPoint:null,dropPoint:function(a,c){a&&(this._answerPoint=this.isCorrect?new e({_graph:a,cursor:this,symbolColor:"#000000",symbolBackground:"#9AB0D8",symbol:b.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:this.solutionX,y:this.solutionY}):this.nonInteractive?
new e({_graph:a,cursor:this,symbolColor:"#19a6a4",symbolBackground:"#19a6a4",symbol:b.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:c.x,y:c.y,isCorrect:!1}):new e({_graph:a,cursor:this,symbolColor:"#BF2324",symbolBackground:"#9AB0D8",symbol:b.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:this.solutionX,y:this.solutionY,isCorrect:!1}),this._answerPoint.setTag(-1),this._answerPoint.on("cursorResponseDrawn",f.hitch(this,this.cursorResponseDrawn)),a.addPart(this._answerPoint),a.draw())},cursorResponseDrawn:function(a){a.blob&&
this.updateToolTipDijit(a.blob._node.rawNode,!0)},clearCursor:function(a){a&&(a.getBlobSurfaceLayer().clear(),a.removePart(this.cursor),this.cursor.destroy(),a.draw())},_format:function(a){return""==this.format?u.formatFloat(a,this.DEF_FORMAT):u.formatFloat(a,this.format)},cursorLoaded:function(){v.staticFunctions.loadingCompleted(this)}})})},"xl/grapher/IPCursorResponse":function(){define("dojo/_base/declare xl/grapher/IPGraphBlob xl/grapher/IPStroke xl/util/ForeignObject dojo/dom-geometry xl/grapher/enums xl/util/ByRef xl/grapher/Point xl/util/graphUtils xl/util/logger".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.grapher.IPCursorResponse",[q],{x:null,y:null,text:null,font:null,fontSize:"10px",fontColor:null,fontBold:!1,symbol:null,fillSymbol:null,symbolColor:null,symbolBackground:null,symbolSize:3,cursor:null,_node:null,_graph:null,clientId:null,isMarker:!1,constructor:function(){this._infinityOffset=10;this._snapToTicks=this._canMove=!1},getText:function(){return this.text},setText:function(b){this.text=b},getFont:function(){return this.font},setFont:function(b){this.font=
b},getLocationX:function(){return this.x},setLocationX:function(b){this.x=b},getLocationY:function(){return this.y},setLocationY:function(b){this.y=y},draw:function(b,d){var k=new c,h,a;if(this.getGraph()){h=this.xWorldToView(this.x);a=this.yWorldToView(this.y);h<this._graph.getAxisX().getView().min?h=this._graph.getAxisX().getView().min-10:h>this._graph.getAxisX().getView().max&&(h=this._graph.getAxisX().getView().max+10);k.x=h;k.y=a;var m;document.createElementNS("http://www.w3.org/2000/svg","a").setAttributeNS("http://www.w3.org/1999/xlink",
"xlink:href","javascript:void(0);");this.symbol!==f.IPGrShapes.NONE&&(m=e.drawSymbol(b,this.symbol,{x:k.x,y:k.y,size:this.symbolSize,aColor:this.symbolColor,fillColor:this.symbolBackground,addOffsetWidthProp:d,fillSymbol:this.fillSymbol,borderWidth:this.symbolStrokeSize}));this._node=m;this.emit("cursorResponseDrawn",{blob:this});return m}},updatePosition:function(b){var c=n.getMarginBox(b.domNode);if(g=this.getGraph()){var e,f;e=this.xWorldToView(this.x);f=this.yWorldToView(this.y);e=Math.floor(e)+
0.5;f=Math.floor(f)+0.5;b.setBox({x:e,y:f,w:c.w,h:c.h})}},getNode:function(){return this._node},isUnderPoint:function(b,c){return!this.visible||!this._graph?null:this.calcDistFromPoint(b,c,this.symbolSize)}})})},"xl/figure/Figure":function(){define("dojo/_base/declare dojo/_base/connect dojo/dom-construct dojo/dom-attr dijit/_WidgetBase dojo/_base/array dojo/_base/lang dojox/gfx dijit/registry dojo/dom-style dojo/topic ./Ellipse ./Rectangle ./Line ./Arc ./Polygon ./Polyline ./Text ./Image ./FigureControl dojo/on xl/util/DijitLoadMonitor xl/player/controls/_AltTextToolTip".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x){return s("xl.figure.Figure",[n,x],{_surface:null,objects:null,figureList:null,width:null,height:null,altText:null,baseClass:"xlFigure",createOwnAccLabel:!0,alwaysHideChildren:!0,magicAltStrings:["decorative image","null"],hideIfNoAltText:!0,destroy:function(){this.inherited(arguments)},startup:function(){this.initializeObjects();this.inherited(arguments);this.initialize()},postCreate:function(){var a=this.domNode;do null!=a&&(a=a.parentNode);
while(null!=a&&(null==a.className||0>a.className.toLowerCase().indexOf("rvparagraph")));if(null!=a){for(var c=this.domNode.parentNode.children,d=!1,e=0;e<c.length;e++){var f=c[e].className;null!=f&&0>f.toLowerCase().indexOf("figure")&&(d=!0)}d||b.set(a,{lineHeight:"1px",fontSize:"1px"});A.staticFunctions.loadingStarted(this)}},resize:function(){b.set(this.domNode,{width:this.width+"px",height:this.height+"px"});var a=e.findWidgets(this.domNode);f.forEach(a,function(a){a.resize&&a.resize()})},initialize:function(){this._surface||
(this._surface=c.createSurface(this.domNode,this.width,this.height),this.hasAltText()?(h.remove(this.domNode,"aria-label"),h.set(this._surface.rawNode,"aria-label",this.altText)):(h.remove(this.domNode,"aria-hidden"),h.set(this._surface.rawNode,"aria-hidden","true")),h.set(this._surface.rawNode,"role","img"));b.set(this.domNode,{width:this.width+"px",height:this.height+"px"});var a=this;this._surface.whenLoaded(this,function(){a.draw();var b=this.getParent&&this.getParent();(!b||!b.isLayoutContainer)&&
this.resize()})},initializeObjects:function(){var b=this,c;this.figureList=[];f.forEach(this.objects,function(d,e){switch(d.type){case "ellipse":c=new k({parent:b});break;case "rectangle":c=new r({parent:b});break;case "line":c=new a({parent:b});break;case "arc":c=new t({parent:b});break;case "polygon":c=new u({parent:b});break;case "polyline":c=new v({parent:b});break;case "text":c=new D({parent:b});break;case "picture":c=new z({parent:b});break;case "control":c=new B({parent:b})}c&&(m.mixin(c,m.clone(d)),
c.calculatePositioning(),b.figureList.push(c))})},draw:function(){var a=this;f.forEach(this.figureList,function(b,c){b.draw(a._surface)});A.staticFunctions.loadingCompleted(this)},parseData:function(a){m.mixin(this,a)}})})},"xl/figure/Ellipse":function(){define(["dojo/_base/declare","./BaseFigureObject","./_FillableObject","dojox/gfx/matrix","../util/graphUtils"],function(s,q,l,h,n){return s("xl.figure.Ellipse",[q,l],{fill:null,backColor:null,draw:function(f){var m=this.getParent().height,c=this.positionX-
this.getOffsetX(),e=m-this.positionY+this.getOffsetY();f=0==this.width||0==this.height?f.createLine({x1:c,y1:e,x2:c+this.width,y2:e-this.height}):f.createEllipse({cx:c+this.width/2,cy:e-this.height/2,ry:Math.abs(this.height/2),rx:Math.abs(this.width/2)});this.isFilled()&&f.setFill(this.backColor);f.setStroke(this.color);m=h.rotategAt(-this.angle,n.fixPixel(this.originX),n.fixPixel(m-this.originY));f.setTransform(m)}})})},"xl/figure/BaseFigureObject":function(){define(["dojo/_base/declare","dojox/gfx/matrix"],
function(s,q){return s("xl.figure.BaseFigureObject",[],{type:null,name:null,shiftX:null,shiftY:null,originX:null,originY:null,insertX:null,insertY:null,positionX:null,positionY:null,color:null,width:null,height:null,angle:0,isTwoDimensional:!0,_parent:null,convertOrigin:!1,constructor:function(l){l.parent&&(this._parent=l.parent)},getOffsetX:function(){return this.insertX*this.width},getOffsetY:function(){return this.insertY*this.height},calculatePositioning:function(){this.positionX=this.originX+
this.shiftX;this.positionY=this.originY+this.shiftY;if(this.isTwoDimensional&&this.convertOrigin){var l=q.normalize([q.rotate(this.angle/180*Math.PI),q.translate(this.positionX,this.positionY)]),l=q.multiplyPoint(l,-this.insertX*this.width,-this.insertY*this.height);this.positionX=l.x;this.positionY=l.y;this.insertY=this.insertX=0}},getParent:function(){return this._parent}})})},"xl/figure/_FillableObject":function(){define(["dojo/_base/declare"],function(s){return s("xl.figure._FillableObject",[],
{_filled:void 0,isFilled:function(){void 0==this._fillable&&(this._filled=this.fill&&"fSolid"==this.fill?!0:!1);return this._filled}})})},"xl/figure/Rectangle":function(){define(["dojo/_base/declare","./BaseFigureObject","./_FillableObject","dojox/gfx/matrix","../util/graphUtils"],function(s,q,l,h,n){return s("xl.figure.Rectangle",[q,l],{style:null,fill:null,backColor:null,draw:function(f){0>this.height&&(this.insertY=1-this.insertY,this.height=-this.height);0>this.width&&(this.insertX=1-this.insertX,
this.width=-this.width);var m=this.getParent().height,c=this.positionX-this.getOffsetX(),e=m-this.positionY+this.getOffsetY(),c=n.fixPixel(c),e=n.fixPixel(e-this.height);f=0==this.width||0==this.height?f.createLine({x1:c,y1:e,x2:c+this.width,y2:e+this.height}):f.createRect({x:c,y:e,width:this.width,height:this.height});this.isFilled()&&f.setFill(this.backColor);switch(this.style){case "Solid":f.setStroke(this.color);break;case "Dotted":f.setStroke({color:this.color,style:"Dot"});break;case "Dashed":f.setStroke({color:this.color,
style:"Dash"});break;default:f.setStroke(this.color)}m=h.rotategAt(-this.angle,n.fixPixel(this.originX),n.fixPixel(m-this.originY));f.setTransform(m)}})})},"xl/figure/Line":function(){define(["dojo/_base/declare","./BaseFigureObject","dojox/gfx/matrix","../util/graphUtils"],function(s,q,l,h){var n=s("xl.figure.Line",[q],{length:null,style:null,thickness:null,arrowStyle:null,arrowSize:null,draw:function(f){var m=this.positionX-this.insertX*this.length,c=m+this.length,e=this.getParent().height,b=this.arrowSize+
3*(Math.max(1,this.thickness)-1),d=Math.round(b/3),k=0,r=0,a=h.fixPixel(e-this.positionY),m=h.fixPixel(m),c=h.fixPixel(c);f=f.createGroup();var t;if(this.arrowStyle==n.ArrowType.HEAD||this.arrowStyle==n.ArrowType.BOTH)t=f.createPath(),t.moveTo(c,a),t.lineTo(c-b,a+d),t.lineTo(c-(b-d),a),t.lineTo(c-b,a-d),t.lineTo(c,a),r=b-d,t.setStroke({color:this.color,width:1,cap:"butt"}).setFill(this.color);if(this.arrowStyle==n.ArrowType.TAIL||this.arrowStyle==n.ArrowType.BOTH)t=f.createPath(),t.moveTo(m,a),t.lineTo(m+
b,a+d),t.lineTo(m+b-d,a),t.lineTo(m+b,a-d),t.lineTo(m,a),k=b-d,t.setStroke({color:this.color,width:1,cap:"butt"}).setFill(this.color);b=f.createPath();b.moveTo(m+k,a);b.lineTo(c-r,a);switch(this.style){case "Solid":b.setStroke({color:this.color,width:this.thickness});break;case "Dotted":b.setStroke({color:this.color,style:"Dot",width:this.thickness});break;case "Dashed":b.setStroke({color:this.color,style:"Dash",width:this.thickness})}0!=this.angle&&(m=l.rotategAt(-this.angle,h.fixPixel(this.originX+
this.shiftX),h.fixPixel(e-this.originY-this.shiftY)),f.setTransform(m))},isTwoDimensional:!1});n.ArrowType={NONE:"arNone",TAIL:"arTail",HEAD:"arHead",BOTH:"arBoth"};return n})},"xl/figure/Arc":function(){define(["dojo/_base/declare","./BaseFigureObject","dojox/gfx/matrix","xl/util/graphUtils"],function(s,q,l,h){return s("xl.figure.Arc",[q],{draw:function(n){var f=this.getParent().height,m=l.rotategAt(-this.angle,this.originX,f-this.originY),c=this.positionX-this.getOffsetX(),f=f-this.positionY+this.getOffsetY(),
e=c,b=f,d=l.multiplyPoint(m,e,b),c=d.x,f=d.y,e=e+this.width,b=b-this.height,d=l.multiplyPoint(m,e,b),m=d.x,e=d.y,d=m-c,b=f-e,k,r=f-2*b,a=c+d,t=f;k=h.fixPixel(c-d);r=h.fixPixel(r);a=h.fixPixel(a);t=h.fixPixel(t);c=h.fixPixel(c);f=h.fixPixel(f);m=h.fixPixel(m);e=h.fixPixel(e);0<d?0<b?h.drawArc(n,{color:this.color},k,r,a,t,c,f,m,e):h.drawArc(n,{color:this.color},k,r,a,t,m,e,c,f):0<b?h.drawArc(n,{color:this.color},k,r,a,t,m,e,c,f):h.drawArc(n,{color:this.color},k,r,a,t,c,f,m,e)}})})},"xl/figure/Polygon":function(){define(["dojo/_base/declare",
"./BaseFigureObject","./_FillableObject","dojox/gfx/matrix","../util/graphUtils"],function(s,q,l,h,n){return s("xl.figure.Polygon",[q,l],{style:null,fill:null,backColor:null,draw:function(f){for(var m=this.getParent().height,c=this.positionX-this.getOffsetX(),e=m-this.positionY+this.getOffsetY(),b=0;b<this.points.length;b++)this.points[b].x*=this.width,this.points[b].y*=this.height,this.points[b].x+=c,this.points[b].y+=this.height-e,this.points[b].y=this.height-this.points[b].y,this.points[b].x=n.fixPixel(this.points[b].x),
this.points[b].y=n.fixPixel(this.points[b].y);this.points.push(this.points[0]);f=f.createPolyline(this.points);switch(this.style){case "Solid":f.setStroke(this.color);break;case "Dotted":f.setStroke({color:this.color,style:"Dot"});break;case "Dashed":f.setStroke({color:this.color,style:"Dash"})}this.isFilled()&&f.setFill(this.backColor);0!=this.angle&&(m=h.rotategAt(-this.angle,n.fixPixel(this.originX),n.fixPixel(m-this.originY)),f.setTransform(m))}})})},"xl/figure/Polyline":function(){define(["dojo/_base/declare",
"./BaseFigureObject","dojox/gfx/matrix","../util/graphUtils"],function(s,q,l,h){return s("xl.figure.Polyline",[q],{style:null,points:null,draw:function(n){for(var f=this.getParent().height,m=this.positionX-this.getOffsetX(),c=f-this.positionY+this.getOffsetY(),e=0;e<this.points.length;e++)this.points[e].x*=this.width,this.points[e].y*=this.height,this.points[e].x+=m,this.points[e].y+=this.height-c,this.points[e].y=this.height-this.points[e].y,this.points[e].x=h.fixPixel(this.points[e].x),this.points[e].y=
h.fixPixel(this.points[e].y);n=n.createPolyline(this.points);switch(this.style){case "Solid":n.setStroke(this.color);break;case "Dotted":n.setStroke({color:this.color,style:"Dot"});break;case "Dashed":n.setStroke({color:this.color,style:"Dash"})}f=l.rotategAt(-this.angle,h.fixPixel(this.originX),h.fixPixel(f-this.originY));n.setTransform(f)}})})},"xl/figure/Text":function(){define("dojo/_base/declare dojo/dom-construct dojo/parser dojo/dom-geometry dojo/_base/lang dojo/dom-style ./BaseFigureObject xl/util/ForeignObject xl/util/graphUtils".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.figure.Text",[m],{fontName:null,fontSize:null,content:null,bold:!1,italic:!1,underline:!1,strikeout:!1,isFormula:!1,interpretFunctions:!1,eqDoc:null,mathImage:!1,mathIsPlot:!1,mathEvaluate:!1,mathPlotWidth:0,mathPlotHeight:0,clientId:"",isPlainText:!0,_x:0,_y:0,draw:function(b){var c=this.getParent().height,f=this.positionX-this.getOffsetX(),h=c-this.positionY+this.getOffsetY();this._x=f;this._y=h;var a=this.color;if(this.isPlainText){if(this.content){var m=
this.content.replace(/ /g,"\u00a0"),l=e.measureText(b,m,this.fontSize,this.fontName);this.width=l.width;this.height=l.height;f=this.positionX-this.getOffsetX();h=c-this.positionY+this.getOffsetY();h+=this.height;this._y=h-=l.descent;this._x=f;this.underline&&b.createLine({x1:f+1,y1:h+2,x2:f+l.width+(this.italic?4:1),y2:h+2}).setStroke(a);b.createText({x:f,y:h,id:this.clientId,text:m}).setFont({style:this.italic?"italic":"normal",family:this.fontName,size:this.fontSize,weight:this.bold?"bold":"normal"}).setFill(a);
this.strikeout&&b.createLine({x1:f+1,y1:h-l.ascent/3+1,x2:f+l.width+(this.italic?4:1),y2:h-l.ascent/3+1}).setStroke(a)}}else if(this.mathImage)b.createImage({x:f,y:h-this.mathPlotHeight,width:this.mathPlotWidth,height:this.mathPlotHeight,src:this.content});else if(c=q.create("div",{innerHTML:this.content}),this.shape=b=b.createForeignObject({x:f,y:h,width:1,height:1,content:c,id:this.clientId,fontFamily:this.fontName,fontSize:this.fontSize,fontColor:a,bold:this.bold,italic:this.italic,underline:this.underline,
strikeout:this.strikeout}),b.on)b.on("resized",n.hitch(this,this.objectResized))},objectResized:function(b){this.updatePosition(b.foreignObject,b.box)},updatePosition:function(b,c){var e=b.domNode,m=f.get(e,"display");f.set(e,{display:""});var a=c||h.getContentBox(e);f.set(e,{display:m});this.height=a.h;this.width=a.w;m=this.getParent().height;e=this.positionX-this.getOffsetX();m=m-this.positionY+this.getOffsetY();try{e=Math.floor(e),m=Math.floor(m)-1,b.setPosition(e,m)}catch(t){}},getOffsetY:function(){return Math.floor((this.insertY-
1)*this.height)}})})},"xl/figure/Image":function(){define(["dojo/_base/declare","./BaseFigureObject"],function(s,q){return s("xl.figure.Image",[q],{imageData:null,draw:function(l){var h=this.getParent().height,n=this.positionX-this.getOffsetX(),h=h-this.positionY+this.getOffsetY();l.createImage({x:n,y:h-this.height,width:this.width,height:this.height,src:this.imageData})}})})},"xl/figure/FigureControl":function(){define("dojo/_base/declare dojo/dom-construct dojo/parser dojo/dom-geometry dojo/_base/lang dojo/dom-style xl/figure/BaseFigureObject xl/util/ForeignObject xl/draganddrop/DropTarget xl/draganddrop/DragSourceContainer dojo/_base/array dijit/registry dojo/dom-attr dojo/dom dojo/query".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){return s("xl.figure.control",[m],{clientId:"",containerDivID:"",draw:function(a){this.containerDivID="divcontrolContainer_"+this.clientId;var b=q.create("div",{innerHTML:this.content,id:this.containerDivID}),c=this.getParent().height,d=this.positionX-this.getOffsetX(),e=c-(this.positionY+this.getOffsetY());a=a.createForeignObject({x:d,y:e,content:b,id:this.clientId});d=h.getContentBox(a.domNode);this.height=d.h;this.width=d.w;d=this.positionX-this.getOffsetX();
e=c-(this.positionY+(this.isNumeric(this.height)?this.height:0)+this.getOffsetY());try{d=Math.floor(d),e=Math.floor(e)-1,0>e&&(e=0),0>d&&(d=0),a.setPosition(d,e)}catch(f){}this.shape=b;if(a.on)a.on("resized",n.hitch(this,this.objectResized))},objectResized:function(a){this.updatePosition(a.foreignObject,a.box)},updatePosition:function(a,b){var c=a.domNode,d=f.get(c,"display");f.set(c,{display:""});var e=b||h.getContentBox(c);f.set(c,{display:d});this.height=e.h;this.width=e.w;d=this.isNumeric(this.getParent().height)?
this.getParent().height:0;c=this.positionX-this.getOffsetX();d=d-this.positionY+this.getOffsetY();try{c=Math.floor(c),d=Math.floor(d)-1,0>d&&(d=0),0>c&&(c=0),a.setPosition(c,d)}catch(k){}},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},getOffsetY:function(){return Math.floor((this.insertY-1)*this.height)}})})},"xl/draganddrop/DropTarget":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class xl/player/controls/_AltTextToolTip dojo/dnd/Source dojo/dom-geometry xl/player/controls/_InputObject dojo/dom-attr dojo/dom-construct xl/util/domMethods".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return s("xl.draganddrop.DropTarget",[e,c],{baseClass:"droptarget",name:null,width:null,height:null,altText:null,borderColor:null,borderWidth:null,backgroundColor:null,flowDirection:null,maxItems:null,snapping:null,isAnswered:null,isCorrect:null,printing:!1,leftLabel:null,centerLabel:null,rightLabel:null,constructor:function(a){},destroy:function(a){if(!this.destroyed)for(var b=this.getAllNodes(),c=0;c<b.length;c++)m.replace(b[c],"dragitem-inert","dragitem");
this.inherited(arguments);this.destroyed=!0},startup:function(){this.domNode=this.node;this.inherited(arguments);var a=this.node,b=0;this._hasTargetLabels()&&(b=20);f.set(this.node,{top:b+"px"});this.width&&"0px"!==this.width&&f.set(a,this.printing?"width":"minWidth",this.width);this.height&&"0px"!==this.height?f.set(a,this.printing?"height":"minHeight",this.height):f.set(this.node,"minHeight","calc(100% - "+(this.node.previousElementSibling&&0<this.node.previousElementSibling.clientHeight?this.node.previousElementSibling.clientHeight:
b)+1+"px");m.add(a,this.baseClass);this.horizontal=0===this.flowDirection?!0:!1;this.getAllNodes().forEach(h.hitch(this,function(a){m.add(a,0===this.flowDirection?"dragitem-inlineblock":"dragitem-block");k.set(a,0===this.flowDirection?"horizontal":"vertical","")}));1===this.maxItems&&m.add(a,"indicator-inactive");this.printing&&f.set(a,"pointer-events","none");k.set(a,"role","img")},getCurrentAnswers:function(){for(var a=this.getAllNodes(),b=[],c=0;c<a.length;c++){var d=[n.byNode(a[c]).name];b.push(d)}return b},
onDrop:function(a,c,d,e){var f=c[0],h=n.byNode(f);if(this.group&&h.group&&0!=this.group.localeCompare(h.group))this._hasTargetLabels()?m.remove(this.node.parentNode,"droptarget-hover"):m.remove(this.node,"droptarget-hover");else{this._hasTargetLabels()?m.remove(this.node.parentNode,"droptarget-hover"):m.remove(this.node,"droptarget-hover");if(null!=h.clones){if(a===this)return;a.isInstanceOf(xl.draganddrop.DropTarget)?d=!1:0===h.clones||h.getCloneCount()<h.clones?(h.incrementCloneCount(),d=!0):d=
!1}else d=!1;var r=this.getAllNodes().length;if(this.maxItems)if(1===this.maxItems&&1===this.getAllNodes().length&&!e){r=this.getAllNodes();if(n.byNode(r[0])===h)return;a.onDrop(this,r,!1,!0);this.current=null}else if(this.maxItems===r&&!e)return;m.remove(f,"dragitem-inlineblock");m.remove(f,"dragitem-block");k.remove(f,"horizontal");k.remove(f,"vertical");m.add(f,0===this.flowDirection?"dragitem-inlineblock":"dragitem-block");k.set(f,0===this.flowDirection?"horizontal":"vertical","");r=b.position(this.node,
!0);this.inherited(arguments);h={h:parseInt(h.height,10),w:parseInt(h.width,10)};this.offsetTargetContainer(r,h);this.offsetSourceContainer(a,e);a.isInstanceOf(xl.draganddrop.DragSource)&&(a.updateItemLayout(f),a.addDraggedItem(f))}},offsetTargetContainer:function(b,c){var d=this.node.parentNode;if(a.domNodeIsParentedByClass(d,"DnDLabeling")){var e=(c.h-b.h)/2,k=(c.w-b.w)/2;f.set(d,"position","relative");f.set(d,"top","-"+e+"px");f.set(d,"left","-"+k+"px")}},offsetSourceContainer:function(b,c){var d=
b.node;a.domNodeIsParentedByClass(this.node,"DnDLabeling")&&(b.isInstanceOf(xl.draganddrop.DropTarget)&&!d.children.length&&!c)&&(f.set(d.parentNode,"top",""),f.set(d.parentNode,"left",""))},onDraggingOver:function(){this._hasTargetLabels()?m.add(this.node.parentNode,"droptarget-hover"):m.add(this.node,"droptarget-hover");this.inherited(arguments)},onDraggingOut:function(){this._hasTargetLabels()?m.remove(this.node.parentNode,"droptarget-hover"):m.remove(this.node,"droptarget-hover");this.inherited(arguments)},
_hasTargetLabels:function(){return this.leftLabel||this.rightLabel||this.centerLabel}})})},"xl/draganddrop/DragSourceContainer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/registry xl/draganddrop/DragSource dojo/_base/lang dojo/dom-construct dijit/_Container xl/player/controls/_InputObject dojo/dom-class dojo/parser dojo/_base/array dojo/dom-style dojo/dom-geometry dojo/query xl/util/DijitLoadMonitor".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){return s("xl.draganddrop.DragSourceContainer",
[q,m,c],{constructor:function(a){delete a.minWidth;delete a.minHeight;delete a.xyz;this._params=n.mixin({},a);this.inputFilled=this._params._skipStartup=!0},_params:null,_source:null,targetIDs:null,_correctSourceNodes:null,isAnswered:!1,shouldSetMinSizes:function(a){return!0},getInputData:function(){var a={},b=this.showIndeterminate?{}:null;if(!this.targetIDs)return{indeterminate:b,answers:a};for(var c=0;c<this.targetIDs.length;c++){var d=l.byId(this.targetIDs[c]);d&&(a[d.name]=d._target.getCurrentAnswers(),
this.showIndeterminate&&(b[d.name]=d._target.getIndeterminateAnswer()))}return{indeterminate:b,answers:a}},processCommand:function(a,b){switch(a){case "setup":this.targetIDs=b.targetIDs;this._checkPrepopulatedAnswers();this._adjustMinSize();break;case "incorrect":this._correctSourceNodes=b.correctSourceNodes;this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(b)}},setInputFilled:function(a){if(!a&&this.showIndeterminate&&this.targetIDs)for(var b=0;b<this.targetIDs.length;b++){var c=
l.byId(this.targetIDs[b]);if(c&&c._target.getIndeterminateAnswer()){a=!0;break}}this.inputFilled=a;this.inputChanged()},clear:function(){for(var a=0;a<this.targetIDs.length;a++){var b=l.byId(this.targetIDs[a]);if(!b.isAnswered){for(var c=b.getAllNodes(),d=0;d<c.length;d++){var e=l.byNode(c[d]);e.resetCloneCount();var k;if(e.containerClientID===this.id)(k=this._containsDropItem(e.name,l.findWidgets(this._source.node)))?f.destroy(c[d]):(f.place(c[d],this._source.node,e.containerIndex),this._source.removeDraggedItem(c[d]));
else{var h=l.byId(e.containerClientID);k=h?this._containsDropItem(e.name,l.findWidgets(h.domNode)):null;null!==k?f.place(c[d],h.domNode,e.containerIndex):f.destroy(c[d])}}b.allowEquivalency&&b.clearTargets(c)}}this.setInputFilled(!1)},answerAppliedCommand:function(a){d.forEach(l.findWidgets(this._source.node),function(a){a.destroyRecursive?a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});f.empty(this._source.node);a=f.toDom(a.correctSourceNodes);""!==a.innerHTML&&f.place(a.innerHTML,this._source.node,
"only");b.parse(this._source.node);this._source.startup()},updateControlState:function(){d.forEach(l.findWidgets(this._source.node),function(a){a.destroyRecursive?a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});f.empty(this._source.node);var a=f.toDom(this._correctSourceNodes);""!=a.innerHTML&&f.place(a.innerHTML,this._source.node,"only");b.parse(this._source.node);this._source.startup();this._source.getAllNodes().forEach(n.hitch(this,function(a){e.replace(a,"dragitem-inert","dragitem")}));this.sizeDragItems()},
destroy:function(a){this.inherited(arguments);this._source.destroy();delete this._source},postCreate:function(){this.inherited(arguments);this.removeUnwantedNodes();t.staticFunctions.loadingStarted(this)},removeUnwantedNodes:function(){for(var a=this.domNode.firstChild;a;){var b=a.nextSibling;3===a.nodeType&&this.domNode.removeChild(a);a=b}},setAvatarClass:function(a){this._source.avatarClass=a},setShowIndeterminate:function(a){this.showIndeterminate=a},startup:function(){this.inputFilled=this.userAnswered;
var a=n.mixin({},this._params);this._source=new h(this.domNode,a);this.inherited(arguments);this._source.startup();t.staticFunctions.loadingCompleted(this);this.userAnswered&&this.inputChanged()},sizeDragItems:function(b){b||(b=this.maxSize);var c=l.findWidgets(this._source.node);if(c.length&&b){var e=b/c.length-10;d.forEach(c,function(b){if(b.domNode){b=b.domNode;var c=a(".tdxImage",b).length?"minWidth":"maxWidth";k.set(b,c,e+"px")}}.bind(this));this.maxSize=b}},_checkPrepopulatedAnswers:function(){for(var a=
0;a<this.targetIDs.length;a++){var b=l.byId(this.targetIDs[a]);if(b)for(var b=b.getAllNodes(),c=this._source.getAllNodes(),d=0;d<b.length;d++)for(var e=l.byNode(b[d]),f=0;f<c.length;f++){var k=l.byNode(c[f]);k.name===e.name&&0!==k.clones&&(k.destroy(),c=this._source.getAllNodes())}}},_containsDropItem:function(a,b){for(var c=0;c<b.length;c++)if(b[c].name===a)return!0;return!1},_adjustMinSize:function(){if(this.shouldSetMinSizes&&this.shouldSetMinSizes(this._params.flowDirection)){var a=r.position(this.domNode);
k.set(this.domNode,{minWidth:a.w+"px",minHeight:a.h+"px"})}},getSize:function(){return r.position(this.domNode,!0)||{h:0,w:0}}})})},"xl/draganddrop/DragSource":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class dojo/dom-construct dijit/_Container dojo/dnd/Source dojo/dnd/Manager dojo/dom-geometry dojo/on dojo/dom xl/player/controls/_AltTextToolTip ./DndAvatar dojo/dom-attr dojo/has dojo/topic xl/draganddrop/DropTargetEquivalency".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B){return s("xl.draganddrop.DragSource",[b,t],{_HORIZONTAL:0,_VERTICAL:1,_DEFAULT_WIDTH:150,_DEFAULT_HEIGHT:150,baseClass:"dragsource",avatarClass:null,name:null,minWidth:null,maxWidth:null,minHeight:null,height:null,altText:null,borderColor:null,borderWidth:null,borderStyle:null,backgroundColor:null,flowDirection:null,_startTopic:null,_cancelTopic:null,_dropTopic:null,_container:null,avatarClass:null,constructor:function(a){this._container=n.byNode(a);
this.autoSync=!0},destroy:function(){this.inherited(arguments);this._startTopic.remove();this._cancelTopic.remove();this._dropTopic.remove()},startup:function(){this.domNode=this.node;this.inherited(arguments);d.manager().makeAvatar=this.makeAvatar;d.manager().OFFSET_X=3;d.manager().OFFSET_Y=3;this._startTopic=z.subscribe("/dnd/start",h.hitch(this,this.startDrag));this._cancelTopic=z.subscribe("/dnd/cancel",h.hitch(this,this.dragCancel));this._dropTopic=z.subscribe("/dnd/drop",h.hitch(this,this.dragCancel));
this._draggedItems=[];var a=this.node;null!==this.borderColor&&f.set(a,"borderColor",this.borderColor);null!==this.backgroundColor&&"none"!==this.backgroundColor&&f.set(a,"backgroundColor",this.backgroundColor);null!==this.minWidth&&"0px"!==this.minWidth&&f.set(a,"minWidth",this.minWidth);null!==this.maxWidth&&"0px"!==this.maxWidth&&f.set(a,"maxWidth",this.maxWidth);null!==this.minHeight&&"0px"!==this.minHeight&&f.set(a,"minHeight",this.minHeight);null!=this.borderWidth&&1!==this.borderWidth&&f.set(a,
"borderWidth",this.borderWidth);null!==this.borderStyle&&f.set(a,"borderStyle",this.borderStyle);m.add(a,this.baseClass);D("touch")&&(D("ie")||D("trident")||D("edge"))&&f.set(a,"touch-action","none");this.horizontal=0===this.flowDirection;var b=this;this.getAllNodes().forEach(function(a){m.add(a,b.horizontal?"dragitem-inlineblock":"dragitem-block");v.set(a,b.horizontal?"horizontal":"vertical","")});this.printing&&f.set(a,"pointer-events","none");v.set(a,"role","img")},_activeDraggedItem:null,_activeDraggedSource:null,
_dragActive:!1,_draggedItems:[],startDrag:function(a,b,c){a===this&&(this._dragActive=!0);d.manager().OFFSET_X=-d.manager().avatar.node.offsetWidth/2;d.manager().OFFSET_Y=-d.manager().avatar.node.offsetHeight/2;f.set(d.manager().avatar.node,"pointer-events","none");document.documentElement.style.cursor="grabbing";c=n.byNode(b[0]);if(!(0===c.clones||c.clones<c.getCloneCount())||a.isInstanceOf(xl.draganddrop.DropTarget))this._activeDraggedItem=b[0],this._activeDraggedSource=a,f.set(this._activeDraggedItem,
"visibility","hidden")},dragCancel:function(a,b,c){this._activeDraggedItem&&(f.set(this._activeDraggedItem,"visibility","visible"),this._activeDraggedSource=this._activeDraggedItem=null);d.manager().OFFSET_X=3;d.manager().OFFSET_Y=3;f.set(d.manager().avatar.node,"pointer-events","auto");document.documentElement.style.cursor="auto";this._dragActive=!1},onDrop:function(a,b,d){m.remove(this.node,"dragsource-hover");f.set(this.node,"width","");f.set(this.node,"height","");var e=b[0];v.remove(e,"horizontal");
v.remove(e,"vertical");m.remove(e,"dragitem-inlineblock");m.remove(e,"dragitem-block");m.add(e,0===this.flowDirection?"dragitem-inlineblock":"dragitem-block");v.set(e,0===this.flowDirection?"horizontal":"vertical","");var k=n.byNode(b[0]);if(null!=k.clones&&a!==this){for(var h,r=n.findWidgets(this.node),t=0;t<r.length;t++){h=r[t];if(k===h)break;h=null}if(null!=h){c.destroy(b[0]);k.decrementCloneCount();1==k.getCloneCount()&&this.removeDraggedItem(k);return}}this.removeDraggedItem(k);this.inherited(arguments);
f.set(e,{position:"relative",left:"",top:""});a.allowEquivalency&&a.isInstanceOf(xl.draganddrop.DropTargetEquivalency)&&(n.byNode(e),B=a,B.clearItemsFromNestedTarget(e));a.isInstanceOf(xl.draganddrop.DropTarget)&&a.offsetSourceContainer(a)},onDraggingOver:function(){m.add(this.node,"dragsource-hover");this.inherited(arguments)},onDraggingOut:function(){m.remove(this.node,"dragsource-hover",this);this.inherited(arguments)},makeAvatar:function(){var a=new u(this);this.avatarClass&&m.add(a.node,this.avatarClass);
return a},updateItemLayout:function(a){var b=n.byNode(a.parentNode);null!=b&&b.id==this.id&&(v.remove(a,"horizontal"),v.remove(a,"vertical"),m.remove(a,"dragitem-inlineblock"),m.remove(a,"dragitem-block"),m.add(a,0==this.flowDirection?"dragitem-inlineblock":"dragitem-block"),v.set(a,0==this.flowDirection?"horizontal":"vertical",""))},addDraggedItem:function(a){var b=n.byNode(a);-1==this._draggedItems.indexOf(a.id)&&this._draggedItems.push(b.id);this._container.setInputFilled(!0)},removeDraggedItem:function(a){var b=
this._draggedItems.indexOf(a.id);a.clones||0==a.clones?1==a.getCloneCount()&&-1<b&&(this._draggedItems.splice(b,1),0==this._draggedItems.length&&this._container.setInputFilled(!1)):-1<b&&(this._draggedItems.splice(b,1),0==this._draggedItems.length&&this._container.setInputFilled(!1))}})})},"xl/draganddrop/DndAvatar":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/dnd/Avatar dojo/dom-style dojo/dom-class".split(" "),function(s,q,l,h,n,f){return s("xl.draganddrop.DndAvatar",
[h],{construct:function(){this.inherited(arguments);var h=this.node.children[0].children[1].children[0].children[0];f.add(h,"dragitem-avatar");n.set(h,"top","0px");n.set(h,"left","0px")},_generateText:function(){return""}})})},"xl/draganddrop/DropTargetEquivalency":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class xl/player/controls/_AltTextToolTip dojo/dnd/Source dojo/dom-geometry xl/player/controls/_InputObject dojo/dom-attr dojo/dom-construct dojo/on dojo/query dojo/dom dojo/has dojo/number xl/draganddrop/DnDNestedTarget xl/draganddrop/DnDFreeSpace".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B){return s("xl.draganddrop.DropTargetEquivalency",[e],{baseClass:"droptarget",name:null,width:null,height:null,altText:null,borderColor:null,borderWidth:null,backgroundColor:null,flowDirection:null,maxItems:null,snapping:null,isAnswered:null,isCorrect:null,printing:!1,leftLabel:null,centerLabel:null,rightLabel:null,inTarget:!1,outOfTarget:!0,currentDragItem:null,equDivTrack:0,blankDivTrack:0,constructor:function(a){},destroy:function(a){if(!this.destroyed)for(var b=
this.getAllNodes(),c=0;c<b.length;c++)m.replace(b[c],"dragitem-inert","dragitem");this.inherited(arguments);this.destroyed=!0},startup:function(){this.inherited(arguments);var a=this.node;"0px"!=this.width&&f.set(a,this.printing?"width":"minWidth",this.width);"0px"!=this.height&&f.set(a,this.printing?"height":"minHeight",this.height);m.add(a,this.baseClass);this.horizontal=0==this.flowDirection?!0:!1;this.getAllNodes().forEach(h.hitch(this,function(a){m.add(a,0==this.flowDirection?"dragitem-inlineblock":
"dragitem-block");k.set(a,0==this.flowDirection?"horizontal":"vertical","")}));1==this.maxItems&&m.add(a,"indicator-inactive");f.set(this.id,"position","relative");var c=2*this.borderWidth,a=b.position(this.node,!0),d=a.w-c,c=a.h-c,e=0;this._hasTargetLabels()&&(e=20);f.set(this.node,{position:"absolute",left:"0px",top:e+"px",minWidth:d+"px",minHeight:c+"px"});k.set(this.node,"id",this.id+"_node");this._hasTargetLabels()&&f.set(this.node.parentNode,"height",a.h+e+"px")},getSize:function(){return b.position(this.node,
!0)||{h:0,w:0}},getCurrentAnswers:function(){var a=[],c={};this._getAllNestedTarget().forEach(function(a){var d=b.position(a.domNode,!0);c[d.x]=a.id});for(var d=this._sortDictionary(c),e=0;e<d.length;e++){for(var f=n.byId(d[e].value),k=[],h=0;h<f.containItem.length;h++)k.push(n.byNode(f.containItem[h]).name);a.push(k)}return a},getIndeterminateAnswer:function(){return this.isIndeterminateChecked},onDrop:function(a,c,d,e){var h=c[0],r=n.byNode(h);if(!(this.id!=a.id&&(a.isInstanceOf(xl.draganddrop.DropTargetEquivalency)||
a.isInstanceOf(xl.draganddrop.DropTarget))))if(this.group&&r.group&&0!=this.group.localeCompare(r.group))this._hasTargetLabels()?m.remove(this.node.parentNode,"droptarget-hover"):m.remove(this.node,"droptarget-hover");else{this._hasTargetLabels()?m.remove(this.node.parentNode,"droptarget-hover"):m.remove(this.node,"droptarget-hover");if(null!=r.clones&&1!=r.clones){if(a==this)return;a.isInstanceOf(xl.draganddrop.DropTarget)?d=!1:0==r.clones||r.getCloneCount()<r.clones?(r.incrementCloneCount(),d=!0):
d=!1}else d=!1;var t=this.getAllNodes().length;if(this.maxItems)if(1==this.maxItems&&1==this.getAllNodes().length&&!e){t=this.getAllNodes();if(n.byNode(t[0])==r)return;a.onDrop(this,t,!1,!0);this.current=null}else if(this.maxItems==t&&!e)return;m.remove(h,"dragitem-inlineblock dragitem-block");k.remove(h,"horizontal");k.remove(h,"vertical");m.add(h,0==this.flowDirection?"dragitem-inlineblock":"dragitem-block");k.set(h,"vertical","");var l=dojo.dnd.manager().avatar,u=b.position(l.node,!0),v=b.position(this.node,
!0),q=b.position(h,!0).w,r=v.h,t=u.x-v.x-l.manager.OFFSET_X,l=u.y-v.y+l.manager.OFFSET_Y;this._clearNestedTarget();if(u=this._getCurrentNestedTarget(t))this._sameItemDropAgain(h,u)?this._clearNestedTarget():(this.inherited(arguments),a.isInstanceOf(xl.draganddrop.DragSource)&&(a.updateItemLayout(h),a.addDraggedItem(h)),f.set(h,{position:"absolute",left:t+"px",top:l+"px","z-index":"1"}),u.addDragItem(h),this._removeOlderPlaceDropItem(u,h),this._clearNestedTarget(),this._arrangeTargetItems(this.node,
!0),this._rearrangeNestedTargetStep());else{if(this.id==a.id)if(u=this._getCurrentMovingItemNstTarget(h),1<this._getNumberOfItemInNstTarget(u)){if(this._getFreeSpace()+10<q)return}else this._handleDragOut(),this._clearNestedTarget(),this._fillBlankPlaces();else if(u=this._getFreeSpace(),q+10>u)return;this.inherited(arguments);a.isInstanceOf(xl.draganddrop.DragSource)&&(a.updateItemLayout(h),a.addDraggedItem(h));f.set(h,{position:"absolute",left:t+"px",top:l+"px"});q+=10;l=new z;l.width=q;l.height=
r-3;l.left=t;l.top=top;l.addDragItem(h);l.placeAt(this.node);this._removeOlderPlaceDropItem(l,h);this._clearNestedTarget();this._arrangeTargetItems(this.node,!0);this._rearrangeNestedTargetStep()}this._arrangeTargetItems(this.node,!0);this._fillBlankPlaces()}},onDraggingOver:function(){this._hasTargetLabels()?m.add(this.node.parentNode,"droptarget-hover"):m.add(this.node,"droptarget-hover");this.inherited(arguments)},onDraggingOut:function(){this._hasTargetLabels()?m.remove(this.node.parentNode,"droptarget-hover"):
m.remove(this.node,"droptarget-hover");this.inherited(arguments)},arrangeEqualentItems:function(){var a=this.getAllNodes(),c=0,d=this.node,e=this.id;a.forEach(function(a){var h=n.byNode(a).equalityId,m=n.byNode(a).name,t=a.id,l="eqd_"+e+"_"+h,h=u.byId(l),v=b.position(a,!0),q=b.position(d,!0);h?(m=h.attributes.containItemsNames.value,t=h.attributes.containItemsID.value,b.position(h,!0),m=m+n.byNode(a).name+"|",t=t+a.id+"|",k.set(h,"containItemsNames",m),k.set(h,"containItemsID",t),f.set(a,"position",
"absolute")):(h=r.create("div",{id:l,isNested:"true","class":"drop-nestedtarget-answered",style:{width:v.w+10+"px",height:q.h-3+"px",position:"absolute",left:c+"px",top:"1px","z-index":"0",paddingLeft:"4px",paddingRight:"4px"}},d),k.set(h,"containItemsNames",m+"|"),k.set(h,"containItemsID",t+"|"),f.set(a,"position","absolute"),c=c+v.w+10)});this._arrangeTargetItemsfromOut(this.node)},clearItemsFromNestedTarget:function(a){this._getAllNestedTarget().forEach(function(b){b.removeDragItem(a)});this._clearNestedTarget();
this._arrangeTargetItems(this.node,!0);this._fillBlankPlaces()},createSavedUserAnswer:function(a){if(a.length)for(var c=5,d=[],e=null,k=this.getSize().w/a.length-10,h=0;h<a.length;h++){f.set(a[h].domNode,"maxWidth",k+"px");var r=b.position(a[h].domNode),t=0;try{t=parseInt(a[h].minWidth.replace("px"))}catch(l){t=r.w}var r=a[h].equalityIdIncorrect,n=0;m.add(a[h].domNode,"useranswer-dragitem");0===t?n=b.position(a[h].domNode,!0).w:(f.set(a[h].domNode,{"min-width":t+"px"}),n=t);-1<d.indexOf(r)?e&&(e.addDragItem(a[h].domNode),
this._removeOlderPlaceDropItem(e,a[h].domNode),this._clearNestedTarget(),this._arrangeTargetItems(this.node,!1),this._rearrangeNestedTargetStep(),this._arrangeTargetItems(this.node,!1)):(t=new z({doHover:!1}),t.width=n+5,t.height=b.position(this.node,!0).h-3,t.left=c,t.top=3,t.addDragItem(a[h].domNode),t.placeAt(this.node),e=t,d.push(r),this._removeOlderPlaceDropItem(t,a[h].domNode),this._clearNestedTarget(),this._arrangeTargetItems(this.node,!1),this._rearrangeNestedTargetStep(),this._arrangeTargetItems(this.node,
!1),c=c+n+5)}},_getCurrentNestedTarget:function(a){var c=[],d=b.position(this.node,!0);this._getAllNestedTarget().forEach(function(e){var f=b.position(e.domNode,!0),k=f.x-d.x,f=k+f.w;k<=a&&f>=a&&c.push(e)});var e=null;0<c.length&&(e=c[0]);return e},_arrangeTargetItemsfromOut:function(a){this._getAllDivs().forEach(function(c){if(c.attributes.isNested){var d=0,e=c.attributes.containItemsID.value.split("|");e.forEach(function(a){""!=a&&(d+=1)});0==d&&(d=1);var k=b.position(c,!0),h=b.position(a,!0),m=
k.h/d,r=0,t=0,l=k.x-h.x+5;e.forEach(function(a){if(""!=a){var c=b.position(a,!0),d=c.w;d>t&&(t=d);c=r+(m-c.h)/2;f.set(a,"left",l+"px");f.set(a,"top",c+"px");r+=m}});t+=10;f.set(c,"width",t+"px")}});this._arrangeNestedTargetVerticallyOut(a)},_arrangeTargetItems:function(a,c){var d=this._getAllNestedTarget(),e=this._hasTargetLabels();d.forEach(function(d){var k=d.getNumberOfDragItem(),h=b.position(d.domNode,!0),m=b.position(a,!0),r=h.h/k,t=0;!c&&e&&(t=20);var l=0,n=h.x-m.x+5;d.containItem.forEach(function(a){if(a){var c=
b.position(a,!0),d=c.w;d>l&&(l=d);c=t+(r-c.h)/2;f.set(a,"left",n+"px");f.set(a,"top",c+"px");f.set(a,"z-index","1");t+=r}});l+=10;d.width=l;d.setNodeStyle()});this._arrangeNestedTargetVertically(a)},_sortNumerically:function(a,b){return a-b},_fillBlankPlaces:function(){this._getFreeSpaces().forEach(function(a){a&&a.destroy()});var a=this._getAllNestedTarget(),c={},d=b.position(this.node.id,!0);a.forEach(function(a){var e=b.position(a.domNode,!0);c[e.x-d.x]=a.id});for(var e=this._sortDictionary(c),
a=[],f=0,k=0;k<e.length;k++){var h=b.position(e[k].value,!0),m=h.x-d.x;0==k&&1<e.length?a.push({xPosLeft:0,xPosRight:m}):0<k&&k<e.length-1?a.push({xPosLeft:f,xPosRight:m}):(a.push({xPosLeft:f,xPosRight:m}),a.push({xPosLeft:m+h.w,xPosRight:d.w}));f=m+h.w}for(k=0;k<a.length;k++)f=a[k],e=f.xPosLeft,f=f.xPosRight-e,5<f&&(h=new B,h.width=f,h.height=d.h-3,h.left=e,h.top=1,h.zIndex="0",h.placeAt(this.node))},_clearNestedTarget:function(){var a=[];this._getAllNestedTarget().forEach(function(b){0>=b.getNumberOfDragItem()&&
a.push(b)});for(var b=0;b<a.length;b++)a[b].destroy()},clearAllNestedTargets:function(){for(var a=this._getAllNestedTarget(),b=0;b<a.length;b++)a[b].destroy();this._arrangeTargetItems(this.node,!0);this._fillBlankPlaces()},_handleDragOut:function(){var a=dojo.dnd.manager().avatar;this._getAllNestedTarget().forEach(function(b){b.removeDragItem(a.manager.nodes[0])})},_removeOlderPlaceDropItem:function(a,b){this._getAllNestedTarget().forEach(function(c){c.isNested&&c.id!=a.id&&c.isDragItemContains(b)&&
c.removeDragItem(b)})},_rearrangeNestedTargetStep:function(){b.position(this.node,!0);var a={};this._getAllNestedTarget().forEach(function(c){var d=b.position(c.domNode,!0);a[d.x]=c.id});for(var c=this._sortDictionary(a),d=0;d<c.length;d++){var e=n.byId(c[d].value);this._lefttoRight(e,c.length,d,c)}for(d=0;d<c.length;d++){var e=c.length-(1+d),f=n.byId(c[e].value);this._righttoLeft(f,c.length,e,c)}},_sortDictionary:function(a){var b=Object.keys(a).map(function(a){return parseFloat(a)}),c,d=b.length;
b.sort(this._sortNumerically);var e=[];for(c=0;c<d;c++){var f=b[c];e.push({key:f,value:a[f]})}return e},_lefttoRight:function(a,c,d,e){var f=b.position(this.node,!0);c=b.position(a.domNode,!0).x-f.x;0==d?0>c&&(a.left=0,a.setNodeStyle()):(d=b.position(e[d-1].value,!0),d=d.x-f.x+d.w,d>c&&(a.left=d,a.setNodeStyle()))},_righttoLeft:function(a,c,d,e){var f=b.position(this.node,!0),k=b.position(a.domNode,!0),h=k.x-f.x+k.w;d==c-1?h>f.w&&(a.left=f.w-k.w,a.setNodeStyle()):(c=b.position(e[d+1].value,!0).x-
f.x,c<h&&(a.left=c-k.w,a.setNodeStyle()))},_getFreeSpace:function(){var a=this._getAllNestedTarget(),c=0,d=0,d=b.position(this.node,!0);a.forEach(function(a){a=b.position(a.domNode,!0);c+=a.w});return d=d.w-c},_getAllDivs:function(){return t("#"+this.node.id+" \x3e div")},_getAllNestedTarget:function(){var a=[];n.findWidgets(this.node).forEach(function(b){b.isInstanceOf(xl.draganddrop.DnDNestedTarget)&&a.push(b)});return a},_getFreeSpaces:function(){var a=[];n.findWidgets(this.node).forEach(function(b){b.isInstanceOf(xl.draganddrop.DnDFreeSpace)&&
a.push(b)});return a},_getNestedTargetByEqualencyGroup:function(a){var b=[];n.findWidgets(this.node).forEach(function(c){c.isInstanceOf(xl.draganddrop.DnDNestedTarget)&&c.equalencyGroup==a&&b.push(c)});return b},_arrangeNestedTargetVerticallyOut:function(a){var c=b.position(a,!0);this._getAllDivs().forEach(function(a){if(a.attributes.isNested){a=a.attributes.containItemsID.value.split("|");var d=0;a.forEach(function(a){""!=a&&(a=b.position(a,!0),d+=a.h)});var e=10,k=1;d>c.h&&a.forEach(function(a){""!=
a&&(f.set(a,"top",e+"px"),f.set(a,"z-index",k));e+=20;k+=1})}})},_arrangeNestedTargetVertically:function(a){var c=b.position(a,!0);this._getAllNestedTarget().forEach(function(a){var d=0;a.containItem.forEach(function(a){a&&(a=b.position(a,!0),d+=a.h)});var e=10,k=1;d>c.h&&a.containItem.forEach(function(a){a&&(f.set(a,"top",e+"px"),f.set(a,"z-index",k));e+=20;k+=1})})},_getCurrentMovingItemNstTarget:function(a){var b=null;this._getAllNestedTarget().forEach(function(c){c.isDragItemContains(a)&&(b=c)});
return b},_getNumberOfItemInNstTarget:function(a){return a.getNumberOfDragItem()},_sameItemDropAgain:function(a,b){return b.isDragItemContains(a)},_hasTargetLabels:function(){return this.leftLabel||this.rightLabel||this.centerLabel},sizeDropItems:function(){var a=this.getSize().w,b=this.getAllNodes();if(b.length&&a){var c=a/b.length-10;l.forEach(b,function(a){var b=t(".tdxImage",a).length?"minWidth":"maxWidth";f.set(a,b,c+"px")})}}})})},"xl/draganddrop/DnDNestedTarget":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/touch dojo/dom-geometry dojo/on".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.draganddrop.DnDNestedTarget",[q],{baseClass:"drop-nestedtarget",width:0,height:0,left:0,top:0,zIndex:"0",paddingLeft:"4px",paddingRight:"4px",containItem:null,isNested:!0,equalencyGroup:0,doHover:!0,constructor:function(b){this.containItem=[];b&&null!=b.doHover&&(this.doHover=b.doHover)},startup:function(){this.setNodeStyle();this.doHover||m.remove(this.domNode,"drop-nestedtarget");this.inherited(arguments)},postCreate:function(){this.doHover&&(this.own(k(this.domNode,
b.move,h.hitch(this,this.touchMove))),this.own(k(this.domNode,b.out,h.hitch(this,this.touchOut))));this.inherited(arguments)},touchMove:function(){m.add(this.domNode,"drop-nestedtarget-hover")},touchOut:function(){m.remove(this.domNode,"drop-nestedtarget-hover")},addDragItem:function(b){0>this.containItem.indexOf(b)&&this.containItem.push(b)},removeDragItem:function(b){b=this.containItem.indexOf(b);-1<b&&this.containItem.splice(b,1)},isDragItemContains:function(b){var a=!1;-1<this.containItem.indexOf(b)&&
(a=!0);return a},getNumberOfDragItem:function(){var b=0;this.containItem&&(b=this.containItem.length);return b},setNodeStyle:function(){f.set(this.domNode,{"z-index":this.zIndex,width:this.width+"px",height:this.height+"px",position:"absolute",left:this.left+"px",top:"0px"})}})})},"xl/draganddrop/DnDFreeSpace":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/touch dojo/dom-geometry dojo/on".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.draganddrop.DnDFreeSpace",[q],{baseClass:"drop-filledarea",width:0,height:0,left:0,top:0,zIndex:"0",constructor:function(b){},startup:function(){this.setNodeStyle();this.inherited(arguments)},postCreate:function(){this.own(k(this.domNode,b.move,h.hitch(this,this.touchMove)));this.own(k(this.domNode,b.out,h.hitch(this,this.touchOut)));this.inherited(arguments)},touchMove:function(){m.add(this.domNode,"drop-filledarea-hover")},touchOut:function(){m.remove(this.domNode,
"drop-filledarea-hover")},setNodeStyle:function(){f.set(this.domNode,{"z-index":this.zIndex,width:this.width+"px",height:this.height+"px",position:"absolute",left:this.left+"px",top:"0px"})}})})},"xl/grapher/NumberLine":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/dom-geometry dojo/dom-class dojo/dom-style dijit/registry dojox/gfx/registry ./XYGraph2 xl/util/positionMonitor ./IPNumberLinePlot xl/grapher/enums xl/grapher/IPCursorResponse".split(" "),function(s,q,l,h,n,f,m,
c,e,b,d,k,r){return s("xl.grapher.NumberLine",[e],{_positionMonitor:null,constructor:function(a){this.hasZoomButton=!1;this.plotMargins={top:5,left:5,right:5,bottom:5};a.loadFromJson&&q.mixin(this,a.config)},postCreate:function(){this.inherited(arguments);this._positionMonitor=b.register(this.domNode,q.hitch(this,this.reset));if(this.getParent){var a=this.getParent();a&&(a.domNode&&n.contains(a.domNode,"mcAnswerOverflow"))&&n.remove(a.domNode,"mcAnswerOverflow")}this.customDropPoint&&(a=this.createPoint(this.customDropPoint.isCorrect,
this.customDropPoint.xPos),this.addPart(a))},createPoint:function(a,b){return new r({_graph:this,symbolColor:a?"#000000":"#BF2324",symbolBackground:"#9AB0D8",symbol:k.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:b,y:0})},destroy:function(){this.inherited(arguments);this._positionMonitor&&this._positionMonitor.remove()},draw:function(a){this.getAxisX().tickStyle=k.IPGraphTickStyle.FULL;this.getAxisY().tickStyle=k.IPGraphTickStyle.FULL;for(var b=this.domNode,c;b.parentNode;){if(n.contains(b,"dijitTooltipContents")){c=
b;break}b=b.parentNode}c&&(this.reset(),f.set(c,"width",h.getMarginBox(this.getViewer().domNode).w-75+"px"));this.inherited(arguments)},onFormatNumber:null,resize:function(){var a=h.getMarginBox(this.domNode);if(a.w!=this.myWidth||a.h!=this.myHeight)this.reset(),this.myWidth=a.w,this.myHeight=a.h}})})},"dojox/gfx/registry":function(){define(["dojo/has","./shape"],function(s,q){s.add("gfxRegistry",1);var l={},h={},n={};l.register=q.register=function(f){var m=f.declaredClass.split(".").pop(),c=m in
h?++h[m]:h[m]=0,m=m+c;n[m]=f;return m};l.byId=q.byId=function(f){return n[f]};l.dispose=q.dispose=function(f,h){if(h&&f.children)for(var c=0;c<f.children.length;++c)l.dispose(f.children[c],!0);c=f.getUID();n[c]=null;delete n[c]};return l})},"xl/grapher/NumberLineCursor":function(){define("dojo/_base/declare dijit/_WidgetBase xl/grapher/NumberLinePointCursor xl/eqeditor/EqLabel xl/player/controls/_InputObject dijit/registry xl/util/IPMath dojo/on dojo/_base/lang dojo/dom-construct dojo/dom-class xl/grapher/IPCursorResponse xl/grapher/enums dojo/Evented dijit/Tooltip xl/util/localization!html5player/player xl/util/stringUtils dojo/keys dojo/_base/event xl/player/controls/_NeedsPlayerViewer xl/player/dialogs/InputFeedbackDialog xl/util/DijitLoadMonitor".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A){return s("xl.grapher.NumberLineCursor",[q,n,a,B],{name:null,format:null,show:!0,cursor:null,label:null,_numLine:null,numLineId:null,start:null,solution:null,userResponse:null,blobSnapInterval:0,isAnswered:!1,propName:"",toolTipContent:null,baseClass:"xycursor",DEF_FORMAT:"#",testMode:!1,isInteractive:!0,constructor:function(a){e.mixin(a);this.inputFilled=!0},postCreate:function(){this._numLine=f.byId(this.numLineId);var a=b.create("span",null,
this.domNode);this.label=new h(null,a);this.label.startup();this.propName||(this.userResponse=this.start);this.display();A.staticFunctions.loadingStarted(this)},display:function(){switch(this.propName){case "response":this.label.setEqText(this.formatNum(this.userResponse));break;case "output":this.label.setEqText(this.formatNum(this.solution));break;default:this.label.setEqText(this.formatNum(this.userResponse))}this.label.domNode.style.display=this.show?"inline":"none"},formatNum:function(a){return m.isInfinite(a)?
0<a?"\x26infin;":"-\x26infin;":this._numLine&&this._numLine.getAxisX()&&a<this._numLine.getAxisX().getMinimum()?"-\x26infin;":this._numLine&&this._numLine.getAxisX()&&a>this._numLine.getAxisX().getMaximum()?"\x26infin;":!this.format||""==this.format?v.formatFloat(a,this.DEF_FORMAT):v.formatFloat(a,this.format)},getInputData:function(){return{answer:this.userResponse.toString()}},processCommand:function(a,b){switch(a){case "attach":this.numLineId=b.numLineId;this._numLine=f.byId(this.numLineId);this.cursor=
new l({numLine:this._numLine,snapY:5,printing:this.printing});this.cursor.setSnapOriginX(0);this.cursor.setSnapIntervalX(this.blobSnapInterval);this.cursor.setLocation(this.start,0);this.own(this.cursor.on("moved",e.hitch(this,this.blobMoved)),this._numLine.on("keydown",e.hitch(this,this.onKeydown)),this._numLine.on("mousedown",e.hitch(this,this.numberLineMouseDown)));this.display();A.staticFunctions.loadingCompleted(this);break;case "answered":this.answeredCommand(b);this.dropPoint(this._numLine);
this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(b)}},numberLineMouseDown:function(){this.cursor&&this._numLine.setFocusBlob(this.cursor)},onKeydown:function(a){a.keyCode===D.ENTER&&!this.isAnswered?(z.stop(a),this.inputEntered()):a.keyCode===D.ENTER&&this.isAnswered&&(z.stop(a),this.showToolTip(this.cursor.numLine.domNode.getElementsByTagName("circle")[0],this.cursor.numLine.domNode))},blobMoved:function(a){this._setUserResponse(a);a&&c.emit(this.domNode,"nlcursor_moved",
{x:a.x,bubbles:!0})},_setUserResponse:function(a){this.userResponse=a.x;0>m.compareValue(a.x,this._numLine.getAxisX().getMinimum())?(this.userResponse=Number.NEGATIVE_INFINITY,this.cursor._snapOriginX=this._numLine.getAxisX().getMinimum(),this.cursor.snapIntervalX=Math.abs(a.x-this._numLine.getAxisX().getMinimum()),a.x=this.userResponse):0<m.compareValue(a.x,this._numLine.getAxisX().getMaximum())?(this.userResponse=Number.POSITIVE_INFINITY,this.cursor._snapOriginX=this._numLine.getAxisX().getMaximum(),
this.cursor.snapIntervalX=Math.abs(a.x-this._numLine.getAxisX().getMaximum()),a.x=this.userResponse):(this.cursor.setSnapOriginX(0),this.cursor.setSnapIntervalX(this.blobSnapInterval));this.display()},_answerPoint:null,dropPoint:function(a){this._answerPoint=a.createPoint(this.isCorrect,this.solution);this._answerPoint.on("cursorResponseDrawn",e.hitch(this,this.cursorResponseDrawn));this.clearCursor();a.addPart(this._answerPoint);a.draw()},cursorResponseDrawn:function(a){a.blob&&this.updateToolTipDijit(a.blob._node.rawNode,
!0)},clearCursor:function(){this._numLine.getBlobSurfaceLayer().clear();this.clearPrevPoints?(this._numLine.removeBlobs(),this.cursor.destroy()):this._numLine.removePart(this.cursor)},answerAppliedCommand:function(a){a&&(a={x:a.answer},this._setUserResponse(a),this.cursor.setLocation(a.x,0),this.solution=a.x,this.isAnswered=!0)},answeredCommand:function(a){a&&(this.isAnswered=!0,this.isCorrect=a.isCorrect,this.toolTipContent=a.toolTip,this.solution=a.answer,this.userResponse=a.userResponse,this.showFeedbackLink=
a.showFeedbackLink,this.isCorrect||this.label.setEqText(this.formatNum(this.solution.toString())))},updateControlState:function(){this.updateToolTipDijit(this._answerPoint._node.rawNode,!0);d.remove(this.domNode,"correct");d.remove(this.domNode,"incorrect");d.remove(this.domNode,"answered");this.isAnswered&&(d.add(this.domNode,"answered"),d.add(this.domNode,this.isCorrect?"correct":"incorrect"))},clear:function(){this.cursor.setLocation(this.start,0);this.userResponse=this.start;this.display()},isStatic:function(){return!this.isInteractive}})})},
"xl/grapher/NumberLinePointCursor":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphShapeBlob dojox/gfx/Moveable xl/grapher/Point xl/util/graphUtils xl/grapher/BlobMover xl/util/IPMath dojo/has dojo/dom-style".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.grapher.NumberLinePointCursor",[l],{printing:!1,constructor:function(b){q.mixin(b);this._graph=b.numLine;this.snapY=b.snapY;this.printing=b.printing},postCreate:function(){this._graph.addBlob(this,!1)},draw:function(c){c&&
(this._surface=c);if(this._graph){c=new n(this.getViewX(),this.getViewY());if(!this._gfxGroup||!this._gfxGroup.parent)this._gfxGroup=this._surface.createGroup();this.drawBlob(this._gfxGroup,c);this.printing&&b.set(this._graph.domNode,"pointer-events","none")}},constrainPosition:function(b,e,f){var a=this._graph.getAxisX().viewToWorldRel(10);0>c.compareValue(b.x,this._graph.getAxisX().getMinimum(),1E-8)?(b.x=this._graph.getAxisX().getMinimum()-a,b.y=0):0<c.compareValue(b.x,this._graph.getAxisX().getMaximum(),
1E-8)?(b.x=this._graph.getAxisX().getMaximum()+a,b.y=0):this.inherited(arguments)},drawBlob:function(b,c){if(this._blob&&this._blob.parent&&this._blob.parent.parent)for(var r=0;r<this._blob.children.length;r++)this._blob.children[r].setShape({cx:c.x,cy:c.y});else{r=b.createGroup();f.drawCircle(r,c.x,c.y,this._size,"#FFCB5A","black",2);var a=e("touch")?3*this._size:2*this._size;f.drawCircle(r,c.x,c.y,a,"rgba(255,255,255,0.0)","rgba(255,255,255,0.0)",2);this._blob=r;r=new h(this._blob,{mover:m});r.graph=
this._graph;r.blob=this;this._blob.connect("onmousedown",q.hitch(this,"onMouseDown"))}}})})},"xl/grapher/IPBarChart":function(){define("dojo/_base/declare xl/grapher/IPBar ./enums xl/grapher/IPBarLegend xl/grapher/IPGraphLabel xl/grapher/Rectangle dojox/gfx dojo/dom-geometry xl/grapher/XYGraph2 xl/player/controls/_AltTextToolTip xl/grapher/IPGraphAxis dojo/_base/array xl/eqeditor/EqLabel".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.grapher.IPBarChart",[e,b],{orientation:0,_barList:null,
barGap:null,legend:null,useLetters:!1,barSize:0,barAspect:null,zeroBar:!1,align:0,autoSize:!0,labelSpacing:0,axisMin:0,axisMax:0,tickSpacing:0,axisTitle:"",altAxisTitlePos:!1,constructor:function(a){a&&a.loadFromJson&&(a.showGrid||(a.showGrid=!1),a.axisX.orientation&&(a.axisX.orientation=a.axisX.orientation.toLowerCase()),a.axisY.orientation&&(a.axisY.orientation=a.axisY.orientation.toLowerCase()));this._barList=[];this.hasZoomButton=!1;this.plotMargins.bottom=0},postCreate:function(){this.inherited(arguments)},
setAxisPositions:function(){this.updateBarAxis();this.inherited(arguments)},updateBarAxis:function(){var a,b;this.orientation==l.IPBarOrientation.BARVERTICAL?(b=this.getAxisX(),a=this.getAxisY()):(b=this.getAxisY(),a=this.getAxisX());this.orientation===l.IPBarOrientation.BARVERTICAL?b.setRange(0.5,Math.max(1,this.getVisibleBarCount())+0.5):b.setRange(Math.max(1,this.getVisibleBarCount())+0.5,0.5);a.showGrid=!0;a._gridMajor=!0;a._location=l.IPGraphAxisOrigin.MINIMUM;a.labelSpacing=this.labelSpacing;
a.tickSpacing=this.tickSpacing;a.onBuildTickList=null;a.setRange(this.axisMin,this.axisMax);a.title=this.axisTitle;a.altTitlePos=this.altAxisTitlePos;b.tickSpacing=1;b.labelSpacing=1;b.showMaxArrow=!1;b.showGrid=!1;b.titleFontFamily=a.titleFontFamily;b.labelFontFamily=a.labelFontFamily;b.onBuildTickList=this.createBarTickList;b.title="";b.altTitlePos=!1;b._location=l.IPGraphAxisOrigin.MINIMUM},createBarTickList:function(a){if(!this._graph.useLetters&&this._graph.legend&&this._graph.legend.visible)return!1;
for(var b="A",c=0;c<this._graph.getBarCount();c++)this._graph._barList[c].visible&&(this._graph.useLetters?a.addLabel(c+1,b):a.addLabel(c+1,this._graph._barList[c].text),b=String.fromCharCode(b.charCodeAt(0)+1));return!1},initialize:function(){this.updateBarAxis();this.adjustSize();this.inherited(arguments);this.addAccLabel()},adjustSize:function(){var a=c.getContentBox(this.domNode);m.switchTo(this.renderMode);this._surfaceList.axisLayer=m.createSurface(this.domNode,a.w,a.h);this._surfaceList.barChartLayer=
m.createSurface(this.domNode,a.w,a.h);this.doAutoSize(this.getBarChartSurfaceLayer(),a.w,a.h);this.graphTitle&&this.titlePosition==l.IPGraphTitlePosition.TOP&&(a=c.getContentBox(this.domNode),this.doAutoSize(this.getBarChartSurfaceLayer(),a.w,a.h));this._surfaceList.axisLayer.destroy();this._surfaceList.barChartLayer.destroy()},doAutoSize:function(a,b,d){var e;this.setupAllTitles(a);a=new f({left:0,right:1E3,top:0,bottom:1E3});this.calcPlotRect(a);e=d;e=this.orientation==l.IPBarOrientation.BARVERTICAL?
this.getVisibleBarCount()*this.barSize+Math.round(this.getVisibleBarCount()*this.barGap*this.barSize):Math.round(this.barAspect*this.barSize);this.legend.visible&&(e=Math.max(e,this.legend._width));b=e+(a.right-a.left)-(this._plotRect.right-this._plotRect.left);e=this.orientation==l.IPBarOrientation.BARHORIZONTAL?this.getVisibleBarCount()*this.barSize+Math.round(this.getVisibleBarCount()*this.barGap*this.barSize):Math.round(this.barAspect*this.barSize);e=e+(a.bottom-a.top)-(this._plotRect.bottom-
this._plotRect.top);(b!=d||e!=d)&&c.setContentSize(this.domNode,{w:b,h:e})},getAxis:function(){return this.orientation==l.IPBarOrientation.BARVERTICAL?this.getAxisY():this.getAxisX()},getBarCount:function(){return this._barList.length},getBarChartSurfaceLayer:function(){return this._surfaceList.barChartLayer},getBarAxis:function(){return this.orientation==l.IPBarOrientation.BARVERTICAL?this.getAxisX():this.getAxisY()},getVisibleBarCount:function(){for(var a=0,b=0;b<this.getBarCount();b++)this._barList[b].visible&&
a++;return a},setOrientation:function(a){a!=this.orientation&&(this.orientation=a,this.getBarAxis().invalidateTickList(),this.invalidateGraph())},setBarGap:function(a){a!=this.barGap&&(this.barGap=a,this.invalidateGraph())},setUseLetters:function(a){a!=this.useLetters&&(this.useLetters=a,this.orientation==l.IPBarOrientation.BARVERTICAL?_xAxis.invalidateTickList():_yAxis.invalidateTickList(),this.invalidateGraph())},setBarSize:function(a){this.barSize!=a&&(0>a&&(a=0),this.barSize=a,this.invalidateGraph())},
setBarAspect:function(a){this.barAspect!=a&&(0>a&&(a=0),this.barAspect=a,this.invalidateGraph())},setZeroBar:function(a){this.zeroBar!=a&&(this.zeroBar=a,this.invalidateGraph())},getVisibleBarLegendCount:function(){for(var a=0,b=0;b<this.getBarCount();b++)this._barList[b].visible&&!this._barList[b].hideFromLegend&&a++;return a},drawFunctionsExtra:function(){for(var a=this.getBarChartSurfaceLayer(),b=0;b<this.getBarCount();b++)this._barList[b].visible&&this._barList[b].draw(a,b+1);this.legend&&this.legend.draw()},
draw:function(){this.inherited(arguments,[!0])},adjustPlotRect:function(a){this.legend&&this.legend.visible&&(this.legend.calcMetrics(this.getBarChartSurfaceLayer()),a.bottom-=this.legend._height)},addPart:function(a){a.isInstanceOf(h)?this.legend=a:a.isInstanceOf(n)?this._labelList.push(a):this._barList.push(a)},removePart:function(a){a.isInstanceOf(h)?this.legend=null:a.isInstanceOf(n)?(a=this._labelList.indexOf(a),this._labelList.splice(a,1)):(a=this._barList.indexOf(a),this._barList.splice(a,
1))},destroy:function(){this.inherited(arguments)},_initializeFromJSON:function(){var a=this;this.barLegend.visible||(this.barLegend.visible=!1);this.barLegend._graph&&(this.barLegend._graph=null);var b=new h(this.barLegend);b.setGraph(this);b.startup();k.forEach(this.bars,function(b){b.hideFromLegend||(b.hideFromLegend=!1);(new q(b)).setGraph(a)})},initializeChildren:function(){this.inherited(arguments);this.loadFromJson&&this._initializeFromJSON()},onFormatNumber:null})})},"xl/grapher/IPBar":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphPart xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils xl/util/IPMath ./enums".split(" "),
function(s,q,l,h,n,f,m,c,e,b){return s("xl.grapher.IPBar",[l],{color:null,outlineColor:null,barValue:null,text:null,hideFromLegend:!1,draw:function(d,k){var h=this._graph,a=new f,m=h.getBarAxis(),l=h.getAxis(),n=0.5-0.5*m.viewToWorldRel(e.round(h.barGap*h.barSize));0>n&&(n=0);var q=!1;this.barValue>l._maximum&&(this.barValue=l._maximum,q=!0);this.barValue<l._minimum&&(this.barValue=l._minimum);h.orientation==b.IPBarOrientation.BARVERTICAL?(a.left=m.worldToView(k-n),a.top=l.worldToView(this.barValue),
a.right=m.worldToView(k+n),a.bottom=h.zeroBar?l.worldToView(0):l.worldToView(l._minimum)):(a.left=h.zeroBar?l.worldToView(0):l.worldToView(l._minimum),a.top=m.worldToView(k-n),a.right=l.worldToView(this.barValue),a.bottom=m.worldToView(k+n));c.fixRectangle(a);c.drawRectangleObj(d,a,this.outlineColor,this.color);h.orientation==b.IPBarOrientation.BARVERTICAL?(c.drawLine(d,a.left,a.bottom,a.right,a.bottom,m.color),q&&c.drawLine(d,a.left,a.top,a.right,a.top,this.color)):(c.drawLine(d,a.left,a.bottom,
a.left,a.top,m.color),q&&c.drawLine(d,a.right,a.bottom,a.right,a.top,this.color))}})})},"xl/grapher/IPBarLegend":function(){define(["dojo/_base/declare","xl/grapher/IPGraphPart","xl/util/graphUtils"],function(s,q,l){return s("xl.grapher.IPBarLegend",[q],{DEF_LEGENDSPACING:10,DEF_HORIZLABELSPACING:5,_color:null,_legendSpacing:0,_labelFontColor:null,_labelFontFamily:null,_labelFontSize:null,_labelSpacing:0,_width:0,_height:0,_maxLabelWidth:0,_maxLabelHeight:0,_rectSize:0,_setLegendSpacingAttr:function(h){this._legendSpacing=
h},_setLabelFontFamilyAttr:function(h){this._labelFontFamily=h},_setLabelFontSizeAttr:function(h){this._labelFontSize=h},_setLabelSpacingAttr:function(h){this._labelSpacing=h},constructor:function(){this.inherited(arguments);this._color="FFFFFF";this._legendSpacing=this.DEF_LEGENDSPACING},calcMetrics:function(h){this._maxLabelHeight=this._maxLabelWidth=-1;for(var n=0;n<this._graph.getBarCount();n++)if(this._graph._barList[n].visible&&!this._graph._barList[n].hideFromLegend){var f=this._graph._barList[n].text;
if(""==f||null==f)f=" ";var m=l.measureText(h,f,this._labelFontSize,this._labelFontFamily),f=m.width,m=m.height-Math.ceil(0.1*parseInt(this._labelFontSize));f>this._maxLabelWidth&&(this._maxLabelWidth=f);m>this._maxLabelHeight&&(this._maxLabelHeight=m)}this._rectSize=Math.ceil(4/3*parseInt(this._labelFontSize)/2);this._rectSize+this._labelSpacing>this._maxLabelHeight&&(this._maxLabelHeight=this._rectSize);this._width=this._rectSize+this.DEF_HORIZLABELSPACING+this._maxLabelWidth;this._height=this._maxLabelHeight*
this._graph.getVisibleBarLegendCount()+Math.max(0,this._labelSpacing*(this._graph.getVisibleBarLegendCount()-1));this._height+=2*this._labelSpacing;this._width+=2*this._labelSpacing;this._height+=1;this._width+=1},updateBar:function(){this._graph.invalidateGraph()},getColor:function(){return this._color},setColor:function(h){h!=this._color&&(this._color=h,this.updateBar())},getLegendSpacing:function(){return this._legendSpacing},setLegendSpacing:function(h){h!=this._legendSpacing&&(this._legendSpacing=
h,this.updateBar())},getLabelSpacing:function(){return this._labelSpacing},setLabelSpacing:function(h){h!=this._labelSpacing&&(this._labelSpacing=h,this.updateBar())},draw:function(){if(this.visible){var h=this._graph.getBarChartSurfaceLayer(),n=this._graph._plotRect.left,f=this._graph._h-this._height;l.drawRectangle(h,n,f,this._graph._plotRect.right-n-1,this._graph._h-f-1,this._graph.getBarAxis().color);for(var f=f+this._labelSpacing,n=n+(this._labelSpacing+2),m="A",c=0,e=0;e<this._graph.getBarCount();e++)if(this._graph._barList[e].visible&&
!this._graph._barList[e].hideFromLegend){var b=f+this._maxLabelHeight*c+Math.max(this._labelSpacing*c,0),d=this._graph._barList[e];this._graph.useLetters?l.drawText(h,n,b,m+":",this._labelFontColor,this._labelFontSize,this._labelFontFamily):l.drawRectangle(h,n,b+2,this._rectSize,this._rectSize,this._graph._barList[e].outlineColor,d.color);l.drawText(h,n+this._rectSize+this.DEF_HORIZLABELSPACING,b,d.text,this._labelFontColor,this._labelFontSize,this._labelFontFamily);m=String.fromCharCode(m.charCodeAt(0)+
1);c++}}}})})},"xl/grapher/IPPieChart":function(){define("dojo/_base/declare xl/grapher/IPPiePiece xl/grapher/IPPieLegend ./enums xl/grapher/Margins xl/util/graphUtils xl/grapher/Rectangle dojox/gfx dojo/dom-geometry xl/grapher/XYGraph2 xl/player/controls/_AltTextToolTip xl/grapher/IPGraphAxis dojo/_base/array".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.grapher.IPPieChart",[b,d],{DEF_PLOTMARGIN:5,pieList:null,legend:null,pieSize:0,align:0,autoSize:!0,constructor:function(a){a&&(a.loadFromJson&&
!a.showGrid)&&(a.showGrid=!1);this.pieList=[];this.plotMargins=new n({top:this.DEF_PLOTMARGIN,left:this.DEF_PLOTMARGIN,right:this.DEF_PLOTMARGIN,bottom:this.DEF_PLOTMARGIN});this.hasZoomButton=!1},initialize:function(){this.autoSize&&this.adjustSize();this.inherited(arguments);this.addAccLabel()},postCreate:function(){this.inherited(arguments)},adjustSize:function(){var a=e.getContentBox(this.domNode);c.switchTo(this.renderMode);this._surfaceList.axisLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.pieChartLayer=
c.createSurface(this.domNode,a.w,a.h);this.doAutoSize(this.getPieChartSurfaceLayer(),a.w,a.h);this.graphTitle&&this.titlePosition==h.IPGraphTitlePosition.TOP&&(a=e.getContentBox(this.domNode),this.doAutoSize(this.getPieChartSurfaceLayer(),a.w,a.h));this._surfaceList.axisLayer.destroy();this._surfaceList.pieChartLayer.destroy()},doAutoSize:function(a,b,c){var d;a=new m({left:0,right:5E3,top:0,bottom:5E3});this.calcPlotRect(a);d=c;d=this.pieSize;b=d+(a.right-this._plotRect.right)+(this._plotRect.left-
a.left);d=this.pieSize;d=d+(a.bottom-this._plotRect.bottom)+(this._plotRect.top-a.top);if(this.getLegend().visible)switch(this.getLegend().getLegendAlign()){case h.IPPieLegendAlign.LEFT:case h.IPPieLegendAlign.RIGHT:d=Math.max(d,this.getLegend().getHeight()+(this._plotRect.top-a.top)+(a.bottom-this._plotRect.bottom));break;case h.IPPieLegendAlign.TOP:case h.IPPieLegendAlign.BOTTOM:b=Math.max(b,this.getLegend().getWidth()+(this._plotRect.left-a.left)+(a.right-this._plotRect.right))}""!=this.title&&
(b=Math.max(b,this._titleSize.w+this.plotMargins.left+this.plotMargins.right));(b!=c||d!=c)&&e.setContentSize(this.domNode,{w:b,h:d})},addPart:function(a){a.isInstanceOf(q)?this.pieList.push(a):a.isInstanceOf(l)&&(this.legend=a)},removePart:function(a){a.isInstanceOf(q)?(a=this.pieList.indexOf(a),this.pieList.splice(a,1)):a.isInstanceOf(l)&&(this.legend=null)},drawFunctionsExtra:function(){var a=this.getPieChartSurfaceLayer(),b=0,c=0,d=this.pieSize/2,e=this._xAxis.worldToView(0),k=this._yAxis.worldToView(0);
if(0<this.getPieTotal())for(a=0;a<this.getVisiblePieCount();a++)this.pieList[a].visible&&(1==this.getVisiblePieCount()?(this.pieList[a].drawPiece(e,k,d,c,360),b=0):(b=360*this.pieList[a].pieValue/this.getPieTotal(),this.pieList[a].drawPiece(e,k,d,c,c+b)),c+=b);else f.drawCircle(a,e,k,d,"#000000","#FFFFFF")},drawTitle:function(a){this.legend.draw(this.getPieChartSurfaceLayer());this.inherited(arguments)},getPieChartSurfaceLayer:function(){return this._surfaceList.pieChartLayer},adjustPlotRect:function(a){if(this.legend.getVisible())switch(this.legend.calcMetrics(this.getPieChartSurfaceLayer()),
this.legend.getLegendAlign()){case h.IPPieLegendAlign.LEFT:a.left+=this.legend.getWidth()+this.legend.getLegendSpacing()+this.plotMargins.left;break;case h.IPPieLegendAlign.RIGHT:a.right-=this.legend.getWidth()+this.legend.getLegendSpacing()+this.plotMargins.right;break;case h.IPPieLegendAlign.TOP:a.top+=this.legend.getHeight()+this.legend.getLegendSpacing()+this.plotMargins.top;break;case h.IPPieLegendAlign.BOTTOM:a.bottom-=this.legend.getHeight()+this.legend.getLegendSpacing()+this.plotMargins.bottom}},
getLegend:function(){return this.legend},getPieCount:function(){return this.pieList.length},getVisiblePieCount:function(){for(var a=0,b=0;b<this.getPieCount();b++)this.pieList[b].visible&&a++;return a},getPieTotal:function(){for(var a=0,b=0;b<this.getPieCount();b++)this.pieList[b].visible&&(a+=this.pieList[b].pieValue);return a},destroy:function(){this.inherited(arguments)},initializeChildren:function(){this.inherited(arguments);this.loadFromJson&&this._initializeFromJSON()},_initializeFromJSON:function(){var a=
this;this.titlePosition||(this.titlePosition=0);this.title&&(this.graphTitle=this.title,this.title="");this.axisX.visible||(this._xAxis.visible=this.axisX.visible);this.axisY.visible||(this._yAxis.visible=this.axisY.visible);this.pieLegend.visible||(this.pieLegend.visible=!1);this.pieLegend.legendAlign&&"number"!==typeof this.pieLegend.legendAlign&&(this.pieLegend.legendAlign=this._getLegendAlign(this.pieLegend.legendAlign));this.pieLegend._graph&&(this.pieLegend._graph=null);var b=new l(this.pieLegend);
b.setGraph(this);b.startup();r.forEach(this.pies,function(b){(new q(b)).setGraph(a)})},_legendAlign:{bottom:3,top:2,right:1},_getLegendAlign:function(a){a=this._legendAlign[a.toLowerCase()];return this._getReturnVal(a)},onFormatNumber:null})})},"xl/grapher/IPPiePiece":function(){define(["dojo/_base/declare","xl/util/graphUtils","xl/grapher/IPGraphPart"],function(s,q,l){return s("xl.grapher.IPPiePiece",[l],{color:null,outlineColor:null,pieValue:null,text:null,setPieValue:function(h){h!=this.pieValue&&
(this.pieValue=h,invalidate())},setText:function(h){h!=this.text&&(this.text=h,invalidate())},setOutlineColor:function(h){this.outlineColor!=h&&(this.outlineColor=h,invalidate())},setColor:function(h){this.color!=h&&(this.color=h,invalidate())},drawPiece:function(h,l,f,m,c){var e=this._graph.getPieChartSurfaceLayer();0==m&&360==c?q.drawCircle(e,h,l,f,this.outlineColor,this.color):q.drawWedge(e,h,l,m,c,f,this.outlineColor,this.color)}})})},"xl/grapher/IPPieLegend":function(){define(["dojo/_base/declare",
"xl/grapher/IPGraphPart","./enums","xl/util/graphUtils","xl/util/stringUtils"],function(s,q,l,h,n){return s("xl.grapher.IPPieLegend",[q],{DEF_HORIZLABELSPACING:5,_color:null,_legendSpacing:0,_labelSpacing:0,_width:0,_height:0,_maxLabelWidth:0,_maxLabelHeight:0,_rectSize:0,_legendAlign:0,_labelFormat:0,_labelLayer:null,_labelFontSize:11,_setLegendSpacingAttr:function(f){this._legendSpacing=f},_setLegendAlignAttr:function(f){this._legendAlign=f},_setLabelSpacingAttr:function(f){this._labelSpacing=f},
_setLabelFontSizeAttr:function(f){this._labelFontSize=f},_getFontSize:function(){return this._labelFontSize},constructor:function(){this._color="FFFFFF"},calcMetrics:function(f){this._maxLabelHeight=this._maxLabelWidth=-1;for(var m=0;m<this._graph.getPieCount();m++)if(this._graph.pieList[m].visible){var c=this._graph.pieList[m].text;if(""===c||null===c)c=" ";var e=h.measureText(f,c,this._getFontSize(),this._graph.titleFont),c=e.width,e=e.height;c>this._maxLabelWidth&&(this._maxLabelWidth=c);e>this._maxLabelHeight&&
(this._maxLabelHeight=e)}this._rectSize=Math.round(0.75*this._maxLabelHeight);this._width=3+this._rectSize+this.DEF_HORIZLABELSPACING+this._maxLabelWidth;this._height=this._maxLabelHeight*this._graph.getVisiblePieCount()+Math.max(0,this._labelSpacing*(this._graph.getVisiblePieCount()+1));this._width+=2*this._labelSpacing;this._height+=this._labelSpacing-1},draw:function(f){if(this.visible){var m=0,c=0;switch(this._legendAlign){case l.IPPieLegendAlign.LEFT:c=this._graph._plotRect.left-this._legendSpacing-
this._width;m=this._graph._plotRect.top;break;case l.IPPieLegendAlign.RIGHT:c=this._graph._plotRect.right+this._legendSpacing;m=this._graph._plotRect.top;break;case l.IPPieLegendAlign.TOP:c=(this._graph._plotRect.left+this._graph._plotRect.right-this._width)/2;m=this._graph._plotRect.top-this._height-this._legendSpacing;this._graph.adjustGTitlePos(m);break;case l.IPPieLegendAlign.BOTTOM:c=(this._graph._plotRect.left+this._graph._plotRect.right-this._width)/2,m=this._graph._plotRect.bottom+this._legendSpacing,
this._graph.adjustGTitlePos(m+this._height)}h.drawRectangle(f,c,m,this._width,this._height,this._graph._xAxis.color);for(var m=m+this._labelSpacing,c=c+(this._labelSpacing+2),e=0;e<this._graph.getPieCount();e++)if(this._graph.pieList[e].visible){var b=this._graph.pieList[e];h.drawRectangle(f,c,m+2,this._rectSize-1,this._rectSize-1,b.outlineColor,b.color);h.drawText(f,c+this._rectSize+this.DEF_HORIZLABELSPACING,m,b.text,this._graph.titleColor,this._getFontSize(),this._graph.titleFont);m+=this._maxLabelHeight+
this._labelSpacing}}},getWidth:function(){return this._width},getHeight:function(){return this._height},getLegendAlign:function(){return this._legendAlign},getLegendSpacing:function(){return this._legendSpacing}})})},"xl/editgraph/GraphControl":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin xl/player/controls/_NeedsPlayerViewer dijit/_WidgetsInTemplateMixin dojo/text!./templates/graphcontrol.html xl/util/localization!html5player/player dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-class dojo/on dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/keys dojox/gfx/registry dijit/registry xl/grapher/XYGraph2 xl/editgraph/GraphObjectFactory xl/editgraph/GraphManager xl/player/controls/GraphPalette xl/player/controls/InlineGraphPalette xl/player/controls/TransformPalette xl/editgraph/enums xl/grapher/enums xl/grapher/IPCursorResponse xl/editgraph/GraphStatus xl/editgraph/GraphTransformObject xl/editgraph/GraphSettings xl/player/dialogs/ConfirmationDialog xl/player/dialogs/InteractionsNativeDialog xl/player/dialogs/DataGrapherNativeDialog xl/grapher/GraphInteractions xl/grapher/DataGrapherActions".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M){return m("xl.editgraph.GraphControl",[s,q,h,l],{templateString:n,baseClass:"graphControl",placeHolderText:"\x3cdiv class\x3d'graphControlMissing'\x3eX\x3c/div\x3e",_graph:null,_graphManager:null,_palette:null,_toolButtons:"",_graphControlData:null,_predrawnObjects:null,_initdrawnObjects:null,_transformPalette:null,_accLabel:null,editable:!0,_toolType:null,constructor:function(a){this._graphManager=new B;this._graphControlData=
a},_paletteToolSelected:function(a){if(a.cmd){var b=this._graphManager.getSelectedObject();switch(a.cmd){case w.GraphToolType.SOLID:case w.GraphToolType.DASHED:b?(b.setLineStyle(a.cmd),this._graphManager.selectObject(b)):this._graphManager.setDefaultLineStyle(a.cmd);a.isReact&&this._graphManager.setDefaultLineStyle(a.cmd);break;case w.GraphToolType.COLOR:a&&a.val&&b&&b.setColor(a.val);break;case w.GraphToolType.CLEAR:this.clear();break;case w.GraphToolType.DELETE:this.deleteTool();break;case w.GraphToolType.HELP:this.getViewer().postCommand("help",
{type:"grapher"});break;case w.GraphToolType.UP_ARROW:this.processKeyCode(t.UP_ARROW);break;case w.GraphToolType.DOWN_ARROW:this.processKeyCode(t.DOWN_ARROW);break;case w.GraphToolType.LEFT_ARROW:this.processKeyCode(t.LEFT_ARROW);break;case w.GraphToolType.RIGHT_ARROW:this.processKeyCode(t.RIGHT_ARROW);break;default:this._graphManager.setToolType(a.cmd)}this.getPalette().setToolMessage(a.cmd);this.getGraph().validateGraph()}},processKeyCode:function(a){this.getGraph().processKeyCode(a);this._graphManager&&
this._graphManager.processKeyCode(a)},deleteTool:function(){var a=this;this._palette.sendToBack();this._transformPalette&&this._transformPalette.sendToBack();return I.displayText(f["grpal.delete_confirm"],f["grpal.delete_confirm_title"],[I.BUTTON.OK,I.BUTTON.CANCEL],"300px").then(function(b){b&&b.command==I.BUTTON.OK.command&&a.getGraphManager().clearTool();a._palette.sendToFront();a._transformPalette&&a._transformPalette.sendToFront();return b})},deleteObject:function(){this.getGraphManager().clearTool()},
setPalette:function(a){this._destroyPalette();this._palette=a;this.own(d(this._palette,"graphtool",k.hitch(this,this._paletteToolSelected)));this._palette.setToolButtons(this._toolButtons,this._toolType?this._toolType:this.getGraphManager().getToolType())},_createPalette:function(b){this._palette||(this.isInDijitViewer?this._palette=new F({owner:this,graphControl:this}):(this._palette=new A({owner:this,graphControl:this}),a.place(this._palette.domNode,this.getViewer().palettePanel.domNode)),this.own(d(this._palette,
"graphtool",k.hitch(this,this._paletteToolSelected))),this._graphManager.on(w.GraphObjectEvent.SELECTION_CHANGED,k.hitch(this,this._selectionChanged)),this._toolType=b,this._palette.setToolButtons(this._toolButtons,b?b:this.getGraphManager().getToolType()))},_destroyPalette:function(){this._palette&&(this._palette.destroyRecursive(),this._palette=null)},_destroyTransformPalette:function(){this._transformPalette&&(this._transformPalette.hide(),this._transformPalette.destroyRecursive(),this._transformPalette=
null)},_showTransformPalette:function(){this._transformPalette&&this._transformPalette.show(this)},_getTransformPalette:function(){this._transformPalette||(this._createTransformPalette(),this._transformPalette.getPalette(this));return this._transformPalette},_hideTransformPalette:function(){this._transformPalette&&this._transformPalette.hide()},_createTransformPalette:function(){this._transformPalette=new x(this.get("id"))},_selectionChanged:function(a){this._palette&&!this._graphManager.persistCurrentTool&&
(this._palette.resetToolSelection(!0),a&&a.selectedObj?this._palette.setToolButtonsSelectState(!0,a.selectedObj.lineStyle):this._palette.setToolButtonsSelectState(!1,this._graphManager.getDefaultLineStyle()),this._palette.setToolMessage("",a.selectedObj));this.updateTransformPalette(a.selectedObj)},updateTransformPalette:function(a){if(a instanceof H){this._getTransformPalette();var b=this._graphManager.getOptionsForObject(a),c=this._transformPalette.initOptions(b,void 0,void 0,a);!b.isCustomized&&
this._graphManager.defaultOption&&(c=this._transformPalette.initOptions(this._graphManager.defaultOption,!0,"undefined"!=typeof b.base,a));this._transformPalette.initObject(a);c?this._showTransformPalette():this._hideTransformPalette()}else this._hideTransformPalette()},postCreate:function(){this.inherited(arguments);this._graphManager.setDisableEdit(!this.editable)},startup:function(){this._started||(this.inherited(arguments),this.initializeChildren(),this.statusPanel.setGraph(this.getGraph()),this.getGraph().on("graphZoomed",
k.hitch(this,this.graphZoomed)),this.initGraphControl(this._graphControlData),this._graphControlData.isInDijitViewer&&(this.getGraph().graphHasInteractions()&&L.showNativeInteractionDialog(this.getGraph().interactionsOptions,this.getGraph().id),this.getGraph().graphHasDataGraph()&&O.showNativeDataGrapherDialog(this.getGraph().dataGraphOptions,this.getGraph().id)),this._graph&&(this._accLabel=a.create("span",{"class":"eqAccessibleLabel",innerHTML:this._graph.altText?this._graph.altText:this._graph.hasSdGrapher?
"interactive graph":"x y graph"}),a.place(this._accLabel,this.domNode,"after")))},initializeChildren:function(){if(this.loadFromJson){if(this.params.graph&&this.params.graph.config){this.params.graph.config.loadFromJson=!0;for(var b=v.byId(this.params.graph.config.id);b;)this.params.graph.config.id+="_new",b=v.byId(this.params.graph.config.id);this._graph=new D(this.params.graph.config);this._graph._graphControl=this;a.place(this._graph.domNode,this.containerNode);this._graph.startup();this._graphManager.setFactory(z);
this._graphManager.setGraph(this._graph)}}else{var b=this.getChildren(),d=this;c.forEach(b,function(a){a.isInstanceOf(D)&&(a.startup(),d._graph=a,d._graphManager.setFactory(z),d._graphManager.setGraph(a),a._graphControl=d)})}},setSize:function(a,b){e.setMarginBox(this._graph.domNode,{w:a,h:b});this._graph.reset()},updateControlState:function(){},getGraphManager:function(){return this._graphManager},animatePlotAction:function(a){return Q.animatePlotAction(a)},markerValueChange:function(a){return Q.markerValueChange(a)},
reset:function(a){return Q.reset(a)},plotDataGraph:function(a){return M.plot(a)},resetDataGraph:function(a){return M.reset(a)},getGraph:function(){return this._graph},doOkZoomed:function(a){this.getGraph().doOkZoomed(a)},destroy:function(){this._palette&&(this._palette.destroyRecursive(),this._palette=null);this._graphManager&&(this._graphManager.destroy(),this._graphManager=null);this._destroyTransformPalette();this.inherited(arguments)},_options:null,initGraphControl:function(a){var b=this.getGraphManager();
this._options=k.clone(a);!this._initdrawnObjects&&a.predrawnObjects&&(this._initdrawnObjects=k.clone(a.predrawnObjects));this._toolButtons=a.toolButtons;this.enabled=a.enabled;this.editable=a.editable;b.setDisableDeSelectOnReturn(a.disableDeSelectOnReturn);b.hidePointLines=a.hidePointLines;b.hidePointValues=a.hidePointValues;b.setObjectLabels(a.objectLabels);b.setRequireLabels(a.requireLabels);b.setFormulaLabels(a.formulaLabels);"undefined"!==typeof a.showPoints&&(b.showPoints=a.showPoints);"undefined"!==
typeof a.drawExtendedLines&&(G.drawLinesExtended=a.drawExtendedLines);b.setSnapOptions(a.snapOptions);b._snapX=a.snapX;b._snapY=a.snapY;b.resetSnapInterval();b.setAllowTypedCoordinates(a.allowTypedCoordinates);this.statusPanel.setShowCoords(this.editable);this.statusPanel.allowEditCoords=a.allowTypedCoordinates;b.transformOptions=a.transformOptions;b.defaultOption=null;for(var c in b.transformOptions){var d=b.transformOptions[c];d.isDefault&&(b.defaultOption=d)}this.initGraphObjects(a);a.predrawnObjects&&
(this._predrawnObjects=a.predrawnObjects);a.toolType&&this.editable&&b.setToolType(a.toolType)},setStatusPanelVisiblity:function(a){a?b.remove(this.statusPanel.domNode,"hidden"):b.add(this.statusPanel.domNode,"hidden")},graphZoomed:function(a){var b=a.zoomedGraph.getGraphControl();this._options.graphObjects=k.clone(this.getGraphManager().getGraphObjectsData(!0));this._options.tag="copy";b.initGraphControl(this._options);this.editable&&b.getGraphManager().setToolType(this.getGraphManager().getToolType());
a.zoomedGraph.on("okZoomed",k.hitch(this,this.okZoomed))},okZoomed:function(a){var b=a.graph.getGraphControl();this._options.graphObjects=a.zoomedGraph.getGraphControl().getGraphManager().getGraphObjectsData();b.initGraphControl(this._options);this.editable&&b.getGraphManager().setToolType(a.zoomedGraph.getGraphControl().getGraphManager().getToolType());b.getGraph().validateGraph();this.editable&&b.getGraphManager().doObjectChanged();this.doOkZoomed(a.graph)},updateGraphObjects:function(a){this.initGraphObjects({graphObjects:a,
editable:!0})},initGraphObjects:function(a){k.mixin(this._options,a);var b=this.getGraphManager();b.editable=this.editable;a.clearPoints?b.clearGraphPoints():b.clearGraphObjects();(this.editable=a.editable)&&!a.isReact?this._createPalette(a.toolType):this._destroyPalette();b.setDisableEdit(!this.editable);a.readOnlyObjects&&b.initGraphObjects(a.readOnlyObjects,2);a.graphObjects&&b.initGraphObjects(a.graphObjects,a.tag);this.getGraph().validateGraph()},clear:function(){var a=this;this._palette.sendToBack();
this._transformPalette&&this._transformPalette.sendToBack();I.displayText(f["grpal.clear_confirm"],f["grpal.clear_confirm_title"],[I.BUTTON.OK,I.BUTTON.CANCEL],"300px").then(function(b){b&&b.command==I.BUTTON.OK.command&&(a.getGraphManager().clearGraphObjects(),a._predrawnObjects&&(a._initdrawnObjects&&(b=k.clone(a._initdrawnObjects),c.forEach(b,function(b,c){k.mixin(a._predrawnObjects[c].points,b.points)})),a.getGraphManager().initGraphObjects(a._predrawnObjects)),a.getGraphManager().doObjectChanged());
a._palette.sendToFront();a._transformPalette&&a._transformPalette.sendToFront()})},getPalette:function(){return this._palette},getTransformPalette:function(){return this._transformPalette},getInputData:function(){var a={};this._graphControlData.isInDijitViewer&&(this.getGraph().graphHasInteractions()?(a.dialogControls=L.interactionscontrols,a.graphObjectsParams=this._graph.getGraphObjectParams(!0)):this.getGraph().graphHasDataGraph()?(a.dialogControls=O.datagraphcontrols,a.graphObjectsParams=this._graph.getGraphObjectParams(!0)):
a.graphObjects=this._graph.getGraphData(!0));return a},setInputData:function(a){this._graphControlData.isInDijitViewer&&(this.getGraph().graphHasInteractions()?(L.setDialogControlsData(a.dialogControls),this._graph.setGraphData(a.graphObjectsParams)):this.getGraph().graphHasDataGraph()?(O.setDialogControlsData(a.dialogControls),this._graph.setGraphData(a.graphObjectsParams)):Array.isArray(a)?this._graph.setInputData(a):"cursor"===a.type&&this._drawStaticCursor(a))},_drawStaticCursor:function(a){this._staticCursor&&
(this._graph.removePart(this._staticCursor),this._staticCursor.destroy(),this._staticCursor=null);this._staticCursor=new E({_graph:this._graph,symbolColor:"#19a6a4",symbolBackground:"#19a6a4",symbol:C.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:6,x:a.x,y:a.y,isCorrect:!1});this._staticCursor.setTag(-1);this._graph.addPart(this._staticCursor);this._graph.draw()},getControlData:function(){return this._graphControlData},setDisableInteractionDialog:function(a){return this.getGraph().setDisableInteractionDialog(a)}})})},
"xl/editgraph/GraphObjectFactory":function(){define("dojo/_base/declare xl/editgraph/GraphCursor xl/editgraph/LineGraphTool xl/editgraph/AsymptoteGraphTool xl/editgraph/SelectionTool xl/editgraph/AbsGraphTool xl/editgraph/ParabolaGraphTool xl/editgraph/ArrowLineGraphTool xl/editgraph/DblArrowLineGraphTool xl/editgraph/Curve3GraphTool xl/editgraph/PolylineGraphTool xl/editgraph/CircleGraphTool xl/editgraph/RectangleGraphTool xl/editgraph/TriangleGraphTool xl/editgraph/PolygonGraphTool xl/editgraph/Curve4GraphTool xl/editgraph/PointGraphTool xl/editgraph/HoleGraphTool xl/editgraph/CubicGraphTool xl/editgraph/QuadraticGraphTool xl/editgraph/RegionGraphTool xl/editgraph/XSquaredGraphTool xl/editgraph/XCubedGraphTool xl/editgraph/LogGraphTool xl/editgraph/ExpGraphTool xl/editgraph/SineGraphTool xl/editgraph/CosineGraphTool xl/editgraph/TextGraphTool xl/editgraph/GraphLineObject xl/editgraph/GraphAsymptoteObject xl/editgraph/GraphAbsObject xl/editgraph/GraphHandle xl/editgraph/GraphParabolaObject xl/editgraph/GraphArrowLineObject xl/editgraph/GraphDblArrowLineObject xl/editgraph/GraphCurve3Object xl/editgraph/GraphPolylineObject xl/editgraph/GraphCircleObject xl/editgraph/GraphRectangleObject xl/editgraph/GraphTriangleObject xl/editgraph/GraphPolygonObject xl/editgraph/GraphCurveXObject xl/editgraph/GraphPointObject xl/editgraph/GraphHoleObject xl/editgraph/GraphCubicObject xl/editgraph/GraphQuadraticObject xl/editgraph/GraphRegionObject xl/editgraph/GraphXSquaredObject xl/editgraph/GraphXCubedObject xl/editgraph/GraphLogObject xl/editgraph/GraphExpObject xl/editgraph/GraphSineObject xl/editgraph/GraphCosineObject xl/editgraph/GraphObjectLabel xl/editgraph/GraphTextObject xl/editgraph/enums xl/editgraph/GraphSettings xl/util/localization!html5player/graphmanager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W,$,U,ba,da,X,fa,ga,aa,Z,ca,ia,la,ja,ha,N,ea,ka){var Y={handleSize:8,useCircleHandles:!0,createCursor:function(a){return new q({_graph:a})},getObjectColor:function(a){switch(a.getObjectType()){case N.GraphObjectType.POINT:return ea.pointColor;case N.GraphObjectType.ARROW:return ea.arrowColor;case N.GraphObjectType.DBLARROW:return ea.doubleArrowColor;case N.GraphObjectType.REGION:return ea.regionColor;case N.GraphObjectType.RECTANGLE:return ea.rectangleColor;
case N.GraphObjectType.POLYGON:return ea.polygonColor;default:return ea.objectColor}},createTool:function(q){var s;switch(q){case N.GraphToolType.SELECT:s=new n;break;case N.GraphToolType.LINE:s=new l;s.setExtendLine(ea.drawLinesExtended);break;case N.GraphToolType.ASYMPTOTE:s=new h;break;case N.GraphToolType.ABS:s=new f;break;case N.GraphToolType.PARABOLAX:s=new m;s.setParabolaType(N.GraphParabolaType.LEFTRIGHT);break;case N.GraphToolType.PARABOLAY:s=new m;s.setParabolaType(N.GraphParabolaType.UPDOWN);
break;case N.GraphToolType.ARROW:s=new c;break;case N.GraphToolType.DBLARROW:s=new e;break;case N.GraphToolType.CURVE3:s=new b;break;case N.GraphToolType.POLYLINE:s=new d;break;case N.GraphToolType.CIRCLE:s=new k;break;case N.GraphToolType.RECTANGLE:s=new r;break;case N.GraphToolType.TRIANGLE:s=new a;break;case N.GraphToolType.POLYGON:s=new t;break;case N.GraphToolType.CURVE4:s=new u;break;case N.GraphToolType.POINT:s=new v;break;case N.GraphToolType.HOLE:s=new D;break;case N.GraphToolType.CUBIC:s=
new z;break;case N.GraphToolType.QUADRATIC:s=new B;break;case N.GraphToolType.REGION:s=new F;break;case N.GraphToolType.XSQUARED:s=new A;break;case N.GraphToolType.XCUBED:s=new x;break;case N.GraphToolType.LOG:s=new w;break;case N.GraphToolType.EXP:s=new C;break;case N.GraphToolType.SINE:s=new E;break;case N.GraphToolType.COSINE:s=new J;break;case N.GraphToolType.TEXT:s=new H}return s},createObject:function(a,b){var c;switch(b){case N.GraphObjectType.LINE:c=new G;c.setGraph(a);c.setExtendLine(ea.drawLinesExtended);
break;case N.GraphObjectType.ASYMPTOTE:c=new I;c.setGraph(a);break;case N.GraphObjectType.ABS:c=new L;c.setGraph(a);break;case N.GraphObjectType.PARABOLAX:c=new Q;c.setGraph(a);c.setParabolaType(N.GraphParabolaType.LEFTRIGHT);break;case N.GraphObjectType.PARABOLAY:c=new Q;c.setGraph(a);c.setParabolaType(N.GraphParabolaType.UPDOWN);break;case N.GraphObjectType.ARROW:c=new M;c.setGraph(a);break;case N.GraphObjectType.DBLARROW:c=new R;c.setGraph(a);break;case N.GraphObjectType.CURVE3:c=new P;c.setGraph(a);
break;case N.GraphObjectType.POLYLINE:c=new V;c.setGraph(a);break;case N.GraphObjectType.CIRCLE:c=new S;c.setGraph(a);break;case N.GraphObjectType.RECTANGLE:c=new K;c.setGraph(a);break;case N.GraphObjectType.TRIANGLE:c=new T;c.setGraph(a);break;case N.GraphObjectType.POLYGON:c=new W;c.setGraph(a);break;case N.GraphObjectType.CURVEX:c=new $;c.setGraph(a);break;case N.GraphObjectType.POINT:c=new U;c.setGraph(a);c.setDrawLines(ea.drawLinesWithPoints);c.setDrawValues(ea.drawValuesWithPoints);break;case N.GraphObjectType.HOLE:c=
new ba;c.setGraph(a);c.setDrawLines(!1);c.setDrawValues(!1);break;case N.GraphObjectType.CUBIC:c=new da;c.setGraph(a);break;case N.GraphObjectType.QUADRATIC:c=new X;c.setGraph(a);break;case N.GraphObjectType.REGION:c=new fa;c.setGraph(a);break;case N.GraphObjectType.XSQUARED:c=new ga;c.setGraph(a);break;case N.GraphObjectType.XCUBED:c=new aa;c.setGraph(a);break;case N.GraphObjectType.LOG:c=new Z;c.setGraph(a);break;case N.GraphObjectType.EXP:c=new ca;c.setGraph(a);break;case N.GraphObjectType.SINE:c=
new ia;c.setGraph(a);break;case N.GraphObjectType.COSINE:c=new la;c.setGraph(a);break;case N.GraphObjectType.TEXT:c=new ha;c.setGraph(a);break;default:return}c&&c.getGraphPart().setTag(-1);return c},getToolColor:function(a){switch(a){case N.GraphToolType.POINT:return ea.pointToolColor;case N.GraphToolType.ARROW:case N.GraphToolType.DBLARROW:return ea.arrowToolColor;case N.GraphToolType.REGION:return ea.regionToolColor;default:return ea.toolColor}},createObjectHandle:function(a,b){var c=new O({_graph:a.getGraph(),
_group:a,handleSize:Y.handleSize});c.startup();(b===N.GraphObjectType.POINT||Y.useCircleHandles)&&c.setCircle(!0);b===N.GraphObjectType.REGION&&c.setInvisible(!0);return c},getString:function(a){var b=ka[a];null==b&&console.log("Resource "+a+" not found in resource bundle");return b},getMessage:function(a){switch(a){case N.GraphToolTypeMessage.NONE:a=Y.getString("sdg.none");break;case N.GraphToolTypeMessage.DRAWLINE1:a=Y.getString("sdg.draw_line1");break;case N.GraphToolTypeMessage.DRAWLINE2:a=Y.getString("sdg.draw_line2");
break;case N.GraphToolTypeMessage.SELECT:a=Y.getString("sdg.select");break;case N.GraphToolTypeMessage.DRAWPARABOLA1:a=Y.getString("sdg.draw_parabola1");break;case N.GraphToolTypeMessage.DRAWPARABOLA2:a=Y.getString("sdg.draw_parabola2");break;case N.GraphToolTypeMessage.DRAWCIRCLE1:a=Y.getString("sdg.draw_circle1");break;case N.GraphToolTypeMessage.DRAWCIRCLE2:a=Y.getString("sdg.draw_circle2");break;case N.GraphToolTypeMessage.DRAWPOINT:a=Y.getString("sdg.draw_point");break;case N.GraphToolTypeMessage.DRAWTRIANGLE1:a=
Y.getString("sdg.draw_triangle1");break;case N.GraphToolTypeMessage.DRAWTRIANGLE2:a=Y.getString("sdg.draw_triangle2");break;case N.GraphToolTypeMessage.DRAWTRIANGLE3:a=Y.getString("sdg.draw_triangle3");break;case N.GraphToolTypeMessage.DRAWRECTANGLE1:a=Y.getString("sdg.draw_rectangle1");break;case N.GraphToolTypeMessage.DRAWRECTANGLE2:a=Y.getString("sdg.draw_rectangle2");break;case N.GraphToolTypeMessage.DRAWCURVE31:a=Y.getString("sdg.draw_curve31");break;case N.GraphToolTypeMessage.DRAWCURVE32:a=
Y.getString("sdg.draw_curve32");break;case N.GraphToolTypeMessage.DRAWCURVE33:a=Y.getString("sdg.draw_curve33");break;case N.GraphToolTypeMessage.DRAWCURVE41:a=Y.getString("sdg.draw_curve41");break;case N.GraphToolTypeMessage.DRAWCURVE42:a=Y.getString("sdg.draw_curve42");break;case N.GraphToolTypeMessage.DRAWCURVE43:a=Y.getString("sdg.draw_curve43");break;case N.GraphToolTypeMessage.DRAWCURVE44:a=Y.getString("sdg.draw_curve44");break;case N.GraphToolTypeMessage.DRAWTEXT:a="Click the graph to insert text.";
break;case N.GraphToolTypeMessage.DRAWREGION:a=Y.getString("sdg.draw_region");break;case N.GraphToolTypeMessage.DRAWPOLYGON1:a=Y.getString("sdg.draw_polygon1");break;case N.GraphToolTypeMessage.DRAWPOLYGON2:a=Y.getString("sdg.draw_polygon2");break;case N.GraphToolTypeMessage.DRAWPOLYGON3:a=Y.getString("sdg.draw_polygon3");break;case N.GraphToolTypeMessage.DRAWPOLYGON4:a=Y.getString("sdg.draw_polygon4");break;case N.GraphToolTypeMessage.DRAWPOLYLINE1:a=Y.getString("sdg.draw_polyline1");break;case N.GraphToolTypeMessage.DRAWPOLYLINE2:a=
Y.getString("sdg.draw_polyline2");break;case N.GraphToolTypeMessage.DRAWPOLYLINE3:a=Y.getString("sdg.draw_polyline3");break;case N.GraphToolTypeMessage.DRAWPOLYLINE4:a=Y.getString("sdg.draw_polyline4");break;case N.GraphToolTypeMessage.DRAWPOLYLINE4_MOBILE:a=Y.getString("sdg.draw_polyline4_mobile");break;case N.GraphToolTypeMessage.WARNINGUNDELETABLE:a=Y.getString("sdg.undeletable");break;case N.GraphToolTypeMessage.DRAWABS1:a=Y.getString("sdg.draw_abs1");break;case N.GraphToolTypeMessage.DRAWABS2:a=
Y.getString("sdg.draw_abs2");break;case N.GraphToolTypeMessage.DRAWPOLYNOM1:a=Y.getString("sdg.draw_polynom1");break;case N.GraphToolTypeMessage.DRAWPOLYNOM2:a=Y.getString("sdg.draw_polynom2");break;case N.GraphToolTypeMessage.DRAWPOLYNOM3:a=Y.getString("sdg.draw_polynom3");break;case N.GraphToolTypeMessage.DRAWPOLYNOMLAST:a=Y.getString("sdg.draw_polynom_last");break;case N.GraphToolTypeMessage.DRAWTRANSFORMATION1:a=Y.getString("sdg.draw_transformation");break;default:a=""}return a}};return Y})},
"xl/editgraph/LineGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.LineGraphTool",[n],{_extendLine:!1,_startArrow:!1,_endArrow:!1,_lineObject:null,_handle:null,_arrowStartObject:null,_arrowEndObject:null,mousePressed:function(c,e,b){2>this.getPointCount()&&!(1===this.getPointCount()&&this.getPoint(0).x===c&&this.getPoint(0).y===
e)&&this.addPoint({x:c,y:e});b.value=2===this.getPointCount()},remove:function(){this._lineObject&&(this._lineObject.destroy(),this._lineObject=null);this._arrowStartObject&&(this._arrowStartObject.destroy(),this._arrowStartObject=null);this._arrowEndObject&&(this._arrowEndObject.destroy(),this._arrowEndObject=null);this._handle&&(this._handle.destroy(),this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},draw:function(c,e,b){var d,f,r,a,t;if(1===this.getPointCount()){r=this.getPoint(0).x;
a=this.getPoint(0).y;d=this.getGraphManager().getGraph().getAxisX().worldToViewF(r);f=this.getGraphManager().getGraph().getAxisY().worldToViewF(a);t=this.getGraphManager().getToolColor();if(!m.isFloatEqual(r,e)||!m.isFloatEqual(a,b))this.getExtendLine()?this._lineObject=h.drawLine(this._lineObject?this._lineObject:c,this.getGraphManager().getGraph(),r,a,e,b,t,this.getGraphManager().getDefaultGrLineStyle(),{lineWidth:h.DEF_PLINETOOLWIDTH,alpha:h.DEF_PLINETOOLALPHA},!0):this._lineObject=h.drawSegment(this._lineObject?
this._lineObject:c,this.getGraphManager().getGraph(),r,a,e,b,t,this.getGraphManager().getDefaultGrLineStyle());this.getStartArrow()&&(this._arrowStartObject=h.drawArrow(this._arrowStartObject?this._arrowStartObject:c,this.getGraphManager().getGraph(),{x:e,y:b},this.getPoint(0),t));this.getEndArrow()&&(this._arrowEndObject=h.drawArrow(this._arrowEndObject?this._arrowEndObject:c,this.getGraphManager().getGraph(),this.getPoint(0),{x:e,y:b},t));this._handle=this.drawHandle(c,this._handle,d,f)}},makeObject:function(){var c;
return 2===this.getPointCount()?(c=this.getStartArrow()&&this.getEndArrow()?this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.DBLARROW):this.getEndArrow()?this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.ARROW):this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.LINE),c.addPoint(this.getPoint(0)),c.addPoint(this.getPoint(1)),c.setLineStyle(this.getGraphManager().getDefaultGrLineStyle()),
c):null},getExtendLine:function(){return this._extendLine},setExtendLine:function(c){this._extendLine=c},getStartArrow:function(){return this._startArrow},setStartArrow:function(c){this._startArrow=c},getEndArrow:function(){return this._endArrow},setEndArrow:function(c){this._endArrow=c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWLINE1);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWLINE2);
break;default:c=""}return c}})})},"xl/editgraph/GraphManager":function(){define("dojo/_base/declare dojo/_base/array dojo/Evented dojo/_base/connect dojo/touch dojo/_base/lang dojo/on dojo/dom-geometry dijit/DropDownMenu dijit/MenuItem dojo/string dojo/dom-construct dojo/dom-style dojo/parser dijit/popup dojo/has xl/player/dialogs/ConfirmationDialog xl/grapher/XYGraph2 xl/editgraph/IEditableGraphObject xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/util/IPMath xl/util/stringUtils dojox/gesture/tap dojo/keys xl/editgraph/GraphSettings xl/util/localization!html5player/player xl/util/localization!html5player/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G){return s("xl.editgraph.GraphManager",[l],{_graph:null,_graphManager:null,_sdGrapher:null,_graphFactory:null,_cursor:null,_cursorText:null,_selectTolerance:null,_ignoreNextClick:!1,_onInitTransformObject:null,showPoints:null,_objectLabels:null,_requireLabels:null,_formulaLabels:null,_currentTool:null,_selectionTool:null,_toolType:null,_snapOptions:null,_defaultLineStyle:"solid",_moveObject:null,_moving:null,_xPos:null,_yPos:null,_movePoint:null,
_disableEdit:null,_disableDeSelectOnReturn:null,_editing:null,_labelMenu:null,_allowTypedCoordinates:!1,transformOptions:null,defaultTransformOptions:null,persistCurrentTool:!1,tapSelection:!1,constructor:function(a){a&&(a.graph&&(this._graph=a.graph,this._graph.setClipFunctions(!0),this._graph.setFocusBlob(this._cursor),this._graph.on("graphmousemoved",f.hitch(this,this.graphMouseMoved)),this._graph.on("graphclicked",f.hitch(this,this.graphClicked)),this._graph.on(n.release,f.hitch(this,this.graphMouseUp)),
this._graph.on("keydown",f.hitch(this,this.graphKeyDown)),this._graph.on("mouseClick",f.hitch(this,this.graphSingleClicked)),this._graph.on("openZoom",f.hitch(this,this.graphOpenZoom))),a.factory&&(this._graphFactory=a.factory,this._cursor=this._graphFactory.createCursor(this._graph),this._cursor.visible=!1,this._cursor.on("cursorDraw",f.hitch(this,this.cursorDraw)),this._cursor.on("blobMoved",f.hitch(this,this.cursorMoved))));this.showPoints=[];this._movePoint={};this._selectTolerance=u("touch")?
10:5;this._objectLabels=[];this.resetSnapInterval();this._lastPointClicked={};this._requireLabels=[]},setTapSelection:function(a){this.tapSelection=a;J.tapSelection=a},destroy:function(){this._cursor&&this._cursor.destroy();this._currentTool&&this._currentTool._blobGroup&&this._currentTool._blobGroup.destroyRecursive();this._selectionTool&&this._selectionTool._blobGroup&&this._selectionTool._blobGroup.destroyRecursive();this.inherited(arguments)},graphSingleClicked:function(){},getToolType:function(){return this._toolType},
_longPressListener:null,getSelectionTool:function(){if(this._currentTool&&this._currentTool.isInstanceOf(xl.editgraph.SelectionTool))return this._currentTool;if(this.tapSelection){if(null===this._selectionTool){var a=this.getFactory();this._selectionTool=a.createTool("select");this._selectionTool.setGraphManager(this);this._selectionTool.useCircleHandles=a.useCircleHandles;this._selectionTool.handleSize=a.handleSize}return this._selectionTool}return null},getActiveTool:function(){return this.getSelectedObject()?
this.getSelectionTool():this._currentTool},setToolType:function(a){this._ignoreNextClick=!1;this.stopEditing();this._longPressListener&&(this._longPressListener.remove(),this._longPressListener=null);var b=this.getFactory(),c=b.createTool(a),d=null;this._currentTool&&(this._currentTool.canMakeOnRemove()&&(d=this.makeObject()),this._currentTool.reset(),this._currentTool=null);this.tapSelection&&(this._toolType!==a&&this.getSelectedObject())&&this.selectObject(null);this._toolType=a;c&&(c.useCircleHandles=
b.useCircleHandles,c.handleSize=b.handleSize,this._currentTool=c,this._currentTool.setGraphManager(this));this._currentTool&&this._toolType!==F.GraphToolType.SELECT?(this._cursor.setVisible(!0),this._cursor.setSelect(!1),this._cursor.setFocused(!0),this._toolType===F.GraphToolType.REGION?(this._cursor.setSelect(!0),this._cursor.setShowCursor(!1)):this._toolType===F.GraphToolType.SELECT?(this._cursor.setShowCursor(!0),this._cursor.setSelect(!0)):(this._cursor.setShowCursor(!1),this._cursor.setSelect(!1))):
(this._cursor.setVisible(!1),this._currentTool&&(this._toolType===F.GraphToolType.SELECT&&d)&&this.selectObject(d));if(u("touch")&&this._currentTool&&(this._toolType===F.GraphToolType.POLYGON||this._toolType===F.GraphToolType.POLYLINE))this._longPressListener=this._graph.on(C.hold,f.hitch(this,this.graphLongPress));this.doToolChanged(this.getToolType());this.doCursorMoved(null);this.doUpdateMessage();this.getGraph().invalidateBlobs();this.getGraph().invalidatePlots();this.getGraph().validateGraph()},
makeObject:function(){var a=this._currentTool.makeObject();return a?(a instanceof B&&this.initTransformObject(a),a.setColor(this.getObjectDefColor(a)),a.setLineStyle(this._defaultLineStyle),0<=this.showPoints.indexOf(a.getObjectType())&&(a.showPoints=!0),this._requireLabels&&0<=this._requireLabels.indexOf(a.getObjectType())&&this.createObjectLabel(a),this.doObjectCreated(),a):null},completeTool:function(){if(this._currentTool){var a=this.makeObject();this.selectObject(a);this._currentTool.reset()}},
_lastPointClicked:null,_isDragged:function(a,b){var c=this.getGraph(),d=c.getAxisX().worldToView(this._xPos),e=c.getAxisY().worldToView(this._yPos),f=c.getAxisX().worldToView(a),c=c.getAxisY().worldToView(b);return 4<Math.abs(d-f)||4<Math.abs(e-c)},activeDrag:!1,cursorMoved:function(a){try{var b={value:!1},c=null===a.blob.getUnconstrainedPoint()?{x:a.x,y:a.y}:a.blob.getUnconstrainedPoint(),d=this.findObjectAt(c.x,c.y),e=this.getSelectionTool(),k=this._currentTool,h=this.getSelectedObject(),m=this.getToolType(),
r=this,t=function(){var a=null;k&&(k.canMakeOnRemove()&&(a=r.makeObject()),k.reset());a&&r.selectObject(a);return a},l=function(){null==t()&&(e.updateObject(),r.doObjectChanged(),r.getGraph().validateGraph())};switch(a.state){case A.IPGraphBlobState.PRESSED:this.disableSelect=!1;if(this._ignoreNextClick){this._ignoreNextClick=!1;return}this._lastPointClicked=f.clone(c);this._xPos=a.x;this._yPos=a.y;c=!1;if(k&&0<k.getPointCount())for(var n=0;n<k.getPointCount();n++)if(!(0===n&&k._supportsCloseClick&&
2<k.getPointCount())&&x.sameValue(a.x,k.getPoint(n).x)&&x.sameValue(a.y,k.getPoint(n).y))if(this.tapSelection)c="polyline"===m;else return;if(this.tapSelection&&"polyline"===m&&k.isActive()&&!c){l();return}if(this.tapSelection&&d&&h===d)this._startMovePt={x:a.x,y:a.y};else if(this._startMovePt=null,k){if(this.tapSelection&&null!=h){if(k.singlePointTool){this.disableSelect=!0;return}k.multiPointTool&&this.selectObject(null)}if(this.tapSelection&&k.singlePointTool&&d&&d.isInstanceOf(xl.editgraph.GraphPointObject))return;
this.tapSelection&&"polyline"===m?(c||0===k.getPointCount())&&k.mousePressed(a.x,a.y,b):k.mousePressed(a.x,a.y,b);this.tapSelection&&(k.multiPointTool&&!b.value)&&(this.disableSelect=!0)}break;case A.IPGraphBlobState.UP:this.activeDrag=!1;n=this._isDragged(a.x,a.y);if(this.disableSelect&&(this.disableSelect=!1,null!=h&&!n)){this.selectObject(null);l();return}if(this.tapSelection){if(h&&this._startMovePt){this._startMovePt=null;l();return}if(d&&!n){e.mousePressed(c.x,c.y);l();return}}if(this.tapSelection&&
!n&&!this._skipNextSelection){if(k&&k.isActive()&&k.multiPointTool)break;t();e.mousePressed(c.x,c.y,b)}else k&&k.mouseReleased(a.x,a.y,b);this._skipNextSelection=!1;this.doUpdateMessage();break;case A.IPGraphBlobState.DRAGGED:this.activeDrag=!0,h&&this._startMovePt&&(k.reset(),e.moveBy(c.x-this._startMovePt.x,c.y-this._startMovePt.y))}if(b.value){var u=this.makeObject();u&&this.selectObject(u);this.doUpdateMessage();(this.persistCurrentTool||this.tapSelection)&&this.setToolType(m);this.tapSelection&&
"point"===m&&(this._skipNextSelection=!0)}}finally{this._cursor&&this._cursor.visible&&this.doCursorMoved(a)}},getCurrentObj:function(){var a=null,b=this.getActiveTool();b&&b instanceof xl.editgraph.SelectionTool&&(a=b.getCurrentObj());return a},deleteCurrentObj:function(){var a=this.getActiveTool();a&&a instanceof xl.editgraph.SelectionTool&&a.deleteObject()},replaceCurrentObjectWithTool:function(){var a=this.getCurrentObj();if(a){var b=f.mixin({},a);this.deleteCurrentObj();this.selectObject(null);
b=b.getObjectType();this.setToolType(b);this._currentTool.initFromObject&&(this._currentTool.initFromObject(a),this.emit("initFromObject"))}},initTransformObject:function(a){var b=this.getOptionsForObject(a);if(b)for(var c in b)a.setParam(c,b[c].initValue),"base"==c&&(a.drawAsymptote=b[c].drawAsymptote)},createObjectLabel:function(a){a.addLabel(this)},selectObject:function(a){this.tapSelection?this.getSelectionTool().attach(a):(this.setToolType(F.GraphToolType.SELECT),this._currentTool&&a&&this._currentTool.attach(a));
this.doUpdateMessage()},graphMouseUp:function(){this._moveObject=null;var a=this.getSelectionTool();a&&this._moving&&(a.updateObject(),this.doObjectChanged(),this.getGraph().validateGraph());this._moving=!1},graphLongPress:function(a){if(!this.tapSelection){var b=a.keyCode;a.keyCode=E.ESCAPE;try{this.graphKeyDown(a),a.preventDefault(),a.stopPropagation(),m.once(this._graph.domNode,"contextmenu",function(a){a.preventDefault=!0;a.stopPropagation=!0;a.cancelBubble=!0;a.returnValue=!1})}finally{a.keyCode=
b}}},processKeyCode:function(a){this.getActiveTool()&&this.getActiveTool().keyDown({keyCode:a,stopPropagation:function(){},preventDefault:function(){}})},graphKeyDown:function(a){var b=a.target.id;if(""===b){for(b=a.target;b&&"xygraph"!==b.className;)b=b.parentNode;b=b.id}this.getActiveTool()&&b===this._graph.id&&(b=this.getActiveTool(),this.getActiveTool().keyDown(a),b.isInstanceOf(xl.editgraph.PolylineGraphTool)&&(27===a.keyCode&&this.tapSelection)&&(this._currentTool=null))},getToolColor:function(){var a,
b;b=this.getFactory().getToolColor(this.getToolType());if(this.getToolType()===F.GraphToolType.SELECT||this.getSelectedObject())if(b=J.objectSelectedColor,a=this.getSelectedObject())switch(a.getObjectType()){case F.GraphObjectType.POINT:b=this._graphFactory.getToolColor(F.GraphToolType.POINT);break;case F.GraphObjectType.ARROW:case F.GraphObjectType.DBLARROW:b=this._graphFactory.getToolColor(F.GraphToolType.ARROW)}return b},getObjectDefColor:function(a){return this._graphFactory.getObjectColor(a)},
getSelectedObject:function(){var a=null;this._currentTool&&this._currentTool.getObject&&(a=this._currentTool.getObject());null==a&&this._selectionTool&&(a=this._selectionTool.getObject());return a},processCommand:function(a,b){},updateControlState:function(){},getFactory:function(){return this._graphFactory},setFactory:function(a){this._graphFactory!==a&&(this._graphFactory=a,this._graph&&(this._cursor&&this._cursor.destroy(),this._cursor=this._graphFactory.createCursor(this._graph),this._cursor.visible=
!1,this._cursor.on("cursorDraw",f.hitch(this,this.cursorDraw)),this._graph.setFocusBlob(this._cursor),this._cursor.on("moved",f.hitch(this,this.cursorMoved))))},getGraph:function(){return this._graph},setGraph:function(a){this._graph=a;this._graph.setClipFunctions(!0);this._graph.on("graphmousemoved",f.hitch(this,this.graphMouseMoved));this._graph.on(n.release,f.hitch(this,this.graphMouseUp));this._graph.on("keydown",f.hitch(this,this.graphKeyDown));this._graph.on("mouseClick",f.hitch(this,this.graphSingleClicked));
this._graph.on("graphclicked",f.hitch(this,this.graphClicked));this._graph.on("openZoom",f.hitch(this,this.graphOpenZoom));this._cursor||(this._cursor=this.getFactory().createCursor(this.getGraph()),this._cursor.visible=!1,this._cursor.on("cursorDraw",f.hitch(this,this.cursorDraw)),this._cursor.on("moved",f.hitch(this,this.cursorMoved)),this._graph.setFocusBlob(this._cursor))},graphOpenZoom:function(a){var b=this.getGraphObjectsData();a.data.objects=b},canMove:function(a){return a.getCanMove()||a.getUndeletable()&&
!a.getIsStatic()},graphMouseMoved:function(a){var b;if(!this._editing&&!this._disableEdit&&this.getSelectionTool()&&(b=this.getSelectedObject())&&b===this._moveObject&&this.canMove(b))if(b={x:this.getGraph().getAxisX().worldToView(a.x),y:this.getGraph().getAxisY().worldToView(a.y)},b.x!==this._movePoint.x||b.y!==this._movePoint.y)this._moving=!0,this._movePoint=b,this.getSelectionTool().moveBy(a.x-this._xPos,a.y-this._yPos),a.event.preventDefault(),a.event.stopPropagation()},graphClicked:function(a){var b=
{value:!1};this._xPos=a.x;this._yPos=a.y;this._movePoint.x=this.getGraph().getAxisX().worldToView(a.x);this._movePoint.y=this.getGraph().getAxisY().worldToView(a.y);this.getDisableEdit()||(this.getToolType()===F.GraphToolType.SELECT&&(this._currentTool.mousePressed(a.x,a.y,b),this.doUpdateMessage()),this._moveObject=this.getSelectedObject())},cursorDraw:function(a){this._currentTool&&this._currentTool.draw(a.surface,a.x,a.y)},cursorXCoordFormat:function(a){return this._graph&&this._graph.getAxisX().isDate&&
null!=this._graph.onFormatDate?this._graph.onFormatDate(a,""):this.cursorCoordsString(a)},cursorYCoordFormat:function(a){return this._graph&&this._graph.getAxisY().isDate&&null!=this._graph.onFormatDate?this._graph.onFormatDate(a,""):this.cursorCoordsString(a)},doCursorMoved:function(a){null==a||isNaN(a.x)||isNaN(a.y)?this._cursorText="":this._cursorText="("+this.cursorXCoordFormat(a.x)+","+this.cursorYCoordFormat(a.y)+")";this.emit(F.GraphObjectEvent.CURSOR_MOVED,a)},resetSnapInterval:function(){switch(this._snapOptions){case F.GraphSnapOptions.GRID:this._cursor.setSnapIntervalX(this._graph.getAxisX().getTickSpacing());
this._cursor.setSnapIntervalY(this._graph.getAxisY().getTickSpacing());break;case F.GraphSnapOptions.NONE:this._cursor.setSnapIntervalX(0);this._cursor.setSnapIntervalY(0);break;case F.GraphSnapOptions.CUSTOM:this._cursor.setSnapIntervalX(this._snapX),this._cursor.setSnapIntervalY(this._snapY)}},getGraphObject:function(a){var b,c=0,d;for(b=0;b<this.getGraph().getPartCount();b++)if(d=this.getGraph().getPart(b),0>d.getTag()&&d.isInstanceOf(z)){if(c===a)return d;c++}return null},initGraphObject:function(a,
b){var c=this._graphFactory.createObject(this._graph,a.objectType);if(null==c)v.displayText(a.objectType+" is not available. ",G.alert,[v.BUTTON.OK]);else{if(a.params)for(var d in a.params)c.setParam(d,a.params[d]);a.text&&c.setText(a.text);a.font&&c.setFont(a.font);a.drawAsymptote&&(c.drawAsymptote=!0);a.isStatic&&c.setIsStatic(a.isStatic);a.undeletable&&c.setUndeletable(a.undeletable);c.setColor(a.color);c.setLineStyle(a.lineStyle);c.showPoints=a.showPoints;0<=this.showPoints.indexOf(c.getObjectType())&&
(c.showPoints=!0);if(a.points)for(d=0;d<a.points.length;d++)c.addPoint(a.points[d]);"copy"==b?c.setTag(a.tag):"undefined"!=typeof b&&c.setTag(b);a.labelpositionset&&(this._objectLabels?(c.addLabel(this),c.getObjLabel().setSelectedValue(a.objLabel),c.getObjLabel().setTag(c.getTag())):(c.addNewLabel(this,a),c.getObjLabel().setSelectedValue(a.objLabel)),c.getObjLabel().setRefPoint(a.labelrefpoint),c.getObjLabel().setLocation(f.clone(c.getPoint(a.labelrefpoint))),c.getObjLabel().setDx(a.labeldx),c.getObjLabel().setDy(a.labeldy),
c.getObjLabel().setDisableEdit(this._disableEdit))}},initGraphObjects:function(a,b){var c=this;a.forEach(function(a){c.initGraphObject(a,b)})},getGraphObjectCount:function(){var a,b=0;for(a=0;a<this.getGraph().getPartCount();a++)0>this.getGraph().getPart(a).getTag()&&this.getGraph().getPart(a).isInstanceOf(z)&&b++;return b},clearGraphObjects:function(){this.editable&&(this.stopEditing(),"undefined"!==typeof this._toolType&&this._toolType!==F.GraphToolType.NONE&&this.setToolType(F.GraphToolType.NONE));
for(var a=0;a<this.getGraph().getPartCount();)0>this.getGraph().getPart(a).getTag()&&this.getGraph().getPart(a).isInstanceOf(z)?this.getGraph().getPart(a).setGraph(null):a++;this.editable?(this.setToolType(F.GraphToolType.SELECT),this.doObjectSelectionChanged()):(this.getGraph().invalidateBlobs(),this.getGraph().invalidatePlots())},clearBlobLayer:function(){this.getGraph().getBlobSurfaceLayer().clear()},clearGraphPoints:function(){this.stopEditing();this.setToolType(F.GraphToolType.NONE);for(var a=
0;a<this.getGraph().getPartCount();){var b=this.getGraph().getPart(a);b&&(-1==b.getTag()||1==b.getTag())?b.setGraph(null):a++}this.doObjectSelectionChanged()},getGraphObjectsData:function(a){var b,c,d=[];for(b=0;b<this.getGraph().getPartCount();b++)c=this.getGraph().getPart(b),(a||0>c.getTag())&&c.isInstanceOf(z)&&d.push(c.getGraphData());return d},getGraphObjectPos:function(a){var b,c,d=0;for(b=0;b<this.getGraph().getPartCount();b++)if(0>this.getGraph().getPart(b).getTag()&&this.getGraph().getPart(b).isInstanceOf(z)){c=
this.getGraph().getPart(b);if(c===a)return d;d++}return-1},startEditing:function(a){this.getSelectedObject()!==a&&this.selectObject(a);a&&a.startEditing(this)&&(this._editing=!0)},_stopping:!1,stopEditing:function(){var a;if(!this._stopping){this._stopping=!0;try{if(this._editing){a=this.getSelectedObject();try{null!=a&&a.stopEditing()}finally{this._editing=!1}}}finally{this._stopping=!1}}},clearTool:function(){this.getActiveTool()&&(this.getGraph().isObjectDeleting=!0,this.stopEditing(),this.getActiveTool().clearObject(),
this.doObjectChanged(),this.getGraph().validateGraph())},findObjectAt:function(a,b){var c,d,e=3E4,f,k;for(c=0;c<this.getGraph().getPartCount();c++)d=this.getGraph().getPart(c),0>d.getTag()&&d.isInstanceOf(z)&&(f=d,0>f.getGraphPart().getTag()&&!f.getIsStatic()&&(d=f.getDistance(a,b),0<=d&&d<=this._selectTolerance&&(1===f.getPointCount()?(e=0,k=f):d<e&&(e=d,k=f))));return k},getBlobSnapX:function(){var a;switch(this._snapOptions){case F.GraphSnapOptions.GRID:a=this.getGraph().getAxisX().getTickSpacing();
break;case F.GraphSnapOptions.NONE:a=0;break;case F.GraphSnapOptions.CUSTOM:a=this._snapX;break;default:a=0}return a},getBlobSnapY:function(){var a;switch(this._snapOptions){case F.GraphSnapOptions.GRID:a=this.getGraph().getAxisY().getTickSpacing();break;case F.GraphSnapOptions.NONE:a=0;break;case F.GraphSnapOptions.CUSTOM:a=this._snapY;break;default:a=0}return a},cursorCoordsString:function(a){return w.formatFloat(a,"#.--")},doUpdateMessage:function(){h.publish(F.GraphObjectEvent.UPDATE_MESSAGE,
[{message:this.getMessage()}])},getCursorText:function(){return this._cursorText},getCurrentTool:function(){return this._currentTool},doToolChanged:function(a){this.emit("toolChanged",a)},doObjectChanged:function(){this.emit(F.GraphObjectEvent.OBJECT_CHANGED,{bubbles:!0})},doObjectCreated:function(){this.emit(F.GraphObjectEvent.OBJECT_CREATED,{bubbles:!0})},doObjectSelectionChanged:function(){this.emit(F.GraphObjectEvent.SELECTION_CHANGED,{selectedObj:this.getSelectedObject()})},mouseMoved:function(a){},
getDefaultGrLineStyle:function(){return this.getDefaultLineStyle()===F.GraphObjectLineStyle.DASHED?F.GraphObjectLineStyle.DASHED:F.GraphObjectLineStyle.SOLID},getDefaultLineStyle:function(){return this._defaultLineStyle},setDefaultLineStyle:function(a){this._defaultLineStyle=a},getSnapOptions:function(){return this._snapOptions},setSnapOptions:function(a){this._snapOptions=a},getDisableEdit:function(){return this._disableEdit},setDisableEdit:function(a){this._disableEdit=a},getDisableDeSelectOnReturn:function(){return this._disableDeSelectOnReturn},
setDisableDeSelectOnReturn:function(a){this._disableDeSelectOnReturn=a},getMessage:function(){return"select"==this.getToolType()&&0==this.getGraphObjectCount()?this._graphFactory.getMessage(F.GraphToolTypeMessage.NONE):this.getActiveTool()&&this.getActiveTool().getMessage?this.getActiveTool().getMessage():this.getGraph().hasXyCursor?H["status.xy_popup_selected"]:this._graphFactory.getMessage(F.GraphToolTypeMessage.NONE)},getGraphObjectLabels:function(){var a,b,c=[];for(a=0;a<this.getGraph().getPartCount();a++)b=
this.getGraph().getPart(a),0>b.getTag()&&(b.isInstanceOf(z)&&b.getObjLabel())&&c.push(b.getObjLabel());return c},getFormulaLabels:function(){return this._formulaLabels},setFormulaLabels:function(a){this._formulaLabels=a},getObjectLabels:function(){return this._objectLabels},setObjectLabels:function(a){this._objectLabels=a;this.clearLabelMenu()},getRequireLabels:function(){return this._requireLabels},setRequireLabels:function(a){this._requireLabels=a},closeMenu:function(){this._labelMenu&&t.close(this._labelMenu)},
graphObjectLabelMenuOpened:function(){this.emit("graphobjectlabel_menuopened")},graphObjectLabelMenuClosed:function(){this.emit("graphobjectlabel_menuclosed")},getLabelMenu:function(){if(!this._labelMenu){this._labelMenu=new e;for(var c,f,h=0;h<this.getObjectLabels().length;h++){f=this.getObjectLabels()[h];c=new b({label:"",plainValue:f});var m;this.getFormulaLabels()?(f=d.substitute("\x3cdiv data-dojo-type\x3d'xl.eqeditor.EqLabel' data-dojo-props\x3d'docSettings:{interpretFunctions:false}'\x3e${text}\x3c/div\x3e",
{text:f}),m=k.toDom(f)):(m=k.create("div"),m.innerHTML=f);k.place(m,c.containerNode);c.itemNode=m;this._labelMenu.addChild(c)}this._labelMenu.startup();a.parse(this._labelMenu.domNode);k.place(this._labelMenu.domNode,document.body);r.set(this._labelMenu.domNode,{position:"absolute",left:"-100000px",top:"-100000px"})}return this._labelMenu},getAllowTypedCoordinates:function(){return this._allowTypedCoordinates},setAllowTypedCoordinates:function(a){this._allowTypedCoordinates=a},getOptionsForObject:function(a){return this.getOptions(this.getSDObjectType(a))},
getSDObjectType:function(a){return a.getObjectType()},getOptions:function(a){return this.transformOptions[a]},clearLabelMenu:function(){this._labelMenu&&(this._labelMenu=null)},deselect:function(){this.editable&&(this.stopEditing(),null!=this._toolType&&this._toolType!=F.GraphToolType.NONE&&this.setToolType(F.GraphToolType.SELECT))}})})},"dojox/gesture/tap":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","./Base","../main"],function(s,q,l,h,n){s.experimental("dojox.gesture.tap");
s=q(h,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,press:function(f,h){if(h.touches&&2<=h.touches.length)clearTimeout(f.tapTimeOut),delete f.context;else{var c=h.target;this._initTap(f,h);f.tapTimeOut=setTimeout(l.hitch(this,function(){this._isTap(f,h)&&this.fire(c,{type:"tap.hold"});delete f.context}),this.holdThreshold)}},release:function(f,h){if(f.context&&this._isTap(f,h))switch(f.context.c){case 1:this.fire(h.target,{type:"tap"});break;
case 2:this.fire(h.target,{type:"tap.doubletap"})}clearTimeout(f.tapTimeOut)},_initTap:function(f,h){f.context||(f.context={x:0,y:0,t:0,c:0});var c=(new Date).getTime();c-f.context.t<=this.doubleTapTimeout?f.context.c++:(f.context.c=1,f.context.x=h.screenX,f.context.y=h.screenY);f.context.t=c},_isTap:function(f,h){var c=Math.abs(f.context.x-h.screenX),e=Math.abs(f.context.y-h.screenY);return c<=this.tapRadius&&e<=this.tapRadius}});n.gesture.tap=new s;n.gesture.tap.Tap=s;return n.gesture.tap})},"dojox/gesture/Base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/on dojo/touch dojo/has ../main".split(" "),
function(s,q,l,h,n,f,m,c,e){s.experimental("dojox.gesture.Base");h.getObject("gesture",!0,e);return q(null,{defaultEvent:" ",subEvents:[],touchOnly:!1,_elements:null,constructor:function(b){h.mixin(this,b);this.init()},init:function(){this._elements=[];if(!c("touch")&&this.touchOnly)console.warn("Gestures:[",this.defaultEvent,"] is only supported on touch devices!");else{var b=this.defaultEvent;this.call=this._handle(b);this._events=[b];l.forEach(this.subEvents,function(c){this[c]=this._handle(b+
"."+c);this._events.push(b+"."+c)},this)}},_handle:function(b){var c=this;return function(e,h){var a=arguments;2<a.length&&(e=a[1],h=a[2]);if(!e||!e.nodeType&&!e.attachEvent&&!e.addEventListener)return f(e,b,h);var m=c._add(e,b,h);return{remove:function(){m.remove();c._remove(e,b)}}}},_add:function(b,c,e){var r=this._getGestureElement(b);if(!r){var r={target:b,data:{},handles:{}},a=h.hitch(this,"_process",r,"press"),t=h.hitch(this,"_process",r,"move"),l=h.hitch(this,"_process",r,"release"),n=h.hitch(this,
"_process",r,"cancel"),q=r.handles;this.touchOnly?(q.press=f(b,"touchstart",a),q.move=f(b,"touchmove",t),q.release=f(b,"touchend",l),q.cancel=f(b,"touchcancel",n)):(q.press=m.press(b,a),q.move=m.move(b,t),q.release=m.release(b,l),q.cancel=m.cancel(b,n));this._elements.push(r)}r.handles[c]=!r.handles[c]?1:++r.handles[c];return f(b,c,e)},_getGestureElement:function(b){for(var c=0,e;c<this._elements.length;c++)if(e=this._elements[c],e.target===b)return e},_process:function(b,c,e){e._locking=e._locking||
{};!e._locking[this.defaultEvent]&&!this.isLocked(e.currentTarget)&&(("INPUT"!=e.target.tagName||"radio"==e.target.type||"checkbox"==e.target.type)&&"TEXTAREA"!=e.target.tagName&&e.preventDefault(),e._locking[this.defaultEvent]=!0,this[c](b.data,e))},press:function(b,c){},move:function(b,c){},release:function(b,c){},cancel:function(b,c){},fire:function(b,c){b&&c&&(c.bubbles=!0,c.cancelable=!0,f.emit(b,c.type,c))},_remove:function(b,c){var e=this._getGestureElement(b);if(e&&e.handles){e.handles[c]--;
var f=e.handles;l.some(this._events,function(a){return 0<f[a]})||(this._cleanHandles(f),e=l.indexOf(this._elements,e),0<=e&&this._elements.splice(e,1))}},_cleanHandles:function(b){for(var c in b)b[c].remove&&b[c].remove(),delete b[c]},lock:function(b){this._lock=b},unLock:function(){this._lock=null},isLocked:function(b){return!this._lock||!b?!1:this._lock!==b&&n.isDescendant(b,this._lock)},destroy:function(){l.forEach(this._elements,function(b){this._cleanHandles(b.handles)},this);this._elements=
null}})})},"xl/editgraph/AbstractGraphTool":function(){define(["dojo/_base/declare","dojo/_base/lang","xl/editgraph/GraphManager","xl/editgraph/GraphObject"],function(s,q,l,h){return s("xl.editgraph.AbstractGraphTool",[],{_graphManager:null,_points:null,useCircleHandles:!1,handleSize:null,singlePointTool:!1,multiPointTool:!1,constructor:function(h){this.clearPoints()},isActive:function(){return 1<this._points.length},addPoint:function(h){for(var f=0;f<this._points.length;f++){var m=this._points[f];
if(h.x===m.x&&h.y===m.y)return}this._points.push(q.clone(h))},getPointCount:function(){return this._points.length},getPoint:function(h){return this._points.length>h?this._points[h]:null},getGraphManager:function(){return this._graphManager},setGraphManager:function(h){this._graphManager=h},keyDown:function(h){},moveBy:function(h,f){},attach:function(h){},draw:function(h){},remove:function(){},clearPoints:function(){this._points=[]},reset:function(){this.remove();this.clearPoints()},canMakeOnRemove:function(){return!1},
mousePressed:function(){},mouseReleased:function(h,f,m){var c=this.getPointCount();0<c&&(c=this.getPoint(c-1),(c.x!==h||c.y!==f)&&this.mousePressed(h,f,m))},drawHandle:function(l,f,m,c){return this.useCircleHandles?h.drawCircleHandle(l,f,m,c,null,this.handleSize):h.drawHandle(l,f,m,c,null,this.handleSize)}})})},"xl/editgraph/AsymptoteGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m){return s("xl.editgraph.AsymptoteGraphTool",[n],{_lineObject:null,_handle:null,mousePressed:function(c,e,b){2>this.getPointCount()&&!(1===this.getPointCount()&&this.getPoint(0).x===c&&this.getPoint(0).y===e)&&this.addPoint({x:c,y:e});b.value=2===this.getPointCount()},remove:function(){this._lineObject&&(this._lineObject.destroy(),this._lineObject=null);this._handle&&(this._handle.destroy(),this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},draw:function(c,
e,b){var d,k,r,a;if(1===this.getPointCount()){r=this.getPoint(0).x;a=this.getPoint(0).y;d=this.getGraphManager().getGraph().getAxisX().worldToViewF(r);k=this.getGraphManager().getGraph().getAxisY().worldToViewF(a);if(!m.isFloatEqual(r,e)||!m.isFloatEqual(a,b))this._lineObject=h.drawLine(this._lineObject?this._lineObject:c,this.getGraphManager().getGraph(),r,a,e,b,"black",f.GraphObjectLineStyle.DASHED,{lineWidth:h.DEF_PLINETOOLWIDTH,alpha:h.DEF_PLINETOOLALPHA},!0);this._handle=this.drawHandle(c,this._handle,
d,k)}},makeObject:function(){var c;return 2===this.getPointCount()?(c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.ASYMPTOTE),c.addPoint(this.getPoint(0)),c.addPoint(this.getPoint(1)),c.setLineStyle(f.GraphObjectLineStyle.DASHED),c):null},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWLINE1);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWLINE2);
break;default:c=""}return c}})})},"xl/editgraph/SelectionTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/GraphTransformObject xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath xl/player/dialogs/ConfirmationDialog".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.editgraph.SelectionTool",[f],{_currentObj:null,_blobGroup:null,_labelBlobGroup:null,
_moving:null,_nudging:null,_resetBlobSelection:null,_ghostLayer:null,remove:function(){this.setCurrentObj(null)},clearBlobs:function(){this._blobGroup&&(this._blobGroup.setGraph(null),this._blobGroup.destroyRecursive());this._labelBlobGroup&&this._labelBlobGroup.setGraph(null);this._labelBlobGroup=this._blobGroup=null;this.getGraphManager().clearBlobLayer()},blobMoved:function(a){var c,d,e,f,k;if(!this._moving){this._nudging&&a.state!=b.IPGraphBlobState.KEYBOARD&&(this._nudging=!1);c=a.blob.getTag();
this._currentObj&&(d={x:a.x,y:a.y},this._currentObj.constrainBlob(c,d),a.x=d.x,a.y=d.y);if(0<=c&&this._currentObj.getTranslationPoint()==c){f=this._currentObj.getPoint(1).x;k=this._currentObj.getPoint(1).y;d=f-this._currentObj.getPoint(0).x;e=k-this._currentObj.getPoint(0).y;var h=this._blobGroup.getBlob(1);h.move(a.x+d,a.y+e,a.state,!0);d=h.getLocationX()-f;e=h.getLocationY()-k;a.x=this._currentObj.getPoint(0).x+d;a.y=this._currentObj.getPoint(0).y+e}if((a.state==b.IPGraphBlobState.UP||a.state==
b.IPGraphBlobState.KEYBOARD)&&0<=c&&this._currentObj&&this.canMove(this._currentObj))(d=this._currentObj.getObjLabel())&&d.getRefPoint()==c&&d.setLocation({x:a.x,y:a.y}),this._currentObj.movePoint(c,{x:a.x,y:a.y}),this._currentObj.getGraphPart().invalidate(),this._blobGroup.invalidate(),0<this.getGraphManager().getGraph().getRegionList().length&&(this.getGraphManager().getGraph().invalidateRegions(),this.getGraphManager().getGraph().invalidatePlots()),this.getGraphManager().getGraph().validateGraph(),
this.getGraphManager().doObjectChanged();a.blob.getFocused()&&this.getGraphManager().doCursorMoved({x:a.x,y:a.y})}},labelBlobMoved:function(a){var b,c,d,e,f;f=this.getGraph();b=this.getGraphObject().getPoint(0);c=0;e=n.getPointDistance(f,this.getCenterX(),this.getCenterY(),b);for(d=1;d<this.getGraphObject().getPointCount();d++)b=this.getGraphObject().getPoint(d),b=n.getPointDistance(f,this.getCenterX(),this.getCenterY(),b),b<e&&(c=d,e=b);this.setRefPoint(c);b=this.getGraphObject().getPoint(c);this.setLocation(b);
this.setDx(a.x-b.x);this.setDy(a.y-b.y);this.setPositionSet(!0)},_focusedBlob:null,blobFocusChanged:function(a){this._resetBlobSelection=!0;a.blob.getFocused()?(this._focusedBlob=a.blob,this.getGraphManager().doCursorMoved({x:a.blob.getLocationX(),y:a.blob.getLocationY()})):(this._focusedBlob=null,this.getGraphManager().doCursorMoved(null));this.getGraphManager().emit("blobFocusChanged",a)},blobDraw:function(a,b){var c,d,e;if(this._currentObj&&this._blobGroup){e=this._blobGroup.getBlobCount();c=[];
for(d=0;d<e;d++)c[d]={x:this._blobGroup.getBlob(d).getLocationX(),y:this._blobGroup.getBlob(d).getLocationY()};this._currentObj.drawGhost(b,c,this.getGraphManager().getToolColor())}},getCurrentObj:function(){return this._currentObj},setCurrentObj:function(a){var d,e;if(a){if(a!=this._currentObj)if(a.canSelect(this.getGraphManager())){this._currentObj&&this._currentObj.deselect();this._currentObj=a;this.getGraphManager().getGraph().selectedObj=this._currentObj;this._nudging=this._moving=!1;this.clearBlobs();
this._blobGroup=new c;this._blobGroup.setGraph(this.getGraphManager().getGraph());this._blobGroup.onDraw=q.hitch(this,this.blobDraw);this._currentObj.initSelection(this._blobGroup);for(d=0;d<a.getPointCount();d++)e=this.getGraphManager().getFactory().createObjectHandle(this._blobGroup,this._currentObj.getObjectType(),this.tapSelection),e.setDisableRedraw(!0),e.on(b.IPGraphBlobEvent.BLOB_FOCUS_GAINED,q.hitch(this,this.blobFocusChanged)),e.on(b.IPGraphBlobEvent.BLOB_FOCUS_LOST,q.hitch(this,this.blobFocusChanged)),
e.setLocation(a.getPoint(d).x,a.getPoint(d).y,!0),e.on(b.IPGraphBlobEvent.BLOB_MOVED,q.hitch(this,this.blobMoved)),e.setVisible(!0),e.setTag(d),e.setSnapIntervalX(this.getGraphManager().getBlobSnapX()),e.setSnapIntervalY(this.getGraphManager().getBlobSnapY()),e.setSnapToTicks(!0),e.setCanMove(this.canMove(a)),e.setDisableRedraw(!1),1==a.getPointCount()?(e.setFocused(!0),this.getGraphManager().doCursorMoved({x:e.getLocationX(),y:e.getLocationY()})):this.getGraphManager().doCursorMoved(null);this._currentObj.getObjLabel()&&
(this._currentObj.getObjLabel().allowMove=!0,this._currentObj.getObjLabel().on(b.IPGraphBlobEvent.BLOB_MOVED,this.labelBlobMoved));this._currentObj.getGraphPart().invalidate();this.getGraphManager().getGraph().invalidatePlots()}else this._currentObj&&this._currentObj.deselect(),this._currentObj=null,this.getGraphManager().getGraph().selectedObj=null,this.getGraphManager().doCursorMoved(null),this.clearBlobs()}else this._currentObj&&this._currentObj.deselect(),this._currentObj=null,this.getGraphManager().getGraph().selectedObj=
null,this.clearBlobs();this.getGraphManager().emit("currentobjectchanged",{currentObj:this._currentObj});this.getGraphManager().getGraph().invalidateRegions();this.getGraphManager().doObjectSelectionChanged();this.getGraphManager().getGraph().validateGraph()},nudge:function(a,c){var d,e,f;if(!this.getCurrentObj()||!this._blobGroup||!this.canMove(this.getCurrentObj()))return!1;this._nudging=!0;var h=this._blobGroup.getBlobCount();e=[h];f=!0;for(d=0;d<h;d++){var m=this._blobGroup.getBlob(d);e[d]={x:m.getLocationX(),
y:m.getLocationY()};m.nudge(a,c,!0);k.sameValue(e[d].x,m.getLocationX())&&k.sameValue(e[d].y,m.getLocationY())&&(f=!1)}if(!f)for(d=0;d<h;d++)this._blobGroup.getBlob(d).move(e[d].x,e[d].y,b.IPGraphBlobState.KEYBOARD,!1,!0);return!0},deleteObject:function(){var a,b;if(this.getCurrentObj()&&this._blobGroup){if(this.getCurrentObj().getUndeletable())return r.displayText(this.getGraphManager().getFactory().getMessage(e.GraphToolTypeMessage.WARNINGUNDELETABLE),"",[r.BUTTON.OK],"300px"),!1;this.getCurrentObj().deletePoint&&
this._focusedBlob&&2<this.getCurrentObj().getPointCount()?(a=this.getCurrentObj().deletePoint(this._focusedBlob),b=this.getCurrentObj().getObjLabel(),this._blobGroup.removeChild(this._focusedBlob),this._focusedBlob=null,b&&b.getRefPoint()>=a&&b.setRefPoint(b.getRefPoint()-1),this.getGraphManager().getGraph().invalidateGraph()):(this.clearBlobs(),b=this.getGraphManager().getGraphObjectPos(this._currentObj),a=this._currentObj.getGraphPart(),this._currentObj=null,a.setGraph(null),b=Math.min(b,this.getGraphManager().getGraphObjectCount()-
1),0<=b&&this.setCurrentObj(this.getGraphManager().getGraphObject(b)),this.getGraphManager().doUpdateMessage(),this.getGraphManager().doObjectChanged(),this._currentObj||this.getGraphManager().doObjectSelectionChanged())}},mousePressed:function(a,b,c){this._resetBlobSelection=!0;(c=this.getGraphManager().findObjectAt(a,b))&&c.mousePressed(a,b);c!=this._currentObj?this.setCurrentObj(c):this.getGraphManager().startEditing(c)},attach:function(a){this.setCurrentObj(a)},getMessage:function(){return null==
this.getCurrentObj()?this.getGraphManager().getFactory().getMessage(e.GraphToolTypeMessage.SELECT):this.getCurrentObj().getObjectType()==e.GraphObjectType.TEXT?this.getGraphManager().getFactory().getString("sdg.text_selected"):this.getCurrentObj()instanceof m?this.getGraphManager().getFactory().getString("sdg.transform_selected"):this.getGraphManager().getFactory().getString("sdg.object_selected")},updateObject:function(){var a,b;if(this._currentObj&&this._currentObj.getPointCount()<=this._blobGroup.getBlobCount()){b=
this._blobGroup.getBlobCount();var c={};for(a=0;a<b;a++){var d=this._blobGroup.getBlob(a);c.x=d.getLocationX();c.y=d.getLocationY();(d=this._currentObj.getObjLabel())&&d.getRefPoint()==a&&d.setLocation(q.clone(c));this._currentObj.movePoint(a,c)}0<this.getGraphManager().getGraph().getRegionList().length&&this.getGraphManager().getGraph().invalidateRegions();this._currentObj.getGraphPart().invalidate()}},keyDown:function(a){var b;if(a.keyCode==l.DELETE)this.getGraphManager().getGraph().isObjectDeleting=
!0,this.clearObject(),this.getGraphManager().getGraph().validateGraph(),a.stopPropagation(),a.preventDefault();else{var c=!1;if(null==this.getGraphManager().getGraph().getFocusBlob())switch(a.keyCode){case l.UP_ARROW:c=this.nudge(0,1);break;case l.DOWN_ARROW:c=this.nudge(0,-1);break;case l.LEFT_ARROW:c=this.nudge(-1,0);break;case l.RIGHT_ARROW:c=this.nudge(1,0);break;case l.ENTER:this.getGraphManager().getDisableDeSelectOnReturn()||(c=!0,this.setCurrentObj(null))}else if(a.keyCode==l.ENTER&&(b=this.getCurrentObj())&&
!this.getGraphManager().getDisableDeSelectOnReturn())this.setCurrentObj(null),this.setCurrentObj(b),c=!0;c&&(a.stopPropagation(),a.preventDefault())}},moveBy:function(a,b){var c,d,e,f=!1,h=!1,m,r,l,n;if(this._currentObj){l=this._blobGroup.getBlobCount();this._blobGroup.setDisableRedraw(!0);try{e=[l];for(c=0;c<l;c++)n=this._blobGroup.getBlob(c),e[c]={x:n.getLocationX(),y:n.getLocationY()};f=!0;for(c=0;c<l;c++)d=this._currentObj.getPoint(c),m=d.x+a,r=e[c].y,n=this._blobGroup.getBlob(c),n.move(m,r),
k.sameValue(e[c].x,n.getLocationX())&&(f=!1);if(!f)for(c=0;c<l;c++)n=this._blobGroup.getBlob(c),n.move(e[c].x,n.getLocationY());h=!0;for(c=0;c<l;c++)d=this._currentObj.getPoint(c),n=this._blobGroup.getBlob(c),m=n.getLocationX(),r=d.y+b,n.move(m,r),k.sameValue(e[c].y,n.getLocationY())&&(h=!1);if(!h)for(c=0;c<l;c++)n=this._blobGroup.getBlob(c),n.move(n.getLocationX(),e[c].y)}finally{this._blobGroup.setDisableRedraw(!1),(f||h)&&this._blobGroup.redraw()}}},getObject:function(){return this._currentObj},
clearObject:function(){this.deleteObject();0==this.getGraphManager().getGraphObjectCount()&&this.getGraphManager().getToolType()==e.GraphToolType.SELECT&&this.getGraphManager().setToolType(e.GraphToolType.NONE)},canMove:function(a){return a.getCanMove()||a.getUndeletable()&&!a.getIsStatic()},updateSelection:function(){this._blobGroup&&this._blobGroup.invalidate()}})})},"xl/grapher/IPGraphBlobGroup":function(){define(["dojo/_base/declare","xl/grapher/IPGraphBlob"],function(s,q){return s("xl.grapher.IPGraphBlobGroup",
[q],{_blobList:null,_focusBlob:null,onDraw:null,_drawLayer:null,disallowSamePositionBlobs:!0,disallowSameXBlobs:!1,destroyRecursive:function(l){if(this._blobList)for(var h=0;h<this._blobList.length;h++)this._blobList[h].destroy(),this._blobList[h]=null;this._focusBlob&&(this._focusBlob.destroyRecursive(),this._focusBlob=null);this.inherited(arguments)},clear:function(){for(var l=0;l<this._blobList.length;l++)this.getGraph().removePart(this._blobList[l])},constructor:function(l){this._blobList=[]},
getBlobCount:function(){return this._blobList.length},getBlob:function(l){return this._blobList[l]},addChild:function(l){l.isInstanceOf(q)&&this._blobList.push(l);return l},addChildAt:function(l,h){l.isInstanceOf(q)&&this._blobList.push(l)},removeChild:function(l){l.isInstanceOf(q)&&(l=this._blobList.indexOf(l),this._blobList.splice(l,1))},removeChildAt:function(l){this._blobList.splice(l,1)},setVisible:function(l){this.visible=l;for(var h=0;h<this.getBlobCount();h++)this.getBlob(h).setVisible(l)},
draw:function(l,h,n){if(this.onDraw)this.onDraw(this,l);for(var f=0;f<this._blobList.length;f++)this._blobList[f].draw(l,h,n)},isUnderPoint:function(l,h){for(var n=null,f=Number.MAX_VALUE,m=0;m<this.getBlobCount();m++){var c=this.getBlob(m).isUnderPoint(l,h);c&&c.distance<f&&(n=c)}return n}})})},"xl/editgraph/AbsGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.editgraph.AbsGraphTool",[f],{_handle:null,_drawObject:null,mousePressed:function(b,c,a){2>this.getPointCount()&&this.addPoint({x:b,y:c});a.value=2===this.getPointCount()},remove:function(){this._drawObject&&(this._drawObject[0].destroy(),this._drawObject[1].destroy(),this._drawObject=null);this._handle&&(this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},draw:function(b,c,a){var e,f;this.inherited(arguments);if(1===this.getPointCount()){f=
this.getPoint(0);if(!d.isFloatEqual(f.x,c)||!d.isFloatEqual(f.y,a))this._drawObject=n.drawAbs(this._drawObject?this._drawObject:b,this.getGraphManager().getGraph(),f.x,f.y,c,a,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle(),n.DEF_PLINETOOLWIDTH,n.DEF_PLINETOOLALPHA);e=this.getGraphManager().getGraph().getAxisX().worldToViewF(f.x);f=this.getGraphManager().getGraph().getAxisY().worldToViewF(f.y);this._handle=n.drawHandle(b,this._handle,e,f)}},makeObject:function(){var b;
b=null;2===this.getPointCount()&&(b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),c.GraphObjectType.ABS),b.addPoint(this.getPoint(0)),b.addPoint(this.getPoint(1)));return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWABS1);break;case 1:b=this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWABS2);break;default:b=""}return b}})})},"xl/editgraph/ParabolaGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums dojox/gfx/matrix".split(" "),
function(s,q,l,h,n,f,m){return s("xl.editgraph.LineGraphTool",[n],{_parabolaType:null,_handle:null,_drawObject:null,getParabolaType:function(){return this._parabolaType},setParabolaType:function(c){this._parabolaType=c},remove:function(){this._drawObject&&(this._drawObject.destroy(),this._drawObject=null);this._handle&&(this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},mousePressed:function(c,e,b){2>this.getPointCount()&&this.addPoint({x:c,y:e});b.value=2==this.getPointCount()},
draw:function(c,e,b){var d,f;this.inherited(arguments);1==this.getPointCount()&&(f=this.getPoint(0),this._drawObject=h.drawParabola(this._drawObject?this._drawObject:c,this.getGraphManager().getGraph(),f.x,f.y,e,b,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle(),this.getParabolaType(),h.DEF_PLINETOOLWIDTH,h.DEF_PLINETOOLALPHA),d=this.getGraphManager().getGraph().getAxisX().worldToViewF(f.x),f=this.getGraphManager().getGraph().getAxisY().worldToViewF(f.y),this._handle=
h.drawHandle(c,this._handle,d,f))},makeObject:function(){var c;c=null;2==this.getPointCount()&&(c=this.getParabolaType()==f.GraphParabolaType.UPDOWN?this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.PARABOLAY):this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.PARABOLAX),c.addPoint(this.getPoint(0)),c.addPoint(this.getPoint(1)));return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=
this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPARABOLA1);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPARABOLA2);break;default:c=""}return c}})})},"xl/editgraph/ArrowLineGraphTool":function(){define(["dojo/_base/declare","dojo/_base/lang","xl/editgraph/GraphManager","xl/editgraph/GraphObject","xl/editgraph/LineGraphTool"],function(s,q,l,h,n){return s("xl.editgraph.ArrowLineGraphTool",[n],{constructor:function(f){this.setExtendLine(!1);
this.setStartArrow(!1);this.setEndArrow(!0)}})})},"xl/editgraph/DblArrowLineGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/LineGraphTool"],function(s,q){return s("xl.editgraph.DblArrowLineGraphTool",[q],{constructor:function(l){this.setExtendLine(!1);this.setStartArrow(!0);this.setEndArrow(!0)}})})},"xl/editgraph/Curve3GraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.editgraph.Curve3GraphTool",[n],{_segmentObject:null,_segmentObject2:null,_curveObject:null,_handles:null,multiPointTool:!0,constructor:function(c){this._handles=Array(3)},mousePressed:function(c,b,d){3>this.getPointCount()&&this.addPoint({x:c,y:b});d.value=3===this.getPointCount()},draw:function(e,b,d){var f,m,a;this.inherited(arguments);if(0<this.getPointCount()){if(1===this.getPointCount())this._segmentObject=h.drawSegment(this._segmentObject||e,this.getGraphManager().getGraph(),
this.getPoint(0).x,this.getPoint(0).y,b,d,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());else{if(2===this.getPointCount()&&(!c.sameValue(this.getPoint(1).x,b)||!c.sameValue(this.getPoint(1).y,d)))this._segmentObject&&(this._segmentObject.removeShape(),this._segmentObject.destroy(),this._segmentObject=null),this.getGraphManager().getGraph().validateGraph();if(c.sameValue(this.getPoint(0).x,b)&&c.sameValue(this.getPoint(0).y,d)||c.sameValue(this.getPoint(1).x,
b)&&c.sameValue(this.getPoint(1).y,d))this._segmentObject2=h.drawSegment(this._segmentObject2||e,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());else{this._segmentObject2&&(this._segmentObject2.removeShape(),this._segmentObject2.destroy(),this._segmentObject2=null);f=Array(3);for(a=0;2>a;a++)f[a]=q.clone(this.getPoint(a));f[2]={x:b,y:d};this._curveObject&&
!this._curveObject.parent&&(this._curveObject=null);this._curveObject=h.drawCurve3(this._curveObject||e,this.getGraphManager().getGraph(),f,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());this._curveObject.clip||(a=this.getGraphManager().getGraph().getPlotRect(),this._curveObject.setClip({x:a.left,y:a.top,width:a.getWidth(),height:a.getHeight()}))}}for(a=0;a<this.getPointCount();a++)f=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(a).x),
m=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(a).y),this._handles[a]=h.drawHandle(e,this._handles[a],f,m)}},remove:function(){this._segmentObject&&(this._segmentObject.destroy(),this._segmentObject=null);this._segmentObject2&&(this._segmentObject2.destroy(),this._segmentObject2=null);this._curveObject&&(this._curveObject.destroy(),this._curveObject=null);if(this._handles&&0<this._handles.length)for(var c=0;c<this._handles.length;c++)this._handles[c]&&(this._handles[c].destroy(),
this._handles[c]=null);this.inherited(arguments)},makeObject:function(){var c,b;c=null;if(3===this.getPointCount()){c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.CURVE3);for(b=0;3>b;b++)c.addPoint(this.getPoint(b))}return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE31);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE32);
break;case 2:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE33);break;default:c=""}return c}})})},"xl/editgraph/PolylineGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath dojo/keys dojo/has".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.editgraph.PolylineGraphTool",[f],{_lineObjectArr:null,_handleObjectArr:null,
_objectMade:!1,multiPointTool:!0,constructor:function(b){this._lineObjectArr=[];this._handleObjectArr=[]},mousePressed:function(b,c,a){l.publish("editgraph/polylinemousepress",{pointCount:this._points.length});this.addPoint({x:b,y:c});a.value=!1},clearPoints:function(){this.inherited(arguments);this._clearSvgObjects(!0);this._lineObjectArr=[];this._handleObjectArr=[]},draw:function(b,c,a){var d;this._clearSvgObjects(!1);var e=this.getPointCount();if(0<e){var f=this.getGraphManager(),h=f.getGraph();
for(d=0;d<e-1;d++)this._lineObjectArr[d]=n.drawSegment(this._lineObjectArr[d]||b,h,this.getPoint(d+1).x,this.getPoint(d+1).y,this.getPoint(d).x,this.getPoint(d).y,f.getToolColor(),null);if(!f.tapSelection||f.activeDrag)this._lineObjectArr[e-1]=n.drawSegment(this._lineObjectArr[e-1]||b,h,this.getPoint(e-1).x,this.getPoint(e-1).y,c,a,f.getToolColor(),null);for(d=0;d<e;d++)c=h.getAxisX().worldToViewF(this.getPoint(d).x),a=h.getAxisY().worldToViewF(this.getPoint(d).y),this._handleObjectArr[d]=this.drawHandle(b,
this._handleObjectArr[d],c,a)}},initFromObject:function(b){if(b){this._clearSvgObjects(!0);this.clearPoints();for(var c=0;c<b.getPointCount();c++)this.addPoint(b.getPoint(c))}},remove:function(){this.clearPoints();this.getGraphManager().getGraph().invalidateBlobs();this._objectMade=!1},_clearSvgObjects:function(b){var c,a;if(this._lineObjectArr){c=this._lineObjectArr.length;for(a=0;a<c;a++){var d=this._lineObjectArr[a];d&&(b||null==d.parent)&&delete this._lineObjectArr[a]}}if(this._handleObjectArr){c=
this._handleObjectArr.length;for(a=0;a<c;a++)if(this._handleObjectArr[a]&&(d=this._handleObjectArr[a])&&(b||null==d.parent))d.destroy(),delete this._handleObjectArr[a]}},makeObject:function(){if(1<this.getPointCount()){for(var b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),m.GraphObjectType.POLYLINE),c=0;c<this.getPointCount();c++)b.addPoint(this.getPoint(c));this._objectMade=!0;return b}return null},canMakeOnRemove:function(){return!this._objectMade},getMessage:function(){var b;
switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(m.GraphToolTypeMessage.DRAWPOLYLINE1);break;case 1:b=this.getGraphManager().getFactory().getMessage(m.GraphToolTypeMessage.DRAWPOLYLINE2);break;default:b=d("touch")?this.getGraphManager().getFactory().getMessage(m.GraphToolTypeMessage.DRAWPOLYLINE4_MOBILE):this.getGraphManager().getFactory().getMessage(m.GraphToolTypeMessage.DRAWPOLYLINE4)}return b},keyDown:function(c){var d;c.keyCode==b.ESCAPE&&2<=this.getPointCount()&&
(d=this.makeObject(),d.setColor(this.getGraphManager().getFactory().getObjectColor(d)),this.getGraphManager().getRequireLabels()&&0<=this.getGraphManager().getRequireLabels().indexOf(d.getObjectType())&&this.getGraphManager().createObjectLabel(d),this.getGraphManager().doObjectCreated(),this.getGraphManager().selectObject(d),c.stopPropagation(),c.preventDefault())}})})},"xl/editgraph/CircleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums".split(" "),
function(s,q,l,h,n,f){return s("xl.editgraph.CircleGraphTool",[n],{_circleObject:null,_handleObject:null,mousePressed:function(f,c,e){2>this.getPointCount()&&this.addPoint({x:f,y:c});e.value=2===this.getPointCount()},draw:function(f,c,e){var b;1===this.getPointCount()&&(b=this.getPoint(0),this._circleObject=h.drawCircle(this._circleObject||f,this.getGraphManager().getGraph(),b.x,b.y,c,e,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle(),h.DEF_PLINETOOLWIDTH,h.DEF_PLINETOOLALPHA),
this._circleObject.clip||(c=this.getGraphManager().getGraph().getPlotRect(),this._circleObject.setClip({x:c.left,y:c.top,width:c.getWidth(),height:c.getHeight()})),c=this.getGraphManager().getGraph().getAxisX().worldToViewF(b.x),b=this.getGraphManager().getGraph().getAxisY().worldToViewF(b.y),this._handleObject=h.drawHandle(f,this._handleObject,c,b))},makeObject:function(){var h;h=null;2===this.getPointCount()&&(h=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),
f.GraphObjectType.CIRCLE),h.addPoint(this.getPoint(0)),h.addPoint(this.getPoint(1)));return h},getMessage:function(){var h;switch(this.getPointCount()){case 0:h=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCIRCLE1);break;case 1:h=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCIRCLE2);break;default:h=""}return h}})})},"xl/editgraph/RectangleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.editgraph.RectangleGraphTool",[n],{_segmentObject:null,_polygonObject:null,_handleObjectArr:null,constructor:function(c){this._handleObjectArr=Array(5)},mousePressed:function(c,b,d){2>this.getPointCount()&&this.addPoint({x:c,y:b});d.value=2==this.getPointCount()},draw:function(e,b,d){var f,m;if(0<this.getPointCount()){m=this.getPoint(0);1==this.getPointCount()&&(c.sameValue(m.x,b)||c.sameValue(m.y,d)?this._segmentObject=h.drawSegment(this._segmentObject||e,this.getGraphManager().getGraph(),
m.x,m.y,b,d,this.getGraphManager().getToolColor(),null):(f=Array(4),f[0]=q.clone(m),f[2]={x:b,y:d},f[1]={x:f[2].x,y:f[0].y},f[3]={x:f[0].x,y:f[2].y},this._polygonObject=h.drawPolygon(this._polygonObject||e,this.getGraphManager().getGraph(),f,this.getGraphManager().getToolColor(),null,0.5)));for(f=0;f<this.getPointCount();f++)b=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(f).x),d=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(f).y),this._handleObjectArr[f]=
h.drawHandle(e,this._handleObjectArr[f],b,d)}},makeObject:function(){var c,b;c=null;if(2==this.getPointCount()){c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.RECTANGLE);for(b=0;2>b;b++)c.addPoint(this.getPoint(b))}return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWRECTANGLE1);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWRECTANGLE2);
break;default:c=""}return c}})})},"xl/editgraph/TriangleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.TriangleGraphTool",[n],{_segmentObject:null,_segmentObject2:null,_polygonObject:null,_handleObjectArr:null,constructor:function(c){this._handleObjectArr=Array(5)},mousePressed:function(c,b,d){3>
this.getPointCount()&&this.addPoint({x:c,y:b});d.value=3==this.getPointCount()},draw:function(e,b,d){var f,m,a;this.inherited(arguments);if(0<this.getPointCount()){if(1==this.getPointCount())this._segmentObject=h.drawSegment(this._segmentObject||e,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,b,d,this.getGraphManager().getToolColor(),null);else if(c.sameValue(this.getPoint(0).x,b)&&c.sameValue(this.getPoint(0).y,d)||c.sameValue(this.getPoint(1).x,b)&&c.sameValue(this.getPoint(1).y,
d))this._segmentObject2=h.drawSegment(this._segmentObject2||e,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,b,d,this.getGraphManager().getToolColor(),null);else{f=Array(3);for(a=0;2>a;a++)f[a]=q.clone(this.getPoint(a));f[2]={x:b,y:d};this._polygonObject=h.drawPolygon(this._polygonObject||e,this.getGraphManager().getGraph(),f,this.getGraphManager().getToolColor(),null,h.DEF_PLINETOOLALPHA)}for(a=0;a<this.getPointCount();a++)f=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(a).x),
m=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(a).y),this._handleObjectArr[a]=h.drawHandle(e,this._handleObjectArr[a],f,m)}},makeObject:function(){var c,b;c=null;if(3==this.getPointCount()){c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.TRIANGLE);for(b=0;3>b;b++)c.addPoint(this.getPoint(b))}return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWTRIANGLE1);
break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWTRIANGLE2);break;case 2:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWTRIANGLE3);break;default:c=""}return c}})})},"xl/editgraph/PolygonGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath dojo/keys dojo/has".split(" "),function(s,q,l,h,n,f,
m,c,e,b){return s("xl.editgraph.PolygonGraphTool",[n],{_segmentObjectArr:null,_handleObjectArr:null,_supportsCloseClick:!0,_objectMade:!1,constructor:function(b){this._segmentObjectArr=Array(20);this._handleObjectArr=Array(20)},mousePressed:function(b,c,e){var a;2<this.getPointCount()?(a=h.getPointDistance(this.getGraphManager().getGraph(),b,c,this.getPoint(0)),e.value=7>=a,e.value||this.addPoint({x:b,y:c})):(this.addPoint({x:b,y:c}),e.value=!1)},draw:function(b,c,e){var a,f,m;this.inherited(arguments);
if(0<this.getPointCount()){for(m=0;m<this.getPointCount()-1;m++)this._segmentObjectArr[m]=h.drawSegment(this._segmentObjectArr[m]||b,this.getGraphManager().getGraph(),this.getPoint(m+1).x,this.getPoint(m+1).y,this.getPoint(m).x,this.getPoint(m).y,this.getGraphManager().getToolColor(),null);this._segmentObjectArr[this.getPointCount()-1]=h.drawSegment(this._segmentObjectArr[this.getPointCount()-1]||b,this.getGraphManager().getGraph(),this.getPoint(this.getPointCount()-1).x,this.getPoint(this.getPointCount()-
1).y,c,e,this.getGraphManager().getToolColor(),null);for(m=0;m<this.getPointCount();m++)a=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(m).x),f=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(m).y),this._handleObjectArr[m]=h.drawHandle(b,this._handleObjectArr[m],a,f)}},makeObject:function(){if(1<this.getPointCount()){for(var b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.POLYGON),c=0;c<this.getPointCount();c++)b.addPoint(this.getPoint(c));
this._objectMade=!0;return b}return null},canMakeOnRemove:function(){return!this._objectMade},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPOLYGON1);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPOLYGON2);break;case 2:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPOLYGON3);break;default:c=b("touch")?this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPOLYGON4_MOBILE):
this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWPOLYGON4)}return c},keyDown:function(b){var c;b.keyCode==e.ESCAPE&&3<=this.getPointCount()&&(c=this.makeObject(),c.setColor(this.getGraphManager().getFactory().getObjectColor(c)),this.getGraphManager().doObjectCreated(),this.getGraphManager().selectObject(c),b.stopPropagation(),b.preventDefault())}})})},"xl/editgraph/Curve4GraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.editgraph.Curve4GraphTool",[n],{_segmentObject:null,_polylineObject:null,_curveObject:null,_handleObjectArr:null,multiPointTool:!0,constructor:function(c){this._handleObjectArr=Array(20)},mousePressed:function(c,b,d){4>this.getPointCount()&&this.addPoint({x:c,y:b});d.value=4===this.getPointCount()},draw:function(e,b,d){var f,m,a;this.inherited(arguments);if(0<this.getPointCount()){if(1===this.getPointCount())this._segmentObject=h.drawSegment(this._segmentObject||
e,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,b,d,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());else{f=[];for(a=0;a<this.getPointCount();a++)f.push(q.clone(this.getPoint(a)));f.push({x:b,y:d});3>this.getPointCount()||c.sameValue(f[this.getPointCount()-1].x,b)?this._polylineObject=h.drawPolyline(this._polylineObject||e,this.getGraphManager().getGraph(),f,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle()):
(this._curveObject=h.drawCurveX(this._curveObject||e,this.getGraphManager().getGraph(),f,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle()),this._curveObject.clip||(a=this.getGraphManager().getGraph().getPlotRect(),this._curveObject.setClip({x:a.left,y:a.top,width:a.getWidth(),height:a.getHeight()})))}for(a=0;a<this.getPointCount();a++)f=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(a).x),m=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(a).y),
this._handleObjectArr[a]=h.drawHandle(e,this._handleObjectArr[a],f,m)}},remove:function(){this._segmentObject&&(this._segmentObject.destroy(),this._segmentObject=null);this._polylineObject&&(this._polylineObject.destroy(),this._polylineObject=null);this._curveObject&&(this._curveObject.destroy(),this._curveObject=null);if(this._handleObjectArr&&0<this._handleObjectArr.length)for(var c=0;c<this._handleObjectArr.length;c++)this._handleObjectArr[c]&&(this._handleObjectArr[c].destroy(),this._handleObjectArr[c]=
null);this.inherited(arguments)},makeObject:function(){var c,b;c=null;if(4===this.getPointCount()){c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.CURVEX);for(b=0;4>b;b++)c.addPoint(this.getPoint(b))}return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE41);break;case 1:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE42);
break;case 2:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE43);break;case 3:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWCURVE44);break;default:c=""}return c}})})},"xl/editgraph/PointGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.editgraph.PointGraphTool",[f],{mousePressed:function(b,c,a){1>this.getPointCount()&&this.addPoint({x:b,y:c});a.value=1==this.getPointCount()},singlePointTool:!0,draw:function(b,c,a){this.inherited(arguments)},makeObject:function(){var b;b=null;1==this.getPointCount()&&(b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),c.GraphObjectType.POINT),b.addPoint(this.getPoint(0)));return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=
this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWPOINT);break;default:b=""}return b}})})},"xl/editgraph/HoleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m,c,e,b,d){return s("xl.editgraph.HoleGraphTool",[f],{mousePressed:function(b,c,a){1>
this.getPointCount()&&this.addPoint({x:b,y:c});a.value=1==this.getPointCount()},singlePointTool:!0,draw:function(b,c,a){this.inherited(arguments)},makeObject:function(){var b;b=null;1==this.getPointCount()&&(b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),c.GraphObjectType.HOLE),b.addPoint(this.getPoint(0)));return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWPOINT);
break;default:b=""}return b}})})},"xl/editgraph/CubicGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/PolynomialGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl.editgraph.CubicGraphTool",[q],{makePolynomialObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.CUBIC)},getNPointCount:function(){return 4},getMessage:function(){var h;switch(this.getPointCount()){case 0:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOM1);
break;case 1:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOM2);break;case 2:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOM3);break;default:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOMLAST)}return h}})})},"xl/editgraph/PolynomialGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums xl/util/IPMath dojox/gfx/matrix".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.editgraph.PolynomialGraphTool",[n],{_nPoints:null,_polynomObject:null,_handleObjectArr:null,constructor:function(c){this._nPoints=this.getNPointCount();this._handleObjectArr=Array(20)},makePolynomialObject:function(){return null},getNPointCount:function(){return 1},mousePressed:function(c,b,d){if(this.getPointCount()<this._nPoints){for(var f=0;f<this.getPointCount();f++)if(m.sameValue(this.getPoint(f).x,c,1E-8))return;this.addPoint({x:c,y:b})}d.value=this.getPointCount()==
this._nPoints},makeObject:function(){for(var c=this.makePolynomialObject(),b=0;b<this.getPointCount();b++)c.addPoint(this.getPoint(b));return c},draw:function(c,b,d){var f,r=[],a=!1;if(0<this.getPointCount()){for(f=0;f<this.getPointCount();f++)r.push(this.getPoint(f)),m.sameValue(b,this.getPoint(f).x)&&(a=!0);a||r.push({x:b,y:d});f=h.calcPolynom(q.clone(r));this._polynomObject=h.drawPolynom(this._polynomObject||c,this.getGraphManager().getGraph(),f,this.getGraphManager().getToolColor(),null);this._polynomObject.clip||
(f=this.getGraphManager().getGraph().getPlotRect(),this._polynomObject.setClip({x:f.left,y:f.top,width:f.getWidth(),height:f.getHeight()}));for(f=0;f<this.getPointCount();f++)b=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(f).x),d=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(f).y),this._handleObjectArr[f]=h.drawHandle(c,this._handleObjectArr[f],b,d)}}})})},"xl/editgraph/QuadraticGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/PolynomialGraphTool",
"xl/editgraph/enums"],function(s,q,l){return s("xl.editgraph.QuadraticGraphTool",[q],{makePolynomialObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.QUADRATIC)},getNPointCount:function(){return 3},getMessage:function(){var h;switch(this.getPointCount()){case 0:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOM1);break;case 1:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOM2);
break;default:h=this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWPOLYNOMLAST)}return h}})})},"xl/editgraph/RegionGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/util/graphUtils xl/editgraph/AbstractGraphTool xl/editgraph/enums dojox/gfx/matrix".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.RegionGraphTool",[f],{_bucketObject:null,mousePressed:function(c,b,d){1>this.getPointCount()&&this.addPoint({x:c,
y:b});d.value=1==this.getPointCount()},draw:function(c,b,d){b=this.getGraphManager().getGraph().getAxisX().worldToView(b);d=this.getGraphManager().getGraph().getAxisY().worldToView(d);this._bucketObject=n.drawBucket(c,this._bucketObject,b,d,this.getGraphManager().getFactory().getToolColor(m.GraphToolType.REGION),!1,"white")},makeObject:function(){var c;c=null;1==this.getPointCount()&&(c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),m.GraphObjectType.REGION),c.addPoint(this.getPoint(0)));
return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(m.GraphToolTypeMessage.DRAWREGION);break;default:c=""}return c}})})},"xl/editgraph/XSquaredGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/XSquaredGraphTool",[q],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),
l.GraphObjectType.XSQUARED)}})})},"xl/editgraph/TransformationGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/AbstractGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/TransformationGraphTool",[q],{makeObject:function(){return this.makeTransformationObject()},makeTransformationObject:function(){return null},mousePressed:function(h,l,f){f.value=!0},getMessage:function(){return this.getGraphManager().getFactory().getMessage(l.GraphToolTypeMessage.DRAWTRANSFORMATION1)}})})},
"xl/editgraph/XCubedGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/XCubedGraphTool",[q],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.XCUBED)}})})},"xl/editgraph/LogGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/LogGraphTool",
[q],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.LOG)}})})},"xl/editgraph/ExpGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/ExpGraphTool",[q],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.EXP)}})})},
"xl/editgraph/SineGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/SineGraphTool ",[q],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.SINE)}})})},"xl/editgraph/CosineGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(s,q,l){return s("xl/editgraph/CosineGraphTool ",
[q],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),l.GraphObjectType.COSINE)}})})},"xl/editgraph/TextGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums dojox/gfx/matrix".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.TextGraphTool",[n],{_text:null,mousePressed:function(c,e,b){1>this.getPointCount()&&
this.addPoint({x:c,y:e});b.value=1==this.getPointCount()},draw:function(c,e,b){},makeObject:function(){var c;c=null;1==this.getPointCount()&&(c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),f.GraphObjectType.TEXT),c.addPoint(this.getPoint(0)));return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(f.GraphToolTypeMessage.DRAWTEXT);break;default:c=""}return c},getText:function(){return this._text},
setText:function(c){this._text=c}})})},"xl/editgraph/GraphLineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphLineObject",[l],{_extendLine:null,_startArrow:null,_endArrow:null,_lineObject:null,_startArrowObject:null,_endArrowObject:null,draw:function(c,e,b){var d,k,h,a,m,l,v;e?(m=b,l=0,v=n.GraphLineStyle.SOLID):(m=
this.getColor(),l=f.DEF_PLINEWIDTH,v=this.getLineStyle());2===this.getPointCount()&&(d=this.getPoint(0).x,k=this.getPoint(0).y,h=this.getPoint(1).x,a=this.getPoint(1).y,this._extendLine?f.drawLine(c,this.getGraph(),d,k,h,a,m,v,{lineWidth:l}):f.drawSegment(c,this.getGraph(),d,k,h,a,m,v,{lineWidth:l}),this._startArrow&&f.drawArrow(c,this.getGraph(),this.getPoint(1),this.getPoint(0),m),this._endArrow&&f.drawArrow(c,this.getGraph(),this.getPoint(0),this.getPoint(1),m),this.inherited(arguments))},drawMask:function(c,
e,b){var d,k,h,a;2===this.getPointCount()&&(d=this.getPoint(0).x,k=this.getPoint(0).y,h=this.getPoint(1).x,a=this.getPoint(1).y,this._extendLine?f.drawLine(c,this.getGraph(),d,k,h,a,e,n.IPGraphLineStyle.SOLID,1,b):f.drawSegment(c,this.getGraph(),d,k,h,a,e,n.IPGraphLineStyle.SOLID,1,b))},getDistance:function(c,e){var b;if(2===this.getPointCount()){b=this.getPoint(0);var d=this.getPoint(1);b=m.sameValue(b.x,d.x)&&m.sameValue(b.y,d.y)?f.getSegmentDistance(this.getGraph(),c,e,{x:b.x,y:this.getGraph().getAxisY().getMinimum()},
{x:b.x,y:this.getGraph().getAxisY().getMaximum()},!0):f.getSegmentDistance(this.getGraph(),c,e,b,d,this._extendLine)}else b=-1;return b},drawGhost:function(c,e,b){var d,k,h,a;2<=e.length&&(d=e[0].x,k=e[0].y,h=e[1].x,a=e[1].y,this._lineObject&&!this._lineObject.parent&&(this._lineObject=null),this._startArrowObject&&!this._startArrowObject.parent&&(this._startArrowObject=null),this._endArrowObject&&!this._endArrowObject.parent&&(this._endArrowObject=null),this._lineObject=this._extendLine?f.drawLine(this._lineObject||
c,this.getGraph(),d,k,h,a,b,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH):f.drawSegment(this._lineObject||c,this.getGraph(),d,k,h,a,b,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH),this._startArrow&&(this._startArrowObject=f.drawArrow(this._startArrowObject||c,this.getGraph(),e[1],e[0],b)),this._endArrow&&(this._endArrowObject=f.drawArrow(this._endArrowObject||c,this.getGraph(),e[0],e[1],b)))},getObjectType:function(){return h.GraphObjectType.LINE},getExtendLine:function(){return this._extendLine},setExtendLine:function(c){this._extendLine=
c},getStartArrow:function(){return this._startArrow},setStartArrow:function(c){this._startArrow=c},getEndArrow:function(){return this._endArrow},setEndArrow:function(c){this._endArrow=c}})})},"xl/editgraph/GraphAsymptoteObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphAsymptoteObject",[l],{_lineObject:null,draw:function(c,
e,b){var d,k,m,a,t,l,v;e?(t=b,l=0,v=n.GraphLineStyle.SOLID):(t="black",l=f.DEF_PLINEWIDTH,v=h.GraphObjectLineStyle.DASHED);2===this.getPointCount()&&(d=this.getPoint(0).x,k=this.getPoint(0).y,m=this.getPoint(1).x,a=this.getPoint(1).y,f.drawLine(c,this.getGraph(),d,k,m,a,t,v,{lineWidth:l}),this.inherited(arguments))},drawMask:function(c,e,b){var d,k,h,a;2===this.getPointCount()&&(d=this.getPoint(0).x,k=this.getPoint(0).y,h=this.getPoint(1).x,a=this.getPoint(1).y,f.drawLine(c,this.getGraph(),d,k,h,
a,e,n.IPGraphLineStyle.SOLID,1,b))},getDistance:function(c,e){var b;if(2===this.getPointCount()){b=this.getPoint(0);var d=this.getPoint(1);b=m.sameValue(b.x,d.x)&&m.sameValue(b.y,d.y)?f.getSegmentDistance(this.getGraph(),c,e,{x:b.x,y:this.getGraph().getAxisY().getMinimum()},{x:b.x,y:this.getGraph().getAxisY().getMaximum()},!0):f.getSegmentDistance(this.getGraph(),c,e,b,d,!0)}else b=-1;return b},drawGhost:function(c,e,b){var d,k,m;2<=e.length&&(d=e[0].x,k=e[0].y,m=e[1].x,e=e[1].y,this._lineObject&&
!this._lineObject.parent&&(this._lineObject=null),this._lineObject=f.drawLine(this._lineObject||c,this.getGraph(),d,k,m,e,b,h.GraphObjectLineStyle.DASHED,f.DEF_PLINEGHOSTWIDTH))},getObjectType:function(){return h.GraphObjectType.ASYMPTOTE}})})},"xl/editgraph/GraphAbsObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(s,q,l,h,n,f){return s("xl.editgraph.GraphAbsObject",[l],{_drawObject:null,
draw:function(m,c,e){var b,d,k;c?(b=e,d=0,k=h.GraphLineStyle.SOLID):(b=this.getColor(),d=f.DEF_PLINEWIDTH,k=this.getLineStyle());2===this.getPointCount()&&(f.drawAbs(m,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,b,k,d),this.inherited(arguments))},drawMask:function(h,c,e){2===this.getPointCount()&&f.drawAbs(h,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,c,n.IPGraphLineStyle.SOLID,1,e,"SQUARE")},getDistance:function(h,
c){var e={};return 2===this.getPointCount()?(e.y=this.getPoint(1).y,e.x=this.getPoint(0).x-(this.getPoint(1).x-this.getPoint(0).x),Math.min(f.getRayDistance(this.getGraph(),h,c,this.getPoint(0),this.getPoint(1)),f.getRayDistance(this.getGraph(),h,c,this.getPoint(0),e))):-1},drawGhost:function(h,c,e){this._drawObject&&!this._drawObject[0].parent&&(this._drawObject=null);2<=c.length&&(this._drawObject=f.drawAbs(this._drawObject?this._drawObject:h,this.getGraph(),c[0].x,c[0].y,c[1].x,c[1].y,e,this.getLineStyle(),
f.DEF_PLINEGHOSTWIDTH))},getObjectType:function(){return h.GraphObjectType.ABS}})})},"xl/editgraph/GraphParabolaObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphParabolaObject",[l],{_parabolaType:null,_drawObject:null,getParabolaType:function(){return this._parabolaType},setParabolaType:function(c){this._parabolaType=
c},draw:function(c,e,b){var d,k,h;e?(d=b,k=0,h=n.IPGraphLineStyle.SOLID):(d=this.getColor(),k=f.DEF_PLINEWIDTH,h=this.getLineStyle());2===this.getPointCount()&&(f.drawParabola(c,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,d,h,this.getParabolaType(),k),this.inherited(arguments))},drawMask:function(c,e,b){2===this.getPointCount()&&f.drawParabola(c,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,e,n.IPGraphLineStyle.SOLID,
this.getParabolaType(),1,b,"square")},getDistance:function(c,e){var b,d,k,r,a,t,l,n,q;if(2===this.getPointCount())if(d=c-this.getGraph().getAxisX().viewToWorldRel(5),k=c+this.getGraph().getAxisX().viewToWorldRel(5),r=e-this.getGraph().getAxisY().viewToWorldRel(5),a=e+this.getGraph().getAxisY().viewToWorldRel(5),t=this.getPoint(0),l=this.getPoint(1),this.getParabolaType()===h.GraphParabolaType.UPDOWN){if(m.isZero(l.y-t.y,1E-6))return f.getSegmentDistance(this.getGraph(),c,e,t,l,!0);b=m.sqr(l.x-t.x)/
(4*(l.y-t.y));if(m.isZero(b,1E-6))return l.y>t.y&&e>t.y||l.y<t.y&&e<t.y?f.getSegmentDistance(this.getGraph(),c,e,t,l,!0):f.getPointDistance(this.getGraph(),c,e,t);t=this.fOfX(d,b)-a;l=this.fOfX(k,b)-a;n=this.fOfX(d,b)-r;q=this.fOfX(k,b)-r;if(!(0<t&&0<l&&0<n&&0<q||0>t&&0>l&&0>n&&0>q))return f.getSegmentDistance(this.getGraph(),c,e,{x:d,y:this.fOfX(d,b)},{x:k,y:this.fOfX(k,b)},!0)}else{if(m.isZero(l.x-t.x,1E-6))return f.getSegmentDistance(this.getGraph(),c,e,t,l,!0);b=m.sqr(l.y-t.y)/(4*(l.x-t.x));if(m.isZero(b,
1E-6))return l.x>t.x&&c>t.x||l.x<t.x&&c<t.x?f.getSegmentDistance(this.getGraph(),c,e,t,l,!0):f.getPointDistance(this.getGraph(),c,e,t);t=this.fOfY(r,b)-k;l=this.fOfY(a,b)-k;n=this.fOfY(r,b)-d;q=this.fOfY(a,b)-d;if(!(0<t&&0<l&&0<n&&0<q||0>t&&0>l&&0>n&&0>q))return f.getSegmentDistance(this.getGraph(),c,e,{x:this.fOfY(r,b),y:r},{x:this.fOfY(a,b),y:a},!0)}return-1},drawGhost:function(c,e,b){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);2===e.length&&(this._drawObject=f.drawParabola(this._drawObject?
this._drawObject:c,this.getGraph(),e[0].x,e[0].y,e[1].x,e[1].y,b,this.getLineStyle(),this.getParabolaType(),f.DEF_PLINEGHOSTWIDTH))},fOfX:function(c,e){return m.sqr(c-this.getPoint(0).x)/(4*e)+this.getPoint(0).y},fOfY:function(c,e){return m.sqr(c-this.getPoint(0).y)/(4*e)+this.getPoint(0).x},getObjectType:function(){return this.getParabolaType()===h.GraphParabolaType.UPDOWN?h.GraphObjectType.PARABOLAY:h.GraphObjectType.PARABOLAX}})})},"xl/editgraph/GraphArrowLineObject":function(){define(["dojo/_base/declare",
"dojo/_base/lang","xl/editgraph/GraphLineObject","xl/editgraph/enums"],function(s,q,l,h){return s("xl.editgraph.GraphArrowLineObject",[l],{getObjectType:function(){return h.GraphObjectType.ARROW},constructor:function(h){this.setExtendLine(!1);this.setStartArrow(!1);this.setEndArrow(!0)}})})},"xl/editgraph/GraphDblArrowLineObject":function(){define(["dojo/_base/declare","xl/editgraph/GraphLineObject","xl/editgraph/enums"],function(s,q,l){return s("xl.editgraph.GraphDblArrowLineObject",[q],{getObjectType:function(){return l.GraphObjectType.DBLARROW},
constructor:function(h){this.setExtendLine(!1);this.setStartArrow(!0);this.setEndArrow(!0)}})})},"xl/editgraph/GraphCurve3Object":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(s,q,l,h,n,f){return s("xl.editgraph.GraphCurve3Object",[l],{_curveObject:null,_curveGhostObject:null,remove:function(){},drawMask:function(h,c,e){var b,d,k;k=n.IPGraphLineStyle.SOLID;if(3===this.getPointCount()){d=
Array(3);for(b=0;b<this.getPointCount();b++)d[b]=q.clone(this.getPoint(b));f.drawCurve3(h,this.getGraph(),d,c,k,0,e)}},draw:function(h,c,e){var b,d,k,r,a;c?(k=e,r=0,a=n.IPGraphLineStyle.SOLID):(k=this.getColor(),r=f.DEF_PLINEWIDTH,a=this.getLineStyle());if(3===this.getPointCount()){d=Array(3);for(b=0;b<this.getPointCount();b++)d[b]=q.clone(this.getPoint(b));b=this.getGraph().getPlotRect();f.drawCurve3(h,this.getGraph(),d,k,a,r).setClip({x:b.left,y:b.top,width:b.getWidth(),height:b.getHeight()});this.inherited(arguments)}},
getDistance:function(h,c){var e,b;e=-1;if(3===this.getPointCount()){b=Array(3);for(e=0;e<this.getPointCount();e++)b[e]=q.clone(this.getPoint(e));e=f.getCurve3Distance(this.getGraph(),h,c,b)}return e},drawGhost:function(h,c,e){this._curveGhostObject&&!this._curveGhostObject.parent&&(this._curveGhostObject=null);3===c.length&&(this._curveGhostObject=f.drawCurve3(this._curveGhostObject||h,this.getGraph(),q.clone(c),e,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH),this._curveGhostObject.clip||(h=this.getGraph().getPlotRect(),
this._curveGhostObject.setClip({x:h.left,y:h.top,width:h.getWidth(),height:h.getHeight()})))},getObjectType:function(){return h.GraphObjectType.CURVE3}})})},"xl/editgraph/GraphPolylineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphPolylineObject",[l],{_drawObject:null,constructor:function(c){this.setSupportsLineStyle(!0)},
drawMask:function(c,e){var b,d=[];for(b=0;b<this.getPointCount();b++)d.push(this.getPoint(b));f.drawPolyline(c,d,e,n.IPGraphLineStyle.SOLID)},draw:function(c,e,b){var d,k=[],h;h=e?b:this.getColor();for(d=0;d<this.getPointCount();d++)k.push(this.getPoint(d));f.drawPolyline(c,this.getGraph(),k,h,this.getLineStyle());this.inherited(arguments)},getDistance:function(c,e){var b,d,k=0;for(b=0;b<this.getPointCount()-1;b++)d=f.getSegmentDistance(this.getGraph(),c,e,this.getPoint(b),this.getPoint(b+1)),k=0==
b?d:Math.min(k,d);return k},drawGhost:function(c,e,b){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);this._drawObject=f.drawPolyline(this._drawObject||c,this.getGraph(),e,b,this.getLineStyle())},deletePoint:function(c){for(var e=0;e<this.getPointCount();e++){var b=this.getPoint(e);if(m.sameValue(b.x,c.getLocationX())&&m.sameValue(b.y,c.getLocationY()))return this.getPoints().splice(e,1),e}return-1},getObjectType:function(){return h.GraphObjectType.POLYLINE}})})},"xl/editgraph/GraphCircleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphCircleObject",[l],{_drawObject:null,constructor:function(c){this.setSupportsLineStyle(!1)},draw:function(c,e,b){var d,k,h;e?(d=b,k=0,h=n.IPGraphLineStyle.SOLID):(d=this.getColor(),k=f.DEF_PLINEWIDTH,h=this.getLineStyle());if(2===this.getPointCount()){var a=this.getPoint(0),m=this.getPoint(1),l=this.getGraph().getPlotRect();f.drawCircle(c,this.getGraph(),a.x,a.y,m.x,m.y,d,h,k).setClip({x:l.left,y:l.top,width:l.getWidth(),height:l.getHeight()});this.inherited(arguments)}},
drawMask:function(c,e,b){if(2===this.getPointCount()){var d=this.getPoint(0),k=this.getPoint(1);f.drawCircle(c,this.getGraph(),d.x,d.y,k.x,k.y,e,n.IPGraphLineStyle.SOLID,1,b)}},getDistance:function(c,e){var b,d,f,h,a=-1;if(2===this.getPointCount()){var t=this.getPoint(0);b=this.getPoint(1);b=m.hypot(b.x-t.x,b.y-t.y);d=m.hypot(c-t.x,e-t.y);try{f=b/d*(c-t.x)+t.x,h=b/d*(e-t.y)+t.y,a=Math.round(m.hypot(this.getGraph().getAxisX().worldToView(c)-this.getGraph().getAxisX().worldToView(f),this.getGraph().getAxisY().worldToView(e)-
this.getGraph().getAxisY().worldToView(h)))}catch(l){}}return a},drawGhost:function(c,e,b){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);2<=e.length&&(this._drawObject=f.drawCircle(this._drawObject||c,this.getGraph(),e[0].x,e[0].y,e[1].x,e[1].y,b,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH),this._drawObject.clip||(c=this.getGraph().getPlotRect(),this._drawObject.setClip({x:c.left,y:c.top,width:c.getWidth(),height:c.getHeight()})))},getObjectType:function(){return h.GraphObjectType.CIRCLE},
getTranslationPoint:function(){return 0}})})},"xl/editgraph/GraphRectangleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphRectangleObject",[l],{_segmentGhostObject:null,_polygonGhostObject:null,constructor:function(c){this.setSupportsLineStyle(!1)},draw:function(c,e,b){var d,k,h;d=e?b:this.getColor();if(2===this.getPointCount()){k=
this.getPoint(0);h=this.getPoint(1);if(m.sameValue(k.x,h.x)||m.sameValue(k.y,h.y))f.drawSegment(c,this.getGraph(),k.x,k.y,h.x,h.y,this.getColor(),this.getLineStyle());else{var a=Array(4);a[0]=q.clone(k);a[2]=q.clone(h);a[1]={x:h.x,y:k.y};a[3]={x:k.x,y:h.y};f.drawPolygon(c,this.getGraph(),a,d,this.getLineStyle(),0.75)}this.inherited(arguments)}},drawMask:function(c,e,b){var d,k;if(2===this.getPointCount())if(d=this.getPoint(0),k=this.getPoint(1),m.sameValue(d.x,k.x)||m.sameValue(d.y,k.y))f.drawSegment(c,
this.getGraph(),d.x,d.y,k.x,k.y,this.getColor(),this.getLineStyle());else{var h=Array(4);h[0]=q.clone(d);h[2]=q.clone(k);h[1]={x:k.x,y:d.y};h[3]={x:d.x,y:k.y};f.drawPolygon(c,this.getGraph(),h,e,this.getLineStyle(),b)}},getDistance:function(c,e){var b,d,k,h;h=this.getPoint(0);var a=this.getPoint(1);h.x<a.x?(b=h.x,d=a.x):(b=a.x,d=h.x);h.y<a.y?(k=h.y,h=a.y):(k=a.y,h=h.y);return c>=b&&c<=d&&e>=k&&e<=h?0:c<b?e<=h&&e>=k?f.getSegmentDistance(this.getGraph(),c,e,{x:b,y:k},{x:b,y:h}):e>h?f.getPointDistance(this.getGraph(),
c,e,{x:b,y:h}):f.getPointDistance(this.getGraph(),c,e,{x:b,y:k}):c>d?e<=h&&e>=k?f.getSegmentDistance(this.getGraph(),c,e,{x:d,y:k},{x:d,y:h}):e>h?f.getPointDistance(this.getGraph(),c,e,{x:d,y:h}):f.getPointDistance(this.getGraph(),c,e,{x:d,y:k}):e>h?f.getSegmentDistance(this.getGraph(),c,e,{x:b,y:h},{x:d,y:h}):e<k?f.getSegmentDistance(this.getGraph(),c,e,{x:b,y:k},{x:d,y:k}):-1},drawGhost:function(c,e,b){this._segmentGhostObject&&!this._segmentGhostObject.parent&&(this._segmentGhostObject=null);this._polygonGhostObject&&
!this._polygonGhostObject.parent&&(this._polygonGhostObject=null);var d,k;2===e.length&&(d=e[0],e=e[1],m.sameValue(d.x,e.x)||m.sameValue(d.y,e.y)?this._segmentGhostObject=f.drawSegment(this._segmentGhostObject||c,this.getGraph(),d.x,d.y,e.x,e.y,b,this.getLineStyle()):(k=Array(4),k[0]=q.clone(d),k[2]=q.clone(e),k[1]={x:e.x,y:d.y},k[3]={x:d.x,y:e.y},this._polygonGhostObject=f.drawPolygon(this._polygonGhostObject||c,this.getGraph(),k,b,this.getLineStyle())))},getObjectType:function(){return h.GraphObjectType.RECTANGLE}})})},
"xl/editgraph/GraphTriangleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath xl/util/graphUtils".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphTriangleObject",[l],{_polygonGhostObject:null,constructor:function(c){this.setSupportsLineStyle(!1)},draw:function(c,b,d){var k,h,a;k=b?d:this.getColor();if(3==this.getPointCount()){h=[];for(a=0;a<this.getPointCount();a++)h.push(q.clone(this.getPoint(a)));
f.drawPolygon(c,this.getGraph(),h,k,this.getLineStyle(),0.75);this.inherited(arguments)}},drawMask:function(c,b,d){var k,h;if(3==this.getPointCount()){k=[];for(h=0;h<this.getPointCount();h++)k.push(q.clone(this.getPoint(h)));f.drawPolygon(c,this.getGraph(),k,b,this.getLineStyle(),d)}},getDistance:function(e,b){var d=[],f;for(f=0;f<this.getPointCount();f++)d.push(this.getPoint(f));return c.pointInPolygon(e,b,d)?0:-1},drawGhost:function(c,b,d){this._polygonGhostObject&&!this._polygonGhostObject.parent&&
(this._polygonGhostObject=null);3==b.length&&(this._polygonGhostObject=f.drawPolygon(this._polygonGhostObject||c,this.getGraph(),b,d,this.getLineStyle()))},getObjectType:function(){return h.GraphObjectType.TRIANGLE}})})},"xl/editgraph/GraphPolygonObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath xl/util/graphUtils".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphPolygonObject",
[l],{_drawObject:null,constructor:function(c){this.setSupportsLineStyle(!1)},drawMask:function(c,b,d){var k,h=[];for(k=0;k<this.getPointCount();k++)h.push(this.getPoint(k));f.drawPolygon(c,this.getGraph(),h,b,this.getLineStyle(),d)},draw:function(c,b,d){var k,h,a;a=b?d:this.getColor();h=[];for(k=0;k<this.getPointCount();k++)h.push(this.getPoint(k));f.drawPolygon(c,this.getGraph(),h,a,this.getLineStyle(),0.75);this.inherited(arguments)},getDistance:function(e,b){var d,f;d=[];for(f=0;f<this.getPointCount();f++)d.push(this.getPoint(f));
return c.pointInPolygon(e,b,d)?0:-1},drawGhost:function(c,b,d){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);this._drawObject=f.drawPolygon(this._drawObject||c,this.getGraph(),b,d,this.getLineStyle())},getObjectType:function(){return h.GraphObjectType.POLYGON}})})},"xl/editgraph/GraphCurveXObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(s,q,l,h,n,f){return s("xl.editgraph.GraphCurveXObject",
[l],{_drawObject:null,drawMask:function(h,c,e){var b,d,k;k=n.IPGraphLineStyle.SOLID;d=[];for(b=0;b<this.getPointCount();b++)d.push(this.getPoint(b));f.drawCurveX(h,this.getGraph(),d,c,k,0,e)},draw:function(h,c,e){var b,d,k,r,a;c?(k=e,r=0,a=n.IPGraphLineStyle.SOLID):(k=this.getColor(),r=f.DEF_PLINEWIDTH,a=this.getLineStyle());d=[];for(b=0;b<this.getPointCount();b++)d.push(this.getPoint(b));b=this.getGraph().getPlotRect();f.drawCurveX(h,this.getGraph(),d,k,a,r).setClip({x:b.left,y:b.top,width:b.getWidth(),
height:b.getHeight()});this.inherited(arguments)},getDistance:function(h,c){var e,b;b=[];for(e=0;e<this.getPointCount();e++)b.push(this.getPoint(e));return f.getCurveXDistance(this.getGraph(),h,c,b)},drawGhost:function(h,c,e){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);this._drawObject=f.drawCurveX(this._drawObject||h,this.getGraph(),c,e,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH);this._drawObject.clip||(h=this.getGraph().getPlotRect(),this._drawObject.setClip({x:h.left,y:h.top,
width:h.getWidth(),height:h.getHeight()}))},getObjectType:function(){return h.GraphObjectType.CURVEX}})})},"xl/editgraph/GraphPointObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphPointObject",[l],{_drawLines:null,_drawValues:null,_xValue:null,_yValue:null,_drawObjects:null,_ghostObjects:null,constructor:function(c){this.setSupportsLineStyle(!1);
this._noClip=!0;this._drawObjects={};this._ghostObjects={}},draw:function(c,e,b){if(1===this.getPointCount()){var d=[this.getPoint(0)];this._drawObjects=this._drawObject(c,d,this.getColor(),this._drawObjects);this.inherited(arguments)}},getDistance:function(c,e){return 0<this.getPointCount()?f.getPointDistance(this.getGraph(),c,e,this.getPoint(0)):-1},deselect:function(){this._xValue&&this._xValue.setTextColor(this.getColor());this._yValue&&this._yValue.setTextColor(this.getColor());this.inherited(arguments)},
_drawObject:function(c,e,b,d){var k;k=!1;this.getGraph()&&(this.getGraph().getGraphControl()&&this.getGraph().getGraphControl().getGraphManager())&&(k=this.getGraph().getGraphControl().getGraphManager().hidePointLines);this.setDrawLines(!k);if(d._lineObject1&&(!d._lineObject1.parent||d._lineObject1.parent._parent!=c._parent))d._lineObject1=null;if(d._lineObject2&&(!d._lineObject2.parent||d._lineObject2.parent._parent!=c._parent))d._lineObject2=null;1<=e.length&&this._drawLines&&(d._lineObject1=f.drawSegment(d._lineObject1||
c,this.getGraph(),this.getGraph().getAxisX().viewFToWorld(this.getGraph().getAxisY().getPosition()),e[0].y,e[0].x,e[0].y,b,"ShortDot"),d._lineObject2=f.drawSegment(d._lineObject2||c,this.getGraph(),e[0].x,this.getGraph().getAxisY().viewFToWorld(this.getGraph().getAxisX().getPosition()),e[0].x,e[0].y,b,"ShortDot"));k=!1;this.getGraph()&&(this.getGraph().getGraphControl()&&this.getGraph().getGraphControl().getGraphManager())&&(k=this.getGraph().getGraphControl().getGraphManager().hidePointValues);this.setDrawValues(!k);
if(this._xValueLabel&&(!this._xValueLabel.rawNode||!this._xValueLabel.rawNode.parentNode||null!=this._xValueLabel.rawNode.parentNode&&this._xValueLabel.rawNode.parentNode.parentNode!=c._parent))this._xValueLabel=null;if(this._yValueLabel&&(!this._yValueLabel.rawNode||!this._yValueLabel.rawNode.parentNode||null!=this._yValueLabel.rawNode.parentNode&&this._yValueLabel.rawNode.parentNode.parentNode!=c._parent))this._yValueLabel=null;this._drawValues&&(k=this.getGraph().getAxisY().formatLabel(e[0].y),
this._yValueLabel=m.drawText(this._yValueLabel||c,this.getGraph().getAxisY().getPosition()+2,this.getGraph().getAxisY().worldToViewF(e[0].y)-2,k,b,"11px","Arial",!0),k=this.getGraph().getAxisX().formatLabel(e[0].x),this._xValueLabel=m.drawText(this._xValueLabel||c,this.getGraph().getAxisX().worldToViewF(e[0].x)+2,this.getGraph().getAxisX().getPosition()-2,k,b,"11px","Arial",!0));k=this.getGraph().getAxisX().worldToViewF(e[0].x);e=this.getGraph().getAxisY().worldToViewF(e[0].y);if(d._circleObject&&
(!d._circleObject.parent||d._circleObject.parent._parent!=c._parent))d._circleObject=null;d._circleObject=m.drawCircle(d._circleObject||c,k,e,3,b,b);return d},drawGhost:function(c,e,b){this._ghostObjects=this._drawObject(c,e,b,this._ghostObjects)},getObjectType:function(){return h.GraphObjectType.POINT},getDrawLines:function(){return this._drawLines},setDrawLines:function(c){this._drawLines=c},getDrawValues:function(){return this._drawValues},setDrawValues:function(c){this._drawValues=c}})})},"xl/editgraph/GraphCubicObject":function(){define(["dojo/_base/declare",
"xl/editgraph/GraphPolynomialObject","xl/editgraph/enums"],function(s,q,l){return s("xl.editgraph.GraphCubicObject",[q],{getObjectType:function(){return l.GraphObjectType.CUBIC}})})},"xl/editgraph/GraphPolynomialObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(s,q,l,h,n,f){return s("xl.editgraph.GraphPolynomialObject",[l],{_coeffs:null,_polynomObject:null,draw:function(h,
c,e){var b,d,k;c?(b=e,d=0,k=n.IPGraphLineStyle.SOLID):(b=this.getColor(),d=f.DEF_PLINEWIDTH,k=this.getLineStyle());if(0<this.getPointCount()){for(var r=[],a=0;a<this.getPointCount();a++)r.push(this.getPoint(a));this._coeffs=f.calcPolynom(r);r=this.getGraph().getPlotRect();f.drawPolynom(h,this.getGraph(),this._coeffs,b,k,d).setClip({x:r.left,y:r.top,width:r.getWidth(),height:r.getHeight()})}this.inherited(arguments)},drawMask:function(h,c,e){var b,d=[];for(b=0;b<this.getPointCount();b++)d.push(this.getPoint(b));
b=f.calcPolynom(d);f.drawPolynom(h,this.getGraph(),b,c,n.IPGraphLineStyle.SOLID,1,e)},drawGhost:function(h,c,e){c=f.calcPolynom(c);this._polynomObject&&!this._polynomObject.parent&&(this._polynomObject=null);this._polynomObject=f.drawPolynom(this._polynomObject||h,this.getGraph(),c,e,this.getLineStyle(),f.DEF_PLINEGHOSTWIDTH);this._polynomObject.clip||(h=this.getGraph().getPlotRect(),this._polynomObject.setClip({x:h.left,y:h.top,width:h.getWidth(),height:h.getHeight()}))},getDistance:function(h,c){var e,
b,d,k,r,a;e=h-this.getGraph().getAxisX().viewToWorldRel(5);b=h+this.getGraph().getAxisX().viewToWorldRel(5);d=c-this.getGraph().getAxisY().viewToWorldRel(5);k=c+this.getGraph().getAxisY().viewToWorldRel(5);r=this.fOfX(e)-k;k=this.fOfX(b)-k;a=this.fOfX(e)-d;d=this.fOfX(b)-d;return 0<r&&0<k&&0<a&&0<d||0>r&&0>k&&0>a&&0>d?-1:f.getSegmentDistance(this.getGraph(),h,c,{x:e,y:this.fOfX(e)},{x:b,y:this.fOfX(b)},!0)},fOfX:function(h){return f.getPolynomial(this._coeffs,h)},initSelection:function(f){f.disallowSameXBlobs=
!0},filterObject:function(f){f||this.filterSameX()}})})},"xl/editgraph/GraphQuadraticObject":function(){define(["dojo/_base/declare","xl/editgraph/GraphPolynomialObject","xl/editgraph/enums"],function(s,q,l){return s("xl.editgraph.GraphQuadraticObject",[q],{getObjectType:function(){return l.GraphObjectType.QUADRATIC}})})},"xl/editgraph/GraphRegionObject":function(){define("dojo/_base/declare xl/grapher/IPGraphRegion ./IEditableGraphObject xl/util/graphUtils ./GraphObject ./enums xl/grapher/enums xl/editgraph/GraphObjectLabel dojo/_base/lang xl/editgraph/GraphSettings".split(" "),
function(s,q,l,h,n,f,m,c,e,b){return s("xl.editgraph.GraphRegionObject",[l,q],{_points:null,_canMove:!1,_onGetExprValue:null,_objLabel:null,showPoints:!1,_isStatic:!1,_undeletable:!1,_activeExpression:null,_drawAsymptote:!1,ignore:!1,_ghostObject:null,constructor:function(){this._points=[];this._canMove=!0;this.setDrawMarker(!0)},clone:function(b){var c=this.inherited(arguments);c.canMove=this.getCanMove();c.showPoints=this.getShowPoints();for(var e=0;e<this.getPointCount();e++)c.addPoint().assign(this.getPoint(e));
return c},getParams:function(){return null},getParam:function(b){return null},setParam:function(b,c){},setObjLabelText:function(b,c){this.addLabel(b);this._objLabel&&(this._objLabel.text=c,this.updateLabelPos())},getPointCount:function(){return this._points.length},getPoint:function(b){return this._points[b]},drawPoints:function(b){var c,e,a;for(a=0;a<this._points.length;a++)e=this.getPoint(a),c=this.getGraph().getAxisX().worldToViewF(e.x),e=this.getGraph().getAxisY().worldToViewF(e.y),h.drawCircle(b,
c,e,3,this.getColor(),this.getColor(),0,!0)},getGraphData:function(){var b={};b.objectType=this.getObjectType();this.getObjLabel()&&(b.labelpositionset=1,e.mixin(b,this.getObjLabel().getGraphData()));this._supportsLineStyle&&(b.lineStyle=this._lineStyle);b.points=this._points;b.color=this.getColor();b.tag=this.getTag();b.ignore=this.ignore;return b},updateLabelPos:function(){var b;this._objLabel&&(0<this.getPointCount()&&(b=this.getPoint(0),this._objLabel.setLocation(b),this._objLabel.setRefPoint(0)),
this._objLabel.setHAlignment(m.IPGraphAlignment.LEFT),this._objLabel.setVAlignment(m.IPGraphAlignment.MIDDLE),this._objLabel.setPositionSet(!0))},getObjLabelText:function(){return this._objLabel?this._objLabel.text:""},addPoint:function(b){var c=b;b||(c={x:0,y:0});this._points.push(c);return c},filterObject:function(b){},getDistance:function(b,c){var e;e=-1;0<this.getPointCount()&&(e=n.getPointDistance(this.getGraph(),b,c,this.getPoint(0)));return e},movePoint:function(b,c){0<=b&&b<this.getPointCount()&&
(this.getPoint(b).x=c.x,this.getPoint(b).y=c.y,this.setLocationX(c.x),this.setLocationY(c.y),this.updateLabelPos())},drawGhost:function(b,c,e){this._ghostObject&&!this._ghostObject.group.parent&&(this._ghostObject=null);1<=c.length&&(e=this.getGraph().getAxisX().worldToView(c[0].x),c=this.getGraph().getAxisY().worldToView(c[0].y),this._ghostObject=h.drawBucket(b,this._ghostObject,e,c,"#00007C",!0,"FFFF00"));this._objLabel&&this._objLabel.draw(b)},getCanMove:function(){return this._canMove},setCanMove:function(b){this._canMove=
b},getLineStyle:function(){return f.GraphObjectLineStyle.NONE},startEditing:function(b){return!1},stopEditing:function(){return!1},getObjectType:function(){return f.GraphObjectType.REGION},setGraph:function(b){this.inherited(arguments);this._objLabel&&this._objLabel.setGraph(b)},addLabel:function(b){this._objLabel||(this._objLabel=new c,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(b.getFormulaLabels()),this._objLabel.setTag(-1),this._objLabel.setGraphObject(this),this._objLabel.setLabelOptions(b.getObjectLabels()),
this._objLabel.setMenu(b.getLabelMenu()),this.updateLabelPos())},addNewLabel:function(d,e){this._objLabel||(this._objLabel=new c,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(!0),this._objLabel.drawHandle=this.getGraph().getGraphControl().drawLabelHandle,this._objLabel.allowMove=!0,b.boldTextLabels&&!this._objLabel.getFormula()&&(this._objLabel.getFont().bold=!0),this._objLabel.setGraphObject(this),this._objLabel.setTag(1),this._objLabel.setMenu([e.objLabel]),this.updateLabelPos())},
deselect:function(){this._objLabel&&(this._objLabel.allowMove=!1);this.invalidate();this.getGraph().invalidatePlots()},constrainBlob:function(b,c){},initSelection:function(b){},canSelect:function(b){return!0},mousePressed:function(b,c,e){},getTranslationPoint:function(){return-1},draw:function(b,c,e){0<this.getPointCount()&&(this.setLocationX(this.getPoint(0).x),this.setLocationY(this.getPoint(0).y),this.drawRegionMarker(b),this._objLabel&&(this.updateLabelPos(),this._objLabel.draw(this.getGraph().getBlobSurfaceLayer())))},
fill:function(b,c){this.setLocationX(this.getPoint(0).x);this.setLocationY(this.getPoint(0).y);this.inherited(arguments)},setShowPoints:function(b){this.showPoints=b},getShowPoints:function(){return this.showPoints},getIsStatic:function(){return this._isStatic},setIsStatic:function(b){this._isStatic=b},getUndeletable:function(){return this._undeletable},setUndeletable:function(b){this._undeletable=b},setLineStyle:function(b){},getSupportsLineStyle:function(){return!1},getOnGetExprValue:function(){return this._onGetExprValue},
setOnGetExprValue:function(b){this._onGetExprValue=b},getObjLabel:function(){return this._objLabel},setObjLabel:function(b){this._objLabel=b},getGraphPart:function(){return this},getActiveExpression:function(){return this._activeExpression},setActiveExpression:function(b){this._activeExpression=b},getDrawAsymptote:function(){return this._drawAsymptote},setDrawAsymptote:function(b){this._drawAsymptote=b}})})},"xl/editgraph/GraphXSquaredObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),
function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphXSquaredObject",[l],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1")},getObjectType:function(){return h.GraphObjectType.XSQUARED},getY:function(c){return this.xflip()*this.vstretch()*Math.pow(this.yflip()*(c-this.hshift())*this.hstretch(),2)+this.vshift()}})})},"xl/editgraph/GraphXCubedObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),
function(s,q,l,h,n,f,m){return s("xl.editgraph.GraphXCubedObject",[l],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1")},getObjectType:function(){return h.GraphObjectType.XCUBED},getY:function(c){return this.xflip()*this.vstretch()*Math.pow(this.yflip()*(c-this.hshift())*this.hstretch(),3)+this.vshift()}})})},"xl/editgraph/GraphLogObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphLogObject",[l],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1");this.addParam("base","e")},getObjectType:function(){return h.GraphObjectType.LOG},drawMask:function(c,b,d){var f;try{f=this.drawAsymptote,this.drawAsymptote=!1,this.inherited(arguments)}finally{this.drawAsymptote=f}},drawObject:function(c,b,d,h,m){this.inherited(arguments);this.drawAsymptote&&f.drawSegment(c,this.getGraph(),
this.hshift(),this.getGraph().getAxisY().getMinimum(),this.hshift(),this.getGraph().getAxisY().getMaximum(),b,n.IPGraphLineStyle.DOTTED,h/2)},getY:function(e){return this.xflip()*this.vstretch()*c.logX(this.base(),this.yflip()*(e-this.hshift())*this.hstretch())+this.vshift()},isInDomain:function(c){var b={domainInfo:h.GraphDomainInfo.DOMAIN},d=this.base();if(0>=d||1==d||0==this.hstretch())return b.domainInfo=h.GraphDomainInfo.NONE,b;d=1<d?1:-1;0<this.hstretch()*this.yflip()?c<=this.hshift()?0<this.xflip()*
this.vstretch()*d?(b.domainInfo=h.GraphDomainInfo.FROMNEGINFINITY,b.asymptoteX=this.hshift()):0>this.xflip()*this.vstretch()*d?(b.domainInfo=h.GraphDomainInfo.FROMPOSINFINITY,b.asymptoteX=this.hshift()):b.domainInfo=h.GraphDomainInfo.NONE:b.domainInfo=h.GraphDomainInfo.DOMAIN:c>=this.hshift()?0<this.xflip()*this.vstretch()*d?(b.domainInfo=h.GraphDomainInfo.FROMNEGINFINITY,b.asymptoteX=this.hshift()):0>this.xflip()*this.vstretch()*d?(b.domainInfo=h.GraphDomainInfo.FROMPOSINFINITY,b.asymptoteX=this.hshift()):
b.domainInfo=h.GraphDomainInfo.NONE:b.domainInfo=h.GraphDomainInfo.DOMAIN;return b}})})},"xl/editgraph/GraphExpObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphExpObject",[l],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1");
this.addParam("base","e")},getObjectType:function(){return h.GraphObjectType.EXP},drawMask:function(c,b,d){var f;try{f=this.drawAsymptote,this.drawAsymptote=!1,this.inherited(arguments)}finally{this.drawAsymptote=f}},drawObject:function(c,b,d,h,m){this.inherited(arguments);this.drawAsymptote&&f.drawSegment(c,this.getGraph(),this.getGraph().getAxisX().getMinimum(),this.vshift(),this.getGraph().getAxisX().getMaximum(),this.vshift(),b,n.IPGraphLineStyle.DOTTED,h/2)},getY:function(c){return this.xflip()*
this.vstretch()*Math.pow(this.base(),this.yflip()*(c-this.hshift())*this.hstretch())+this.vshift()}})})},"xl/editgraph/GraphSineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphSineObject",[l],{createDefaultParams:function(){this.inherited(arguments);this.addParam("amplitude","1");this.addParam("period",
"2*pi")},getObjectType:function(){return h.GraphObjectType.SINE},getY:function(c){return this.xflip()*this.amplitude()*Math.sin(this.yflip()*(c-this.hshift())*(2*Math.PI/this.period()))+this.vshift()},getDrawNumPoints:function(){var c=this._graph.getAxisX().getMinimum(),b=this._graph.getAxisX().getMaximum(),d=this._graph.getWidth(),f=1/this.percentOfXRel(this.period()/2);if(d>8*f)return d;c=Math.ceil(2*((this.hshift()-c-this.period()/4)/this.period()))+Math.ceil(2*((b-this.hshift()+this.period()/
4)/this.period()));return d>4*f?8*c:d>2*f?4*c:d>f?2*c:c},getDrawXMin:function(){var c=this.getGraph().getAxisX().getMinimum(),b=this.getGraph().getWidth(),d=1/this.percentOfXRel(this.period()/2);return b>8*d?c:this.hshift()-this.period()/4-Math.ceil(2*((this.hshift()-c-this.period()/4)/this.period()))*this.period()/2},getDrawXMax:function(){var c=this._graph.getAxisX().getMaximum(),b=this._graph.getWidth(),d=1/this.percentOfXRel(this.period()/2);return b>8*d?c:this.hshift()-this.period()/4+Math.ceil(2*
((c-this.hshift()+this.period()/4)/this.period()))*this.period()/2},errorInParams:function(){return c.sameValue(this.period(),0)}})})},"xl/editgraph/GraphCosineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),function(s,q,l,h,n,f,m,c){return s("xl.editgraph.GraphCosineObject",[l],{createDefaultParams:function(){this.inherited(arguments);this.addParam("amplitude",
"1");this.addParam("period","2*pi")},getObjectType:function(){return h.GraphObjectType.COSINE},getY:function(c){return this.xflip()*this.amplitude()*Math.cos(this.yflip()*(c-this.hshift())*(2*Math.PI/this.period()))+this.vshift()},getDrawNumPoints:function(){var c=this._graph.getAxisX().getMinimum(),b=this._graph.getAxisX().getMaximum(),d=this._graph.getWidth(),f=1/this.percentOfXRel(this.period()/2);if(d>8*f)return d;c=Math.ceil(2*((this.hshift()-c)/this.period()))+Math.ceil(2*((b-this.hshift())/
this.period()));return d>4*f?8*c:d>2*f?4*c:d>f?2*c:c},getDrawXMin:function(){var c=this.getGraph().getAxisX().getMinimum(),b=this.getGraph().getWidth(),d=1/this.percentOfXRel(this.period()/2);return b>8*d?c:this.hshift()-Math.ceil(2*((this.hshift()-c)/this.period()))*this.period()/2},getDrawXMax:function(){var c=this._graph.getAxisX().getMaximum(),b=this._graph.getWidth(),d=1/this.percentOfXRel(this.period()/2);return b>8*d?c:this.hshift()+Math.ceil(2*((c-this.hshift())/this.period()))*this.period()/
2},errorInParams:function(){return c.sameValue(this.period(),0)}})})},"xl/editgraph/GraphTextObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/util/stringUtils xl/util/graphUtils xl/util/ForeignObject xl/grapher/enums ./enums xl/grapher/Rectangle ./GraphSettings ./LabelDropdown dojo/dom-geometry dojo/dom-construct dojo/string dojo/on".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){return s("xl.editgraph.GraphTextObject",[l],{_text:"???",_font:null,
_gMgr:null,_hAlignment:0,_vAlignment:0,_margin:0,_formula:!1,_editField:null,_editFieldContainer:null,_lastSize:null,_lastBoundsRect:null,keepInBounds:!1,_surface:null,_labelText:null,_labelDropdown:null,_labelForeignObject:null,clone:function(a){var b=this.inherited(arguments);b._text=this.getText();b._hAlignment=this.getHAlignment();b._vAlignment=this.getVAlignment();b._margin=this.getMargin();b._formula=this.getFormula();return b},getText:function(){return""==h.trim(this._text)?"???":this._text},
getGraphData:function(){var a=this.inherited(arguments);a.text=this.getText();a.font=this._font;return a},getTextInsertionPt:function(){var a=q.clone(this.getPoint(0));a.x=this.getGraph().getAxisX().worldToView(a.x);a.y=this.getGraph().getAxisY().worldToView(a.y);return a},editKeyDown:function(a){console.log("editKeyDown",a);13==a.keyCode&&(this._gMgr.stopEditing(),this._gMgr._currentTool&&this._gMgr._currentTool.setCurrentObj(null));a.stopPropagation()},editKeyUp:function(a){console.log("editKeyUp",
a);a.stopPropagation()},editFocusLost:function(a){console.log("editFocusLost",a);this._gMgr&&this._gMgr.stopEditing()},errorString:function(a){return"!ERROR-"+a},setLabelPos:function(a){var b=0,c=0,d=this.getTextInsertionPt(),f=this.getTextSize();this._lastSize=f;switch(this._hAlignment){case m.IPGraphAlignment.LEFT:b=d.x+this._margin;break;case m.IPGraphAlignment.RIGHT:b=d.x-f.x-2*this._margin;break;case m.IPGraphAlignment.CENTER:b=Math.round(d.x-f.x/2)}switch(this._vAlignment){case m.IPGraphAlignment.TOP:c=
d.y+this._margin;break;case m.IPGraphAlignment.BOTTOM:c=d.y-f.y-2*this._margin;break;case m.IPGraphAlignment.MIDDLE:c=d.y-Math.round(f.y/2)}this._formula?a?this._labelFormulaForeignObject.setBox(a):this._labelFormulaForeignObject.setPosition(b,c):this._labelText.setShape({x:b,y:c+f.ascent,text:this.getText(),align:"start"});this._lastBoundsRect=new e({left:b,top:c,right:b+f.x,bottom:c+f.y});this._lastBoundsRect.inflate(this._margin,this._margin)},adjustLabelPosition:function(){var a=!1,b=this.getGraph(),
c=this.getPoint(0),d=b.getAxisX().worldToView(c.x),e=b.getAxisY().worldToView(c.y),f=this._lastBoundsRect,h=b.getPlotRect().clone();h.top-=b.marginTop;h.bottom+=b.marginBottom;h.left-=b.marginLeft;h.right+=b.marginRight;f.right>h.right&&(d-=f.right-h.right,c.x=b.getAxisX().viewToWorld(d),a=!0);f.left<h.left&&(d+=h.left-f.left,c.x=b.getAxisX().viewToWorld(d),a=!0);f.bottom>h.bottom&&(e-=f.bottom-h.bottom,c.y=b.getAxisY().viewToWorld(e),a=!0);f.top<h.top&&(e+=h.left-f.left,c.y=b.getAxisY().viewToWorld(e),
a=!0);a&&this.setLabelPos();return a},updateLabel:function(a){var b=this.getText(),c=this.getColor(),d,e=this.getGraph().getAxisX().worldToViewF(this.getPoint(0).x),f=this.getGraph().getAxisY().worldToViewF(this.getPoint(0).y);if(!this.getFormula()){var h=n.measureText(a,b,this.fontSize,this.fontName);d=h.height;e=Math.floor(e)+0.5;f=Math.floor(f+d)+0.5;this.underline&&a.createLine({x1:e+1,y1:f+2,x2:e+h.width+(this.italic?4:1),y2:f+2}).setStroke(c);!this._labelText||!this._labelText.parent||this._labelText.parent.rawNode!=
a.rawNode?(this._labelText=a.createText({x:e,y:f,id:this.clientId,text:b}).setFont({style:this.italic?"italic":"normal",family:this.fontName,size:this.fontSize,weight:this.bold?"bold":"normal"}).setFill(c),this.strikeout&&a.createLine({x1:e+1,y1:f-h.ascent/3+1,x2:e+h.width+(this.italic?4:1),y2:f-h.ascent/3+1}).setStroke(c)):this._labelText.setShape({x:e,y:f,text:b})}this.setLabelPos()},formulaResized:function(a){this.setLabelPos(a.box)},updateGhostLabel:function(a,b,c){this.getText()},getTextSize:function(){var a=
n.getTextHeight(this.getFont().fontFamily,this.getFont().fontSize);if(this.getFormula()){var b=k.getContentBox(this._labelFormula.domNode);return{x:b.w,y:b.h,ascent:a.ascent}}return{x:this._labelText.getTextWidth(),y:a.height,ascent:a.ascent}},getBoundsRect:function(a){a||(a=this.getGraph().getBlobSurfaceLayer());this.updateLabel(a);return this._lastBoundsRect},constructor:function(a){this.setSupportsLineStyle(!1);this._font={fontFamily:b.graphTextFont,fontSize:b.graphTextSize};this._noClip=!0;this._formula=
!1},draw:function(a,b,c){a&&(this._surface=a);this.updateLabel(a);this.keepInBounds&&this.adjustLabelPosition();this.inherited(arguments)},getDistance:function(a,b){var c;c=-1;if(0<this.getPointCount()){var d=this.getBoundsRect();a=this.getAxisX().worldToViewF(a);b=this.getAxisY().worldToViewF(b);d.contains(a,b)&&(c=3)}return c},drawGhost:function(a,b,c){b=b[0];b.x=this.getGraph().getAxisX().worldToView(b.x);b.y=this.getGraph().getAxisY().worldToView(b.y);this.updateGhostLabel(a,b,c)},_keyDownHandler:null,
_keyUpHandler:null,_focusLostHandler:null,startEditing:function(b){var c=this.getTextInsertionPt(),d=n.measureText(this.getGraph().getBlobSurfaceLayer(),this.getText(),this.fontSize,this.fontName);if(!this._editField){var e=a.substitute('\x3cinput type\x3d"text" name\x3d"editLabelInput" size\x3d"${size}" value\x3d"${text}"\x3e\x3c/input\x3e',{size:this.getText().length,text:this.getText()});this._editFieldContainer=this.getGraph().getBlobSurfaceLayer().createForeignObject({content:e,fontFamily:this._font.fontFamily,
fontSize:this._font.fontSize,layerPosition:"after"});this._editFieldContainer.startup();this._editField=this._editFieldContainer.domNode.firstChild}e={};e.x=c.x;e.y=c.y;e.w=d.width;e.h=d.height;this._editFieldContainer.setBox(e);this._gMgr=b;this._keyDownHandler=t(this._editField,"keydown",q.hitch(this,this.editKeyDown));this._keyUpHandler=t(this._editField,"keyup",q.hitch(this,this.editKeyUp));this._focusLostHandler=t(this._editField,"blur",q.hitch(this,this.editFocusLost));return!0},editMouseDown:function(a){trace("Edit mouse down")},
editMouseClick:function(a){trace("Edit mouse click")},deselect:function(){this.inherited(arguments);this._editField&&this._gMgr&&this._gMgr.stopEditing()},stopEditing:function(){if(this._editField){this._text=this._editField.value.trim();var a=q.clone(this._editFieldContainer.domNode.parentNode.firstChild),b=q.clone(this._editFieldContainer.domNode.parentNode.parentNode),c=this.findNodeIndex(this._editFieldContainer.domNode.parentNode);r.destroy(this._editFieldContainer.domNode);r.place(a,b,c);this._keyDownHandler.remove();
this._keyUpHandler.remove();this._focusLostHandler.remove();this._editField=this._editFieldContainer=null}return!0},findNodeIndex:function(a){for(var b=1;a=a.previousElementSibling;)++b;return b},getObjectType:function(){return c.GraphObjectType.TEXT},getHAlignment:function(){return this._hAlignment},setHAlignment:function(a){this._hAlignment=a},getVAlignment:function(){return this._vAlignment},setVAlignment:function(a){this._vAlignment=a},getMargin:function(){return this._margin},setMargin:function(a){this._margin=
a},setText:function(a){this._text!=a&&(this._text=a,this.invalidate())},setFont:function(a){this._font=a;a.fontFamily&&(this.fontName=a.fontName);a.fontSize&&(this.fontSize=a.fontSize);this.invalidate()},getFormula:function(){return this._formula},setFormula:function(a){this._formula=a},getFont:function(){return this._font}})})},"xl/player/controls/GraphPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dijit/place xl/dojo-ext/Moveable dojo/dom-style dojo/io-query xl/dijit/ResizeHandle dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/touch dojo/topic dijit/_TemplatedMixin xl/util/_ToolPaletteMixin ./_GraphToolMixin dojo/text!./templates/GraphPalette.html xl/ZOrder/ZOrderManager dojo/has".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H){return s("xl.player.controls.GraphPalette",[q,x,w,C],{baseClass:"xlGraphPalette xlGraphTools",templateString:E,dockPositions:["before","after","below","above"],_movable:null,padding:{x:0,y:3},docked:!1,postCreate:function(){this.inherited(arguments);this.isToolbar=!1;this._movable=new d(this.domNode,{handle:this.titleBar,delay:2});this.own(e(this.close,F.release,f.hitch(this,this._closeButtonClicked)),e(this._movable,"MoveStop",f.hitch(this,
this._endDrag)));H("touch")&&(H("ie")||H("trident")||H("edge"))&&k.set(this.domNode,"touch-action","none");this._resizeHandle=(new a({targetContainer:this.paletteBody,animateSizing:!1,activeResize:!0,minHeight:5})).placeAt(this.paletteBody);J.bringToTop(this.domNode)},_setupToolButtons:function(a){null==this._toolButtons&&this._started&&this.inherited(arguments)},sendToBack:function(){k.set(this.domNode,"zIndex",948)},sendToFront:function(){J.bringToTop(this.domNode)},destroy:function(){this.inherited(arguments);
this._resizeHandle&&this._resizeHandle.destroy()},_closeButtonClicked:function(){n.curNode&&(console.log("curNode: ",n.curNode),n.curNode.blur());n.focus(this.ownerDocumentBody);this._hide()},_endDrag:function(){this.constrainPosition()},onShowing:function(){this._setupToolButtons(this.Buttons)},determineTarget:function(a){return a.isInstanceOf(xl.editgraph.GraphControl)&&a.editable&&!a.getGraph().isZoomed?a.getGraph():null}})})},"xl/player/controls/InlineGraphPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/has dojo/on dijit/place dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/event dojo/touch dojo/topic dojo/html dijit/_TemplatedMixin dojo/text!./templates/InlineGraphPalette.html xl/dijit-bootstrap/Button dijit/_WidgetsInTemplateMixin xl/util/_ToolPaletteMixin ./_GraphToolMixin xl/util/localization!html5player/player xl/util/eqEditorToolActions xl/util/mobileMethods xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G){return s("xl.player.controls.InlineGraphPalette",[q,B,x,w,C,G],{baseClass:"xlInlineGraphPalette",templateString:F,_toolButtonList:null,hidePaletteOnBlur:!1,buttonCancel:null,isInline:!0,_currentPaletteList:null,constructor:function(){this._toolButtons=[]},onCancel:function(a){this._hide()},onWidgetBlurred:function(a){a.paletteGainingFocus||m.forEach(this._toolButtons,function(a){a.set("disabled",!0)})},onWidgetFocused:function(a){var b=
this._graphControl.getGraphManager();d.set(this.domNode.parentNode,"visibility","visible");m.forEach(this._toolButtons,function(a){a.set("disabled",!1);f.contains(a.domNode,"iconDel")&&a.set("disabled",null===b.getSelectedObject())})},_checkFocus:function(a,b,c){if(this.graphControl&&0<=c.indexOf(this.graphControl.id))this.onWidgetFocused();else this.inherited(arguments)},_paletteContainerClicked:function(a){a.target===this.closeButtonNode||a.target.parentNode===this.closeButtonNode?this.blurTarget():
this.graphControl&&h.focus(this.graphControl.getGraph().domNode)},_setTargetWidget:function(a){a&&a!==this.targetWidget&&(a.paletteOverride?this._currentPaletteList!==a.paletteOverride&&(this._destroyToolButtons(),this._createPalette(a.paletteOverride)):this._currentPaletteList!==this._toolButtonList&&(this._destroyToolButtons(),this._createPalette(this._toolButtonList)));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);H.preventDoubleTabZoom(this.domNode,this);H.preventDoubleTabZoom(this.paletteNode,
this);this.own(e(this.domNode,"click",n.hitch(this,this._paletteContainerClicked)))},onShow:function(){d.set(this.domNode,"visibility","visible");this._resizeViewerContent()},onShowing:function(){},onHide:function(){d.set(this.domNode.parentNode,"visibility","hidden");this._resizeViewerContent()},attach:function(a){this._visible&&a.scrollIntoView&&a.scrollIntoView()},detach:function(a){},positionPalette:function(){},determineTarget:function(a){return a.isInstanceOf(xl.editgraph.GraphControl)&&a.editable&&
!a.getGraph().isZoomed?a.getGraph():null},stopEvent:function(a){if(c("ie")||c("trident"))a.stopImmediatePropagation(),a.preventDefault()},_destroyToolButtons:function(){this._toolButtons&&(m.forEach(this._toolButtons,function(a){a.destroy()}),this._toolButtons=null)},_createPalette:function(a){l.empty(this.paletteNode);var b=l.create("div",{"class":"keyRow"},this.paletteNode);a&&(this._toolButtons=[],this._setupToolButtons(b))},setToolMessage:function(a,b){var c;if(this.toolMessage){if(b){c=E["grpal.editing"]+
"\x3cbr\x3e";var d=this._objectToButtonInfo(b);c=d?c+d.tip:""}else c=E["grpal.selected"]+"\x3cbr\x3e",d=this.getButtonInfo()[a],c+=d?d.tip:E["grpal.none"];z.set(this.toolMessage,c)}},setToolButtons:function(a){this._isListSame(a,this._toolButtonList)||(this._toolButtonList=a,this._destroyToolButtons(),this._createPalette(a))},getToolButtons:function(){return this._toolButtonList},_isListSame:function(a,b){return a&&b?a.join(",")==b.join(","):null==a&&null==b},_toolToggle:function(){f.toggle(this.paletteNode,
"hidden");this._resizeViewerContent()},_resizeViewerContent:function(){var a=this.getViewer();a&&(a.viewerResizedByXYGraph=!0,a.mainPanel.resize());this.targetWidget&&this.targetWidget.scrollIntoView&&this.targetWidget.scrollIntoView()},destroy:function(){this.inherited(arguments)}})})},"xl/player/controls/TransformPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dojo/window dojo/dom dijit/place xl/dojo-ext/Moveable dojo/dom-style dojo/io-query xl/dijit/ResizeHandle dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/parser dojo/touch xl/player/controls/TransformControl dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/TransformPalette.html xl/util/_ToolPaletteMixin xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localStore xl/dijit-bootstrap/Button xl/editgraph/enums dojo/has xl/ZOrder/ZOrderManager".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P){return s("xl.player.controls.TransformPalette",[q,E,J,G],{baseClass:"dijitPopup xlGraphPalette",baseWidth:120,basePadding:10,templateString:H,dockPositions:["below","after","above","before"],dockPadding:{left:2,top:2,right:2,bottom:2},_currentNode:null,_timer:null,delay:500,_delay:null,_movable:null,hidePalette:!1,_focusEvents:null,padding:{x:3,y:3},_visible:!1,_showHide:!1,_graphControl:null,_paletteLocation:null,constructor:function(a,
b){this._graphControl=a;this.owner=b},postCreate:function(){this.inherited(arguments);this._movable=new r(this.domNode,{handle:this.titleBar,delay:2});this.own(e(this.close,w.release,f.hitch(this,this._closeButtonClicked)),e(this._movable,"MoveStop",f.hitch(this,this._endDrag)));R("touch")&&(R("ie")||R("trident")||R("edge"))&&a.set(this.domNode,"touch-action","none");P.bringToTop(this.domNode)},sendToBack:function(){a.set(this.domNode,"zIndex",948)},sendToFront:function(){P.bringToTop(this.domNode)},
destroy:function(){this.inherited(arguments);this._movable&&this._movable.destroy();this._graphControl=null},getPalette:function(a){this._graphControl=a;null==this.domNode.parentNode&&(this.domNode.parentNode=this.ownerDocumentBody);this.startup();return this},determineTarget:function(a){return a.isInstanceOf(xl.editgraph.GraphControl)&&a.editable?a:null},graphControlSelection:null,show:function(a){this.targetWidget=this.graphControlSelection=null!=a?a:this._graphControl;this._show()},hide:function(){this.graphControlSelection=
null;this._hide()},showCondition:function(){return this.graphControlSelection&&this.targetWidget==this.graphControlSelection},_show:function(){this.showCondition()?this._visible||(this._visible=!0,this.onShowing(),m.remove(this.domNode,"hidden"),this.onShow(),this.positionPalette()):this._hide()},_hide:function(){!R("edge")&&!R("ios")&&this._visible&&(this._visible=!1,m.add(this.domNode,"hidden"),this.onHide())},anchorNode:function(){return this._graphControl.getGraph().domNode},positionPalette:function(){if(this.docked||
!this._positioned){this._positioned=!0;var a=this.anchorNode();if(a){a=v.position(a,!0);this.dockPadding&&(a.x-=this.dockPadding.left,a.y-=this.dockPadding.top,a.w+=this.dockPadding.right,a.h+=this.dockPadding.bottom);var b=this._graphControl.getPalette();b&&b.isToolbar&&(a=v.position(b.getToolsHolder(),!0));k.around(this.domNode,a,this.dockPositions,!0)}}},_closeButtonClicked:function(){var a=this;this._paletteLocation=null;if(R("edge")||R("ios"))m.add(this.domNode,"hidden"),this._visible=!1;setTimeout(function(){a.hide()},
this.delay)},_moveableMoved:function(a,b){this._paletteLocation=b},_endDrag:function(){this.constrainPosition();this.docked=!1},constrainPosition:function(){var c=v.position(this.domNode),d=b.getBox(this.ownerDocument);c.y=Math.min(Math.max(c.y,0),d.h-c.h);c.x=Math.min(Math.max(c.x,0),d.w-c.w);a.set(this.domNode,{left:Math.floor(d.l+c.x)+"px",top:Math.floor(d.t+c.y)+"px"})},initOptions:function(a,b,c,d){"undefined"==typeof c&&(c=!0);var e=0,f;for(f in a){var h=a[f];switch(f){case "amplitude":case "vstretch":this.pnlVStretch.initOptions(this,
f,h,b,d);break;case "period":case "hstretch":this.pnlHStretch.initOptions(this,f,h,b,d);break;case "vshift":this.pnlVShift.initOptions(this,f,h,b,d);break;case "hshift":this.pnlHShift.initOptions(this,f,h,b,d);break;case "xflip":this.pnlXFlip.initOptions(this,f,h,b,d);break;case "yflip":this.pnlYFlip.initOptions(this,f,h,b,d);break;case "base":c&&this.pnlBase.initOptions(this,f,h,b,d)}h.controlType&&h.controlType!=M.TransformControlType.NONE&&e++}(!c||"undefined"==typeof a.base)&&this.pnlBase.hide();
this.paletteBody.style.width=1<e?4+2*this.baseWidth+2*this.basePadding+"px":this.baseWidth+2*this.basePadding+"px";return 0<e},_obj:null,initObject:function(a){this._obj=a;this.pnlVStretch.visible&&this.pnlVStretch.initObject(this._graphControl,a);this.pnlHStretch.visible&&this.pnlHStretch.initObject(this._graphControl,a);this.pnlVShift.visible&&this.pnlVShift.initObject(this._graphControl,a);this.pnlHShift.visible&&this.pnlHShift.initObject(this._graphControl,a);this.pnlXFlip.visible&&this.pnlXFlip.initObject(this._graphControl,
a);this.pnlYFlip.visible&&this.pnlYFlip.initObject(this._graphControl,a);this.pnlBase.visible&&this.pnlBase.initObject(this._graphControl,a)},onShow:function(){if(this.pnlVStretch.visible)this.pnlVStretch.onShow();if(this.pnlHStretch.visible)this.pnlHStretch.onShow();if(this.pnlVShift.visible)this.pnlVShift.onShow();if(this.pnlHShift.visible)this.pnlHShift.onShow();if(this.pnlXFlip.visible)this.pnlXFlip.onShow();if(this.pnlYFlip.visible)this.pnlYFlip.onShow();if(this.pnlBase.visible)this.pnlBase.onShow()},
onShowing:function(){},onHide:function(){}})})},"xl/player/controls/TransformControl":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dojo/window dijit/place dojo/dom-style dojo/io-query dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/parser xl/player/controls/HorizontalSlider xl/player/controls/HorizontalRule xl/player/controls/HorizontalRuleLabels dijit/form/CheckBox xl/eqeditor/EqEditor xl/util/IPMath xl/util/stringUtils xl/util/localization!html5player/graphmanager xl/player/dialogs/ConfirmationDialog xl/util/eqUtils dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/TransformControl.html xl/editgraph/enums".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M){return s("xl.player.controls.TransformControl",[q,L,O],{baseClass:"xlTransformControl",templateString:Q,constructor:function(a){},postCreate:function(){this.inherited(arguments);m.add(this.eqEditor.domNode,"transformEditor");var a=this.eqEditor.getEditor();a.onBlur=f.hitch(this,this.eqEditorBlur);a.onFocus=f.hitch(this,this.eqEditorFocus);a.autoLowerCaseChars="E";a.processCtrlShortcuts=!1;a.allowSubscriptShortcuts=!1;a.allowSuperscriptShortcuts=
!1;var b=this.eqEditor.getEqDoc();b.suppressEmptyHiding=!0;b.interpretFunctions=!0;b.showEmptyBoxes=!0;b.addShortcut("pi","\x26pi;");b.addShortcut("Pi","\x26pi;");b.addShortcut("pI","\x26pi;");b.addShortcut("PI","\x26pi;");a.allowSingleFraction=!0;a.restrictChars="01234456789.-//EePpIi";this.own(e(this.eqEditor,"keydown",f.hitch(this,this.eqEditorKeydown)))},destroy:function(){this.inherited(arguments)},_paramName:"",_options:null,tp:null,getEvalNumber:function(a){try{var b=eval(a)}catch(c){b=NaN}return b},
initOptions:function(a,b,c,d,e){this.tp=a;d||(this._paramName=b);this._options=c;this._minValue=this.getEvalNumber(c.minValue);this._maxValue=this.getEvalNumber(c.maxValue);if(!d||this._paramName==b)this.divTitle.innerHTML=c.controlTitle;c.controlType==M.TransformControlType.INPUT?k.set(this.divField,{display:"inline-block"}):k.set(this.divField,{display:"none"});if(c.controlType==M.TransformControlType.SLIDER){k.set(this.divSlider.domNode,{display:"inline-block"});this.divSlider.minimum=eval(c.minValue);
this.divSlider.maximum=eval(c.maxValue);c.labels?(this.ruleLabels.useFormulas=c.useFormulas,this.ruleLabels.interpretFunctions=c.interpretFunctions,this.ruleLabels.resetLabels(),e&&e!=this.lastSelObj&&(this.ruleLabels.recalculateLabels(),this.lastSelObj=e),c.labels.split(",").forEach(function(a){this.ruleLabels.labels.push(a)},this),this.ruleLabels.count=this.ruleLabels.labels.length,this.ruleLabels.buildRendering(),this.ruleLabels.domNode.style.display=""):this.ruleLabels.domNode.style.display="none";
this.divSlider.snapInterval=c.snapInt?eval(c.snapInt):null;this.divSlider.snapToTicks=c.snapToTicks;this.ruleTicks.count=0;if(c.tickInt||c.tickValues)this.ruleTicks.minimum=this.divSlider.minimum,this.ruleTicks.maximum=this.divSlider.maximum,this.ruleTicks.tickInterval=c.tickInt?eval(c.tickInt):null,this.divSlider.tickInterval=this.ruleTicks.tickInterval,0>=this.ruleTicks.tickInterval&&(this.ruleTicks.tickInterval=null,this.divSlider.tickInterval=null),this.ruleTicks.tickValues=[],this.divSlider.tickValues=
[],c.tickValues&&c.tickValues.split(",").forEach(function(a){this.ruleTicks.tickValues.push(a);this.divSlider.tickValues.push(a)},this),this.ruleTicks.buildRendering();this.divSlider.showDataTip=!c.hideDataTip}else k.set(this.divSlider.domNode,{display:"none"});c.controlType==M.TransformControlType.CHECKBOX?(this.inputCB.domNode.style.display="",this.divTitle.style.display="inline"):(this.inputCB.domNode.style.display="none",this.divTitle.style.display="");c.controlType==M.TransformControlType.NONE?
this.hide():(k.set(this.domNode,{display:"inline-block"}),this.visible=!0)},hide:function(){k.set(this.domNode,{display:"none"});this.visible=!1},_obj:null,_gc:null,initObject:function(a,b){this._obj=b;this._gc=a;this._inittingObj=!0;try{if(this._options.controlType==M.TransformControlType.CHECKBOX){var c=b.paramValue(this._paramName);E.sameValue(c,-1)?this.inputCB.set("value",!0):this.inputCB.set("value",!1)}else if(this._options.controlType==M.TransformControlType.SLIDER)this.divSlider.set("value",
b.paramValue(this._paramName));else{var d=b.getParam(this._paramName);try{this.eqEditor.setEqText(d),this.lastEqText=d}catch(e){this.eqEditor.setEqText(this.formatNumber(b.paramValue(this._paramName)))}}}finally{this._inittingObj=!1}},sliderChange:function(a){!this._inittingObj&&this._obj&&(this._obj.setParam(this._paramName,this.divSlider.value.toString()),this._obj.invalidate(),this._gc._graphManager.selectObject(this._obj),this.domNode.focus())},cbChange:function(a){if(!this._inittingObj&&this._obj&&
(a=this.inputCB.checked?"-1":"1",this._obj.getParam(this._paramName)!=a)){this._obj.setParam(this._paramName,a);a="xflip"==this._paramName?"vshift":"hshift";var b=this._obj.getParam(a);0<b.length&&"-"==b[0]?b=b.substr(1):"0"!=b&&(b="-"+b);this._obj.setParam(a,b);this._obj.invalidate();this._gc._graphManager.selectObject(this._obj);this.domNode.focus()}},evalParam:function(a){return I.evalEq(a)},_EPSILON:1E-8,eqEditorBlur:function(a){if(!this._inittingObj&&this._obj&&(a=this.eqEditor.getEqText(),console.log("eqEditorBlur",
this.lastEqText,a),this._obj.getParam(this._paramName)!=a&&this.lastEqText!=a)){var b=this.evalParam(a),c=null;!isNaN(this._minValue)&&b<this._minValue-this._EPSILON&&(c=H["sdg.range_min"]+" "+this.formatNumber(this._minValue)+".");!isNaN(this._maxValue)&&b>this._maxValue+this._EPSILON&&(c=H["sdg.range_max"]+" "+this.formatNumber(this._maxValue)+".");isNaN(b)&&(c=H["sdg.invalid_number"]);this._lastRow=this.eqEditor.getCurrentRow();this._lastCP=this.eqEditor.getCaretPosition();c?(this.showDialog(c,
f.hitch(this,this.focusEditor)),this.eqEditor.setEqText(this.lastEqText)):(this.lastEqText=a,this._obj.setParam(this._paramName,a),this._obj.invalidate(),this._gc._graphManager.selectObject(this._obj))}},_dialogUp:null,showDialog:function(a,b){if(!this._dialogUp){var c=this;this.tp.hide();this._dialogUp=G.displayText(a,"\x26nbsp;",[G.BUTTON.OK]).then(function(a){c._dialogUp=null;c.tp.show();b()})}},eqEditorKeydown:function(a){13==a.keyCode&&(this.eqEditorBlur(),this.eqEditor.setCaretEnd(),this.eqEditor.focusEditor())},
divFieldClick:function(b){b.target==this.divField&&((b.offsetX||b.clientX-a.position(this.divField).x)>=this.eqEditor.getEqDoc().getNodeSize().w?this.eqEditor.setCaretEnd():this.eqEditor.setCaretHome(),this.eqEditor.focusEditor())},eqEditorFocus:function(a){console.log("eqEditorFocus",this.lastEqText,this.eqEditor.getEqText())},formatNumber:function(a){return J.formatFloat(a,"#.---")},titleClick:function(a){this.inputCB&&(this.inputCB.domNode&&"none"!=this.inputCB.domNode.style.display)&&this.inputCB.set("value",
!this.inputCB.checked)},focusEditor:function(){this.eqEditor.focus()},onShow:function(){this.ruleLabels.updateLabels()}})})},"xl/player/controls/HorizontalSlider":function(){define("dojo/_base/declare dojo/on dijit/popup dojo/mouse dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/touch dijit/Tooltip dijit/form/HorizontalSlider xl/util/stringUtils dojo/dom-style dojo/has".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.controls.HorizontalSlider",[b],{_setPixelValue:function(a,
b,c){if(!this.disabled&&!this.readOnly){a=a*(this.maximum-this.minimum)/b+this.minimum;b=(this.maximum-this.minimum)/b;var d=Number.MAX_VALUE,e=Number.NaN;if(this.snapToTicks){if(this.tickValues&&0<this.tickValues.length)for(var f=0;f<this.tickValues.length;f++)Math.abs(this.tickValues[f]-a)<d&&(d=Math.abs(this.tickValues[f]-a),e=this.tickValues[f]);0<this.tickInterval&&(f=Math.round((a-this.minimum)/this.tickInterval)*this.tickInterval+this.minimum,Math.abs(f-a)<d&&(e=f,d=Math.abs(f-a)))}!isNaN(this.snapInterval)&&
0!=this.snapInterval&&(f=Math.round(a/this.snapInterval)*this.snapInterval,Math.abs(f-a)<d&&(e=f,d=Math.abs(f-a)));0.002>=a-this.minimum?a=this.minimum:0.002>=this.maximum-a?a=this.maximum:d!=Number.MAX_VALUE?a=e:Math.abs(Math.round(a)-a)<b&&(a=Math.round(a));this._setValueAttr(a,c)}},decrement:function(a){a=1E-8;var b=Number.MAX_VALUE,c=Number.NaN,d=this.get("value");if(this.snapToTicks){if(this.tickValues&&0<this.tickValues.length)for(var e=0;e<this.tickValues.length;e++)this.tickValues[e]<d&&d-
this.tickValues[e]<b&&(b=d-this.tickValues[e],c=this.tickValues[e]);0<this.tickInterval&&(e=Math.floor((d-this.minimum-a)/this.tickInterval)*this.tickInterval+this.minimum,d-e<b&&(c=e,b=d-e))}!isNaN(this.snapInterval)&&0!=this.snapInterval&&(e=Math.floor(d/this.snapInterval-a)*this.snapInterval,d-e<b&&(c=e,b=d-e));d-this.minimum<b&&(c=this.minimum,b=d-this.minimum);b!=Number.MAX_VALUE?d=c:(this._abspos=this._abspos||n.position(this.sliderBarContainer,!0),d-=(this.maximum-this.minimum)/this._abspos[this._pixelCount]);
d<this.minimum&&(d=this.minimum);this._setValueAttr(d)},increment:function(a){a=1E-8;var b=Number.MAX_VALUE,c=Number.NaN,d=this.get("value");if(this.snapToTicks){if(this.tickValues&&0<this.tickValues.length)for(var e=0;e<this.tickValues.length;e++)this.tickValues[e]>d&&this.tickValues[e]-d<b&&(b=this.tickValues[e]-d,c=this.tickValues[e]);0<this.tickInterval&&(e=Math.ceil((d-this.minimum+a)/this.tickInterval)*this.tickInterval+this.minimum,e-d<b&&(c=e,b=Math.abs(e-d)))}this.maximum-d<b&&(c=this.maximum,
b=this.maximum-d);!isNaN(this.snapInterval)&&0!=this.snapInterval&&(e=Math.ceil(d/this.snapInterval+a)*this.snapInterval,e-d<b&&(c=e,b=Math.abs(e-d)));b!=Number.MAX_VALUE?d=c:(this._abspos=this._abspos||n.position(this.sliderBarContainer,!0),d+=(this.maximum-this.minimum)/this._abspos[this._pixelCount]);d>this.maximum&&(d=this.maximum);this._setValueAttr(d)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();0<a.wheelDelta?this.increment():this.decrement()},showDataTip:!1,buildRendering:function(){function a(a){a.preventDefault();
a.stopPropagation()}this.inherited(arguments);this.own(q(this.sliderHandle,c.press,f.hitch(this,this.tipMouseDown)),q(this.sliderHandle,c.release,f.hitch(this,this.tipMouseUp)),q(this.domNode.ownerDocument,c.release,f.hitch(this,this.tipMouseUp)),q(this,"change",f.hitch(this,this.sliderChange)),q(this.sliderHandle,"dragstart",a),q(this.sliderHandle,"selectstart",a));r("edge")&&r("touch")&&(k.set(this.domNode,"touch-action","none"),q(this.domNode,"pointermove",f.hitch(this,this.sliderChange)),q(this.domNode,
"pointerdown",f.hitch(this,this.tipMouseDown)),q(this.domNode,"pointerup",f.hitch(this,this.tipMouseUp)))},getLabel:function(){return d.formatFloat(this.get("value"),"#.##")},tipMouseDown:function(a){this.showDataTip&&(this._mouseDown=!0,this.showToolTip())},updateToolTipPos:function(a){a=n.position(this.sliderHandle);var b=n.getMarginBox(e._masterTT.domNode);e._masterTT.domNode.style.top=a.y-b.h-10+"px"},sliderChange:function(a){this._mouseDown?this.getLabel()!=this.tipLabel&&this.showToolTip():
this.hideToolTip()},tipMouseUp:function(a){this._mouseDown=!1;this.hideToolTip()},showToolTip:function(){if(this._mouseDown){e.hide(this.sliderHandle);this.tipLabel=this.getLabel();var a=n.position(this.sliderHandle);a.y-=10;e.show(this.tipLabel,a,["above-centered"]);this._tooltipAnchor=a}},hideToolTip:function(){e.hide(this._tooltipAnchor);this._tooltipAnchor=null}})})},"xl/player/controls/HorizontalRule":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(s,
q,l){return s("xl.player.controls.HorizontalRule",[q,l],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:0,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',_genHTML:function(h){return this._positionPrefix+h+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,minimum:0,maximum:1,calcPct:function(h){return 100*((h-this.minimum)/
(this.maximum-this.minimum))},buildRendering:function(){this.inherited(arguments);this.tickInterval&&(this.count=(this.maximum-this.minimum)/this.tickInterval+1);var h="";if(1==this.count)h=this._genHTML(50,0);else if(1<this.count){var l,f=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){h=this._genHTML(0,0);for(l=1;l<this.count-1;l++)h+=this._genHTML(f*l,l);h+=this._genHTML(100,this.count-1)}else{h=this._genHTML(100,0);for(l=1;l<this.count-1;l++)h+=this._genHTML(100-f*l,l);h+=this._genHTML(0,
this.count-1)}}if(this.tickValues&&0<this.tickValues.length)for(l=0;l<this.tickValues.length;l++)h+=this._genHTML(this.calcPct(this.tickValues[l]),l);this.domNode.innerHTML=h}})})},"xl/player/controls/HorizontalRuleLabels":function(){define("dojo/_base/declare dojo/_base/lang dijit/Viewport dojo/on dojo/dom-geometry xl/eqeditor/EqLabel dijit/form/HorizontalRuleLabels".split(" "),function(s,q,l,h,n,f,m){return s("xl.player.controls.HorizontalRuleLabels",[m],{_calcPosition:function(c){return c},_genHTML:function(c,
e){var b=this.labels[e];if(this.useFormulas){var d=new f;d.getEqDoc().interpretFunctions=this.interpretFunctions;d.setEqText(b);d.startup();b=d.domNode.innerHTML}return this._positionPrefix+this._calcPosition(c)+this._positionSuffix+this.labelStyle+this._genDirectionHTML(b)+this._labelPrefix+b+this._suffix},startup:function(){this.inherited(arguments);this.useFormulas&&(this.needUpdateLabels=!0)},buildRendering:function(){this.inherited(arguments);if(this.labelBottoms&&0<this.domNode.childNodes.length)for(var c=
0;c<this.domNode.childNodes.length;c++)this.domNode.childNodes[c].style.bottom=this.labelBottoms[c];else this.needUpdateLabels&&(c=n.getMarginBox(this.domNode),0!=c.h&&0!=c.w?this.updateLabels():setTimeout(q.hitch(this,this.updateLabels),0))},cnt:10,resetLabels:function(){this.labels=[];this.useFormulas&&(this.needUpdateLabels=!0)},recalculateLabels:function(){this.labelBottoms=null;this.domNode&&(this.domNode.style.height="")},updateLabels:function(){if(this.needUpdateLabels){if(this.useFormulas){var c=
n.getMarginBox(this.domNode);if(0==c.h&&0==c.w&&0<this.cnt--){setTimeout(this.updateLabels,0);return}for(var e=c=0;e<this.domNode.childNodes.length;e++)var b=this.domNode.childNodes[e],d=n.getMarginBox(b).h,c=Math.max(c,d);this.domNode.style.height=c.toString()+"px";this.labelBottoms=[];for(e=0;e<this.domNode.childNodes.length;e++)b=this.domNode.childNodes[e],d=n.getMarginBox(b).h,d=new Number((c-d)/2),this.labelBottoms[e]=d.toString()+"px",b.style.bottom=this.labelBottoms[e]}this.needUpdateLabels=
!1}}})})},"xl/player/dialogs/InteractionsNativeDialog":function(){define("dojo/_base/array dojo/_base/lang dijit/registry xl/util/nativeDeferredManager xl/util/nativeMessageManager xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction xl/grapher/GraphInteractions".split(" "),function(s,q,l,h,n,f,m,c,e){function b(b,c){var e=[];v=c;b?D=b:b=D;s.forEach(b,function(a,b){var c={};c.id=b;c.label=a.name;u[c.id]?c.selected=u[c.id].selected:0==b&&(c.selected=!0);c.controls=[];if(a.selectOptionsNameX){var f=
{type:"dropDown"};f.id=a.selectOptionsNameX;f.text=a.selectOptionsNameX;f.options=[];s.forEach(a.selectOptionsX,function(a,b){u[f.id]&&u[f.id].value==a.value?f.options.push({label:a.label,value:a.value,selected:!0}):f.options.push({label:a.label,value:a.value})});u[f.id]?u[f.id].valueChange=d:(u[f.id]={id:f.id,type:f.type,value:f.options[0].value,valueChange:d,curveIndex:c.id},f.options[0].selected=!0);c.controls.push(f)}a.selectOptionsNameY&&(f={type:"dropDown"},f.id=a.selectOptionsNameY,f.text=
a.selectOptionsNameY,f.options=[],s.forEach(a.selectOptionsY,function(a,b){u[f.id]&&u[f.id].value==a.value?f.options.push({label:a.label,value:a.value,selected:!0}):f.options.push({label:a.label,value:a.value})}),u[f.id]?u[f.id].valueChange=k:(u[f.id]={id:f.id,type:f.type,value:f.options[0].value,valueChange:k,curveIndex:c.id},f.options[0].selected=!0),c.controls.push(f));var h=null;s.forEach(a.params,function(a,b){h={type:"slider"};h.id=a.varName;h.label=a.name;h.min=a.min;h.max=a.max;h.discreteValues=
a.discreteValues;h.value=u[h.id]?u[h.id]:a.value;c.controls.push(h);u[h.id]?u[h.id].valueChange=r:u[h.id]={id:h.id,type:h.type,value:h.value,valueChange:r,curveIndex:c.id}});e.push(c)});var f={type:"nativeDialog",isModal:!0,data:{title:"Graph Interactions",message:"",controlGroups:e,commands:[{type:"button",id:"resetgraph",text:"Reset Graph"},{type:"button",id:"close",text:"Close"}]}};u.resetgraph||(u.resetgraph={id:"resetgraph",type:"button",valueChange:a});n.setMessageReceiver(t);n.makeRequest(f)}
function d(a){Number(a.value)!==Number.NEGATIVE_INFINITY&&(u[a.id].value=a.value,a={type:"executeCommand",data:{command:"interactionplotmarker",arguments:{curveIndex:u[a.id].curveIndex,graphId:v,type:0,value:a.value},result:"interactionplotmarker"}},h.makeRequest(a).then(e.markerValueChange))}function k(a){Number(a.value)!==Number.NEGATIVE_INFINITY&&(u[a.id].value=a.value,a={type:"executeCommand",data:{command:"interactionplotmarker",arguments:{curveIndex:u[a.id].curveIndex,graphId:v,type:1,value:a.value},
result:"interactionplotmarker"}},h.makeRequest(a).then(e.markerValueChange))}function r(a){if(Number(a.value)!==Number.NEGATIVE_INFINITY){var b=[],c=u[a.id];u[a.id].value=a.value;for(var d in u)"slider"==u[d].type&&u[d].curveIndex==c.curveIndex&&b.push(u[d].value);a={type:"executeCommand",data:{command:"interactionAnimatePlot",arguments:{curveIndex:u[a.id].curveIndex,graphId:v,params:b},result:"interactionAnimatePlot"}};h.makeRequest(a).then(e.animatePlotAction)}}function a(a){a={type:"executeCommand",
data:{command:"interactionreset",arguments:{graphId:v},result:"interactionreset"}};h.makeRequest(a).then(e.reset)}function t(a){s.forEach(a.values,function(a,b){u[a.id]&&u[a.id].valueChange(a)})}var u={},v=null,D=null;return{showNativeInteractionDialog:b,interactionscontrols:u,graphObjects:{},setDialogControlsData:function(a){u=a;b(null,v)}}})},"xl/util/nativeMessageManager":function(){define(["dojo/_base/array","dojo/_base/lang","xl/util/nativeDeferredManager"],function(s,q,l){function h(){return l.getNextId()}
var n=null,f=null;return{makeRequest:function(f){n&&(f.id=h(),f.time=Date.now(),n(f))},setMessageSender:function(f){n=f},setMessageReceiver:function(h){f=h},receiveResponse:function(h){f(h.data)},getNextId:h}})},"xl/grapher/GraphInteractions":function(){define("dojo/_base/declare dijit/registry dojo/_base/array xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction".split(" "),function(s,q,l,h,n,f){return{animatePlotAction:function(m){var c=0,e=setInterval(function(){var b=m.graphChanges[c++];
l.forEach(b,function(b){var c=q.byId(b.graphId),e=b.scatters;b=b.markers;if(null!=c){l.forEach(e,function(a){var b=c.getPlot(a.index);if(b&&(null!=b.animatedPlot&&(c.removePart(b.animatedPlot),b.animatedPlot=null),null!=a.scatter)){var d;a:{d=a.scatter;var e=null;switch(d.plotType){case "scatter":e=new n(d);e.objectParams=d;d=e;break a;case "function":e=new f(d);e.objectParams=d;d=e;break a}d=void 0}"function"===b.plotType&&(b.animatedPlot=d,d.setGraph(c));b.hasSamePoints(d.xPts,d.yPts)?b.hidden&&
(b.hidden=!1,b.setVisible(b.origVisible)):(b.animatedPlot=d,d.setGraph(c),!a.showSnapshot&&!b.hidden&&(b.hidden=!0,b.origVisible=b.visible,b.setVisible(!1)))}});c.clearMarkerList();for(e=0;e<b.length;e++)(new h(b[e])).setGraph(c);c.validateGraph()}});10==c&&clearInterval(e)},200)},markerValueChange:function(f){l.forEach(f.graphChanges,function(c){var e=q.byId(c.graphId);c=c.markers;if(null!=e){e.clearMarkerList();for(var b=0;b<c.length;b++){var d=new h(c[b]);d.objectParams=c[b];d.setGraph(e)}e.validateGraph()}})},
reset:function(f){l.forEach(f.graphChanges,function(c){var e=q.byId(c.graphId);c=c.markers;if(null!=e){for(var b=0;b<e.getPlotCount();b++){var d=e.getPlot(b);null!=d.animatedPlot&&(e.removePart(d.animatedPlot),d.animatedPlot=null);d.hidden&&(d.hidden=!1,d.setVisible(d.origVisible))}e.clearMarkerList();for(b=0;b<c.length;b++)(new h(c[b])).setGraph(e);e.validateGraph()}})}}})},"xl/player/dialogs/DataGrapherNativeDialog":function(){define("dojo/_base/array dojo/_base/lang dijit/registry xl/util/nativeDeferredManager xl/util/nativeMessageManager xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction xl/grapher/DataGrapherActions".split(" "),
function(s,q,l,h,n,f,m,c,e){function b(b,c){b?B=b:b=B;var e=b.selectOptions,f=[];D=c;var h=2<=e.length,m=2<=b.count,l=3<=b.count,q=4<=b.count,z=5<=b.count,I={id:"group0",number:1,type:"group",label:"Time Series (1 or 2 plots)"};I.selected=v[I.id]?v[I.id].selected:!0;I.controls=[];var L={type:"dropDown",id:"selectYAxis1",text:"Y Axis1",options:[]};s.forEach(e,function(a,b){v[L.id]&&v[L.id].value==a.value?L.options.push({label:a.label,value:a.value,selected:!0}):L.options.push({label:a.label,value:a.value})});
L.options[0].selected=!0;I.controls.push(L);v[L.id]?v[L.id].valueChange=d:v[L.id]={id:L.id,type:L.type,value:L.options[0].value,valueChange:d,groupId:I.id};if(h){var O={type:"dropDown",id:"selectYAxis2",text:"Y Axis2",options:[]};s.forEach(e,function(a,b){v[O.id]&&v[O.id].value==a.value?O.options.push({label:a.label,value:a.value,selected:!0}):O.options.push({label:a.label,value:a.value})});O.options[0].selected=!0;I.controls.push(O);v[O.id]?v[O.id].valueChange=d:v[O.id]={id:O.id,type:O.type,value:O.options[0].value,
valueChange:d,groupId:I.id}}f.push(I);v[I.id]?v[I.id].valueChange=r:v[I.id]={id:I.id,type:I.type,value:0,valueChange:r,groupId:I.id,selected:I.selected,number:I.number};h={id:"group1",number:2,type:"group",label:"Multiple Plots"};v[h.id]&&(h.selected=v[h.id].selected);h.controls=[];var Q={type:"dropDown",id:"selectY1",text:"Y1",options:[]};s.forEach(e,function(a,b){v[Q.id]&&v[Q.id].value==a.value?Q.options.push({label:a.label,value:a.value,selected:!0}):Q.options.push({label:a.label,value:a.value})});
Q.options[0].selected=!0;h.controls.push(Q);v[Q.id]?v[Q.id].valueChange=d:v[Q.id]={id:Q.id,type:Q.type,value:Q.options[0].value,valueChange:d,groupId:h.id};if(m){var M={type:"dropDown",id:"selectY2",text:"Y2",options:[]};s.forEach(e,function(a,b){v[M.id]&&v[M.id].value==a.value?M.options.push({label:a.label,value:a.value,selected:!0}):M.options.push({label:a.label,value:a.value})});M.options[0].selected=!0;h.controls.push(M);v[M.id]?v[M.id].valueChange=d:v[M.id]={id:M.id,type:M.type,value:M.options[0].value,
valueChange:d,groupId:h.id}}if(l){var R={type:"dropDown",id:"selectY3",text:"Y3",options:[]};s.forEach(e,function(a,b){v[R.id]&&v[R.id].value==a.value?R.options.push({label:a.label,value:a.value,selected:!0}):R.options.push({label:a.label,value:a.value})});R.options[0].selected=!0;h.controls.push(R);v[R.id]?v[R.id].valueChange=d:v[R.id]={id:R.id,type:R.type,value:R.options[0].value,valueChange:d,groupId:h.id}}if(q){var P={type:"dropDown",id:"selectY4",text:"Y4",options:[]};s.forEach(e,function(a,
b){v[P.id]&&v[P.id].value==a.value?P.options.push({label:a.label,value:a.value,selected:!0}):P.options.push({label:a.label,value:a.value})});P.options[0].selected=!0;h.controls.push(P);v[P.id]?v[P.id].valueChange=d:v[P.id]={id:P.id,type:P.type,value:P.options[0].value,valueChange:d,groupId:h.id}}if(z){var V={type:"dropDown",id:"selectY5",text:"Y5",options:[]};s.forEach(e,function(a,b){v[V.id]&&v[V.id].value==a.value?V.options.push({label:a.label,value:a.value,selected:!0}):V.options.push({label:a.label,
value:a.value})});V.options[0].selected=!0;h.controls.push(V);v[V.id]?v[V.id].valueChange=d:v[V.id]={id:V.id,type:V.type,value:V.options[0].value,valueChange:d,groupId:h.id}}f.push(h);v[h.id]?v[h.id].valueChange=r:v[h.id]={id:h.id,type:h.type,value:0,valueChange:r,groupId:h.id,number:h.number};m={id:"group2",number:3,type:"group",label:"Scatter Diagram"};v[m.id]&&(m.selected=v[m.id].selected);m.controls=[];var S={type:"dropDown",id:"selectXAxis",text:"X Axis",options:[]};s.forEach(e,function(a,b){v[S.id]&&
v[S.id].value==a.value?S.options.push({label:a.label,value:a.value,selected:!0}):S.options.push({label:a.label,value:a.value})});S.options[0].selected=!0;m.controls.push(S);v[S.id]?v[S.id].valueChange=d:v[S.id]={id:S.id,type:S.type,value:S.options[0].value,valueChange:d,groupId:m.id};var K={type:"dropDown",id:"selectYAxis",text:"Y Axis",options:[]};s.forEach(e,function(a,b){v[K.id]&&v[K.id].value==a.value?K.options.push({label:a.label,value:a.value,selected:!0}):K.options.push({label:a.label,value:a.value})});
K.options[0].selected=!0;m.controls.push(K);v[K.id]?v[K.id].valueChange=d:v[K.id]={id:K.id,type:K.type,value:K.options[0].value,valueChange:d,groupId:m.id};e={type:"checkBox",id:"plotLines",text:"Plot Lines",value:"false"};e.checked=v[e.id]?v[e.id].value:"false";m.controls.push(e);v[e.id]?v[e.id].valueChange=k:v[e.id]={id:e.id,type:e.type,value:e.checked,valueChange:k,groupId:m.id};f.push(m);v[m.id]?v[m.id].valueChange=r:v[m.id]={id:m.id,type:m.type,value:0,valueChange:r,groupId:m.id,number:m.number};
b={type:"nativeDialog",isModal:!0,data:{title:"Data Grapher",message:"",controlGroups:f,commands:[{type:"button",id:"resetgraph",text:"Reset Graph"},{type:"button",id:"close",text:"Close"},{type:"button",id:"plot",text:"Plot"}]}};v.resetgraph||(v.resetgraph={id:"resetgraph",type:"button",valueChange:t});v.plot||(v.plot={id:"plot",type:"button",valueChange:a});n.setMessageReceiver(u);n.makeRequest(b)}function d(a){v[a.id].value=a.value}function k(a){v[a.id].value=z=a.value}function r(a){if(Number(a.value)!==
Number.NEGATIVE_INFINITY)for(var b in v)v[b].id==a.id?v[b].selected=!0:"group"==v[b].type&&(v[b].selected=!1)}function a(a){a=[];var b,c,d;for(d in v)if("group"==v[d].type&&v[d].selected){b=v[d].groupId;c=v[d].number;for(var f in v)"dropDown"==v[f].type&&v[f].groupId==b&&-1<v[f].value&&a.push(v[f].value)}0!==a.length&&h.makeRequest({type:"executeCommand",data:{command:"displaydatagrapher",arguments:{plots:a,graphId:D,type:c,drawLines:z},result:"displaydatagrapher"}}).then(e.plot)}function t(a){a=
{type:"executeCommand",data:{command:"resetdatagrapher",arguments:{graphId:D},result:"displaydatagrapher"}};h.makeRequest(a).then(e.reset)}function u(a){s.forEach(a.values,function(a,b){v[a.id]&&v[a.id].valueChange(a)})}var v={},D=null,z=!1,B=null;return{showNativeDataGrapherDialog:b,datagraphcontrols:v,setDialogControlsData:function(a){v=a;b(null,D)}}})},"xl/grapher/DataGrapherActions":function(){define(["dojo/_base/declare","dijit/registry","xl/grapher/IPGraphScatter"],function(s,q,l){return{plot:function(h){var n=
q.byId(h.graphId),f=h.xAxis,m=h.yAxis,c=h.yAltAxis?h.yAltAxis:{};h=h.drawObjects?h.drawObjects:h.scatterPlots;if(null!=n){n.getAxisX().setProperties(f);n.getAxisY().setProperties(m);n.getAxisYAlt()&&n.getAxisYAlt().setProperties(c);n.dataGraphRemoveAllPlots();for(f=0;f<h.length;f++)m=new l(h[f]),m.objectParams=h[f],n.dataGraphAddPlot(m);n.reset(!0)}},reset:function(h){var n=q.byId(h.graphId);n.dataGrapherOptions=null;var f=h.xAxis,m=h.yAxis,c=h.yAltAxis?h.yAltAxis:{};h=h.drawObjects?h.drawObjects:
h.scatterPlots;if(null!=n){n.getAxisX().setProperties(f);n.getAxisY().setProperties(m);n.getAxisYAlt()&&n.getAxisYAlt().setProperties(c);n.dataGraphRemoveAllPlots();for(f=0;f<h.length;f++)m=new l(h[f]),m.objectParams=h[f],n.dataGraphAddPlot(m);n.reset(!0)}}}})},"xl/player/controls/SDGrapherButton":function(){define("./_InputObject xl/player/controls/_NeedsPlayerViewer dijit/form/Button dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/_base/lang dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry dojo/text!./templates/SDGrapherButton.html dojo/on dijit/Tooltip".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){return h("xl.player.controls.SDGrapherButton",[l,s,q],{templateString:a,constructor:function(a){this.graphOptions=a;this.commandStack=[]},graphId:null,graph:null,graphControl:null,graphManager:null,graphOptions:null,changed:function(a){this.inputFilled=!this.isEmpty();this.inputChanged()},isEmpty:function(){return this.graphManager?0==this.graphManager.getGraphObjectCount():!0},buttonClick:function(a){a.preventDefault();a.shiftKey?console.log(this.graphOptions):
this.graph&&!this.isAnswered&&(this.graph.isZoomed||this.graph.openZoom())},buildRendering:function(){this.inherited(arguments);this.hideButton&&f.set(this.domNode,{display:"none"})},postCreate:function(){this.inherited(arguments);this.own(t(this.domNode,"click",c.hitch(this,this.buttonClick)))},destroy:function(){this.inherited(arguments);_onObjectCreated&&_onObjectCreated.remove();_onObjectChanged&&_onObjectChanged.remove()},registerCnt:5,_onObjectCreated:null,_onObjectChanged:null,setupGraph:function(){if((this.graph=
r.byId(this.graphId))&&this.graph.getGraphControl())this.graphControl=this.graph.getGraphControl(),this.graphManager=this.graphControl.getGraphManager(),_onObjectCreated=this.graphManager.on("object_created",c.hitch(this,this.graphObjectCreated)),_onObjectChanged=this.graphManager.on("object_changed",c.hitch(this,this.graphObjectCreated)),this.graphControl.initGraphControl(this.graphOptions.graphData),this.graphOptions.graphData.graphObjects&&this.changed(),this.graphReady=!0,0<this.commandStack.length&&
(m.forEach(this.commandStack,function(a){this.processCommand(a.command,a.args)},this),this.commandStack=[]);else if(0<this.registerCnt--){var a=this;setTimeout(function(){c.hitch(a,a.setupGraph())},0)}},graphReady:!1,graphObjectCreated:function(a){this.changed()},startup:function(){this.inherited(arguments)},getInputData:function(){return{objects:this.graphManager.getGraphObjectsData()}},processCommand:function(a,b){switch(a){case "setup":this.graphId=b.graphId;this.setupGraph();return}if(this.graphReady)switch(a){case "answered":this.answeredCommand(b);
break;case "answerapplied":this.answerAppliedCommand(b)}else this.commandStack.push({command:a,args:b})},answerAppliedCommand:function(a){a&&this.graphControl&&(this.graphControl.getGraphManager().initGraphObjects(a.graphData.graphObjects,a.graphData.tag),this.graphControl.getGraph().validateGraph(),this.inputFilled=!0,this.inputChanged())},answeredCommand:function(a){a&&(this.isAnswered=a.isAnswered,this.isCorrect=a.isCorrect,this.toolTipContent=a.toolTip,this.showFeedbackLink=a.showFeedbackLink,
this.graphControl&&this.graphControl.initGraphObjects(a.graphData),this.updateControlState())},updateControlState:function(){this.updateToolTipDijit();k.remove(this.domNode,"correct");k.remove(this.domNode,"incorrect");this.isAnswered?(k.add(this.domNode,this.isCorrect?"correct":"incorrect"),this.set("disabled",!0),this.set("showLabel",!1),f.set(this.domNode,{display:""})):this.set("disabled",!1);this.isCorrect?this.set("iconClass","sdgraphinputIconCorrect"):this.set("iconClass","sdgraphinputIconIncorrect");
f.set(this.buttonNode,"padding","0px")},clear:function(){this.graphControl&&(this.graphControl.clear(),this.changed())},canShowToolTip:function(){return this.isAnswered&&this.toolTipContent}})})},"xl/player/controls/EssayMceEditor":function(){define("dijit/_WidgetBase ./_NeedsPlayerViewer ./_InputObject dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/_base/array dojo/_base/connect dojo/_base/config dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dojo/parser dojo/html dojo/on dojo/has dojo/keys dojo/dom-attr dijit/registry dijit/focus xl/util/logger xl/util/domMethods xl/nonamd/mce/tinymce xl/eqeditor/EqLabel xl/eqeditor/EqEditor xl/eqeditor/InlineFormula xl/eqeditor/InlineEditor xl/eqeditor/AssessmentsComponents xl/player/controls/MathPalette xl/util/localization!html5player/math xl/util/localization!html5player/player xl/util/DijitLoadMonitor xl/dijit-bootstrap/Button xl/util/localization!html5player/player xl/nonamd/ac/ac".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P){var V=h("xl.player.controls.EssayMathPalette",[I],{editor:null,_toolButtonClicked:function(){this.editor.fixFocus(this.targetWidget);this.inherited(arguments)},_moreButtonClicked:function(){this.editor.fixFocus(this.targetWidget);this.inherited(arguments);this.refocus()},_fewerButtonClicked:function(){this.editor.fixFocus(this.targetWidget);this.inherited(arguments);this.refocus()},_minimizedButtonClicked:function(){this.editor.fixFocus(this.targetWidget);
this.inherited(arguments);this.refocus()},parentNode:function(){return this.overrideParentNode},determineTarget:function(a){if("xl.eqeditor.InlineEditor"==a.declaredClass&&!a.readOnly&&!a.get("disabled")){if(!this.checkParent(a))return null;this.editor.updatePaletteLoc();return a}return null},checkParent:function(a){if(!this.editor||!this.editor.editor)return null;for(var b=this.editor.editor.getBody(),c=a.domNode;c;){if(c==b)return a;if("IFRAME"==c.tagName)break;c=c.parentNode}return null},refocus:function(){}});
return h("xl.player.controls.EssayMceEditor",[s,l,q],{constructor:function(a){a.readOnly&&(this._readOnly=!0);c.subscribe("eqeditor_focus",n.hitch(this,this.eqEditorFocus));c.subscribe("eqeditor_blur",n.hitch(this,this.eqEditorBlur));c.subscribe("eqeditor_mousedown",n.hitch(this,this.eqEditorMouseDown))},baseClass:"Essay",styleSheets:"/xl/themes/math/main.less.css",skin:"lightgray",skin_variant:"silver",theme:"modern",toolbar_location:"default",toolbar_align:"left",statusbar_location:"bottom",editor:null,
_palette:null,more_default:[["plus","minus","asterisk","divide","cross"],"lt le gt ge ne equal".split(" "),["over","mnum","super","abs"],"sqrt nroot sub union intersect pair matx detx".split(" "),"pi inf imag exp pipe emptyset angle cdelta partiald".split(" "),"element notelement subset notsubset propsubset notpropsubset".split(" "),"and or not lognot rightarrow leftarrow leftrightarrow".split(" "),"alpha beta gamma delta epsi eta theta mu sigma lambda".split(" "),"chi rho tau phiv phi psi omega".split(" "),
"grad integral hat overbar overdbar sum supsub subsub".split(" "),"ndash mdash semicolon colon leftbracket rightbracket".split(" ")],tool_default:"over abs sqrt union intersect pair pi inf".split(" "),buildRendering:function(){this.value=this.srcNodeRef.innerHTML;var b=this.id+"_ed";this.domNode=k.create("div");this.editorNode=k.create("div",{id:b,style:{width:"100%",height:"100%",minHeight:"250px"}},this.domNode);this.inherited(arguments);this.editor=new tinymce.Editor(b,{inline:!1,menubar:!1,statusbar:!1,
plugins:"paste",theme:this.theme,skin:this.skin,skin_variant:this.skin_variant,toolbar:this._readOnly?!1:"undo redo | bold italic underline strikethrough removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | subscript superscript | formula",content_css:this.styleSheets?e.versionedUrl+this.styleSheets+"?"+e.cacheBust:null,extended_valid_elements:"tdxeq,span[class|style|contenteditable|widgetid]",invalid_elements:"script,table",visual:!1,minHeight:250,height:300,
readonly:this._readOnly,translations:O},tinymce.EditorManager);this.editor.filterEvent=function(a){switch(a.target.tagName){case "INPUT":case "svg":case "path":return!0;case "SPAN":case "DIV":if(v("ie")||v("trident"))if(("keydown"==a.type||"keyup"==a.type||"mouseup"==a.type||"focusin"==a.type)&&x.domNodeIsParentedByClass(a.target,"eqEditor"))return!0}return!1};var c=this.editor,d=this;this.importedJssStyles=!1;this.editor.addButton("formula",{text:O["palette.insertformula"],icon:!1,onclick:function(b){c.getBody().focus();
b=k.create("span",{"data-dojo-type":"xl.eqeditor.InlineEditor",innerHTML:""},c.contentDocument.body);var e=c.selection.getRng();if(e&&(c.undoManager.beforeChange(),c.undoManager.typing=!1,c.undoManager.add(),e.collapsed||e.deleteContents(),e.insertNode(b),(b=a.parse(b.parentNode))||!(0<b.length)))10==v("ie")&&(d._insertNewFormulaIE10=!0),F.focus(b[0].focusNode),d._insertNewFormula=!0}});b=this.getViewer();this._palette=new V({region:"bottom",dockPadding:{left:2,top:2,right:2,bottom:4}});b&&(b.essayPalette=
this._palette,b.on("navigate",n.hitch(this,this.navigate)));this._palette.setToolButtons(this.tool_default);this._palette.setMoreToolButtons(this.more_default);this._palette.editor=this;this._palette.startup()},fixFocus:function(a){},eqEditorFocus:function(a){this.updateFrameLocation(a);this.fixFocus(a);this._activeEqEditor=this._lastEqEditor=a},eqEditorBlur:function(a){this.fixFocus(a);this._activeEqEditor=null},eqEditorMouseDown:function(a){a.focused&&this.fixFocus(a)},eqEditorMouseUp:function(a){this._eqMouseDown=
!1},setValue:function(a){this.initialized?(10==v("ie")&&!a&&(a="\x3cp\x3e\x26nbsp;\x3c/p\x3e"),this.editor.setContent(a)):this.value=a},getValue:function(){return this.initialized?this.editor.getContent():this.value},postCreate:function(){this.inherited(arguments);this.editor.on("init",n.hitch(this,this.editorInit));this.editor.on("nodechange",n.hitch(this,this.editorChange));this.editor.on("keyup",n.hitch(this,this.editorChange));this.editor.on("beforesetcontent",n.hitch(this,this.onBeforeSetContent));
this.editor.on("setcontent",n.hitch(this,this.onSetContent));this.editor.on("beforegetcontent",n.hitch(this,this.onBeforeGetContent));this.editor.on("undo",n.hitch(this,this.onUndo));this.editor.on("redo",n.hitch(this,this.onRedo));this.editor.on("beforeaddundo",n.hitch(this,this.onBeforeAddUndo));Q.staticFunctions.loadingStarted(this)},onUndo:function(){this.fixWidgets(this.editor.getBody())},onRedo:function(){this.fixWidgets(this.editor.getBody())},onBeforeAddUndo:function(a){a.originalEvent&&"click"==
a.originalEvent.type&&a.preventDefault();this._lastEqEditor&&(this._lastEqEditor.focused&&!this._insertNewFormula)&&a.preventDefault();this._insertNewFormula=!1},fixWidgets:function(a){if(a.getAttribute&&a.getAttribute("widgetid")){var b=B.byId(a.getAttribute("widgetid"));b?a.parentElement?(a.parentElement.replaceChild(b.domNode,a),b.isDomFocused&&b.isDomFocused(a)&&F.focus(b.focusNode)):console.log(b.id+"parent null"):console.log(a.widgetid+" not found")}else if(0<a.childNodes.length)for(b=0;b<a.childNodes.length;b++){var c=
a.childNodes.item(b);this.fixWidgets(c)}},disableWidgets:function(a,b){if(a.getAttribute&&a.getAttribute("widgetid")){var c=B.byId(a.getAttribute("widgetid"));c&&c.set("readOnly",b)}else if(0<a.childNodes.length)for(c=0;c<a.childNodes.length;c++){var d=a.childNodes.item(c);this.disableWidgets(d,b)}},startup:function(){this.inherited(arguments);this.editor.render();this.hasSampleAnswer&&this._addSampleAnswerButton()},editorInit:function(){this.editor.buttons.undo.cmd="Undo";this.editor.buttons.undo.onclick=
function(){this.editor.execCommand("Undo")};this.editor.buttons.redo.cmd="Redo";this.editor.buttons.redo.onclick=function(){this.editor.execCommand("Redo")};this.initialized=!0;this.setValue(this.value);F.registerWin(this.editor.contentWindow);(window.AssessmentsComponents||P).focus.register(this.editor.contentWindow);u(this.editor.getBody(),"mousedown",n.hitch(this,this.editorClick));this._palette.overrideParentNode=this.domNode;u(this.editor.contentWindow.frameElement,"load",n.hitch(this,this.editorDOMLoaded))},
editorDOMLoaded:function(a){z.set(this.editor.contentWindow.frameElement,"title",O.richViewArea);this._widgetsArray&&(this.initWidgets(this._widgetsArray),this._widgetsArray=null);Q.staticFunctions.loadingCompleted(this)},editorClick:function(a){10==v("ie")&&this.editor.getBody().focus()},updatePaletteLoc:function(){if(this.editor&&this.editor.contentAreaContainer){var a=b.position(this.editor.contentAreaContainer);this._palette.dockOffset={x:a.x+5,y:a.y+5}}},updateFrameLocation:function(a){if(this.editor&&
this.editor.contentAreaContainer){var c=b.position(this.editor.contentAreaContainer);a.frameLoc={x:c.x+5,y:c.y+5}}},destroy:function(){this.editor.destroy();this.inherited(arguments);this.cleanupPalette()},cleanupPalette:function(){var a=this.getViewer();a&&(a.essayPalette=null);this._palette&&(this._palette.destroyRecursive(),this._palette=null)},navigate:function(){this.cleanupPalette()},onDisplayChanged:function(){this.inherited(arguments);this.editorChange()},editorChange:function(){var a=this;
clearTimeout(this.editorChangeTimeoutId);this.editorChangeTimeoutId=setTimeout(function(){var b=a.get("value"),b=Boolean(b);a.inputFilled!==b&&(a.inputFilled=b,a.inputChanged())},50)},getInputData:function(){return{userResponse:this.get("value")}},clear:function(){this.set("value","");this.editorChange()},_readOnly:!1,_setReadOnlyAttr:function(a){this.set("disabled",a);a?r.add(this.domNode,"ReadOnly"):r.remove(this.domNode,"ReadOnly");this._readOnly=a;this.editor&&(this.editor.settings.readonly=a,
this.initialized&&(this.editor.getBody().setAttribute("contenteditable",!a),this.disableWidgets(this.editor.getBody(),a)),a&&(this.editor.settings.toolbar=!1))},processCommand:function(a){switch(a){case "answered":this.set("readOnly",!0),this.isAnswered=!0}},_hidePalette:!1,_setHidePaletteAttr:function(a){this._hidePalette=a},_getHidePaletteAttr:function(){return this._hidePalette},initWidgets:function(a){a.forEach(function(a){(a=a instanceof H?a.getEqDoc():a instanceof J?a.getEqDoc():null)&&a.reLayout()},
this)},preLoadWidgets:function(a){a=a.replace(RegExp("\x3ctdxeq\x3e","g"),this._readOnly?'\x3cspan data-dojo-type\x3d"xl.eqeditor.InlineFormula"\x3e':'\x3cspan data-dojo-type\x3d"xl.eqeditor.InlineEditor"\x3e');return a=a.replace(RegExp("\x3c/tdxeq\x3e","g"),"\x3c/span\x3e")},onBeforeSetContent:function(a){a.content=this.preLoadWidgets(a.content)},onSetContent:function(a){if(this.editor){if(!this.importedJssStyles){a=document.head.getElementsByTagName("style");for(var b=0;b<a.length;b++)void 0!=a[b].dataset.jss&&
(k.create("style",{"data-jss":""},this.editor.contentDocument.head).innerHTML=a[b].innerHTML);this.importedJssStyles=!0}this.parseContent(this.editor.getBody())}},parseContent:function(b){if((b=a.parse(b))&&0<b.length)this._widgetsArray=b},_setValueAttr:function(a){this.initialized&&this.editor.getBody()&&m.forEach(B.findWidgets(this.editor.getBody()),function(a){a.destroy(!0)});this.setValue(a)},_getValueAttr:function(){return this.getValue()},saveWidgets:function(a){if(a instanceof Array)return[].concat(a.forEach(function(a){return this.saveWidgets(a)},
this));if(a.getAttribute&&a.getAttribute("widgetid")){var b=B.byId(a.getAttribute("widgetid"));b||console.log(a.widgetid+" not found");return b&&b.saveHtmlNode?b.saveHtmlNode():a}if(0<a.childNodes.length)for(b=0;b<a.childNodes.length;b++){var c=a.childNodes.item(b);a.replaceChild(this.saveWidgets(c),c)}return a},fixIE:!1,dojoAttributes:"data-dojo-id,data-dojo-type,data-dojo-props,data-dojo-attach-event,data-dojo-attach-point",onBeforeGetContent:function(a){tinyMCE.Env.ie&&(tinyMCE.Env.ie=!1,this.fixIE=
!0);this._saveSetUp||(this.editor.serializer.addAttributeFilter("widgetid",n.hitch(this,this.filterWidgets)),this.editor.serializer.addAttributeFilter(this.dojoAttributes,n.hitch(this,this.filterDojoAttributes)),this._saveSetUp=!0)},filterWidgets:function(a,b){this.fixIE&&(tinyMCE.Env.ie=!0,this.fixIE=!1);for(var c=0;c<a.length;c++){var d=a[c],e=B.byId(d.attr("widgetid"));e||console.log(d.attr("widgetid")+" not found");if(e&&e.saveHtmlNode){var e=e.saveHtmlNode(),f=new tinymce.html.Node("#text",3);
f.value=G.EquationClasses.EqUtils.getTextContent(e);d.firstChild=d.lastChild=f;d.name=e.localName;d.attributes=[]}}},filterDojoAttributes:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.attributes)for(var e=d.attributes.length;e--;)d.attributes[e].name&&0<=d.attributes[e].name.indexOf("data-dojo")&&d.attributes.splice(e,1)}},_showSampleAnswer:function(a){u.emit(this.domNode,"sample_essay",{bubbles:!0,cancelable:!0,sourceObjectId:a,command:"essayanswer"})},_addSampleAnswerButton:function(){var a=
this,b=new M({label:R["button.see_sample_answer"],onClick:function(b){a._showSampleAnswer(a.id)},"class":"navButton btn-default btn-primary btnSampleAnswer"});z.set(b.domNode,{title:R["button.see_sample_answer"],"aria-title":R["button.see_sample_answer"]});b.startup();k.place(b.domNode,this.domNode,"after")}})})},"xl/nonamd/mce/tinymce":function(){define(["xl/nonamd/mce/src/4.1.10/tinymce"],function(s){return s})},"xl/nonamd/mce/src/4.1.10/tinymce":function(){define([],function(){(function(s,q){function l(f,
h){for(var c,e=[],b=0;b<f.length;++b){if(!(c=n[f[b]]))a:{c=s;for(var d=f[b].split(/[.\/]/),k=0;k<d.length;++k){if(!c[d[k]]){c=void 0;break a}c=c[d[k]]}}if(!c)throw"module definition dependecy not found: "+f[b];e.push(c)}h.apply(null,e)}function h(f,h,c){if("string"!==typeof f)throw"invalid module definition, module id must be defined and be a string";if(h===q)throw"invalid module definition, dependencies must be specified";if(c===q)throw"invalid module definition, definition function must be specified";
l(h,function(){n[f]=c.apply(null,arguments)})}var n={};h("tinymce/dom/EventUtils",[],function(){function f(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function h(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function c(a,b){function c(){return!1}function d(){return!0}var e,f=b||{};for(e in a)r[e]||(f[e]=a[e]);f.target||(f.target=f.srcElement||document);if(a&&k.test(a.type)&&void 0===a.pageX&&
void 0!==a.clientX){var h=f.target.ownerDocument||document;e=h.documentElement;h=h.body;f.pageX=a.clientX+(e&&e.scrollLeft||h&&h.scrollLeft||0)-(e&&e.clientLeft||h&&h.clientLeft||0);f.pageY=a.clientY+(e&&e.scrollTop||h&&h.scrollTop||0)-(e&&e.clientTop||h&&h.clientTop||0)}f.preventDefault=function(){f.isDefaultPrevented=d;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};f.stopPropagation=function(){f.isPropagationStopped=d;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};f.stopImmediatePropagation=
function(){f.isImmediatePropagationStopped=d;f.stopPropagation()};f.isDefaultPrevented||(f.isDefaultPrevented=c,f.isPropagationStopped=c,f.isImmediatePropagationStopped=c);return f}function e(a,b,c){function d(){c.domLoaded||(c.domLoaded=!0,b(l))}function e(){if("complete"===r.readyState||"interactive"===r.readyState&&r.body)h(r,"readystatechange",e),d()}function k(){try{r.documentElement.doScroll("left")}catch(a){setTimeout(k,0);return}d()}var r=a.document,l={type:"ready"};c.domLoaded?b(l):(r.addEventListener?
"complete"===r.readyState?d():f(a,"DOMContentLoaded",d):(f(r,"readystatechange",e),r.documentElement.doScroll&&a.self===a.top&&k()),f(a,"load",d))}function b(){function a(a,b){var c,d,e,f;if(c=(c=k[b])&&c[a.type]){d=0;for(e=c.length;d<e&&!((f=c[d])&&!1===f.func.call(f.scope,a)&&a.preventDefault(),a.isImmediatePropagationStopped());d++);}}var b=this,k={},r,l,n,q,s;l=d+(+new Date).toString(32);q="onmouseenter"in document.documentElement;n="onfocusin"in document.documentElement;s={mouseenter:"mouseover",
mouseleave:"mouseout"};r=1;b.domLoaded=!1;b.events=k;b.bind=function(d,h,m,C){function E(b){a(c(b||M.event),J)}var J,H,G,I,L,O,Q,M=window;if(d&&!(3===d.nodeType||8===d.nodeType)){d[l]?J=d[l]:(J=r++,d[l]=J,k[J]={});C=C||d;h=h.split(" ");for(G=h.length;G--;)if(I=h[G],O=E,L=Q=!1,"DOMContentLoaded"===I&&(I="ready"),b.domLoaded&&"ready"===I&&"complete"==d.readyState)m.call(C,c({type:I}));else{q||(L=s[I])&&(O=function(b){var d,e;d=b.currentTarget;if((e=b.relatedTarget)&&d.contains)e=d.contains(e);else for(;e&&
e!==d;)e=e.parentNode;e||(b=c(b||M.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=d,a(b,J))});if(!n&&("focusin"===I||"focusout"===I))Q=!0,L="focusin"===I?"focus":"blur",O=function(b){b=c(b||M.event);b.type="focus"===b.type?"focusin":"focusout";a(b,J)};(H=k[J][I])?"ready"===I&&b.domLoaded?m({type:I}):H.push({func:m,scope:C}):(k[J][I]=H=[{func:m,scope:C}],H.fakeName=L,H.capture=Q,H.nativeHandler=O,"ready"===I?e(d,O,b):f(d,L||I,O,Q))}d=H=0;return m}};b.unbind=function(a,c,d){var e,
f,r,n,v,q;if(!a||3===a.nodeType||8===a.nodeType)return b;if(e=a[l]){q=k[e];if(c){c=c.split(" ");for(r=c.length;r--;)if(v=c[r],f=q[v]){if(d)for(n=f.length;n--;)if(f[n].func===d){var s=f.nativeHandler,z=f.fakeName,B=f.capture;f=f.slice(0,n).concat(f.slice(n+1));f.nativeHandler=s;f.fakeName=z;f.capture=B;q[v]=f}if(!d||0===f.length)delete q[v],h(a,f.fakeName||v,f.nativeHandler,f.capture)}}else{for(v in q)f=q[v],h(a,f.fakeName||v,f.nativeHandler,f.capture);q={}}for(v in q)return b;delete k[e];try{delete a[l]}catch(F){a[l]=
null}}return b};b.fire=function(d,e,f){if(!d||3===d.nodeType||8===d.nodeType)return b;f=c(null,f);f.type=e;f.target=d;do(e=d[l])&&a(f,e),d=d.parentNode||d.ownerDocument||d.defaultView||d.parentWindow;while(d&&!f.isPropagationStopped());return b};b.clean=function(a){var c,d,e=b.unbind;if(!a||3===a.nodeType||8===a.nodeType)return b;a[l]&&e(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName){e(a);d=a.getElementsByTagName("*");for(c=d.length;c--;)a=d[c],a[l]&&e(a)}return b};b.destroy=
function(){k={}};b.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var d="mce-data-",k=/^(?:mouse|contextmenu)|click/,r={keyLocation:1,layerX:1,layerY:1,returnValue:1};b.Event=new b;b.Event.bind(window,"ready",function(){});return b});h("tinymce/dom/Sizzle",[],function(){function f(a,b,c,d){var e,f,h,k,m;(b?b.ownerDocument||b:ba)!==P&&R(b);b=b||P;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(k=b.nodeType)&&9!==k)return[];if(S&&!d){if(e=Ea.exec(a))if(h=e[1])if(9===
k)if((f=b.getElementById(h))&&f.parentNode){if(f.id===h)return c.push(f),c}else return c;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&$(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return ea.apply(c,b.getElementsByTagName(a)),c;if((h=e[3])&&C.getElementsByClassName)return ea.apply(c,b.getElementsByClassName(h)),c}if(C.qsa&&(!K||!K.test(a))){f=e=U;h=b;m=9===k&&a;if(1===k&&"object"!==b.nodeName.toLowerCase()){k=G(a);(e=b.getAttribute("id"))?f=e.replace(Fa,"\\$\x26"):b.setAttribute("id",
f);f="[id\x3d'"+f+"'] ";for(h=k.length;h--;)k[h]=f+n(k[h]);h=wa.test(a)&&t(b.parentNode)||b;m=k.join(",")}if(m)try{return ea.apply(c,h.querySelectorAll(m)),c}catch(r){}finally{e||b.removeAttribute("id")}}}return L(a.replace(pa,"$1"),b,c,d)}function h(){function a(c,d){b.push(c+" ")>E.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function c(a){a[U]=!0;return a}function e(a){var b=P.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}
function b(a,b){for(var c=a.split("|"),d=a.length;d--;)E.attrHandle[c[d]]=b}function d(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||ia)-(~a.sourceIndex||ia);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function k(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function r(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function a(a){return c(function(b){b=+b;return c(function(c,
d){for(var e,f=a([],c.length,b),h=f.length;h--;)if(c[e=f[h]])c[e]=!(d[e]=c[e])})})}function t(a){return a&&typeof a.getElementsByTagName!==ca&&a}function l(){}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function s(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=X++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,h){var k,m,r=[da,f];if(h)for(;b=b[d];){if((1===b.nodeType||e)&&a(b,c,h))return!0}else for(;b=b[d];)if(1===b.nodeType||
e){m=b[U]||(b[U]={});if((k=m[d])&&k[0]===da&&k[1]===f)return r[2]=k[2];m[d]=r;if(r[2]=a(b,c,h))return!0}}}function z(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function B(a,b,c,d,e){for(var f,h=[],k=0,m=a.length,r=null!=b;k<m;k++)if(f=a[k])if(!c||c(f,d,e))h.push(f),r&&b.push(k);return h}function F(a,b,d,e,h,k){e&&!e[U]&&(e=F(e));h&&!h[U]&&(h=F(h,k));return c(function(c,k,m,r){var t,l,n=[],v=[],q=k.length,u;if(!(u=c)){u=b||"*";for(var C=m.nodeType?
[m]:m,s=[],w=0,D=C.length;w<D;w++)f(u,C[w],s);u=s}u=a&&(c||!b)?B(u,n,a,m,r):u;C=d?h||(c?a:q||e)?[]:k:u;d&&d(u,C,m,r);if(e){t=B(C,v);e(t,[],m,r);for(m=t.length;m--;)if(l=t[m])C[v[m]]=!(u[v[m]]=l)}if(c){if(h||a){if(h){t=[];for(m=C.length;m--;)if(l=C[m])t.push(u[m]=l);h(null,C=[],t,r)}for(m=C.length;m--;)if((l=C[m])&&-1<(t=h?Y.call(c,l):n[m]))c[t]=!(k[t]=l)}}else C=B(C===k?C.splice(q,C.length):C),h?h(null,k,C,r):ea.apply(k,C)})}function A(a){var b,c,d,e=a.length,f=E.relative[a[0].type];c=f||E.relative[" "];
for(var h=f?1:0,k=s(function(a){return a===b},c,!0),m=s(function(a){return-1<Y.call(b,a)},c,!0),r=[function(a,c,d){return!f&&(d||c!==O)||((b=c).nodeType?k(a,c,d):m(a,c,d))}];h<e;h++)if(c=E.relative[a[h].type])r=[s(z(r),c)];else{c=E.filter[a[h].type].apply(null,a[h].matches);if(c[U]){for(d=++h;d<e&&!E.relative[a[d].type];d++);return F(1<h&&z(r),1<h&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(pa,"$1"),c,h<d&&A(a.slice(h,d)),d<e&&A(a=a.slice(d)),d<e&&n(a))}r.push(c)}return z(r)}
function x(a,b){var d=0<b.length,e=0<a.length,h=function(c,h,k,m,r){var t,l,n,v=0,q="0",u=c&&[],C=[],s=O,w=c||e&&E.find.TAG("*",r),D=da+=null==s?1:Math.random()||0.1,z=w.length;for(r&&(O=h!==P&&h);q!==z&&null!=(t=w[q]);q++){if(e&&t){for(l=0;n=a[l++];)if(n(t,h,k)){m.push(t);break}r&&(da=D)}d&&((t=!n&&t)&&v--,c&&u.push(t))}v+=q;if(d&&q!==v){for(l=0;n=b[l++];)n(u,C,h,k);if(c){if(0<v)for(;q--;)!u[q]&&!C[q]&&(C[q]=ha.call(m));C=B(C)}ea.apply(m,C);r&&(!c&&0<C.length&&1<v+b.length)&&f.uniqueSort(m)}r&&(da=
D,O=s);return u};return d?c(h):h}var w,C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W,$,U="sizzle"+-new Date,ba=window.document,da=0,X=0,fa=h(),ga=h(),aa=h(),Z=function(a,b){a===b&&(M=!0);return 0},ca=typeof q,ia=-2147483648,la={}.hasOwnProperty,ja=[],ha=ja.pop,N=ja.push,ea=ja.push,ka=ja.slice,Y=ja.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},pa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ua=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ya=
/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,za=RegExp("\x3d[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Aa=RegExp(":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
ra=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,oa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[\x3e+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?\x3d[^-]|$)",
"i")},Ba=/^(?:input|select|textarea|button)$/i,Ca=/^h\d$/i,sa=/^[^{]+\{\s*\[native \w/,Ea=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wa=/[+~]/,Fa=/'|\\/g,ma=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),na=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{ea.apply(ja=ka.call(ba.childNodes),ba.childNodes),ja[ba.childNodes.length].nodeType}catch(Ia){ea={apply:ja.length?function(a,b){N.apply(a,
ka.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}C=f.support={};H=f.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};R=f.setDocument=function(a){var b=a?a.ownerDocument||a:ba;a=b.defaultView;if(b===P||9!==b.nodeType||!b.documentElement)return P;P=b;V=b.documentElement;S=!H(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){R()},!1):a.attachEvent&&a.attachEvent("onunload",function(){R()}));C.attributes=
e(function(a){a.className="i";return!a.getAttribute("className")});C.getElementsByTagName=e(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});C.getElementsByClassName=sa.test(b.getElementsByClassName);C.getById=e(function(a){V.appendChild(a).id=U;return!b.getElementsByName||!b.getElementsByName(U).length});C.getById?(E.find.ID=function(a,b){if(typeof b.getElementById!==ca&&S){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},E.filter.ID=function(a){var b=
a.replace(ma,na);return function(a){return a.getAttribute("id")===b}}):(delete E.find.ID,E.filter.ID=function(a){var b=a.replace(ma,na);return function(a){return(a=typeof a.getAttributeNode!==ca&&a.getAttributeNode("id"))&&a.value===b}});E.find.TAG=C.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==ca)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f};E.find.CLASS=C.getElementsByClassName&&
function(a,b){if(S)return b.getElementsByClassName(a)};T=[];K=[];if(C.qsa=sa.test(b.querySelectorAll))e(function(a){a.innerHTML="\x3cselect msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&K.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||K.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||K.push(":checked")}),e(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&K.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");a.querySelectorAll(":enabled").length||K.push(":enabled",":disabled");a.querySelectorAll("*,:x");K.push(",.*:")});(C.matchesSelector=sa.test(W=V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.oMatchesSelector||V.msMatchesSelector))&&
e(function(a){C.disconnectedMatch=W.call(a,"div");W.call(a,"[s!\x3d'']:x");T.push("!\x3d",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});K=K.length&&RegExp(K.join("|"));T=T.length&&RegExp(T.join("|"));
$=(a=sa.test(V.compareDocumentPosition))||sa.test(V.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Z=a?function(a,c){if(a===c)return M=!0,0;var d=!a.compareDocumentPosition-!c.compareDocumentPosition;if(d)return d;d=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):
1;return d&1||!C.sortDetached&&c.compareDocumentPosition(a)===d?a===b||a.ownerDocument===ba&&$(ba,a)?-1:c===b||c.ownerDocument===ba&&$(ba,c)?1:Q?Y.call(Q,a)-Y.call(Q,c):0:d&4?-1:1}:function(a,c){if(a===c)return M=!0,0;var e,f=0;e=a.parentNode;var h=c.parentNode,k=[a],m=[c];if(!e||!h)return a===b?-1:c===b?1:e?-1:h?1:Q?Y.call(Q,a)-Y.call(Q,c):0;if(e===h)return d(a,c);for(e=a;e=e.parentNode;)k.unshift(e);for(e=c;e=e.parentNode;)m.unshift(e);for(;k[f]===m[f];)f++;return f?d(k[f],m[f]):k[f]===ba?-1:m[f]===
ba?1:0};return b};f.matches=function(a,b){return f(a,null,null,b)};f.matchesSelector=function(a,b){(a.ownerDocument||a)!==P&&R(a);b=b.replace(za,"\x3d'$1']");if(C.matchesSelector&&S&&(!T||!T.test(b))&&(!K||!K.test(b)))try{var c=W.call(a,b);if(c||C.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<f(b,P,null,[a]).length};f.contains=function(a,b){(a.ownerDocument||a)!==P&&R(a);return $(a,b)};f.attr=function(a,b){(a.ownerDocument||a)!==P&&R(a);var c=E.attrHandle[b.toLowerCase()],
c=c&&la.call(E.attrHandle,b.toLowerCase())?c(a,b,!S):q;return c!==q?c:C.attributes||!S?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};f.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};f.uniqueSort=function(a){var b,c=[],d=0,e=0;M=!C.detectDuplicates;Q=!C.sortStable&&a.slice(0);a.sort(Z);if(M){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}Q=null;return a};J=f.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||
11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=J(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d++];)c+=J(b);return c};E=f.selectors={cacheLength:50,createPseudo:c,match:oa,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ma,na);a[3]=(a[3]||a[4]||a[5]||"").replace(ma,na);"~\x3d"===
a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||f.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&f.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(oa.CHILD.test(a[0]))return null;if(a[3])a[2]=a[4]||a[5]||"";else if(c&&Aa.test(c)&&(b=G(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length))a[0]=a[0].slice(0,b),a[2]=c.slice(0,b);return a.slice(0,3)}},filter:{TAG:function(a){var b=
a.replace(ma,na).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=fa[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&fa(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==ca&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){d=f.attr(d,a);if(null==d)return"!\x3d"===b;if(!b)return!0;d+="";return"\x3d"===b?d===c:
"!\x3d"===b?d!==c:"^\x3d"===b?c&&0===d.indexOf(c):"*\x3d"===b?c&&-1<d.indexOf(c):"$\x3d"===b?c&&d.slice(-c.length)===c:"~\x3d"===b?-1<(" "+d+" ").indexOf(c):"|\x3d"===b?d===c||d.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),h="last"!==a.slice(-4),k="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,m){var r,t,l,n,v;c=f!==h?"nextSibling":"previousSibling";var q=b.parentNode,u=k&&b.nodeName.toLowerCase();m=!m&&!k;if(q){if(f){for(;c;){for(t=
b;t=t[c];)if(k?t.nodeName.toLowerCase()===u:1===t.nodeType)return!1;v=c="only"===a&&!v&&"nextSibling"}return!0}v=[h?q.firstChild:q.lastChild];if(h&&m){m=q[U]||(q[U]={});r=m[a]||[];n=r[0]===da&&r[1];l=r[0]===da&&r[2];for(t=n&&q.childNodes[n];t=++n&&t&&t[c]||(l=n=0)||v.pop();)if(1===t.nodeType&&++l&&t===b){m[a]=[da,n,l];break}}else if(m&&(r=(b[U]||(b[U]={}))[a])&&r[0]===da)l=r[1];else for(;t=++n&&t&&t[c]||(l=n=0)||v.pop();)if((k?t.nodeName.toLowerCase()===u:1===t.nodeType)&&++l)if(m&&((t[U]||(t[U]=
{}))[a]=[da,l]),t===b)break;l-=e;return l===d||0===l%d&&0<=l/d}}},PSEUDO:function(a,b){var d,e=E.pseudos[a]||E.setFilters[a.toLowerCase()]||f.error("unsupported pseudo: "+a);return e[U]?e(b):1<e.length?(d=[a,a,"",b],E.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,c){for(var d,f=e(a,b),h=f.length;h--;)d=Y.call(a,f[h]),a[d]=!(c[d]=f[h])}):function(a){return e(a,0,d)}):e}},pseudos:{not:c(function(a){var b=[],d=[],e=I(a.replace(pa,"$1"));return e[U]?c(function(a,b,c,d){d=e(a,null,d,[]);for(var f=
a.length;f--;)if(c=d[f])a[f]=!(b[f]=c)}):function(a,c,f){b[0]=a;e(b,null,f,d);return!d.pop()}}),has:c(function(a){return function(b){return 0<f(a,b).length}}),contains:c(function(a){a=a.replace(ma,na);return function(b){return-1<(b.textContent||b.innerText||J(b)).indexOf(a)}}),lang:c(function(a){ra.test(a||"")||f.error("unsupported lang: "+a);a=a.replace(ma,na).toLowerCase();return function(b){var c;do if(c=S?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||
0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===V},focus:function(a){return a===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},
selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!E.pseudos.empty(a)},header:function(a){return Ca.test(a.nodeName)},input:function(a){return Ba.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==
(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:a(function(){return[0]}),last:a(function(a,b){return[b-1]}),eq:a(function(a,b,c){return[0>c?c+b:c]}),even:a(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:a(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:a(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:a(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};E.pseudos.nth=E.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=
k(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=r(w);l.prototype=E.filters=E.pseudos;E.setFilters=new l;G=f.tokenize=function(a,b){var c,d,e,h,k,m,r;if(k=ga[a+" "])return b?0:k.slice(0);k=a;m=[];for(r=E.preFilter;k;){if(!c||(d=ua.exec(k)))d&&(k=k.slice(d[0].length)||k),m.push(e=[]);c=!1;if(d=ya.exec(k))c=d.shift(),e.push({value:c,type:d[0].replace(pa," ")}),k=k.slice(c.length);for(h in E.filter)if((d=oa[h].exec(k))&&(!r[h]||(d=r[h](d))))c=d.shift(),e.push({value:c,type:h,matches:d}),k=k.slice(c.length);
if(!c)break}return b?k.length:k?f.error(a):ga(a,m).slice(0)};I=f.compile=function(a,b){var c,d=[],e=[],f=aa[a+" "];if(!f){b||(b=G(a));for(c=b.length;c--;)f=A(b[c]),f[U]?d.push(f):e.push(f);f=aa(a,x(e,d));f.selector=a}return f};L=f.select=function(a,b,c,d){var e,f,h,k,m="function"===typeof a&&a,r=!d&&G(a=m.selector||a);c=c||[];if(1===r.length){f=r[0]=r[0].slice(0);if(2<f.length&&"ID"===(h=f[0]).type&&C.getById&&9===b.nodeType&&S&&E.relative[f[1].type]){if(b=(E.find.ID(h.matches[0].replace(ma,na),b)||
[])[0])m&&(b=b.parentNode);else return c;a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--;){h=f[e];if(E.relative[k=h.type])break;if(k=E.find[k])if(d=k(h.matches[0].replace(ma,na),wa.test(f[0].type)&&t(b.parentNode)||b)){f.splice(e,1);a=d.length&&n(f);if(!a)return ea.apply(c,d),c;break}}}(m||I(a,r))(d,b,!S,c,wa.test(a)&&t(b.parentNode)||b);return c};C.sortStable=U.split("").sort(Z).join("")===U;C.detectDuplicates=!!M;R();C.sortDetached=e(function(a){return a.compareDocumentPosition(P.createElement("div"))&
1});e(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===a.firstChild.getAttribute("href")})||b("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!C.attributes||!e(function(a){a.innerHTML="\x3cinput/\x3e";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")}))&&b("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||
b("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return f});h("tinymce/Env",[],function(){var f=navigator,h=f.userAgent,c,e,b,d,k,r,a;c=window.opera&&window.opera.buildNumber;a=/Android/.test(h);e=/WebKit/.test(h);b=(b=!e&&!c&&/MSIE/gi.test(h)&&/Explorer/gi.test(f.appName))&&/MSIE (\w+)\./.exec(h)[1];d=-1!=h.indexOf("Trident/")&&
(-1!=h.indexOf("rv:")||-1!=f.appName.indexOf("Netscape"))?11:!1;f=document.msElementsFromPoint&&!b&&!d?12:!1;b=b||d||f;d=!e&&!d&&/Gecko/.test(h);k=-1!=h.indexOf("Mac");r=/(iPad|iPhone)/.test(h);f&&(e=!1);h=!r||534<=h.match(/AppleWebKit\/(\d*)/)[1];return{opera:c,webkit:e,ie:b,gecko:d,mac:k,iOS:r,android:a,contentEditable:h,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=b,range:window.getSelection&&"Range"in window,documentMode:b&&!f?document.documentMode||
7:10}});h("tinymce/util/Tools",["tinymce/Env"],function(f){function h(a){return null===a||a===q?"":(""+a).replace(k,"")}function c(a,b){return!b?a!==q:"array"==b&&r(a)?!0:typeof a==b}function e(a,b,c){var d,e;if(!a)return 0;c=c||a;if(a.length!==q){d=0;for(e=a.length;d<e;d++)if(!1===b.call(c,a[d],d,a))return 0}else for(d in a)if(a.hasOwnProperty(d)&&!1===b.call(c,a[d],d,a))return 0;return 1}function b(a,b){var c=[];e(a,function(a){c.push(b(a))});return c}function d(a,b,c,f){f=f||this;a&&(c&&(a=a[c]),
e(a,function(a,e){if(!1===b.call(f,a,e,c))return!1;d(a,b,c,f)}))}var k=/^\s*|\s*$/g,r=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:h,isArray:r,is:c,toArray:function(a){var b=a,c,d;if(!r(a)){b=[];c=0;for(d=a.length;c<d;c++)b[c]=a[c]}return b},makeMap:function(a,b,c){a=a||[];"string"==typeof a&&(a=a.split(b||","));c=c||{};for(b=a.length;b--;)c[a[b]]={};return c},each:e,map:b,grep:function(a,b){var c=[];e(a,function(a){(!b||b(a))&&c.push(a)});return c},
inArray:function(a,b){var c,d;if(a){c=0;for(d=a.length;c<d;c++)if(a[c]===b)return c}return-1},extend:function(a,b){var c,d,e,f=arguments,h;c=1;for(d=f.length;c<d;c++)for(e in b=f[c],b)b.hasOwnProperty(e)&&(h=b[e],h!==q&&(a[e]=h));return a},create:function(a,b,c){var d,e,f,h,k,m=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);f=a[3].match(/(^|\.)(\w+)$/i)[2];e=this.createNS(a[3].replace(/\.\w+$/,""),c);if(!e[f])if("static"==a[2]){if(e[f]=b,this.onCreate)this.onCreate(a[2],a[3],e[f])}else b[f]||(b[f]=
function(){},m=1),e[f]=b[f],this.extend(e[f].prototype,b),a[5]&&(d=this.resolve(a[5]).prototype,h=a[5].match(/\.(\w+)$/i)[1],k=e[f],e[f]=m?function(){return d[h].apply(this,arguments)}:function(){this.parent=d[h];return k.apply(this,arguments)},e[f].prototype[f]=e[f],this.each(d,function(a,b){e[f].prototype[b]=d[b]}),this.each(b,function(a,b){d[b]?e[f].prototype[b]=function(){this.parent=d[b];return a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})),this.each(b["static"],function(a,b){e[f][b]=
a})},walk:d,createNS:function(a,b){var c,d;b=b||window;a=a.split(".");for(c=0;c<a.length;c++)d=a[c],b[d]||(b[d]={}),b=b[d];return b},resolve:function(a,b){var c,d;b=b||window;a=a.split(".");c=0;for(d=a.length;c<d&&!(b=b[a[c]],!b);c++);return b},explode:function(a,d){return!a||c(a,"array")?a:b(a.split(d||","),h)},_addCacheSuffix:function(a){var b=f.cacheSuffix;b&&(a+=(-1===a.indexOf("?")?"?":"\x26")+b);return a}}});h("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools",
"tinymce/Env"],function(f,h,c,e){function b(a){return"undefined"!==typeof a}function d(a,b){var c,d,e;b=b||x;e=b.createElement("div");c=b.createDocumentFragment();for(e.innerHTML=a;d=e.firstChild;)c.appendChild(d);return c}function k(b,c,e,f){var h;if("string"===typeof c)c=d(c,s(b[0]));else if(c.length&&!c.nodeType){c=a.makeArray(c);if(f)for(h=c.length-1;0<=h;h--)k(b,c[h],e,f);else for(h=0;h<c.length;h++)k(b,c[h],e,f);return b}if(c.nodeType)for(h=b.length;h--;)e.call(b[h],c);return b}function r(b,
c,d){var e,f;c=a(c)[0];b.each(function(){if(!d||e!=this.parentNode)e=this.parentNode,f=c.cloneNode(!1),this.parentNode.insertBefore(f,this);f.appendChild(this)});return b}function a(b,c){return new a.fn.init(b,c)}function t(a){return null===a||a===H?"":(""+a).replace(R,"")}function l(a,b){var c,d,e;if(a)if(c=a.length,void 0===c)for(d in a){if(a.hasOwnProperty(d)&&(e=a[d],!1===b.call(e,d,e)))break}else for(d=0;d<c&&!(e=a[d],!1===b.call(e,d,e));d++);return a}function n(a,b){var c=[];l(a,function(a,
d){b(d,a)&&c.push(d)});return c}function s(a){return!a?x:9==a.nodeType?a:a.ownerDocument}function z(b,c,d){var e=[];b=b[c];for("string"!=typeof d&&d instanceof a&&(d=d[0]);b&&9!==b.nodeType;){if(d!==q){if(b===d)break;if("string"==typeof d&&a(b).is(d))break}1===b.nodeType&&e.push(b);b=b[c]}return e}function B(b,c,d,e){var f=[];for(e instanceof a&&(e=e[0]);b;b=b[c])if(!(d&&b.nodeType!==d)){if(e!==q){if(b===e)break;if("string"==typeof e&&a(b).is(e))break}f.push(b)}return f}function F(a,b,c){for(a=a[b];a;a=
a[b])if(a.nodeType==c)return a;return null}function A(a,b,c){l(c,function(c,d){a[c]=a[c]||{};a[c][b]=d})}var x=document,w=Array.prototype.push,C=Array.prototype.slice,E=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,J=f.Event,H,G=c.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),I=c.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),L={"for":"htmlFor","class":"className",readonly:"readOnly"},O={"float":"cssFloat"},
Q={},M={},R=/^\s*|\s*$/g;a.fn=a.prototype={constructor:a,selector:"",context:null,length:0,init:function(b,c){var e,f;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if(c&&c.nodeType)this.context=c;else{if(c)return a(b).attr(c);this.context=c=document}if("string"===typeof b)if(this.selector=b,e="\x3c"===b.charAt(0)&&"\x3e"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:E.exec(b))if(e[1])for(f=d(b,s(c)).firstChild;f;)w.call(this,f),f=f.nextSibling;else{f=s(c).getElementById(e[2]);
if(!f)return this;if(f.id!==e[2])return this.find(b);this.length=1;this[0]=f}else return a(c).find(b);else this.add(b,!1);return this},toArray:function(){return c.toArray(this)},add:function(b,c){var d,e;if("string"===typeof b)return this.add(a(b));if(!1!==c){d=a.unique(this.toArray().concat(a.makeArray(b)));this.length=d.length;for(e=0;e<d.length;e++)this[e]=d[e]}else w.apply(this,a.makeArray(b));return this},attr:function(a,c){var d=this,e;if("object"===typeof a)l(a,function(a,b){d.attr(a,b)});
else if(b(c))this.each(function(){var b;1===this.nodeType&&((b=Q[a])&&b.set?b.set(this,c):null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2))});else{if(d[0]&&1===d[0].nodeType){if((e=Q[a])&&e.get)return e.get(d[0],a);if(I[a])return d.prop(a)?a:H;c=d[0].getAttribute(a,2);null===c&&(c=H)}return c}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var d=this;a=L[a]||a;if("object"===typeof a)l(a,function(a,b){d.prop(a,b)});else if(b(c))this.each(function(){1==this.nodeType&&
(this[a]=c)});else return d[0]&&d[0].nodeType&&a in d[0]?d[0][a]:c;return d},css:function(a,c){function d(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function e(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var f=this,h,k;if("object"===typeof a)l(a,function(a,b){f.css(a,b)});else if(b(c))a=d(a),"number"===typeof c&&!G[a]&&(c+="px"),f.each(function(){var b=this.style;if((k=M[a])&&k.set)k.set(this,c);else{try{this.style[O[a]||a]=c}catch(d){}if(null===c||""===c)b.removeProperty?
b.removeProperty(e(a)):b.removeAttribute(a)}});else{h=f[0];if((k=M[a])&&k.get)return k.get(h);if(h.ownerDocument.defaultView)try{return h.ownerDocument.defaultView.getComputedStyle(h,null).getPropertyValue(e(a))}catch(m){return H}else if(h.currentStyle)return h.currentStyle[d(a)]}return f},remove:function(){for(var a,b=this.length;b--;)a=this[b],J.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);
return this},html:function(c){var d;if(b(c)){d=this.length;try{for(;d--;)this[d].innerHTML=c}catch(e){a(this[d]).empty().append(c)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(b(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return k(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return k(this,arguments,
function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?k(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?k(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(b){a(b).append(this);return this},prependTo:function(b){a(b).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},
wrap:function(a){return r(this,a)},wrapAll:function(a){return r(this,a,!0)},wrapInner:function(b){this.each(function(){a(this).contents().wrapAll(b)});return this},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(this.childNodes)})},clone:function(){var b=[];this.each(function(){b.push(this.cloneNode(!0))});return a(b)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;if("string"!=
typeof a)return c;-1!==a.indexOf(" ")?l(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(c,d){var e,f;f=d&&a&&-1!==(" "+d.className+" ").indexOf(" "+a+" ");f!==b&&(e=d.className,d.className=f?t((" "+e+" ").replace(" "+a+" "," ")):d.className+(e?" "+a:a))});return c},hasClass:function(a){return this[0]&&a&&-1!==(" "+this[0].className+" ").indexOf(" "+a+" ")},each:function(a){return l(this,a)},on:function(a,b){return this.each(function(){J.bind(this,a,b)})},off:function(a,b){return this.each(function(){J.unbind(this,
a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?J.fire(this,a.type,a):J.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new a(C.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(b){var c,d,e=[];c=0;for(d=this.length;c<d;c++)a.find(b,this[c],e);return a(e)},filter:function(b){return"function"==
typeof b?a(n(this.toArray(),function(a,c){return b(c,a)})):a(a.filter(b,this.toArray()))},closest:function(b){var c=[];b instanceof a&&(b=b[0]);this.each(function(d,e){for(;e;){if("string"==typeof b&&a(e).is(b)){c.push(e);break}else if(e==b){c.push(e);break}e=e.parentNode}});return a(c)},offset:function(a){var b,c,d=0,e=0;if(!a){if(b=this[0])a=b.ownerDocument,c=a.documentElement,b.getBoundingClientRect&&(e=b.getBoundingClientRect(),d=e.left+(c.scrollLeft||a.body.scrollLeft)-c.clientLeft,e=e.top+(c.scrollTop||
a.body.scrollTop)-c.clientTop);return{left:d,top:e}}return this.css(a)},push:w,sort:[].sort,splice:[].splice};c.extend(a,{extend:c.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:c.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:c.isArray,each:l,trim:t,grep:n,find:h,expr:h.selectors,unique:h.uniqueSort,text:h.getText,contains:h.contains,filter:function(b,c,d){var e=c.length;for(d&&(b=":not("+b+")");e--;)1!=
c[e].nodeType&&c.splice(e,1);return c=1===c.length?a.find.matchesSelector(c[0],b)?[c[0]]:[]:a.find.matches(b,c)}});l({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return z(a,"parentNode")},next:function(a){return F(a,"nextSibling",1)},prev:function(a){return F(a,"previousSibling",1)},children:function(a){return B(a.firstChild,"nextSibling",1)},contents:function(a){return c.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},
function(b,c){a.fn[b]=function(d){var e=[];this.each(function(){var b=c.call(e,this,d,e);b&&(a.isArray(b)?e.push.apply(e,b):e.push(b))});1<this.length&&(e=a.unique(e),0===b.indexOf("parents")&&(e=e.reverse()));e=a(e);return d?e.filter(d):e}});l({parentsUntil:function(a,b){return z(a,"parentNode",b)},nextUntil:function(a,b){return B(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return B(a,"previousSibling",1,b).slice(1)}},function(b,c){a.fn[b]=function(d,e){var f=[];this.each(function(){var b=
c.call(f,this,d,f);b&&(a.isArray(b)?f.push.apply(f,b):f.push(b))});if(1<this.length&&(f=a.unique(f),0===b.indexOf("parents")||"prevUntil"===b))f=f.reverse();f=a(f);return e?f.filter(e):f}});a.fn.is=function(a){return!!a&&0<this.filter(a).length};a.fn.init.prototype=a.fn;a.overrideDefaults=function(b){function c(a,e){d=d||b();0===arguments.length&&(a=d.element);e||(e=d.context);return new c.fn.init(a,e)}var d;a.extend(c,this);return c};e.ie&&8>e.ie&&(A(Q,"get",{maxlength:function(a){a=a.maxLength;
return 2147483647===a?H:a},size:function(a){a=a.size;return 20===a?H:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?H:a}}),A(Q,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}}));e.ie&&9>e.ie&&(O["float"]="styleFloat",A(M,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity\x3d"+100*b+")")}}));a.attrHooks=Q;a.cssHooks=M;return a});h("tinymce/html/Styles",
[],function(){return function(f,h){function c(a,b,c,d){function e(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+e(b)+e(c)+e(d)}var e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,d=/\s*([^:]+):\s*([^;]+);?/g,k=/\s+$/,r,a={},t,l,n;f=f||{};h&&(l=h.getValidStyles(),n=h.getInvalidStyles());t="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(r=
0;r<t.length;r++)a[t[r]]="\ufeff"+r,a["\ufeff"+r]=t[r];return{toHex:function(a){return a.replace(e,c)},parse:function(h){function m(a,b,c){var d,e,f,h;if(d=u[a+"-top"+b])if(e=u[a+"-right"+b])if(f=u[a+"-bottom"+b])if(h=u[a+"-left"+b]){d=[d,e,f,h];for(r=d.length-1;r--&&d[r]===d[r+1];);-1<r&&c||(u[a+b]=-1==r?d[0]:d.join(" "),delete u[a+"-top"+b],delete u[a+"-right"+b],delete u[a+"-bottom"+b],delete u[a+"-left"+b])}}function t(a){var b=u[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;
u[a]=b[0];return!0}}function l(a,b,c,d){t(b)&&(t(c)&&t(d))&&(u[a]=u[b]+" "+u[c]+" "+u[d],delete u[b],delete u[c],delete u[d])}function n(b){G=!0;return a[b]}function q(b,c){G&&(b=b.replace(/\uFEFF[0-9]/g,function(b){return a[b]}));c||(b=b.replace(/\\([\'\";:])/g,"$1"));return b}function v(a,b,c,d,e,h){if(e=e||h)return e=q(e),"'"+e.replace(/\'/g,"\\'")+"'";b=q(b||c||d);if(!f.allow_script_urls&&(a=b.replace(/[\s\r\n]+/,""),/(java|vb)script:/i.test(a)||!f.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";
I&&(b=I.call(L,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var u={},s,J,H,G,I=f.url_converter,L=f.url_converter_scope||this;if(h){h=h.replace(/[\u0000-\u001F]/g,"");for(h=h.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,n)});s=d.exec(h);){J=s[1].replace(k,"").toLowerCase();H=s[2].replace(k,"");H=H.replace(/\\[0-9a-f]+/g,function(a){return String.fromCharCode(parseInt(a.substr(1),16))});if(J&&0<H.length){if(!f.allow_script_urls&&("behavior"==
J||/expression\s*\(|\/\*|\*\//.test(H)))continue;if("font-weight"===J&&"700"===H)H="bold";else if("color"===J||"background-color"===J)H=H.toLowerCase();H=H.replace(e,c);H=H.replace(b,v);u[J]=G?q(H,!0):H}d.lastIndex=s.index+s[0].length}m("border","",!0);m("border","-width");m("border","-color");m("border","-style");m("padding","");m("margin","");l("border","border-width","border-style","border-color");"medium none"===u.border&&delete u.border;"none"===u["border-image"]&&delete u["border-image"]}return u},
serialize:function(a,b){function c(b){var d,f,h,k;if(d=l[b]){f=0;for(h=d.length;f<h;f++)b=d[f],k=a[b],void 0!==k&&0<k.length&&(e+=(0<e.length?" ":"")+b+": "+k+";")}}function d(a,b){var c;return(c=n["*"])&&c[a]?!1:(c=n[b])&&c[a]?!1:!0}var e="",f,h;if(b&&l)c("*"),c(b);else for(f in a)if(h=a[f],void 0!==h&&0<h.length&&(!n||d(f,b)))e+=(0<e.length?" ":"")+f+": "+h+";";return e}}}});h("tinymce/dom/TreeWalker",[],function(){return function(f,h){function c(b,c,e,f){if(b){if(!f&&b[c])return b[c];if(b!=h){if(c=
b[e])return c;for(b=b.parentNode;b&&b!=h;b=b.parentNode)if(c=b[e])return c}}}var e=f;this.current=function(){return e};this.next=function(b){return e=c(e,"firstChild","nextSibling",b)};this.prev=function(b){return e=c(e,"lastChild","previousSibling",b)}}});h("tinymce/dom/Range",["tinymce/util/Tools"],function(f){function h(c){function e(a,b){l(J,a,b)}function b(a,b){l(H,a,b)}function d(a){e(a.parentNode,M(a))}function k(a){b(a.parentNode,M(a)+1)}function r(){return n(C)}function a(a,b){var c;if(3==
a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}function t(a,b,d,e){var f,h;if(a==d)return b==e?0:b<e?-1:1;for(f=d;f&&f.parentNode!=a;)f=f.parentNode;if(f){h=0;for(d=a.firstChild;d!=f&&h<b;)h++,d=d.nextSibling;return b<=h?-1:1}for(f=a;f&&f.parentNode!=d;)f=f.parentNode;if(f){h=0;for(d=d.firstChild;d!=f&&h<e;)h++,d=d.nextSibling;return h<e?-1:1}for(b=c.findCommonAncestor(a,d);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(e=d;e&&e.parentNode!=b;)e=e.parentNode;
e||(e=b);if(a==e)return 0;for(d=b.firstChild;d;){if(d==a)return-1;if(d==e)return 1;d=d.nextSibling}}function l(a,b,d){a?(x[I]=b,x[G]=d):(x[L]=b,x[O]=d);for(b=x[L];b.parentNode;)b=b.parentNode;for(d=x[I];d.parentNode;)d=d.parentNode;d==b?0<t(x[I],x[G],x[L],x[O])&&x.collapse(a):x.collapse(a);x.collapsed=x[I]==x[L]&&x[G]==x[O];x.commonAncestorContainer=c.findCommonAncestor(x[I],x[L])}function n(a){var b,c=0,d=0,e;if(x[I]==x[L])return q(a);b=x[L];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==x[I]){var f=
b;e=d=c=c=e=b=void 0;a!=E&&(b=w.createDocumentFragment());e=s(f,a);b&&b.appendChild(e);c=M(f);c-=x[G];if(!(0>=c))for(e=f.previousSibling;0<c;)d=e.previousSibling,e=A(e,a),b&&b.insertBefore(e,b.firstChild),--c,e=d;a!=C&&(x.setEndBefore(f),x.collapse(H));a=b;return a}++c}b=x[I];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==x[L]){f=b;e=d=c=e=c=b=void 0;a!=E&&(b=w.createDocumentFragment());e=B(f,a);b&&b.appendChild(e);c=M(f);++c;c=x[O]-c;for(e=f.nextSibling;e&&0<c;)d=e.nextSibling,e=A(e,a),b&&b.appendChild(e),
--c,e=d;a!=C&&(x.setStartAfter(f),x.collapse(J));return b}++d}d-=c;for(b=x[I];0<d;)b=b.parentNode,d--;for(c=x[L];0>d;)c=c.parentNode,d++;d=b.parentNode;for(e=c.parentNode;d!=e;d=d.parentNode,e=e.parentNode)b=d,c=e;var h;a!=E&&(f=w.createDocumentFragment());h=B(b,a);f&&f.appendChild(h);d=M(b);e=M(c);++d;d=e-d;for(h=b.nextSibling;0<d;)e=h.nextSibling,h=A(h,a),f&&f.appendChild(h),h=e,--d;h=s(c,a);f&&f.appendChild(h);a!=C&&(x.setStartAfter(b),x.collapse(J));return f}function q(b){var c,d,e,f,h;b!=E&&
(c=w.createDocumentFragment());if(x[G]==x[O])return c;if(3==x[I].nodeType){d=x[I].nodeValue;e=d.substring(x[G],x[O]);b!=C&&(d=x[I],f=x[G],h=x[O]-x[G],0===f&&h>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(f,h),x.collapse(J));if(b==E)return;0<e.length&&c.appendChild(w.createTextNode(e));return c}d=a(x[I],x[G]);for(e=x[O]-x[G];d&&0<e;)f=d.nextSibling,d=A(d,b),c&&c.appendChild(d),--e,d=f;b!=C&&x.collapse(J);return c}function s(b,c){var d=a(x[L],x[O]-1),e,f,h,k=d!=x[L];if(d==b)return F(d,
k,H,c);e=d.parentNode;for(f=F(e,H,H,c);e;){for(;d;)h=d.previousSibling,d=F(d,k,H,c),c!=E&&f.insertBefore(d,f.firstChild),k=J,d=h;if(e==b)return f;d=e.previousSibling;e=e.parentNode;h=F(e,H,H,c);c!=E&&h.appendChild(f);f=h}}function B(b,c){var d=a(x[I],x[G]),e=d!=x[I],f,h,k;if(d==b)return F(d,e,J,c);f=d.parentNode;for(h=F(f,H,J,c);f;){for(;d;)k=d.nextSibling,d=F(d,e,J,c),c!=E&&h.appendChild(d),e=J,d=k;if(f==b)return h;d=f.nextSibling;f=f.parentNode;k=F(f,H,J,c);c!=E&&k.appendChild(h);h=k}}function F(a,
b,d,e){var f;if(b)return A(a,e);if(3==a.nodeType){b=a.nodeValue;d?(f=x[G],d=b.substring(f),b=b.substring(0,f)):(f=x[O],d=b.substring(0,f),b=b.substring(f));e!=C&&(a.nodeValue=b);if(e==E)return;a=c.clone(a,H);a.nodeValue=d;return a}if(e!=E)return c.clone(a,H)}function A(a,b){if(b!=E)return b==C?c.clone(a,J):a;a.parentNode.removeChild(a)}var x=this,w=c.doc,C=1,E=2,J=!0,H=!1,G="startOffset",I="startContainer",L="endContainer",O="endOffset",Q=f.extend,M=c.nodeIndex;Q(x,{startContainer:w,startOffset:0,
endContainer:w,endOffset:0,collapsed:J,commonAncestorContainer:w,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:e,setEnd:b,setStartBefore:d,setStartAfter:function(a){e(a.parentNode,M(a)+1)},setEndBefore:function(a){b(a.parentNode,M(a))},setEndAfter:k,collapse:function(a){a?(x[L]=x[I],x[O]=x[G]):(x[I]=x[L],x[G]=x[O]);x.collapsed=J},selectNode:function(a){d(a);k(a)},selectNodeContents:function(a){e(a,0);b(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,
b){var c=x[I],d=x[G],e=x[L],f=x[O],h=b.startContainer,k=b.startOffset,m=b.endContainer,r=b.endOffset;if(0===a)return t(c,d,h,k);if(1===a)return t(e,f,h,k);if(2===a)return t(e,f,m,r);if(3===a)return t(c,d,m,r)},deleteContents:function(){n(E)},extractContents:function(){return n(0)},cloneContents:r,insertNode:function(a){var b=this[I],d=this[G],e;(3===b.nodeType||4===b.nodeType)&&b.nodeValue?d?d>=b.nodeValue.length?c.insertAfter(a,b):(d=b.splitText(d),b.parentNode.insertBefore(a,d)):b.parentNode.insertBefore(a,
b):(0<b.childNodes.length&&(e=b.childNodes[d]),e?b.insertBefore(a,e):3==b.nodeType?c.insertAfter(a,b):b.appendChild(a))},surroundContents:function(a){var b=x.extractContents();x.insertNode(a);a.appendChild(b);x.selectNode(a)},cloneRange:function(){return Q(new h(c),{startContainer:x[I],startOffset:x[G],endContainer:x[L],endOffset:x[O],collapsed:x.collapsed,commonAncestorContainer:x.commonAncestorContainer})},toStringIE:function(){return c.create("body",null,r()).outerText}});return x}h.prototype.toString=
function(){return this.toStringIE()};return h});h("tinymce/html/Entities",["tinymce/util/Tools"],function(f){function h(a,c){var d,e,f,k={};if(a){a=a.split(",");c=c||10;for(d=0;d<a.length;d+=2)e=String.fromCharCode(parseInt(a[d],c)),b[e]||(f="\x26"+a[d+1]+";",k[e]=f,k[f]=e);return k}}var c=f.makeMap,e,b,d,k=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\"\']/g,t=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
l={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};b={'"':"\x26quot;","'":"\x26#39;","\x3c":"\x26lt;","\x3e":"\x26gt;","\x26":"\x26amp;","`":"\x26#96;"};d={"\x26lt;":"\x3c","\x26gt;":"\x3e","\x26amp;":"\x26",
"\x26quot;":'"',"\x26apos;":"'"};e=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var n={encodeRaw:function(a,c){return a.replace(c?k:r,function(a){return b[a]||a})},encodeAllRaw:function(c){return(""+c).replace(a,function(a){return b[a]||a})},encodeNumeric:function(a,c){return a.replace(c?k:r,function(a){return 1<a.length?"\x26#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":b[a]||"\x26#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,c,d){d=d||e;return a.replace(c?k:r,function(a){return b[a]||d[a]||a})},getEncodeFunc:function(a,d){function f(a,c){return a.replace(c?
k:r,function(a){return b[a]||d[a]||"\x26#"+a.charCodeAt(0)+";"||a})}function t(a,b){return n.encodeNamed(a,b,d)}d=h(d)||e;a=c(a.replace(/\+/g,","));return a.named&&a.numeric?f:a.named?d?t:n.encodeNamed:a.numeric?n.encodeNumeric:n.encodeRaw},decode:function(a){return a.replace(t,function(a,b){if(b)return b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10),65535<b?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(b&1023))):l[b]||String.fromCharCode(b);var c;if(!(c=d[a]))if(!(c=
e[a]))c=document.createElement("div"),c.innerHTML=a,c=c.textContent||c.innerText||a;return c})}};return n});h("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools"],function(f){return function(h,c){function e(b){h.getElementsByTagName("head")[0].appendChild(b)}var b=0,d={},k;c=c||{};k=c.maxLoadTime||5E3;this.load=function(c,a,t){function l(){for(var a=C.passed,b=a.length;b--;)a[b]();C.status=2;C.passed=[];C.failed=[]}function n(){for(var a=C.failed,b=a.length;b--;)a[b]();C.status=3;C.passed=[];C.failed=
[]}function q(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function s(a,b){a()||((new Date).getTime()-w<k?window.setTimeout(b,0):n())}function B(){s(function(){for(var a=h.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===A.id)return l(),!0},B)}function F(){s(function(){try{var a=x.sheet.cssRules;l();return!!a}catch(b){}},F)}var A,x,w,C;c=f._addCacheSuffix(c);d[c]?C=d[c]:(C={passed:[],failed:[]},d[c]=C);a&&C.passed.push(a);t&&C.failed.push(t);
if(1!=C.status)if(2==C.status)l();else if(3==C.status)n();else{C.status=1;A=h.createElement("link");A.rel="stylesheet";A.type="text/css";A.id="u"+b++;A.async=!1;A.defer=!1;w=(new Date).getTime();if("onload"in A&&!q())A.onload=B,A.onerror=n;else{if(0<navigator.userAgent.indexOf("Firefox")){x=h.createElement("style");x.textContent='@import "'+c+'"';F();e(x);return}B()}e(A);A.href=c}}}});h("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(f,h,c,e,b,d,k,r,a,t){function l(a,b){var c={},d=b.keep_values,e;e={set:function(c,d,e){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||a,d,e,c[0]));c.attr("data-mce-"+e,d).attr(e,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(d&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};
d&&(c.href=c.src=e);return c}function n(a,b){var d=this,f;d.doc=a;d.win=window;d.files={};d.counter=0;d.stdMode=!A||8<=a.documentMode;d.boxModel=!A||"CSS1Compat"==a.compatMode||d.stdMode;d.styleSheetLoader=new t(a);d.boundEvents=[];d.settings=b=b||{};d.schema=b.schema;d.styles=new c({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);d.fixDoc(a);d.events=b.ownEvents?new e(b.proxy):e.Event;d.attrHooks=l(d,b);f=b.schema?b.schema.getBlockElements():{};d.$=h.overrideDefaults(function(){return{context:a,
element:d.getRoot()}});d.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!!(1===b&&f[a.nodeName]):!!f[a]}}var s=a.each,z=a.is,B=a.grep,F=a.trim,A=r.ie,x=/^([a-z0-9],?)+$/i,w=/^[ \t\r\n]*$/;n.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(A&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,
function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,d,e;if(!A||1!==a.nodeType||b)return a.cloneNode(b);e=c.doc;return!b?(d=e.createElement(a.nodeName),s(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),d):d.firstChild},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b;a=!a?this.win:a;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||
b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,c;a=this.get(a);b=this.getStyle(a,"width");c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,
b,c,!1)},getParents:function(a,b,c,d){var e=this,f,h=[];a=e.get(a);d=d===q;c=c||("BODY"!=e.getRoot().nodeName?e.getRoot().parentNode:null);z(b,"string")&&(f=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return e.is(a,f)});for(;a&&!(a==c||!a.nodeType||9===a.nodeType);){if(!b||b(a))if(d)h.push(a);else return a;a=a.parentNode}return d?h:null},get:function(a){var b;return a&&(this.doc&&"string"==typeof a)&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},
getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return f(a,this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===q){if("*"===b)return 1==a.nodeType;if(x.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<f(b,c[0].ownerDocument||
c[0],null,c).length},add:function(a,b,c,d,e){var f=this;return this.run(a,function(a){var h;h=z(b,"string")?f.doc.createElement(b):b;f.setAttribs(h,c);d&&(d.nodeType?h.appendChild(d):f.setHTML(h,d));return!e?a.appendChild(h):h})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d,e;d="\x3c"+a;for(e in b)b.hasOwnProperty(e)&&(null!==b[e]&&"undefined"!=typeof b[e])&&(d+=" "+e+'\x3d"'+this.encode(b[e])+'"');return"undefined"!=typeof c?d+"\x3e"+
c+"\x3c/"+a+"\x3e":d+" /\x3e"},createFragment:function(a){var b;b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);return b},remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&
a.attr("data-mce-style",null)},getStyle:function(a,b,c){a=this.$$(a);if(c)return a.css(b);b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=A?"styleFloat":"cssFloat");return a[0]&&a[0].style?a[0].style[b]:q},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&a.attr("data-mce-style",null)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,
c){var d,e,f=this.settings;""===c&&(c=null);a=this.$$(a);d=a.attr(b);if(a.length&&((e=this.attrHooks[b])&&e.set?e.set(a,c,b):a.attr(b,c),d!=c&&f.onSetAttrib))f.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},setAttribs:function(a,b){var c=this;c.$$(a).each(function(a,d){s(b,function(a,b){c.setAttrib(d,b,a)})})},getAttrib:function(a,b,c){var d;a=this.$$(a);a.length&&(d=(d=this.attrHooks[b])&&d.get?d.get(a,b):a.attr(b));"undefined"==typeof d&&(d=c||"");return d},getPos:function(a,b){var c=0,d=0,e;
e=this.doc;var f=e.body;a=this.get(a);b=b||f;if(a){if(b===f&&a.getBoundingClientRect&&"static"===h(f).css("position"))return d=a.getBoundingClientRect(),b=this.boxModel?e.documentElement:f,c=d.left+(e.documentElement.scrollLeft||f.scrollLeft)-b.clientLeft,d=d.top+(e.documentElement.scrollTop||f.scrollTop)-b.clientTop,{x:c,y:d};for(e=a;e&&e!=b&&e.nodeType;)c+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;for(e=a.parentNode;e&&e!=b&&e.nodeType;)c-=e.scrollLeft||0,d-=e.scrollTop||0,e=e.parentNode}return{x:c,
y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,d;if(this!==n.DOM&&b===document){c=(c=n.DOM.addedStyles)||[];if(c[a])return;c[a]=!0;n.DOM.addedStyles=c}d=b.getElementById("mceDefaultStyles");d||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=
a:d.appendChild(b.createTextNode(a))},loadCSS:function(b){var c=this,d=c.doc,e;c!==n.DOM&&d===document?n.DOM.loadCSS(b):(b||(b=""),e=d.getElementsByTagName("head")[0],s(b.split(","),function(b){var f;b=a._addCacheSuffix(b);c.files[b]||(c.files[b]=!0,f=c.create("link",{rel:"stylesheet",href:b}),A&&(d.documentMode&&d.recalc)&&(f.onload=function(){d.recalc&&d.recalc();f.onload=null}),e.appendChild(f))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},
hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&h(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(!a?"mce_":a)+this.counter++},setHTML:function(a,b){a=this.$$(a);A?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML=
"\x3cbr\x3e"+b,c.removeChild(c.firstChild)}catch(d){h("\x3cdiv\x3e").html("\x3cbr\x3e"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType&&"outerHTML"in a?a.outerHTML:h("\x3cdiv\x3e").append(h(a).clone()).html()},setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{if("outerHTML"in this){this.outerHTML=b;return}}catch(a){}c.remove(h(this).html(b),!0)})},decode:k.decode,encode:k.encodeAllRaw,insertAfter:function(a,b){b=
this.get(b);return this.run(a,function(a){var c,d;c=b.parentNode;(d=b.nextSibling)?c.insertBefore(a,d):c.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){z(b,"array")&&(a=a.cloneNode(!0));c&&s(B(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,d;a.nodeName!=b.toUpperCase()&&(d=c.create(b),s(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(d,a,1));return d||
a},findCommonAncestor:function(a,b){for(var c=a,d;c;){for(d=b;d&&c!=d;)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(b){return this.styles.toHex(a.trim(b))},run:function(a,b,c){var d=this,e;"string"===typeof a&&(a=d.get(a));if(!a)return!1;c=c||this;return!a.nodeType&&(a.length||0===a.length)?(e=[],s(a,function(a,f){a&&("string"==typeof a&&(a=d.get(a)),e.push(b.call(c,a,f)))}),e):b.call(c,a)},getAttribs:function(a){var b;a=this.get(a);
if(!a)return[];if(A){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})});return b}return a.attributes},isEmpty:function(a,c){var d,e,f,h,k,m=0;if(a=a.firstChild){h=new b(a,a.parentNode);c=c||(this.schema?this.schema.getNonEmptyElements():null);do{f=
a.nodeType;if(1===f){if(a.getAttribute("data-mce-bogus"))continue;k=a.nodeName.toLowerCase();if(c&&c[k]){if("br"===k){m++;continue}return!1}e=this.getAttribs(a);for(d=e.length;d--;)if(k=e[d].nodeName,"name"===k||"data-mce-bookmark"===k)return!1}if(8==f||3===f&&!w.test(a.nodeValue))return!1}while(a=h.next())}return 1>=m},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new d(this)},nodeIndex:function(a,b){var c=0,d,e;if(a){d=a.nodeType;for(a=a.previousSibling;a;a=a.previousSibling)if(e=
a.nodeType,!(b&&3==e)||e!=d&&a.nodeValue.length)c++,d=e}return c},split:function(a,b,c){function d(a){var b,c=a.childNodes,f=a.nodeType;if(!(1==f&&"bookmark"==a.getAttribute("data-mce-type"))){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=f){if(3==f&&0<a.nodeValue.length){b=F(a.nodeValue).length;if(!(c=!e.isBlock(a.parentNode)))if(!(c=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==f&&(c=a.childNodes,
1==c.length&&(c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type"))&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;e.remove(a)}return a}}var e=this,f=e.createRng(),h,k;if(a&&b)return f.setStart(a.parentNode,e.nodeIndex(a)),f.setEnd(b.parentNode,e.nodeIndex(b)),h=f.extractContents(),f=e.createRng(),f.setStart(b.parentNode,e.nodeIndex(b)+1),f.setEnd(a.parentNode,e.nodeIndex(a)+1),f=f.extractContents(),k=a.parentNode,k.insertBefore(d(h),
a),c?k.replaceChild(c,b):k.insertBefore(b,a),k.insertBefore(d(f),a),e.remove(a),c||b},bind:function(b,c,d,e){if(a.isArray(b)){for(var f=b.length;f--;)b[f]=this.bind(b[f],c,d,e);return b}this.settings.collect&&(b===this.doc||b===this.win)&&this.boundEvents.push([b,c,d,e]);return this.events.bind(b,c,d,e||this)},unbind:function(b,c,d){var e;if(a.isArray(b)){for(e=b.length;e--;)b[e]=this.unbind(b[e],c,d);return b}if(this.boundEvents&&(b===this.doc||b===this.win))for(e=this.boundEvents.length;e--;){var f=
this.boundEvents[e];b==f[0]&&((!c||c==f[1])&&(!d||d==f[2]))&&this.events.unbind(f[0],f[1],f[2])}return this.events.unbind(b,c,d)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return!a||1!=a.nodeType?null:(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&!(c=this.getContentEditable(a),null!==c);a=a.parentNode);
return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}f.setDocument&&f.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},
_findSib:function(a,b,c){var d=this,e=b;if(a){"string"==typeof e&&(e=function(a){return d.is(a,b)});for(a=a[c];a;a=a[c])if(e(a))return a}return null}};n.DOM=new n(document);return n});h("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(f,h){function c(){function c(a,b){function d(){f.remove(r);k&&(k.onreadystatechange=k.onload=k=null);b()}var f=e,k,r;r=f.uniqueId();k=document.createElement("script");k.id=r;k.type="text/javascript";k.src=h._addCacheSuffix(a);"onreadystatechange"in
k?k.onreadystatechange=function(){/loaded|complete/.test(k.readyState)&&d()}:k.onload=d;k.onerror=function(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(k)}var f={},a=[],t={},l=[],n=0;this.isDone=function(a){return 2==f[a]};this.markDone=function(a){f[a]=2};this.add=this.load=function(b,c,d){void 0==f[b]&&(a.push(b),f[b]=0);c&&(t[b]||(t[b]=[]),t[b].push({func:c,scope:d||this}))};this.loadQueue=
function(b,c){this.loadScripts(a,b,c)};this.loadScripts=function(a,e,h){function m(a){b(t[a],function(a){a.func.call(a.scope)});t[a]=void 0}var q;l.push({func:e,scope:h||this});q=function(){var e=d(a);a.length=0;b(e,function(a){2==f[a]?m(a):1!=f[a]&&(f[a]=1,n++,c(a,function(){f[a]=2;n--;m(a);q()}))});n||(b(l,function(a){a.func.call(a.scope)}),l.length=0)};q()}}var e=f.DOM,b=h.each,d=h.grep;c.ScriptLoader=new c;return c});h("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(f,
h){function c(){this.items=[];this.urls={};this.lookup={}}var e=h.each;c.prototype={get:function(b){return this.lookup[b]?this.lookup[b].instance:q},dependencies:function(b){var c;this.lookup[b]&&(c=this.lookup[b].dependencies);return c||[]},requireLangPack:function(b,d){var e=c.language;if(e&&!1!==c.languageLoad){if(d)if(d=","+d+",",-1!=d.indexOf(","+e.substr(0,2)+","))e=e.substr(0,2);else if(-1==d.indexOf(","+e+","))return;f.ScriptLoader.add(this.urls[b]+"/langs/"+e+".js")}},add:function(b,c,e){this.items.push(c);
this.lookup[b]={instance:c,dependencies:e};return c},createUrl:function(b,c){return"object"===typeof c?c:{prefix:b.prefix,resource:c,suffix:b.suffix}},addComponents:function(b,c){var h=this.urls[b];e(c,function(b){f.ScriptLoader.add(h+"/"+b)})},load:function(b,d,h,m){function a(){var a=t.dependencies(b);e(a,function(a){a=t.createUrl(d,a);t.load(a.resource,a,q,q)});h&&(m?h.call(m):h.call(f))}var t=this,l=d;t.urls[b]||("object"===typeof d&&(l=d.prefix+d.resource+d.suffix),0!==l.indexOf("/")&&-1==l.indexOf("://")&&
(l=c.baseURL+"/"+l),t.urls[b]=l.substring(0,l.lastIndexOf("/")),t.lookup[b]?a():f.ScriptLoader.add(l,a,m))}};c.PluginManager=new c;c.ThemeManager=new c;return c});h("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(f,h){function c(b,c){var e=b.childNodes;c--;c>e.length-1?c=e.length-1:0>c&&(c=0);return e[c]||b}function e(d){this.walk=function(e,f){function a(a){var b;b=a[0];3===b.nodeType&&(b===n&&q>=b.nodeValue.length)&&a.splice(0,1);b=a[a.length-1];0===F&&(0<a.length&&
b===s&&3===b.nodeType)&&a.splice(a.length-1,1);return a}function h(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function m(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function l(b,c,d){var e=d?"nextSibling":"previousSibling";w=b;for(C=w.parentNode;w&&w!=c;w=C)C=w.parentNode,E=h(w==b?w:w[e],e),E.length&&(d||E.reverse(),f(a(E)))}var n=e.startContainer,q=e.startOffset,s=e.endContainer,F=e.endOffset,A,x,w,C,E;x=d.select("td.mce-item-selected,th.mce-item-selected");if(0<x.length)b(x,
function(a){f([a])});else{1==n.nodeType&&n.hasChildNodes()&&(n=n.childNodes[q]);1==s.nodeType&&s.hasChildNodes()&&(s=c(s,F));if(n==s)return f(a([n]));A=d.findCommonAncestor(n,s);for(w=n;w;w=w.parentNode){if(w===s)return l(n,A,!0);if(w===A)break}for(w=s;w;w=w.parentNode){if(w===n)return l(s,A);if(w===A)break}x=m(n,A)||n;A=m(s,A)||s;l(n,x,!0);E=h(x==n?x:x.nextSibling,"nextSibling",A==s?A.nextSibling:A);E.length&&f(a(E));l(s,A)}};this.split=function(b){var c=b.startContainer,a=b.startOffset,d=b.endContainer;
b=b.endOffset;c==d&&3==c.nodeType?0<a&&a<c.nodeValue.length&&(d=c.splitText(a),c=d.previousSibling,b>a?(c=d=d.splitText(b-a).previousSibling,b=d.nodeValue.length,a=0):b=0):(3==c.nodeType&&(0<a&&a<c.nodeValue.length)&&(c=c.splitText(a),a=0),3==d.nodeType&&(0<b&&b<d.nodeValue.length)&&(d=d.splitText(b).previousSibling,b=d.nodeValue.length));return{startContainer:c,startOffset:a,endContainer:d,endOffset:b}};this.normalize=function(b){function c(f){function r(a,b){for(var c=new h(a,d.getParent(a.parentNode,
d.isBlock)||A);a=c[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function l(b,c){var f,k;c=c||n;f=d.getParent(c.parentNode,d.isBlock)||A;if(b&&"BR"==c.nodeName&&E&&d.isEmpty(f))n=c.parentNode,q=d.nodeIndex(c),a=!0;else{for(f=new h(c,f);x=f[b?"prev":"next"]();){if("false"===d.getContentEditableParent(x))return;if(3===x.nodeType&&0<x.nodeValue.length){n=x;q=b?x.nodeValue.length:0;a=!0;return}if(d.isBlock(x)||w[x.nodeName.toLowerCase()])return;k=x}e&&k&&(n=k,a=!0,q=0)}}var n,q,s,A=d.getRoot(),x,
w,C,E;n=b[(f?"start":"end")+"Container"];q=b[(f?"start":"end")+"Offset"];E=1==n.nodeType&&q===n.childNodes.length;w=d.schema.getNonEmptyElements();C=f;1==n.nodeType&&q>n.childNodes.length-1&&(C=!1);9===n.nodeType&&(n=d.getRoot(),q=0);if(n===A){if(C&&(x=n.childNodes[0<q?q-1:0])&&(w[x.nodeName]||"TABLE"==x.nodeName))return;if(n.hasChildNodes()&&(q=Math.min(!C&&0<q?q-1:q,n.childNodes.length-1),n=n.childNodes[q],q=0,n.hasChildNodes()&&!/TABLE/.test(n.nodeName))){x=n;s=new h(n,A);do{if(3===x.nodeType&&
0<x.nodeValue.length){q=C?0:x.nodeValue.length;n=x;a=!0;break}if(w[x.nodeName.toLowerCase()]){q=d.nodeIndex(x);n=x.parentNode;"IMG"==x.nodeName&&!C&&q++;a=!0;break}}while(x=C?s.next():s.prev())}}e&&(3===n.nodeType&&0===q&&l(!0),1===n.nodeType&&((x=n.childNodes[q])||(x=n.childNodes[q-1]),x&&("BR"===x.nodeName&&!(x.previousSibling&&"A"==x.previousSibling.nodeName)&&!r(x)&&!r(x,!0))&&l(!0,x)));C&&(!e&&3===n.nodeType&&q===n.nodeValue.length)&&l(!1);if(a)b["set"+(f?"Start":"End")](n,q)}var a,e;e=b.collapsed;
c(!0);e||c();a&&e&&b.collapse(!0);return a}}var b=f.each;e.compareRanges=function(b,c){if(b&&c)if(b.item||b.duplicate){if(b.item&&c.item&&b.item(0)===c.item(0)||b.isEqual&&c.isEqual&&c.isEqual(b))return!0}else return b.startContainer==c.startContainer&&b.startOffset==c.startOffset;return!1};e.getCaretRangeFromPoint=function(b,c,e){var a;if(e.caretPositionFromPoint)b=e.caretPositionFromPoint(b,c),a=e.createRange(),a.setStart(b.offsetNode,b.offset),a.collapse(!0);else if(e.caretRangeFromPoint)a=e.caretRangeFromPoint(b,
c);else if(e.body.createTextRange){a=e.body.createTextRange();try{a.moveToPoint(b,c),a.collapse(!0)}catch(f){a.collapse(c<e.body.clientHeight)}}return a};e.getNode=function(b,c){1==b.nodeType&&b.hasChildNodes()&&(c>=b.childNodes.length&&(c=b.childNodes.length-1),b=b.childNodes[c]);return b};return e});h("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env"],function(f,h){return function(c){var e,b=[];if(!("onselectionchange"in c.getDoc()))c.on("NodeChange Click MouseUp KeyUp Focus",function(b){var h;
h=c.selection.getRng();h={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};("nodechange"==b.type||!f.compareRanges(h,e))&&c.fire("SelectionChange");e=h});c.on("contextmenu",function(){c.fire("SelectionChange")});c.on("SelectionChange",function(){var d=c.selection.getStart(!0);if(h.range||!c.selection.isCollapsed()){var e;a:{var f;f=c.$(d).parentsUntil(c.getBody()).add(d);if(f.length===b.length){for(e=f.length;0<=e&&f[e]===b[e];e--);if(-1===
e){b=f;e=!0;break a}}b=f;e=!1}!e&&c.dom.isChildOf(d,c.getBody())&&c.nodeChanged({selectionChange:!0})}});c.on("MouseUp",function(b){b.isDefaultPrevented()||("IMG"==c.selection.getNode().nodeName?setTimeout(function(){c.nodeChanged()},0):c.nodeChanged())});this.nodeChanged=function(b){var e=c.selection,f,a,h;c.initialized&&(e&&!c.settings.disable_nodechange&&!c.settings.readonly)&&(h=c.getBody(),f=e.getStart()||h,f=f.ownerDocument!=c.getDoc()?c.getBody():f,"IMG"==f.nodeName&&e.isCollapsed()&&(f=f.parentNode),
a=[],c.dom.getParent(f,function(b){if(b===h)return!0;a.push(b)}),b=b||{},b.element=f,b.parents=a,c.fire("NodeChange",b))}}});h("tinymce/html/Node",[],function(){function f(b,c,e){var f;f=e?"lastChild":"firstChild";e=e?"prev":"next";if(b[f])return b[f];if(b!==c){if(f=b[e])return f;for(b=b.parent;b&&b!==c;b=b.parent)if(f=b[e])return f}}function h(b,c){this.name=b;this.type=c;1===c&&(this.attributes=[],this.attributes.map={})}var c=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,
"#document-fragment":11};h.prototype={replace:function(b){b.parent&&b.remove();this.insert(b,this);this.remove();return this},attr:function(b,c){var e,f;if("string"!==typeof b){for(f in b)this.attr(f,b[f]);return this}if(e=this.attributes){if(void 0!==c){if(null===c){if(b in e.map){delete e.map[b];for(f=e.length;f--;)if(e[f].name===b){e.splice(f,1);break}}return this}if(b in e.map)for(f=e.length;f--;){if(e[f].name===b){e[f].value=c;break}}else e.push({name:b,value:c});e.map[b]=c;return this}return e.map[b]}},
clone:function(){var b=new h(this.name,this.type),c,e,f,a,l;if(f=this.attributes){l=[];l.map={};c=0;for(e=f.length;c<e;c++)a=f[c],"id"!==a.name&&(l[l.length]={name:a.name,value:a.value},l.map[a.name]=a.value);b.attributes=l}b.value=this.value;b.shortEnded=this.shortEnded;return b},wrap:function(b){this.parent.insert(b,this);b.append(this);return this},unwrap:function(){var b,c;for(b=this.firstChild;b;)c=b.next,this.insert(b,this,!0),b=c;this.remove()},remove:function(){var b=this.parent,c=this.next,
e=this.prev;if(b){if(b.firstChild===this){if(b.firstChild=c)c.prev=null}else e.next=c;if(b.lastChild===this){if(b.lastChild=e)e.next=null}else c.prev=e;this.parent=this.next=this.prev=null}return this},append:function(b){var c;b.parent&&b.remove();(c=this.lastChild)?(c.next=b,b.prev=c,this.lastChild=b):this.lastChild=this.firstChild=b;b.parent=this;return b},insert:function(b,c,e){var f;b.parent&&b.remove();f=c.parent||this;e?(c===f.firstChild?f.firstChild=b:c.prev.next=b,b.prev=c.prev,b.next=c,c.prev=
b):(c===f.lastChild?f.lastChild=b:c.next.prev=b,b.next=c.next,b.prev=c,c.next=b);b.parent=f;return b},getAll:function(b){var c,e=[];for(c=this.firstChild;c;c=f(c,this))c.name===b&&e.push(c);return e},empty:function(){var b,c,e;if(this.firstChild){b=[];for(e=this.firstChild;e;e=f(e,this))b.push(e);for(c=b.length;c--;)e=b[c],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(b){var d=this.firstChild,e,h;if(d){do{if(1===d.type){if(d.attributes.map["data-mce-bogus"])continue;
if(b[d.name])return!1;for(e=d.attributes.length;e--;)if(h=d.attributes[e].name,"name"===h||0===h.indexOf("data-mce-bookmark"))return!1}if(8===d.type||3===d.type&&!c.test(d.value))return!1}while(d=f(d,this))}return!0},walk:function(b){return f(this,null,b)}};h.create=function(b,c){var f,r;f=new h(b,e[b]||1);if(c)for(r in c)f.attr(r,c[r]);return f};return h});h("tinymce/html/Schema",["tinymce/util/Tools"],function(f){function h(a,b){return a?a.split(b||" "):[]}function c(a){function c(a,b,e){function r(a,
b){var c={},d,e;d=0;for(e=a.length;d<e;d++)c[a[d]]=b||{};return c}var l,t;t=arguments;e=e||[];b=b||"";"string"===typeof e&&(e=h(e));for(l=3;l<t.length;l++)"string"===typeof t[l]&&(t[l]=h(t[l])),e.push.apply(e,t[l]);a=h(a);for(l=a.length;l--;)t=[].concat(k,h(b)),f[a[l]]={attributes:r(t),attributesOrder:t,children:r(e,d)}}function e(a,b){var c,d,k,r;a=h(a);c=a.length;for(b=h(b);c--;){d=f[a[c]];k=0;for(r=b.length;k<r;k++)d.attributes[b[k]]={},d.attributesOrder.push(b[k])}}var f={},k,l,t,n,q;if(b[a])return b[a];
k=h("id accesskey class dir lang style tabindex title");l=h("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");t=h("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");"html4"!=a&&(k.push.apply(k,h("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,h("article aside details dialog figure header footer hgroup section nav")),
t.push.apply(t,h("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen")));"html5-strict"!=a&&(k.push("xml:lang"),q=h("acronym applet basefont big font strike tt"),t.push.apply(t,q),r(q,function(a){c(a,"",t)}),q=h("center dir isindex noframes"),l.push.apply(l,q),n=[].concat(l,t),r(q,function(a){c(a,"",n)}));n=n||[].concat(l,t);c("html","manifest","head body");c("head","","base command link meta noscript script style title");c("title hr noscript br");c("base","href target");
c("link","href rel media hreflang type sizes hreflang");c("meta","name http-equiv content charset");c("style","media type scoped");c("script","src async defer type charset");c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",n);c("address dt dd div caption","",n);c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn",
"",t);c("blockquote","cite",n);c("ol","reversed start type","li");c("ul","","li");c("li","value",n);c("dl","","dt dd");c("a","href target rel media hreflang type",t);c("q","cite",t);c("ins del","cite datetime",n);c("img","src sizes srcset alt usemap ismap width height");c("iframe","src name width height",n);c("embed","src type width height");c("object","data type typemustmatch name usemap form width height",n,"param");c("param","name value");c("map","name",n,"area");c("area","alt coords shape href target rel media hreflang type");
c("table","border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));c("colgroup","span","col");c("col","span");c("tbody thead tfoot","","tr");c("tr","","td th");c("td","colspan rowspan headers",n);c("th","colspan rowspan headers scope abbr",n);c("form","accept-charset action autocomplete enctype method name novalidate target",n);c("fieldset","disabled form name",n,"legend");c("label","form for",t);c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?n:t);c("select","disabled form multiple name required size","option optgroup");c("optgroup","disabled label","option");c("option","disabled label selected value");c("textarea","cols dirname disabled form maxlength name readonly required rows wrap");c("menu","type label",n,"li");c("noscript","",n);"html4"!=a&&(c("wbr"),c("ruby","",t,"rt rp"),c("figcaption","",n),c("mark rt rp summary bdi",
"",t),c("canvas","width height",n),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",n,"track source"),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",n,"track source"),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",t,"option"),c("article section nav aside header footer","",n),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure",
"",n,"figcaption"),c("time","datetime",t),c("dialog","open",n),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",t),c("progress","value max",t),c("meter","value min max low high optimum",t),c("details","open",n,"summary"),c("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(e("script","language xml:space"),e("style","xml:space"),e("object","declare classid code codebase codetype archive standby align border hspace vspace"),e("embed",
"align name hspace vspace"),e("param","valuetype type"),e("a","charset name rev shape coords"),e("br","clear"),e("applet","codebase archive code object alt name width height align hspace vspace"),e("img","name longdesc align border hspace vspace"),e("iframe","longdesc frameborder marginwidth marginheight scrolling align"),e("font basefont","size color face"),e("input","usemap align"),e("select","onchange"),e("textarea"),e("h1 h2 h3 h4 h5 h6 div p legend caption","align"),e("ul","type compact"),e("li",
"type"),e("ol dl menu dir","compact"),e("pre","width xml:space"),e("hr","align noshade size width"),e("isindex","prompt"),e("table","summary width frame rules cellspacing cellpadding align bgcolor"),e("col","width align char charoff valign"),e("colgroup","width align char charoff valign"),e("thead","align char charoff valign"),e("tr","align char charoff valign bgcolor"),e("th","axis align char charoff valign nowrap bgcolor width height"),e("form","accept"),e("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),
e("tfoot","align char charoff valign"),e("tbody","align char charoff valign"),e("area","nohref"),e("body","background bgcolor text link vlink alink"));"html4"!=a&&(e("input button select textarea","autofocus"),e("input textarea","placeholder"),e("a","download"),e("link script img","crossorigin"),e("iframe","sandbox seamless allowfullscreen"));r(h("a form meter progress dfn"),function(a){f[a]&&delete f[a].children[a]});delete f.caption.children.table;return b[a]=f}function e(a,b){var c;a&&(c={},"string"==
typeof a&&(a={"*":a}),r(a,function(a,d){c[d]=c[d.toUpperCase()]="map"==b?k(a,/[, ]/):l(a,/[, ]/)}));return c}var b={},d={},k=f.makeMap,r=f.each,a=f.extend,l=f.explode,n=f.inArray;return function(d){function f(c,e,h){var m=d[c];m?m=k(m,/[, ]/,k(m.toUpperCase(),/[, ]/)):(m=b[c],m||(m=k(e," ",k(e.toUpperCase()," ")),m=a(m,h),b[c]=m));return m}function q(a){var b,c,d,e,f,r,l,t,v,s,z,x,A,D,C,B,F,H,I=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,J=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
G=/[*?+]/;if(a){a=h(a,",");w["@"]&&(B=w["@"].attributes,F=w["@"].attributesOrder);b=0;for(c=a.length;b<c;b++)if(f=I.exec(a[b])){D=f[1];v=f[2];C=f[3];t=f[5];x={};A=[];r={attributes:x,attributesOrder:A};"#"===D&&(r.paddEmpty=!0);"-"===D&&(r.removeEmpty=!0);"!"===f[4]&&(r.removeEmptyAttrs=!0);if(B){for(H in B)x[H]=B[H];A.push.apply(A,F)}if(t){t=h(t,"|");d=0;for(e=t.length;d<e;d++)if(f=J.exec(t[d]))l={},z=f[1],s=f[2].replace(/::/g,":"),D=f[3],f=f[4],"!"===z&&(r.attributesRequired=r.attributesRequired||
[],r.attributesRequired.push(s),l.required=!0),"-"===z?(delete x[s],A.splice(n(A,s),1)):(D&&("\x3d"===D&&(r.attributesDefault=r.attributesDefault||[],r.attributesDefault.push({name:s,value:f}),l.defaultValue=f),":"===D&&(r.attributesForced=r.attributesForced||[],r.attributesForced.push({name:s,value:f}),l.forcedValue=f),"\x3c"===D&&(l.validValues=k(f,"?"))),G.test(s)?(r.attributePatterns=r.attributePatterns||[],l.pattern=RegExp("^"+s.replace(/([?+*])/g,".$1")+"$"),r.attributePatterns.push(l)):(x[s]||
A.push(s),x[s]=l))}!B&&"@"==v&&(B=x,F=A);C&&(r.outputName=v,w[C]=r);G.test(v)?(r.pattern=RegExp("^"+v.replace(/([?+*])/g,".$1")+"$"),E.push(r)):w[v]=r}}}function s(a){w={};E=[];q(a);r(G,function(a,b){C[b]=a.children})}function F(c){var d=/^(~)?(.+)$/;c&&(b.text_block_elements=b.block_elements=null,r(h(c,","),function(b){b=d.exec(b);var c="~"===b[1],e=c?"span":"div",f=b[2];C[f]=C[e];T[f]=e;c||(R[f.toUpperCase()]={},R[f]={});w[f]||(b=w[e],b=a({},b),delete b.removeEmptyAttrs,delete b.removeEmpty,w[f]=
b);r(C,function(b,c){b[e]&&(C[c]=b=a({},C[c]),b[f]=b[e])})}))}function A(b){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b&&r(h(b,","),function(b){var d=c.exec(b),e,f;d&&(e=(f=d[1])?C[d[2]]:C[d[2]]={"#comment":{}},e=C[d[2]],r(h(d[3],"|"),function(b){"-"===f?(C[d[2]]=e=a({},C[d[2]]),delete e[b]):e[b]={}}))})}function x(a){var b=w[a],c;if(b)return b;for(c=E.length;c--;)if(b=E[c],b.pattern.test(a))return b}var w={},C={},E=[],J,H,G,I,L,O,Q,M,R,P,V,S,K,T={},W={};d=d||{};G=c(d.schema);!1===d.verify_html&&(d.valid_elements=
"*[*]");J=e(d.valid_styles);H=e(d.invalid_styles,"map");M=e(d.valid_classes,"map");I=f("whitespace_elements","pre script noscript style textarea video audio iframe object");L=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");O=f("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");Q=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");
P=f("non_empty_elements","td th iframe video audio object script",O);V=f("move_caret_before_on_enter_elements","table",P);S=f("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");R=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",S);K=f("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");
r((d.special||"script noscript style textarea").split(" "),function(a){W[a]=RegExp("\x3c/"+a+"[^\x3e]*\x3e","gi")});d.valid_elements?s(d.valid_elements):(r(G,function(a,b){w[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};C[b]=a.children}),"html5"!=d.schema&&r(h("strong/b em/i"),function(a){a=h(a,"/");w[a[1]].outputName=a[0]}),w.img.attributesDefault=[{name:"alt",value:""}],r(h("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){w[a]&&(w[a].removeEmpty=
!0)}),r(h("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){w[a].paddEmpty=!0}),r(h("span"),function(a){w[a].removeEmptyAttrs=!0}));F(d.custom_elements);A(d.valid_children);q(d.extended_valid_elements);A("+ol[ul|ol],+ul[ul|ol]");d.invalid_elements&&r(l(d.invalid_elements),function(a){w[a]&&delete w[a]});x("span")||q("span[!data-mce-type|*]");this.children=C;this.getValidStyles=function(){return J};this.getInvalidStyles=function(){return H};this.getValidClasses=function(){return M};
this.getBoolAttrs=function(){return Q};this.getBlockElements=function(){return R};this.getTextBlockElements=function(){return S};this.getTextInlineElements=function(){return K};this.getShortEndedElements=function(){return O};this.getSelfClosingElements=function(){return L};this.getNonEmptyElements=function(){return P};this.getMoveCaretBeforeOnEnterElements=function(){return V};this.getWhiteSpaceElements=function(){return I};this.getSpecialElements=function(){return W};this.isValidChild=function(a,
b){var c=C[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=x(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=x;this.getCustomElements=function(){return T};this.addValidElements=q;this.setValidElements=s;this.addCustomElements=F;this.addValidChildren=A;this.elements=w}});h("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(f,
h,c){function e(b,c,a){var d=1,e,f;f=b.getShortEndedElements();b=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(b.lastIndex=a;e=b.exec(c);){a=b.lastIndex;if("/"===e[1])d--;else if(!e[1]){if(e[2]in f)continue;d++}if(0===d)break}return a}function b(b,r){function a(){}var l=this;b=b||{};l.schema=r=r||new f;!1!==b.fix_self_closing&&(b.fix_self_closing=!0);d("comment cdata text start end pi doctype".split(" "),function(c){c&&(l[c]=b[c]||a)});l.parse=
function(a){function d(a){var b,c;for(b=w.length;b--&&w[b].name!==a;);if(0<=b){for(c=w.length-1;c>=b;c--)a=w[c],a.valid&&l.end(a.name);w.length=b}}function f(a,c,d,e,h){a=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();d=c in O?c:fa(d||e||h||"");if(Q&&!G&&0!==c.indexOf("data-")){e=S[c];if(!e&&K){for(h=K.length;h--&&!(e=K[h],e.pattern.test(c)););-1===h&&(e=null)}if(!e||e.validValues&&!(d in e.validValues))return}if(aa[c]&&!b.allow_script_urls){a=d.replace(a,"");try{a=decodeURIComponent(a)}catch(m){a=unescape(a)}if(Z.test(a)||
!b.allow_html_data_urls&&ca.test(a)&&!/^data:image\//i.test(a))return}C.map[c]=d;C.push({name:c,value:d})}var l=this,t,n=0,q,s,w=[],C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W,$,U,ba,da,X=0,fa=h.decode,ga,aa=c.makeMap("src,href,data,background,formaction,poster"),Z=/((java|vb)script|mhtml):/i,ca=/^data:/i;U=RegExp("\x3c(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]\x3e)|(?:!DOCTYPE([\\w\\W]*?)\x3e)|(?:\\?([^\\s\\/\x3c\x3e]+) ?([\\w\\W]*?)[?/]\x3e)|(?:\\/([^\x3e]+)\x3e)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'\x3e]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\x3e]*))*|\\/|\\s+)\x3e))",
"g");ba=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;L=r.getShortEndedElements();$=b.self_closing_elements||r.getSelfClosingElements();O=r.getBoolAttrs();Q=b.validate;I=b.remove_internals;ga=b.fix_self_closing;for(da=r.getSpecialElements();t=U.exec(a);){n<t.index&&l.text(fa(a.substr(n,t.index-n)));if(q=t[6])q=q.toLowerCase(),":"===q.charAt(0)&&(q=q.substr(1)),d(q);else if(q=t[7]){q=q.toLowerCase();":"===q.charAt(0)&&(q=q.substr(1));n=q in L;ga&&($[q]&&0<w.length&&
w[w.length-1].name===q)&&d(q);if(!Q||(M=r.getElementRule(q))){R=!0;Q&&(S=M.attributes,K=M.attributePatterns);(V=t[8])?((G=-1!==V.indexOf("data-mce-type"))&&I&&(R=!1),C=[],C.map={},V.replace(ba,f)):(C=[],C.map={});if(Q&&!G){s=M.attributesRequired;T=M.attributesDefault;W=M.attributesForced;(E=M.removeEmptyAttrs)&&!C.length&&(R=!1);if(W)for(E=W.length;E--;)P=W[E],H=P.name,P=P.value,"{$uid}"===P&&(P="mce_"+X++),C.map[H]=P,C.push({name:H,value:P});if(T)for(E=T.length;E--;)P=T[E],H=P.name,H in C.map||(P=
P.value,"{$uid}"===P&&(P="mce_"+X++),C.map[H]=P,C.push({name:H,value:P}));if(s){for(E=s.length;E--&&!(s[E]in C.map););-1===E&&(R=!1)}if(P=C.map["data-mce-bogus"]){if("all"===P){n=e(r,a,U.lastIndex);U.lastIndex=n;continue}R=!1}}R&&l.start(q,C,n)}else R=!1;if(s=da[q]){s.lastIndex=n=t.index+t[0].length;(t=s.exec(a))?(R&&(J=a.substr(n,t.index-n)),n=t.index+t[0].length):(J=a.substr(n),n=a.length);R&&(0<J.length&&l.text(J,!0),l.end(q));U.lastIndex=n;continue}n||(!V||V.indexOf("/")!=V.length-1?w.push({name:q,
valid:R}):R&&l.end(q))}else(q=t[1])?("\x3e"===q.charAt(0)&&(q=" "+q),!b.allow_conditional_comments&&"[if"===q.substr(0,3)&&(q=" "+q),l.comment(q)):(q=t[2])?l.cdata(q):(q=t[3])?l.doctype(q):(q=t[4])&&l.pi(q,t[5]);n=t.index+t[0].length}n<a.length&&l.text(fa(a.substr(n)));for(E=w.length-1;0<=E;E--)q=w[E],q.valid&&l.end(q.name)}}var d=c.each;b.findEndTag=e;return b});h("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(f,h,c,e){var b=
e.makeMap,d=e.each,k=e.explode,r=e.extend;return function(a,e){function l(a){var c,d,h,k,m,r,q,u,s,z,D,B;z=b("tr,td,th,tbody,thead,tfoot,table");s=e.getNonEmptyElements();D=e.getTextBlockElements();for(c=0;c<a.length;c++)if(d=a[c],d.parent&&!d.fixed)if(D[d.name]&&"li"==d.parent.name){for(h=d.next;h;){if(D[h.name])h.name="li",h.fixed=!0,d.parent.insert(h,d.parent);else break;h=h.next}d.unwrap(d)}else{k=[d];for(h=d.parent;h&&!e.isValidChild(h.name,d.name)&&!z[h.name];h=h.parent)k.push(h);if(h&&1<k.length){k.reverse();
m=r=n.filterNode(k[0].clone());for(u=0;u<k.length-1;u++){e.isValidChild(r.name,k[u].name)?(q=n.filterNode(k[u].clone()),r.append(q)):q=r;for(r=k[u].firstChild;r&&r!=k[u+1];)B=r.next,q.append(r),r=B;r=q}m.isEmpty(s)?h.insert(d,k[0],!0):(h.insert(m,k[0],!0),h.insert(d,m));h=k[0];(h.isEmpty(s)||h.firstChild===h.lastChild&&"br"===h.firstChild.name)&&h.empty().remove()}else d.parent&&("li"===d.name?(h=d.prev)&&("ul"===h.name||"ul"===h.name)?h.append(d):(h=d.next)&&("ul"===h.name||"ul"===h.name)?h.insert(d,
h.firstChild,!0):d.wrap(n.filterNode(new f("ul",1))):e.isValidChild(d.parent.name,"div")&&e.isValidChild("div",d.name)?d.wrap(n.filterNode(new f("div",1))):"style"===d.name||"script"===d.name?d.empty().remove():d.unwrap())}}var n=this,q={},s=[],B={},F={};a=a||{};a.validate="validate"in a?a.validate:!0;a.root_name=a.root_name||"body";n.schema=e=e||new h;n.filterNode=function(a){var b,c,d;c in q&&((d=B[c])?d.push(a):B[c]=[a]);for(b=s.length;b--;)c=s[b].name,c in a.attributes.map&&((d=F[c])?d.push(a):
F[c]=[a]);return a};n.addNodeFilter=function(a,b){d(k(a),function(a){var c=q[a];c||(q[a]=c=[]);c.push(b)})};n.addAttributeFilter=function(a,b){d(k(a),function(a){var c;for(c=0;c<s.length;c++)if(s[c].name===a){s[c].callbacks.push(b);return}s.push({name:a,callbacks:[b]})})};n.parse=function(d,h){function k(){function b(a){if(a){if((c=a.firstChild)&&3==c.type)c.value=c.value.replace(V,"");if((c=a.lastChild)&&3==c.type)c.value=c.value.replace(T,"")}}var c=H.firstChild,d,f;if(e.isValidChild(H.name,X.toLowerCase())){for(;c;)d=
c.next,3==c.type||1==c.type&&"p"!==c.name&&!P[c.name]&&!c.attr("data-mce-type")?(f||(f=m(X,1),f.attr(a.forced_root_block_attrs),H.insert(f,c)),f.append(c)):(b(f),f=null),c=d;b(f)}}function m(a,b){var c=new f(a,b),d;a in q&&((d=B[a])?d.push(c):B[a]=[c]);return c}function n(a){var b;for(a=a.prev;a&&3===a.type;)b=a.value.replace(T,""),0<b.length?(a.value=b,a=a.prev):(b=a.prev,a.remove(),a=b)}var v,H,G,I,L,O,Q,M,R,P,V,S=[],K,T,W,$,U,ba,da,X;h=h||{};B={};F={};P=r(b("script,style,head,html,body,title,meta,param"),
e.getBlockElements());da=e.getNonEmptyElements();ba=e.children;R=a.validate;X="forced_root_block"in h?h.forced_root_block:a.forced_root_block;U=e.getWhiteSpaceElements();V=/^[ \t\r\n]+/;T=/[ \t\r\n]+$/;W=/[ \t\r\n]+/g;$=/^[ \t\r\n]+$/;v=new c({validate:R,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(e.getSelfClosingElements()),cdata:function(a){G.append(m("#cdata",
4)).value=a},text:function(a,b){var c;K||(a=a.replace(W," "),G.lastChild&&P[G.lastChild.name]&&(a=a.replace(V,"")));0!==a.length&&(c=m("#text",3),c.raw=!!b,G.append(c).value=a)},comment:function(a){G.append(m("#comment",8)).value=a},pi:function(a,b){G.append(m(a,7)).value=b;n(G)},doctype:function(a){G.append(m("#doctype",10)).value=a;n(G)},start:function(a,b,c){var d,f,h;if(d=R?e.getElementRule(a):{}){d=m(d.outputName||a,1);d.attributes=b;d.shortEnded=c;G.append(d);(f=ba[G.name])&&(ba[d.name]&&!f[d.name])&&
S.push(d);for(f=s.length;f--;)h=s[f].name,h in b.map&&((M=F[h])?M.push(d):F[h]=[d]);P[a]&&n(d);c||(G=d);!K&&U[a]&&(K=!0)}},end:function(a){var b,c,d,h;if(c=R?e.getElementRule(a):{}){if(P[a]&&!K){if((b=G.firstChild)&&3===b.type)if(d=b.value.replace(V,""),0<d.length)b.value=d;else{h=b.next;b.remove();for(b=h;b&&3===b.type;)d=b.value,h=b.next,(0===d.length||$.test(d))&&b.remove(),b=h}if((b=G.lastChild)&&3===b.type)if(d=b.value.replace(T,""),0<d.length)b.value=d;else{h=b.prev;b.remove();for(b=h;b&&3===
b.type;)d=b.value,h=b.prev,(0===d.length||$.test(d))&&b.remove(),b=h}}K&&U[a]&&(K=!1);if((c.removeEmpty||c.paddEmpty)&&G.isEmpty(da))if(c.paddEmpty)G.empty().append(new f("#text","3")).value="\u00a0";else if(!G.attributes.map.name&&!G.attributes.map.id){a=G.parent;P[G.name]?G.empty().remove():G.unwrap();G=a;return}G=G.parent}}},e);H=G=new f(h.context||a.root_name,11);v.parse(d);R&&S.length&&(h.context?h.invalid=!0:l(S));X&&("body"==H.name||h.isRootContent)&&k();if(!h.invalid){for(Q in B){M=q[Q];v=
B[Q];for(O=v.length;O--;)v[O].parent||v.splice(O,1);I=0;for(L=M.length;I<L;I++)M[I](v,Q,h)}I=0;for(L=s.length;I<L;I++)if(M=s[I],M.name in F){v=F[M.name];for(O=v.length;O--;)v[O].parent||v.splice(O,1);O=0;for(Q=M.callbacks.length;O<Q;O++)M.callbacks[O](v,M.name,h)}}return H};a.remove_trailing_brs&&n.addNodeFilter("br",function(a){var b,c=a.length,d,h=r({},e.getBlockElements()),k=e.getNonEmptyElements(),m,l,n;h.body=1;for(b=0;b<c;b++)if(d=a[b],m=d.parent,h[d.parent.name]&&d===m.lastChild){for(l=d.prev;l;){n=
l.name;if("span"!==n||"bookmark"!==l.attr("data-mce-type")){if("br"!==n)break;if("br"===n){d=null;break}}l=l.prev}if(d&&(d.remove(),m.isEmpty(k)&&(d=e.getElementRule(m.name))))d.removeEmpty?m.remove():d.paddEmpty&&(m.empty().append(new f("#text",3)).value="\u00a0")}else{for(l=d;m&&m.firstChild===l&&m.lastChild===l;){l=m;if(h[m.name])break;m=m.parent}l===m&&(m=new f("#text",3),m.value="\u00a0",d.replace(m))}});a.allow_html_in_named_anchor||n.addAttributeFilter("id,name",function(a){for(var b=a.length,
c,d,e,f;b--;)if(f=a[b],"a"===f.name&&f.firstChild&&!f.attr("href")){e=f.parent;c=f.lastChild;do d=c.prev,e.insert(c,f),c=d;while(c)}});a.validate&&e.getValidClasses()&&n.addAttributeFilter("class",function(a){for(var b=a.length,c,d,f,h,k,m=e.getValidClasses(),r,l;b--;){c=a[b];d=c.attr("class").split(" ");k="";for(f=0;f<d.length;f++)h=d[f],l=!1,(r=m["*"])&&r[h]&&(l=!0),r=m[c.name],!l&&(r&&r[h])&&(l=!0),l&&(k&&(k+=" "),k+=h);k.length||(k=null);c.attr("class",k)}})}});h("tinymce/html/Writer",["tinymce/html/Entities",
"tinymce/util/Tools"],function(f,h){var c=h.makeMap;return function(e){var b=[],d,h,m,a,l;e=e||{};d=e.indent;h=c(e.indent_before||"");m=c(e.indent_after||"");a=f.getEncodeFunc(e.entity_encoding||"raw",e.entities);l="html"==e.element_format;return{start:function(c,e,f){var n,q,s;d&&(h[c]&&0<b.length)&&(n=b[b.length-1],0<n.length&&"\n"!==n&&b.push("\n"));b.push("\x3c",c);if(e){n=0;for(q=e.length;n<q;n++)s=e[n],b.push(" ",s.name,'\x3d"',a(s.value,!0),'"')}b[b.length]=!f||l?"\x3e":" /\x3e";f&&(d&&m[c]&&
0<b.length)&&(n=b[b.length-1],0<n.length&&"\n"!==n&&b.push("\n"))},end:function(a){b.push("\x3c/",a,"\x3e");d&&(m[a]&&0<b.length)&&(a=b[b.length-1],0<a.length&&"\n"!==a&&b.push("\n"))},text:function(c,d){0<c.length&&(b[b.length]=d?c:a(c))},cdata:function(a){b.push("\x3c![CDATA[",a,"]]\x3e")},comment:function(a){b.push("\x3c!--",a,"--\x3e")},pi:function(c,e){e?b.push("\x3c?",c," ",a(e),"?\x3e"):b.push("\x3c?",c,"?\x3e");d&&b.push("\n")},doctype:function(a){b.push("\x3c!DOCTYPE",a,"\x3e",d?"\n":"")},
reset:function(){b.length=0},getContent:function(){return b.join("").replace(/\n$/,"")}}}});h("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(f,h){return function(c,e){var b=new f(c);c=c||{};c.validate="validate"in c?c.validate:!0;this.schema=e=e||new h;this.writer=b;this.serialize=function(d){function f(c){var d=h[c.type],m,l,n,q,s,A,x,w;if(d)d(c);else{d=c.name;m=c.shortEnded;l=c.attributes;if(a&&l&&1<l.length){s=[];s.map={};w=e.getElementRule(c.name);A=0;for(x=w.attributesOrder.length;A<
x;A++)n=w.attributesOrder[A],n in l.map&&(q=l.map[n],s.map[n]=q,s.push({name:n,value:q}));A=0;for(x=l.length;A<x;A++)n=l[A].name,n in s.map||(q=l.map[n],s.map[n]=q,s.push({name:n,value:q}));l=s}b.start(c.name,l,m);if(!m){if(c=c.firstChild){do f(c);while(c=c.next)}b.end(d)}}}var h,a;a=c.validate;h={3:function(a){b.text(a.value,a.raw)},8:function(a){b.comment(a.value)},7:function(a){b.pi(a.name,a.value)},10:function(a){b.doctype(a.value)},4:function(a){b.cdata(a.value)},11:function(a){if(a=a.firstChild){do f(a);
while(a=a.next)}}};b.reset();if(1==d.type&&!c.inner)f(d);else h[11](d);return b.getContent()}}});h("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools".split(" "),function(f,h,c,e,b,d,k,r){var a=r.each,l=r.trim,n=f.DOM;return function(b,f){var r,q,s;f&&(r=f.dom,q=f.schema);r=r||n;q=q||new d(b);b.entity_encoding=b.entity_encoding||"named";b.remove_trailing_brs="remove_trailing_brs"in
b?b.remove_trailing_brs:!0;s=new h(b,q);s.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)});s.addAttributeFilter("src,href,style",function(a,c){for(var d=a.length,e,f,h="data-mce-"+c,k=b.url_converter,m=b.url_converter_scope;d--;)e=a[d],f=e.attributes.map[h],void 0!==f?(e.attr(c,0<f.length?f:null),e.attr(h,null)):(f=e.attributes.map[c],"style"===c?f=r.serializeStyle(r.parseStyle(f),e.name):
k&&(f=k.call(m,f,c,e.name)),e.attr(c,0<f.length?f:null))});s.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.attr("class"))d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null)});s.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"===d.attributes.map["data-mce-type"]&&!c.cleanup&&d.remove()});s.addNodeFilter("noscript",function(a){for(var b=a.length,d;b--;)if(d=a[b].firstChild)d.value=
c.decode(d.value)});s.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,e,f,h;d--;)e=a[d],f=e.firstChild?
e.firstChild.value:"","script"===b?((h=e.attr("type"))&&e.attr("type","mce-no/type"==h?null:h.replace(/^mce\-/,"")),0<f.length&&(e.firstChild.value="// \x3c![CDATA[\n"+c(f)+"\n// ]]\x3e")):0<f.length&&(e.firstChild.value="\x3c!--\n"+c(f)+"\n--\x3e")});s.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,
c.value=unescape(c.value).substr(14))});s.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&"input"===b&&!("type"in d.attributes.map)&&d.attr("type","text")});b.fix_list_elements&&s.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.parent,("ul"===d.name||"ol"===d.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});s.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:q,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:function(c,d){var f,h,m;k.ie&&0<r.select("script,style,select,map").length?(f=c.innerHTML,c=c.cloneNode(!1),r.setHTML(c,f)):c=c.cloneNode(!0);f=c.ownerDocument.implementation;f.createHTMLDocument&&(h=f.createHTMLDocument(""),a("BODY"==c.nodeName?c.childNodes:[c],function(a){h.body.appendChild(h.importNode(a,!0))}),c="BODY"!=c.nodeName?h.body.firstChild:
h.body,m=r.doc,r.doc=h);d=d||{};d.format=d.format||"html";d.selection&&(d.forced_root_block="");d.no_events||(d.node=c,this.onPreProcess(d));f=new e(b,q);d.content=f.serialize(s.parse(l(d.getInner?c.innerHTML:r.getOuterHTML(c)),d));d.cleanup||(d.content=d.content.replace(/\uFEFF/g,""));if(!d.no_events)this.onPostProcess(d);m&&(r.doc=m);d.node=null;return d.content},addRules:function(a){q.addValidElements(a)},setRules:function(a){q.setValidElements(a)},onPreProcess:function(a){f&&f.fire("PreProcess",
a)},onPostProcess:function(a){f&&f.fire("PostProcess",a)}}}});h("tinymce/dom/TridentSelection",[],function(){return function(f){function h(b,c){var e,a=0,m,l,n,q,s,B=-1,F;e=b.duplicate();e.collapse(c);F=e.parentElement();if(F.ownerDocument===f.dom.doc){for(;"false"===F.contentEditable;)F=F.parentNode;if(!F.hasChildNodes())return{node:F,inside:1};n=F.children;for(m=n.length-1;a<=m;)if(s=Math.floor((a+m)/2),q=n[s],e.moveToElementText(q),B=e.compareEndPoints(c?"StartToStart":"EndToEnd",b),0<B)m=s-1;
else if(0>B)a=s+1;else return{node:q};if(0>B){q?e.collapse(!1):(e.moveToElementText(F),e.collapse(!0),q=F,l=!0);for(a=0;0!==e.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&!(0===e.move("character",1)||F!=e.parentElement());)a++}else{e.collapse(!0);for(a=0;0!==e.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&!(0===e.move("character",-1)||F!=e.parentElement());)a++}return{node:q,position:B,offset:a,inside:l}}}var c=this,e=f.dom,b=!1;this.getBookmark=function(b){function c(a){var b,d,f,h,k=
[];b=a.parentNode;for(d=e.getRoot().parentNode;b!=d&&9!==b.nodeType;){f=b.children;for(h=f.length;h--;)if(a===f[h]){k.push(h);break}a=b;b=b.parentNode}return k}function r(b){if(b=h(a,b))return{position:b.position,offset:b.offset,indexes:c(b.node),inside:b.inside}}var a=f.getRng(),l={};2===b&&(a.item?l.start={ctrl:!0,indexes:c(a.item(0))}:(l.start=r(!0),f.isCollapsed()||(l.end=r())));return l};this.moveToBookmark=function(b){function c(a){var b,d,f,h;b=e.getRoot();for(d=a.length-1;0<=d;d--)h=b.children,
f=a[d],f<=h.length-1&&(b=h[f]);return b}function f(e){var m=b[e?"start":"end"],r,l,n;m&&(r=0<m.position,l=h.createTextRange(),l.moveToElementText(c(m.indexes)),n=m.offset,void 0!==n?(l.collapse(m.inside||r),l.moveStart("character",r?-n:n)):l.collapse(e),a.setEndPoint(e?"StartToStart":"EndToStart",l),e&&a.collapse(!0))}var a,h=e.doc.body;b.start&&(b.start.ctrl?(a=h.createControlRange(),a.addElement(c(b.start.indexes))):(a=h.createTextRange(),f(!0),f()),a.select())};this.addRange=function(c){function h(a){var c,
d,f,k,x;f=e.create("a");c=a?l:q;d=a?n:s;k=m.duplicate();if(c==z||c==z.documentElement)c=B,d=0;3==c.nodeType?(c.parentNode.insertBefore(f,c),k.moveToElementText(f),k.moveStart("character",d),e.remove(f),m.setEndPoint(a?"StartToStart":"EndToEnd",k)):(x=c.childNodes,x.length?(d>=x.length?e.insertAfter(f,x[x.length-1]):c.insertBefore(f,x[d]),k.moveToElementText(f)):c.canHaveHTML&&(c.innerHTML="\x3cspan\x3e\x26#xFEFF;\x3c/span\x3e",f=c.firstChild,k.moveToElementText(f),k.collapse(b)),m.setEndPoint(a?"StartToStart":
"EndToEnd",k),e.remove(f))}var m,a,l,n,q,s,z=f.dom.doc,B=z.body,F,A;l=c.startContainer;n=c.startOffset;q=c.endContainer;s=c.endOffset;m=B.createTextRange();if(l==q&&1==l.nodeType){if(n==s&&!l.hasChildNodes()){if(l.canHaveHTML){(c=l.previousSibling)&&!c.hasChildNodes()&&e.isBlock(c)?c.innerHTML="\x26#xFEFF;":c=null;l.innerHTML="\x3cspan\x3e\x26#xFEFF;\x3c/span\x3e\x3cspan\x3e\x26#xFEFF;\x3c/span\x3e";m.moveToElementText(l.lastChild);m.select();e.doc.selection.clear();l.innerHTML="";c&&(c.innerHTML=
"");return}n=e.nodeIndex(l);l=l.parentNode}if(n==s-1)try{if(A=l.childNodes[n],a=B.createControlRange(),a.addElement(A),a.select(),F=f.getRng(),F.item&&A===F.item(0))return}catch(x){}}h(!0);h();m.select()};this.getRangeAt=function(){function b(a){var c=h(k,a),d,e,f=0,t;d=c.node;e=c.offset;if(c.inside&&!d.hasChildNodes())l[a?"setStart":"setEnd"](d,0);else if(void 0===e)l[a?"setStartBefore":"setEndAfter"](d);else{if(0>c.position){c=c.inside?d.firstChild:d.nextSibling;if(!c){l[a?"setStartAfter":"setEndAfter"](d);
return}if(!e){if(3==c.nodeType)l[a?"setStart":"setEnd"](c,0);else l[a?"setStartBefore":"setEndBefore"](c);return}for(;c;){if(3==c.nodeType&&(t=c.nodeValue,f+=t.length,f>=e)){d=c;f-=e;f=t.length-f;break}c=c.nextSibling}}else{c=d.previousSibling;if(!c)return l[a?"setStartBefore":"setEndBefore"](d);if(!e){if(3==d.nodeType)l[a?"setStart":"setEnd"](c,d.nodeValue.length);else l[a?"setStartAfter":"setEndAfter"](c);return}for(;c;){if(3==c.nodeType&&(f+=c.nodeValue.length,f>=e)){d=c;f-=e;break}c=c.previousSibling}}l[a?
"setStart":"setEnd"](d,f)}}var k=f.getRng(),l=e.createRng(),a,t,n,q;a=k.item?k.item(0):k.parentElement();if(a.ownerDocument!=e.doc)return l;t=f.isCollapsed();if(k.item)return l.setStart(a.parentNode,e.nodeIndex(a)),l.setEnd(l.startContainer,l.startOffset+1),l;try{b(!0),t||b()}catch(s){if(-2147024809==s.number)q=c.getBookmark(2),n=k.duplicate(),n.collapse(!0),a=n.parentElement(),t||(n=k.duplicate(),n.collapse(!1),n=n.parentElement(),n.innerHTML=n.innerHTML),a.innerHTML=a.innerHTML,c.moveToBookmark(q),
k=f.getRng(),b(!0),t||b();else throw s;}return l}}});h("tinymce/util/VK",["tinymce/Env"],function(f){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(f){return f.shiftKey||f.ctrlKey||f.altKey||this.metaKeyPressed(f)},metaKeyPressed:function(h){return f.mac?h.metaKey:h.ctrlKey&&!h.altKey}}});h("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(f,h,c){return function(e,b){function d(a){var d=b.settings.object_resizing;
if(!1===d||c.iOS)return!1;"string"!=typeof d&&(d="table,img,div");return"false"===a.getAttribute("data-mce-resize")?!1:b.dom.is(a,d)}function k(a){var c,d,e;c=a.screenX-L;d=a.screenY-O;K=c*G[2]+R;T=d*G[3]+P;K=5>K?5:K;T=5>T?5:T;if("IMG"==C.nodeName&&!1!==b.settings.resize_img_proportional?!f.modifierPressed(a):f.modifierPressed(a)||"IMG"==C.nodeName&&0!==G[2]*G[3])ba(c)>ba(d)?(T=da(K*V),K=da(T/V)):(K=da(T/V),T=da(K*V));x.setStyles(E,{width:K,height:T});a=G.startPos.x+c;e=G.startPos.y+d;a=0<a?a:0;e=
0<e?e:0;x.setStyles(J,{left:a,top:e,display:"block"});J.innerHTML=K+" \x26times; "+T;0>G[2]&&E.clientWidth<=K&&x.setStyle(E,"left",Q+(R-K));0>G[3]&&E.clientHeight<=T&&x.setStyle(E,"top",M+(P-T));c=X.scrollWidth-fa;d=X.scrollHeight-ga;0!==c+d&&x.setStyles(J,{left:a-c,top:e-d});S||(b.fire("ObjectResizeStart",{target:C,width:R,height:P}),S=!0)}function l(){function c(a,d){d&&(C.style[a]||!b.schema.isValid(C.nodeName.toLowerCase(),a)?x.setStyle(C,a,d):x.setAttrib(C,a,d))}S=!1;c("width",K);c("height",
T);x.unbind(W,"mousemove",k);x.unbind(W,"mouseup",l);$!=W&&(x.unbind($,"mousemove",k),x.unbind($,"mouseup",l));x.remove(E);x.remove(J);(!U||"TABLE"==C.nodeName)&&a(C);b.fire("ObjectResized",{target:C,width:K,height:T});x.setAttrib(C,"style",x.getAttrib(C,"style"));b.nodeChanged()}function a(a,e,f){var h,m,n;B();h=x.getPos(a,X);Q=h.x;M=h.y;h=a.getBoundingClientRect();m=h.width||h.right-h.left;n=h.height||h.bottom-h.top;C!=a&&(z(),C=a,K=T=0);h=b.fire("ObjectSelected",{target:a});d(a)&&!h.isDefaultPrevented()?
w(H,function(a,b){function d(b){L=b.screenX;O=b.screenY;R=C.clientWidth;P=C.clientHeight;V=P/R;G=a;a.startPos={x:m*a[0]+Q,y:n*a[1]+M};fa=X.scrollWidth;ga=X.scrollHeight;E=C.cloneNode(!0);x.addClass(E,"mce-clonedresizable");x.setAttrib(E,"data-mce-bogus","all");E.contentEditable=!1;E.unSelectabe=!0;x.setStyles(E,{left:Q,top:M,margin:0});E.removeAttribute("data-mce-selected");X.appendChild(E);x.bind(W,"mousemove",k);x.bind(W,"mouseup",l);$!=W&&(x.bind($,"mousemove",k),x.bind($,"mouseup",l));J=x.add(X,
"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},R+" \x26times; "+P)}var h;e?b==e&&d(f):((h=x.get("mceResizeHandle"+b))?x.show(h):(h=X,h=x.add(h,"div",{id:"mceResizeHandle"+b,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+b+"-resize; margin:0; padding:0"}),c.ie&&(h.contentEditable=!1)),a.elm||(x.bind(h,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();d(a)}),a.elm=h),x.setStyles(h,{left:m*a[0]+Q-h.offsetWidth/2,top:n*a[1]+M-h.offsetHeight/
2}))}):t();C.setAttribute("data-mce-selected","1")}function t(){var a,b;B();C&&C.removeAttribute("data-mce-selected");for(a in H)if(b=x.get("mceResizeHandle"+a))x.unbind(b),x.remove(b)}function n(b){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}var d;if(!S){w(x.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});d="mousedown"==b.type?b.target:e.getNode();d=x.$(d).closest(U?"table":"table,img,hr")[0];if(c(d,X)&&(F(),b=e.getStart(!0),
c(b,d)&&c(e.getEnd(!0),d)&&(!U||d!=b&&"IMG"!==b.nodeName))){a(d);return}t()}}function q(c){c=c.srcElement;var d,e,f,h,k,m;d=c.getBoundingClientRect();k=I.clientX-d.left;m=I.clientY-d.top;for(e in H)if(d=H[e],f=c.offsetWidth*d[0],h=c.offsetHeight*d[1],8>ba(f-k)&&8>ba(h-m)){G=d;break}S=!0;b.fire("ObjectResizeStart",{target:C,width:C.clientWidth,height:C.clientHeight});b.getDoc().selection.empty();a(c,e,I)}function s(a){var c=a.srcElement;if(c!=C)if(b.fire("ObjectSelected",{target:c}),z(),0===c.id.indexOf("mceResizeHandle"))a.returnValue=
!1;else if("IMG"==c.nodeName||"TABLE"==c.nodeName)t(),(C=c)&&c.attachEvent&&c.attachEvent("onresizestart",q)}function z(){C&&C.detachEvent&&C.detachEvent("onresizestart",q)}function B(){for(var a in H){var b=H[a];b.elm&&(x.unbind(b.elm),delete b.elm)}}function F(){try{b.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}}function A(a){var b;if(U){b=W.body.createControlRange();try{return b.addElement(a),b.select(),!0}catch(c){}}}var x=b.dom,w=h.each,C,E,J,H,G,I,L,O,Q,M,R,P,V,S,K,T,W=b.getDoc(),
$=document,U=c.ie&&11>c.ie,ba=Math.abs,da=Math.round,X=b.getBody(),fa,ga;H={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};b.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity\x3d50);z-index: 10000}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");b.on("init",function(){U?(b.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(t(),A(a.target))}),X&&X.attachEvent&&
X.attachEvent("oncontrolselect",s),b.on("mousedown",function(a){I=a})):(F(),11<=c.ie&&(b.on("mouseup",function(a){var c=a.target.nodeName;!S&&/^(TABLE|IMG|HR)$/.test(c)&&(b.selection.select(a.target,"TABLE"==c),b.nodeChanged())}),b.dom.bind(X,"mscontrolselect",function(a){/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"==a.target.tagName&&window.setTimeout(function(){b.selection.select(a.target)},0))})));b.on("nodechange ResizeEditor",n);b.on("keydown keyup",function(a){C&&"TABLE"==
C.nodeName&&n(a)});b.on("hide",t)});b.on("remove",B);return{isResizable:d,showResizeRect:a,hideResizeRect:t,updateResizeRect:n,controlSelect:A,destroy:function(){C=E=null;U&&(z(),X&&X.detachEvent&&X.detachEvent("oncontrolselect",s))}}}});h("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools"],function(f,h){function c(c){var b=c.dom;this.getBookmark=function(d,f){function l(a,c){var d=0;h.each(b.select(a),function(a,b){a==c&&(d=b)});return d}function a(a){function b(c){var d,e;e=c?"start":
"end";d=a[e+"Container"];e=a[e+"Offset"];if(1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(c?e:e-1,d.length-1)]))e=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,e)}b(!0);b();return a}function t(){function a(c,d){var e=c[d?"startContainer":"endContainer"],m=c[d?"startOffset":"endOffset"],l=[],r,t=0;if(3==e.nodeType){if(f)for(r=e.previousSibling;r&&3==r.nodeType;r=r.previousSibling)m+=r.nodeValue.length;l.push(m)}else r=e.childNodes,m>=r.length&&r.length&&(t=1,m=Math.max(0,r.length-
1)),l.push(b.nodeIndex(r[m],f)+t);for(;e&&e!=h;e=e.parentNode)l.push(b.nodeIndex(e,f));return l}var d=c.getRng(!0),h=b.getRoot(),m={};m.start=a(d,!0);c.isCollapsed()||(m.end=a(d));return m}var n,q,s,z,B;if(2==d)return q=(B=c.getNode())?B.nodeName:null,"IMG"==q?{name:q,index:l(q,B)}:c.tridentSel?c.tridentSel.getBookmark(d):t();if(d)return{rng:c.getRng()};n=c.getRng();s=b.uniqueId();z=c.isCollapsed();if(n.duplicate||n.item){if(n.item)return B=n.item(0),q=B.nodeName,{name:q,index:l(q,B)};q=n.duplicate();
try{n.collapse(),n.pasteHTML('\x3cspan data-mce-type\x3d"bookmark" id\x3d"'+s+'_start" style\x3d"overflow:hidden;line-height:0px"\x3e\x26#xFEFF;\x3c/span\x3e'),z||(q.collapse(!1),n.moveToElementText(q.parentElement()),0===n.compareEndPoints("StartToEnd",q)&&q.move("character",-1),q.pasteHTML('\x3cspan data-mce-type\x3d"bookmark" id\x3d"'+s+'_end" style\x3d"overflow:hidden;line-height:0px"\x3e\x26#xFEFF;\x3c/span\x3e'))}catch(F){return null}}else{B=c.getNode();q=B.nodeName;if("IMG"==q)return{name:q,
index:l(q,B)};q=a(n.cloneRange());z||(q.collapse(!1),q.insertNode(b.create("span",{"data-mce-type":"bookmark",id:s+"_end",style:"overflow:hidden;line-height:0px"},"\x26#xFEFF;")));n=a(n);n.collapse(!0);n.insertNode(b.create("span",{"data-mce-type":"bookmark",id:s+"_start",style:"overflow:hidden;line-height:0px"},"\x26#xFEFF;"))}c.moveToBookmark({id:s,keep:1});return{id:s}};this.moveToBookmark=function(d){function k(a){var b=d[a?"start":"end"],c,e,f;if(b){f=b[0];e=n;for(c=b.length-1;1<=c;c--){e=e.childNodes;
if(b[c]>e.length-1)return;e=e[b[c]]}3===e.nodeType&&(f=Math.min(b[0],e.nodeValue.length));1===e.nodeType&&(f=Math.min(b[0],e.childNodes.length));a?t.setStart(e,f):t.setEnd(e,f)}return!0}function l(a){var c=b.get(d.id+"_"+a),e,k,r;r=d.keep;if(c&&(e=c.parentNode,"start"==a?(r?(e=c.firstChild,k=1):k=b.nodeIndex(c),q=s=e,z=B=k):(r?(e=c.firstChild,k=1):k=b.nodeIndex(c),s=e,B=k),!r)){r=c.previousSibling;e=c.nextSibling;for(h.each(h.grep(c.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,
""))});c=b.get(d.id+"_"+a);)b.remove(c,1);r&&(e&&r.nodeType==e.nodeType&&3==r.nodeType&&!f.opera)&&(k=r.nodeValue.length,r.appendData(e.nodeValue),b.remove(e),"start"==a?(q=s=r,z=B=k):(s=r,B=k))}}function a(a){b.isBlock(a)&&(!a.innerHTML&&!f.ie)&&(a.innerHTML='\x3cbr data-mce-bogus\x3d"1" /\x3e');return a}var t,n,q,s,z,B;if(d)if(d.start){t=b.createRng();n=b.getRoot();if(c.tridentSel)return c.tridentSel.moveToBookmark(d);k(!0)&&k()&&c.setRng(t)}else d.id?(l("start"),l("end"),q&&(t=b.createRng(),t.setStart(a(q),
z),t.setEnd(a(s),B),c.setRng(t))):d.name?c.select(b.select(d.name)[d.index]):d.rng&&c.setRng(d.rng)}}c.isBookmarkNode=function(c){return c&&"SPAN"===c.tagName&&"bookmark"===c.getAttribute("data-mce-type")};return c});h("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/Env tinymce/util/Tools".split(" "),function(f,h,c,e,b,d,k){function l(a,d,e,f){this.dom=a;this.win=d;this.serializer=
e;this.editor=f;this.bookmarkManager=new b(this);this.controlSelection=new c(this,f);this.win.getSelection||(this.tridentSel=new h(this))}var a=k.each,t=k.trim,n=d.ie;l.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),d=this.getSel(),e,f;a=a||{};e=f="";a.get=!0;a.format=a.format||
"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==q||b.htmlText!==q?(c.innerHTML="\x3cbr\x3e"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(e=" ");/\s+$/.test(c.innerHTML)&&(f=" ");a.getInner=!0;a.content=this.isCollapsed()?"":e+this.serializer.serialize(c,a)+f;this.editor.fire("GetContent",
a);return a.content},setContent:function(a,b){var c=this.getRng(),d,e=this.win.document,f;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='\x3cspan id\x3d"__caret"\x3e_\x3c/span\x3e';c.startContainer==e&&c.endContainer==e?e.body.innerHTML=a:(c.deleteContents(),0===e.body.childNodes.length?e.body.innerHTML=a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):(d=e.createDocumentFragment(),
f=e.createElement("div"),d.appendChild(f),f.outerHTML=a,c.insertNode(d)));d=this.dom.get("__caret");c=e.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(h){}}else c.item&&(e.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('\x3cspan id\x3d"__mce_tmp"\x3e_\x3c/span\x3e'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=this.getRng(),
c;if(b.duplicate||b.item){if(b.item)return b.item(0);c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;if(1==c.nodeType&&c.hasChildNodes()&&(!a||!b.collapsed))c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)];return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng(),c,d;if(b.duplicate||b.item){if(b.item)return b.item(0);b=
b.duplicate();b.collapse(0);c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;d=b.endOffset;if(1==c.nodeType&&c.hasChildNodes()&&(!a||!b.collapsed))c=c.childNodes[0<d?d-1:d];return c&&3==c.nodeType?c.parentNode:c},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();this.lastFocusBookmark=
null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));
b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,c,d){try{return c.compareBoundaryPoints(a,d)}catch(e){return-1}}var c,d,e=this.win.document,f;if(!a&&this.lastFocusBookmark)return a=this.lastFocusBookmark,a.startContainer?(d=e.createRange(),d.setStart(a.startContainer,a.startOffset),d.setEnd(a.endContainer,a.endOffset)):d=a,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=
this.getSel())d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():e.createRange()}catch(h){}if(n&&d&&d.setStart&&e.selection){try{f=e.selection.createRange()}catch(k){}f&&f.item&&(a=f.item(0),d=e.createRange(),d.setStartBefore(a),d.setEndAfter(a))}d||(d=e.createRange?e.createRange():e.body.createTextRange());d.setStart&&(9===d.startContainer.nodeType&&d.collapsed)&&(a=this.dom.getRoot(),d.setStart(a,0),d.setEnd(a,0));this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&
0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:this.explicitRange=this.selectedRange=null);return d},setRng:function(a,b){var c;if(a)if(a.select)try{a.select()}catch(d){}else if(this.tridentSel){if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(e){}}else if(c=this.getSel()){this.explicitRange=a;try{c.removeAllRanges(),c.addRange(a)}catch(f){}!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):
null}},setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(b,c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d=b.startContainer,e=b.endContainer,f=b.startOffset,h=b.endOffset,k=this.dom.getRoot();if(!b)return k;if(b.setStart)return c=b.commonAncestorContainer,!b.collapsed&&(d==e&&2>h-f&&d.hasChildNodes()&&(c=d.childNodes[f]),3===d.nodeType&&3===e.nodeType&&(d=d.length===f?a(d.nextSibling,
!0):d.parentNode,e=0===h?a(e.previousSibling,!1):e.parentNode,d&&d===e))?d:c&&3==c.nodeType?c.parentNode:c;c=b.item?b.item(0):b.parentElement();c.ownerDocument!==this.win.document&&(c=k);return c},getSelectedBlocks:function(a,b){var c=this.dom,d,e,h=[];e=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=e&&h.push(a);if(a&&b&&a!=b){d=a;for(var k=new f(a,e);(d=k.next())&&d!=b;)c.isBlock(d)&&h.push(d)}b&&(a!=b&&b!=e)&&h.push(b);return h},isForward:function(){var a=
this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||!b.focusNode)return!0;c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var a=this.getRng();d.range&&(new e(this.dom)).normalize(a)&&this.setRng(a,this.isForward());return a},selectorChanged:function(b,c){var d=this,e;d.selectorChangedData||(d.selectorChangedData={},e={},d.editor.on("NodeChange",
function(b){var c=b.element,f=d.dom,h=f.getParents(c,null,f.getRoot()),k={};a(d.selectorChangedData,function(b,c){a(h,function(d){if(f.is(d,c))return e[c]||(a(b,function(a){a(!0,{node:d,selector:c,parents:h})}),e[c]=b),k[c]=b,!1})});a(e,function(b,d){k[d]||(delete e[d],a(b,function(a){a(!1,{node:c,selector:d,parents:h})}))})}));d.selectorChangedData[b]||(d.selectorChangedData[b]=[]);d.selectorChangedData[b].push(c);return d},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=
b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a){function b(a){for(var c=0,d=0;a&&a.nodeType;)c+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent;return{x:c,y:d}}var c,d=this.dom,e;if("BODY"!=d.getRoot().nodeName&&(c=this.getScrollContainer())){a=b(a).y-b(c).y;e=c.clientHeight;d=c.scrollTop;if(a<d||a+25>d+e)c.scrollTop=a<d?a:a-e+25;return}c=d.getViewPort(this.editor.getWin());a=d.getPos(a).y;d=c.y;e=c.h;if(a<c.y||a+25>d+e)this.editor.getWin().scrollTo(0,
a<d?a:a-e+25)},placeCaretAt:function(a,b){var c=this.editor.getDoc(),d,e;if(c.caretPositionFromPoint)e=c.caretPositionFromPoint(a,b),d=c.createRange(),d.setStart(e.offsetNode,e.offset),d.collapse(!0);else if(c.caretRangeFromPoint)d=c.caretRangeFromPoint(a,b);else if(c.body.createTextRange){d=c.body.createTextRange();try{d.moveToPoint(a,b),d.collapse(!0)}catch(f){d.collapse(b<c.body.clientHeight)}}this.setRng(d)},_moveEndPoint:function(a,b,c){var e=b,h=new f(b,e),k=this.dom.schema.getNonEmptyElements();
do{if(3==b.nodeType&&0!==t(b.nodeValue).length){c?a.setStart(b,0):a.setEnd(b,b.nodeValue.length);return}if(k[b.nodeName]&&!/^(TD|TH)$/.test(b.nodeName)){c?a.setStartBefore(b):"BR"==b.nodeName?a.setEndBefore(b):a.setEndAfter(b);return}if(d.ie&&11>d.ie&&this.dom.isBlock(b)&&this.dom.isEmpty(b)){c?a.setStart(b,0):a.setEnd(b,0);return}}while(b=c?h.next():h.prev());"BODY"==e.nodeName&&(c?a.setStart(e,0):a.setEnd(e,e.childNodes.length))},destroy:function(){this.win=null;this.controlSelection.destroy()}};
return l});h("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(f,h){var c=h.each;return function(e){this.compare=function(b,d){function h(a){var b={};c(e.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&("style"!==c&&"data-mce-style"!==c)&&(b[c]=e.getAttrib(a,c))});return b}function m(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if("undefined"==typeof c||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;
return!0}return b.nodeName!=d.nodeName||!m(h(b),h(d))||!m(e.parseStyle(e.getAttrib(b,"style")),e.parseStyle(e.getAttrib(d,"style")))?!1:!f.isBookmarkNode(b)&&!f.isBookmarkNode(d)}}});h("tinymce/fmt/Preview",["tinymce/util/Tools"],function(f){var h=f.each;return{getCssText:function(c,e){var b,d=c.dom,f="",l,a;a=c.settings.preview_styles;if(!1===a)return"";a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
if("string"==typeof e){e=c.formatter.get(e);if(!e)return;e=e[0]}b=d.create(e.block||e.inline||"span");h(e.styles,function(a,c){(a=a.replace(/%(\w+)/g,""))&&d.setStyle(b,c,a)});h(e.attributes,function(a,c){(a=a.replace(/%(\w+)/g,""))&&d.setAttrib(b,c,a)});h(e.classes,function(a){a=a.replace(/%(\w+)/g,"");d.hasClass(b,a)||d.addClass(b,a)});c.fire("PreviewFormats");d.setStyles(b,{position:"absolute",left:-65535});c.getBody().appendChild(b);l=d.getStyle(c.getBody(),"fontSize",!0);l=/px$/.test(l)?parseInt(l,
10):0;h(a.split(" "),function(a){var e=d.getStyle(b,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=d.getStyle(c.getBody(),a,!0),"#ffffff"==d.toHex(e).toLowerCase()))return;if(!("color"==a&&"#000000"==d.toHex(e).toLowerCase())){if("font-size"==a&&/em|%$/.test(e)){if(0===l)return;e=parseFloat(e,10)/(/%$/.test(e)?100:1);e=e*l+"px"}"border"==a&&e&&(f+="padding:0 2px;");f+=a+":"+e+";"}});c.fire("AfterPreviewFormats");d.remove(b);return f}}});h("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Tools tinymce/fmt/Preview".split(" "),
function(f,h,c,e,b,d){return function(k){function l(a){a.nodeType&&(a=a.nodeName);return!!k.schema.getTextBlockElements()[a.toLowerCase()]}function a(a,b){return K.getParents(a,b,K.getRoot())}function n(a){return 1===a.nodeType&&"_mce_caret"===a.id}function q(a){return a?S[a]:S}function s(a,b){a&&("string"!==typeof a?N(a,function(a,b){s(b,a)}):(b=b.length?b:[b],N(b,function(a){a.deep===ca&&(a.deep=!a.selector);a.split===ca&&(a.split=!a.selector||a.inline);a.remove===ca&&(a.selector&&!a.inline)&&(a.remove=
"none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),S[a]=b))}function D(a){var b;k.dom.getParent(a,function(a){return(b=k.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function z(a){var b;1===a.nodeType&&(a.parentNode&&1===a.parentNode.nodeType)&&(b=D(a.parentNode),k.dom.getStyle(a,"color")&&b?k.dom.setStyle(a,"text-decoration",b):k.dom.getStyle(a,"text-decoration")===b&&k.dom.setStyle(a,"text-decoration",null))}
function B(a,b,c){function d(a,e){e=e||s;if(a){if(e.onformat)e.onformat(a,e,b,c);N(e.styles,function(c,d){K.setStyle(a,d,J(c,b))});if(e.styles){var f=K.getAttrib(a,"style");f&&a.setAttribute("data-mce-style",f)}N(e.attributes,function(c,d){K.setAttrib(a,d,J(c,b))});N(e.classes,function(c){c=J(c,b);K.hasClass(a,c)||K.addClass(a,c)})}}function e(){var a=k.selection.getRng(),b=a.startContainer,d=a.endContainer;if(b!=d&&0===a.endOffset){a:{d=new f(d);for(c=d.current();c;c=d.prev())if(1<c.childNodes.length||
c==b||"BR"==c.tagName){b=c;break a}b=void 0}a.setEnd(b,3==b.nodeType?b.length:b.childNodes.length)}return a}function h(c,e,f){var k=[],q,u,v=!0;q=s.inline||s.block;u=K.create(q);d(u);W.walk(c,function(c){function e(c){var w,D,z,B,F;F=v;w=c.nodeName.toLowerCase();D=c.parentNode.nodeName.toLowerCase();1===c.nodeType&&ia(c)&&(F=v,v="true"===ia(c),B=!0);if(C(w,"br"))h=0,s.block&&K.remove(c);else if(s.wrapper&&A(c,a,b))h=0;else if(v&&!B&&s.block&&!s.wrapper&&l(w)&&$(D,q))c=K.rename(c,q),d(c),k.push(c),
h=0;else{if(s.selector&&(N(m,function(a){!("collapsed"in a&&a.collapsed!==x)&&(K.is(c,a.selector)&&!n(c))&&(d(c,a),z=!0)}),!s.inline||z)){h=0;return}v&&!B&&$(q,w)&&$(D,q)&&(f||!(3===c.nodeType&&1===c.nodeValue.length&&65279===c.nodeValue.charCodeAt(0)))&&!n(c)&&(!s.inline||!U(c))?(h||(h=K.clone(u,ga),c.parentNode.insertBefore(h,c),k.push(h)),h.appendChild(c)):(h=0,N(ea(c.childNodes),e),B&&(v=F),h=0)}}var h;N(c,e)});!0===s.links&&N(k,function(a){function b(a){"A"===a.nodeName&&d(a,s);N(ea(a.childNodes),
b)}b(a)});N(k,function(c){function e(a){var b,c;N(a.childNodes,function(a){if(1==a.nodeType&&!ha(a)&&!n(a))return b=a,ga});b&&(!ha(b)&&w(b,s))&&(c=K.clone(b,ga),d(c),K.replace(c,a,aa),K.remove(b,1));return c||a}var f;f=function(a){var b=0;N(a.childNodes,function(a){!H(a)&&!ha(a)&&b++});return b}(c);if((1<k.length||!U(c))&&0===f)K.remove(c,1);else if(s.inline||s.wrapper){!s.exact&&1===f&&(c=e(c));N(m,function(a){N(K.select(a.inline,c),function(c){ha(c)||L(a,b,c,a.exact?c:null)})});if(A(c.parentNode,
a,b))return K.remove(c,1),c=0,aa;s.merge_with_parents&&K.getParent(c.parentNode,function(d){if(A(d,a,b))return K.remove(c,1),c=0,aa});c&&!1!==s.merge_siblings&&(c=M(Q(c),c),c=M(c,Q(c,aa)))}})}var m=q(a),s=m[0],v,x=!c&&T.isCollapsed();if(s)if(c)c.nodeType?(v=K.createRng(),v.setStartBefore(c),v.setEndAfter(c),h(I(v,m),null,!0)):h(c,null,!0);else if(!x||!s.inline||K.select("td.mce-item-selected,th.mce-item-selected").length){var D=k.selection.getNode();!ba&&(m[0].defaultBlock&&!K.getParent(D,K.isBlock))&&
B(m[0].defaultBlock);k.selection.setRng(e());v=T.getBookmark();h(I(T.getRng(aa),m),v);if(s.styles&&(s.styles.color||s.styles.textDecoration))ka(D,z,"childNodes"),z(D);T.moveToBookmark(v);V(T.getRng(aa));k.nodeChanged()}else P("apply",a,b)}function F(b,c,d,e){function f(a){var b,d,e,h,k;1===a.nodeType&&ia(a)&&(h=v,v="true"===ia(a),k=!0);b=ea(a.childNodes);if(v&&!k){d=0;for(e=n.length;d<e&&!L(n[d],c,a,a);d++);}if(t.deep&&b.length){d=0;for(e=b.length;d<e;d++)f(b[d]);k&&(v=h)}}function h(d){var f;N(a(d.parentNode).reverse(),
function(a){var d;!f&&"_start"!=a.id&&"_end"!=a.id&&(d=A(a,b,c,e))&&!1!==d.split&&(f=a)});return f}function m(a){var b=h(a),d=a,e,f,k,l,r,q;if(b){q=b.parentNode;for(e=d.parentNode;e&&e!=q;e=e.parentNode){f=K.clone(e,ga);for(r=0;r<n.length;r++)if(L(n[r],c,f,f)){f=0;break}f&&(k&&f.appendChild(k),l||(l=f),k=f)}if(!t.mixed||!U(b))d=K.split(b,d);k&&(a.parentNode.insertBefore(k,a),l.appendChild(a))}return d}function l(a){var b=K.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];ha(c)&&(c=c[a?"firstChild":
"lastChild"]);3==c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling);K.remove(b,!0);return c}function r(a){var b,c,d=a.commonAncestorContainer;a=I(a,n,aa);if(t.split){b=R(a,aa);c=R(a);if(b!=c){/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"==b.nodeName?b.firstChild.firstChild||b:b.firstChild||b);d&&(/^T(HEAD|BODY|FOOT|R)$/.test(d.nodeName)&&/^(TH|TD)$/.test(c.nodeName)&&c.firstChild)&&(c=c.firstChild||c);if(K.isChildOf(b,c)&&!U(c)&&!/^(TH|TD)$/.test(b.nodeName)&&
!/^(TH|TD)$/.test(c.nodeName)){b=G(b,"span",{id:"_start","data-mce-type":"bookmark"});m(b);b=l(aa);return}b=G(b,"span",{id:"_start","data-mce-type":"bookmark"});c=G(c,"span",{id:"_end","data-mce-type":"bookmark"});m(b);m(c);b=l(aa);c=l()}else b=c=m(b);a.startContainer=b.parentNode?b.parentNode:b;a.startOffset=da(b);a.endContainer=c.parentNode?c.parentNode:c;a.endOffset=da(c)+1}W.walk(a,function(a){N(a,function(a){f(a);1===a.nodeType&&("underline"===k.dom.getStyle(a,"text-decoration")&&a.parentNode&&
"underline"===D(a.parentNode))&&L({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var n=q(b),t=n[0],s,v=!0;d?d.nodeType?(s=K.createRng(),s.setStartBefore(d),s.setEndAfter(d),r(s)):r(d):!T.isCollapsed()||!t.inline||K.select("td.mce-item-selected,th.mce-item-selected").length?(d=T.getBookmark(),r(T.getRng(aa)),T.moveToBookmark(d),t.inline&&x(b,c,T.getStart())&&V(T.getRng(!0)),k.nodeChanged()):P("remove",b,c,e)}function A(a,b,c,d){function e(a,b,f){var h,k,m=b[f];if(b.onmatch)return b.onmatch(a,
b,f);if(m)if(m.length===ca)for(h in m){if(m.hasOwnProperty(h)&&(k="attributes"===f?K.getAttrib(a,h):E(K.getStyle(a,h),h),d&&!k&&!b.exact||(!d||b.exact)&&!C(k,E(J(m[h],c),h))))return}else for(h=0;h<m.length&&!("attributes"===f?K.getAttrib(a,m[h]):E(K.getStyle(a,m[h]),m[h]));h++);return b}var f=q(b),h;if(f&&a)for(h=0;h<f.length;h++)if(b=f[h],w(a,b)&&e(a,b,"attributes")&&e(a,b,"styles")){if(f=b.classes)for(h=0;h<f.length;h++)if(!K.hasClass(a,f[h]))return;return b}}function x(a,b,c){function d(c){var e=
K.getRoot();if(c===e)return!1;c=K.getParent(c,function(c){return c.parentNode===e||!!A(c,a,b,!0)});return A(c,a,b)}var e;if(c)return d(c);c=T.getNode();if(d(c))return aa;e=T.getStart();return e!=c&&d(e)?aa:ga}function w(a,b){if(C(a,b.inline)||C(a,b.block))return aa;if(b.selector)return 1==a.nodeType&&K.is(a,b.selector)}function C(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function E(a,b){if("color"==b||"backgroundColor"==b)a=K.toHex(a);"fontWeight"==
b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function J(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function H(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function G(a,b,c){b=K.create(b,c);a.parentNode.insertBefore(b,a);b.appendChild(a);return b}function I(b,c,d){function e(a){var b,d,f,h;b=d=a?u:w;f=a?"previousSibling":"nextSibling";h=K.getRoot();if(3==b.nodeType&&!H(b)&&
(a?0<v:x<b.nodeValue.length))return b;for(;;){if(!c[0].block_expand&&U(d))return d;for(a=d[f];a;a=a[f])if(!ha(a)&&!H(a)&&!("BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return d;if(d.parentNode==h){b=d;break}d=d.parentNode}return b}function h(a,b){for(b===ca&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function m(a){for(var b=a;b;){if(1===b.nodeType&&ia(b))return"false"===
ia(b)?b:a;b=b.parentNode}return a}function n(a,b,c){function e(a,b){var f,h;h=a.nodeValue;"undefined"==typeof b&&(b=c?h.length:0);c?(f=h.lastIndexOf(" ",b),h=h.lastIndexOf("\u00a0",b),f=f>h?f:h,-1!==f&&!d&&f++):(f=h.indexOf(" ",b),h=h.indexOf("\u00a0",b),f=-1!==f&&(-1===h||f<h)?f:h);return f}var h,m;if(3===a.nodeType){b=e(a,b);if(-1!==b)return{container:a,offset:b};m=a}for(a=new f(a,K.getParent(a,U)||k.getBody());h=a[c?"prev":"next"]();)if(3===h.nodeType){if(m=h,b=e(h),-1!==b)return{container:h,offset:b}}else if(U(h))break;
if(m)return b=c?0:m.length,{container:m,offset:b}}function t(d,e){var f,h,k,m;3==d.nodeType&&(0===d.nodeValue.length&&d[e])&&(d=d[e]);f=a(d);for(h=0;h<f.length;h++)for(k=0;k<c.length;k++)if(m=c[k],!("collapsed"in m&&m.collapsed!==b.collapsed)&&K.is(f[h],m.selector))return f[h];return d}function q(b,d){var e,f=K.getRoot();c[0].wrapper||(e=K.getParent(b,c[0].block,f));e||(e=K.getParent(3==b.nodeType?b.parentNode:b,function(a){return a!=f&&l(a)}));e&&c[0].wrapper&&(e=a(e,"ul,ol").reverse()[0]||e);if(!e)for(e=
b;e[d]&&!U(e[d])&&!(e=e[d],C(e,"br")););return e||b}var s,u=b.startContainer,v=b.startOffset,w=b.endContainer,x=b.endOffset;1==u.nodeType&&u.hasChildNodes()&&(s=u.childNodes.length-1,u=u.childNodes[v>s?s:v],3==u.nodeType&&(v=0));1==w.nodeType&&w.hasChildNodes()&&(s=w.childNodes.length-1,w=w.childNodes[x>s?s:x-1],3==w.nodeType&&(x=w.nodeValue.length));u=m(u);w=m(w);if(ha(u.parentNode)||ha(u))u=ha(u)?u:u.parentNode,u=u.nextSibling||u,3==u.nodeType&&(v=0);if(ha(w.parentNode)||ha(w))w=ha(w)?w:w.parentNode,
w=w.previousSibling||w,3==w.nodeType&&(x=w.length);if(c[0].inline){if(b.collapsed){if(s=n(u,v,!0))u=s.container,v=s.offset;if(s=n(w,x))w=s.container,x=s.offset}s=h(w,x);if(s.node){for(;s.node&&0===s.offset&&s.node.previousSibling;)s=h(s.node.previousSibling);s.node&&(0<s.offset&&3===s.node.nodeType&&" "===s.node.nodeValue.charAt(s.offset-1))&&1<s.offset&&(w=s.node,w.splitText(s.offset-1))}}if(c[0].inline||c[0].block_expand){if(!c[0].inline||3!=u.nodeType||0===v)u=e(!0);if(!c[0].inline||3!=w.nodeType||
x===w.nodeValue.length)w=e()}c[0].selector&&(c[0].expand!==ga&&!c[0].inline)&&(u=t(u,"previousSibling"),w=t(w,"nextSibling"));if(c[0].block||c[0].selector)u=q(u,"previousSibling"),w=q(w,"nextSibling"),c[0].block&&(U(u)||(u=e(!0)),U(w)||(w=e()));1==u.nodeType&&(v=da(u),u=u.parentNode);1==w.nodeType&&(x=da(w)+1,w=w.parentNode);return{startContainer:u,startOffset:v,endContainer:w,endOffset:x}}function L(a,b,c,d){var e,f,h;if(!w(c,a)&&!(a.links&&"A"==c.tagName))return ga;if("all"!=a.remove){N(a.styles,
function(e,f){e=E(J(e,b),f);"number"===typeof f&&(f=e,d=0);(a.remove_similar||!d||C(E(K.getStyle(d,f),f),e))&&K.setStyle(c,f,"");h=1});h&&""===K.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"));N(a.attributes,function(a,e){var f;a=J(a,b);"number"===typeof e&&(e=a,d=0);if(!d||C(K.getAttrib(d,e),a)){if("class"==e&&(a=K.getAttrib(c,e)))if(f="",N(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(f+=(f?" ":"")+a)}),f){K.setAttrib(c,e,f);return}"class"==e&&c.removeAttribute("className");
fa.test(e)&&c.removeAttribute("data-mce-"+e);c.removeAttribute(e)}});N(a.classes,function(a){a=J(a,b);(!d||K.hasClass(d,a))&&K.removeClass(c,a)});f=K.getAttribs(c);for(e=0;e<f.length;e++)if(0!==f[e].nodeName.indexOf("_"))return ga}if("none"!=a.remove)return O(c,a),aa}function O(a,b){function c(a,b,d){a=Q(a,b,d);return!a||"BR"==a.nodeName||U(a)}var d=a.parentNode,e;b.block&&(ba?d==K.getRoot()&&(!b.list_block||!C(a,b.list_block))&&N(ea(a.childNodes),function(a){$(ba,a.nodeName.toLowerCase())?e?e.appendChild(a):
(e=G(a,ba),K.setAttribs(e,k.settings.forced_root_block_attrs)):e=0}):U(a)&&!U(d)&&(!c(a,ga)&&!c(a.firstChild,aa,1)&&a.insertBefore(K.create("br"),a.firstChild),!c(a,aa)&&!c(a.lastChild,ga,1)&&a.appendChild(K.create("br"))));(!b.selector||!b.inline||C(b.inline,a))&&K.remove(a,1)}function Q(a,b,c){if(a){b=b?"nextSibling":"previousSibling";for(a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!H(a))return a}}function M(a,b){function c(a,b){for(d=a;d&&!(3==d.nodeType&&0!==d.nodeValue.length);d=d[b])if(1==d.nodeType&&
!ha(d))return d;return a}var d,f;f=new e(K);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),f.compare(a,b))){for(d=a.nextSibling;d&&d!=b;)f=d,d=d.nextSibling,a.appendChild(f);K.remove(b);N(ea(b.childNodes),function(b){a.appendChild(b)});return a}return b}function R(a,b){var c,d,e;c=a[b?"startContainer":"endContainer"];d=a[b?"startOffset":"endOffset"];1==c.nodeType&&(e=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>e?e:d]);3===c.nodeType&&(b&&d>=c.nodeValue.length)&&(c=(new f(c,k.getBody())).next()||
c);3===c.nodeType&&(!b&&0===d)&&(c=(new f(c,k.getBody())).prev()||c);return c}function P(a,b,c,d){function e(a){var b=K.create("span",{id:x,"data-mce-bogus":!0,style:C?"color:red":""});a&&b.appendChild(k.getDoc().createTextNode(X));return b}function h(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==X||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function m(a){for(;a;){if(a.id===x)return a;a=a.parentNode}}function n(a){var b;if(a){b=new f(a,a);for(a=b.current();a;a=
b.next())if(3===a.nodeType)return a}}function t(a,b){var c,d;if(a)d=T.getRng(!0),h(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),K.remove(a)):(c=n(a),c.nodeValue.charAt(0)===X&&(c.deleteData(0,1),d.startContainer==c&&0<d.startOffset&&d.setStart(c,d.startOffset-1),d.endContainer==c&&0<d.endOffset&&d.setEnd(c,d.endOffset-1)),K.remove(a,1)),T.setRng(d);else if(a=m(T.getStart()),!a)for(;a=K.get(x);)t(a,!1)}function s(){var a,d,f,h,k;a=T.getRng(!0);h=a.startOffset;k=a.startContainer.nodeValue;(d=
m(T.getStart()))&&(f=n(d));if(k&&0<h&&h<k.length&&/\w/.test(k.charAt(h))&&/\w/.test(k.charAt(h-1)))d=T.getBookmark(),a.collapse(!0),a=I(a,q(b)),a=W.split(a),B(b,c,a),T.moveToBookmark(d);else{if(!d||f.nodeValue!==X)d=e(!0),f=d.firstChild,a.insertNode(d),h=1;B(b,c,d);T.setCursorLocation(f,h)}}function v(){var a=T.getRng(!0),f,h,k,m,n,t=[];f=a.startContainer;h=a.startOffset;k=f;3==f.nodeType&&(h!=f.nodeValue.length&&(m=!0),k=k.parentNode);for(;k;){if(A(k,b,c,d)){n=k;break}k.nextSibling&&(m=!0);t.push(k);
k=k.parentNode}if(n)if(m)k=T.getBookmark(),a.collapse(!0),a=I(a,q(b),!0),a=W.split(a),F(b,c,a),T.moveToBookmark(k);else{k=a=e();for(f=t.length-1;0<=f;f--)k.appendChild(K.clone(t[f],!1)),k=k.firstChild;k.appendChild(K.doc.createTextNode(X));k=k.firstChild;(t=K.getParent(n,l))&&K.isEmpty(t)?n.parentNode.replaceChild(a,n):K.insertAfter(a,n);T.setCursorLocation(k,1);K.isEmpty(n)&&K.remove(n)}}function w(){var a;(a=m(T.getStart()))&&!K.isEmpty(a)&&ka(a,function(a){1==a.nodeType&&(a.id!==x&&!K.isEmpty(a))&&
K.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var x="_mce_caret",C=k.settings.caret_debug;k._hasCaretEvents||(ja=function(){var a=[],b;if(h(m(T.getStart()),a))for(b=a.length;b--;)K.setAttrib(a[b],"data-mce-bogus","1")},la=function(a){a=a.keyCode;t();(8==a&&T.isCollapsed()||37==a||39==a)&&t(m(T.getStart()));w()},k.on("SetContent",function(a){a.selection&&w()}),k._hasCaretEvents=!0);"apply"==a?s():v()}function V(a){var b=a.startContainer,c=a.startOffset,d,e;3==b.nodeType&&c>=b.nodeValue.length&&
(c=da(b),b=b.parentNode,d=!0);if(1==b.nodeType){e=b.childNodes;b=e[Math.min(c,e.length-1)];b=new f(b,K.getParent(b,K.isBlock));(c>e.length-1||d)&&b.next();for(c=b.current();c;c=b.next())if(3==c.nodeType&&!H(c)){d=K.create("a",{"data-mce-bogus":"all"},X);c.parentNode.insertBefore(d,c);a.setStart(c,0);T.setRng(a);K.remove(d);break}}}var S={},K=k.dom,T=k.selection,W=new h(K),$=k.schema.isValidChild,U=K.isBlock,ba=k.settings.forced_root_block,da=K.nodeIndex,X="\ufeff",fa=/^(src|href|style)$/,ga=!1,aa=
!0,Z,ca,ia=K.getContentEditable,la,ja,ha=c.isBookmarkNode,N=b.each,ea=b.grep,ka=b.walk,Y=b.extend;Y(this,{get:q,register:s,unregister:function(a){a&&S[a]&&delete S[a];return S},apply:B,remove:F,toggle:function(a,b,c){var d=q(a);x(a,b,c)&&(!("toggle"in d[0])||d[0].toggle)?F(a,b,c):B(a,b,c)},match:x,matchAll:function(a,b){var c,d=[],e={};c=T.getStart();K.getParent(c,function(c){var f,h;for(f=0;f<a.length;f++)h=a[f],!e[h]&&A(c,h,b)&&(e[h]=!0,d.push(h))},K.getRoot());return d},matchNode:A,canApply:function(b){b=
q(b);var c,d,e,f;if(b){c=T.getStart();c=a(c);for(e=b.length-1;0<=e;e--){f=b[e].selector;if(!f||b[e].defaultBlock)return aa;for(d=c.length-1;0<=d;d--)if(K.is(c[d],f))return aa}}return ga},formatChanged:function(c,d,e){var f;Z||(Z={},f={},k.on("NodeChange",function(c){var d=a(c.element),e={},d=b.grep(d,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});N(Z,function(a,b){N(d,function(c){if(A(c,b,{},a.similar))return f[b]||(N(a,function(a){a(!0,{node:c,format:b,parents:d})}),f[b]=a),
e[b]=a,!1})});N(f,function(a,b){e[b]||(delete f[b],N(a,function(a){a(!1,{node:c.element,format:b,parents:d})}))})}));N(c.split(","),function(a){Z[a]||(Z[a]=[],Z[a].similar=e);Z[a].push(d)});return this},getCssText:function(a){return d.getCssText(k,a)}});(function(){s({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},
{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",
styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},
code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){N(c,function(b,c){K.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});N("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),
function(a){s(a,{block:a,remove:"all"})});s(k.settings.formats)})();(function(){k.addShortcut("meta+b","bold_desc","Bold");k.addShortcut("meta+i","italic_desc","Italic");k.addShortcut("meta+u","underline_desc","Underline");for(var a=1;6>=a;a++)k.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a]);k.addShortcut("access+7","",["FormatBlock",!1,"p"]);k.addShortcut("access+8","",["FormatBlock",!1,"div"]);k.addShortcut("access+9","",["FormatBlock",!1,"address"])})();k.on("BeforeGetContent",function(a){ja&&
"raw"!=a.format&&ja()});k.on("mouseup keydown",function(a){la&&la(a)})}});h("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools","tinymce/html/SaxParser"],function(f,h,c,e){var b=c.trim,d;d=RegExp('\x3cspan[^\x3e]+data-mce-bogus[^\x3e]+\x3e[\u200b\ufeff]+\x3c\\/span\x3e|\\s?data-mce-selected\x3d"[^"]+"',"gi");return function(c){function f(){var a=c.getContent({format:"raw",no_events:1}),h=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,m,l,r,n,t=c.schema,a=a.replace(d,"");for(n=t.getShortEndedElements();m=
h.exec(a);)l=h.lastIndex,r=m[0].length,m=n[m[1]]?l:e.findEndTag(t,a,l),a=a.substring(0,l-r)+a.substring(m),h.lastIndex=l-r;return b(a)}function a(a){l.typing=!1;l.add({},a)}var l=this,n=0,q=[],s,z,B=0;c.on("init",function(){l.add()});c.on("BeforeExecCommand",function(a){a=a.command;"Undo"!=a&&("Redo"!=a&&"mceRepaint"!=a)&&l.beforeChange()});c.on("ExecCommand",function(b){var c=b.command;"Undo"!=c&&("Redo"!=c&&"mceRepaint"!=c)&&a(b)});c.on("ObjectResizeStart",function(){l.beforeChange()});c.on("SaveContent ObjectResized blur",
a);c.on("DragEnd",a);c.on("KeyUp",function(b){var d=b.keyCode;if(33<=d&&36>=d||37<=d&&40>=d||45==d||13==d||b.ctrlKey)a(),c.nodeChanged();(46==d||8==d||h.mac&&(91==d||93==d))&&c.nodeChanged();z&&l.typing&&(c.isDirty()||(b=q[0]&&f()!=q[0].content,c.isNotDirty=!b,c.isNotDirty||c.fire("change",{level:q[0],lastLevel:null})),c.fire("TypingUndo"),z=!1,c.nodeChanged())});c.on("KeyDown",function(b){var c=b.keyCode;if(33<=c&&36>=c||37<=c&&40>=c||45==c)l.typing&&a(b);else{var d=b.ctrlKey&&!b.altKey||b.metaKey;
if((16>c||20<c)&&224!=c&&91!=c&&!l.typing&&!d)l.beforeChange(),l.typing=!0,l.add({},b),z=!0}});c.on("MouseDown",function(b){l.typing&&a(b)});c.addShortcut("meta+z","","Undo");c.addShortcut("meta+y,meta+shift+z","","Redo");c.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||c.nodeChanged()});return l={data:q,typing:!1,beforeChange:function(){B||(s=c.selection.getBookmark(2,!0))},add:function(a,b){var d;d=c.settings;var e;a=a||{};a.content=f();if(B||c.removed)return null;e=q[n];
if(c.fire("BeforeAddUndo",{level:a,lastLevel:e,originalEvent:b}).isDefaultPrevented()||e&&e.content==a.content)return null;q[n]&&(q[n].beforeBookmark=s);if(d.custom_undo_redo_levels&&q.length>d.custom_undo_redo_levels){for(d=0;d<q.length-1;d++)q[d]=q[d+1];q.length--;n=q.length}a.bookmark=c.selection.getBookmark(2,!0);n<q.length-1&&(q.length=n+1);q.push(a);n=q.length-1;e={level:a,lastLevel:e,originalEvent:b};c.fire("AddUndo",e);0<n&&(c.isNotDirty=!1,c.fire("change",e));return a},undo:function(){var a;
l.typing&&(l.add(),l.typing=!1);0<n&&(a=q[--n],0===n&&(c.isNotDirty=!0),c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.beforeBookmark),c.fire("undo",{level:a}));return a},redo:function(){var a;n<q.length-1&&(a=q[++n],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.bookmark),c.isNotDirty=!1,c.fire("redo",{level:a}));return a},clear:function(){q=[];n=0;l.typing=!1;c.fire("ClearUndos")},hasUndo:function(){return 0<n||l.typing&&q[0]&&f()!=q[0].content},hasRedo:function(){return n<
q.length-1&&!this.typing},transact:function(a){l.beforeChange();try{B++,a()}finally{B--}l.add()}}}});h("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(f,h,c){var e=c.ie&&11>c.ie;return function(b){function d(d){function B(a){return a&&k.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==k.getContentEditable(a)}function F(a){var b;k.isBlock(a)&&(b=l.getRng(),a.appendChild(k.create("span",null,
"\u00a0")),l.select(a),a.lastChild.outerHTML="",l.setRng(b))}function A(a){var b=[],c;if(a){for(;a=a.firstChild;){if(k.isBlock(a))return;1==a.nodeType&&!s[a.nodeName.toLowerCase()]&&b.push(a)}for(c=b.length;c--;)a=b[c],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?k.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&k.remove(a)}}function x(a){var b,d,e,h=a,m;if(a){c.ie&&9>c.ie&&S&&S.firstChild&&S.firstChild==S.lastChild&&"BR"==S.firstChild.tagName&&k.remove(S.firstChild);
if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(b=a.firstChild;b;){if(1==b.nodeType||3==b.nodeType&&b.data&&/[\r\n\s]/.test(b.data))break a;b=b.nextSibling}b=void 0}b&&/^(UL|OL|DL)$/.test(b.nodeName)&&a.insertBefore(k.doc.createTextNode("\u00a0"),a.firstChild)}e=k.createRng();c.ie||a.normalize();if(a.hasChildNodes()){for(b=new f(a,a);d=b.current();){if(3==d.nodeType){e.setStart(d,0);e.setEnd(d,0);break}if(D[d.nodeName.toLowerCase()]){e.setStartBefore(d);e.setEndBefore(d);break}h=d;b.next()}d||(e.setStart(h,
0),e.setEnd(h,0))}else if("BR"==a.nodeName)if(a.nextSibling&&k.isBlock(a.nextSibling)){if(!K||9>K)m=k.create("br"),a.parentNode.insertBefore(m,a);e.setStartBefore(a);e.setEndBefore(a)}else e.setStartAfter(a),e.setEndAfter(a);else e.setStart(a,0),e.setEnd(a,0);l.setRng(e);k.remove(m);l.scrollIntoView(a)}}function w(b){var c=a.forced_root_block;c&&c.toLowerCase()===b.tagName.toLowerCase()&&k.setAttribs(b,a.forced_root_block_attrs)}function C(b){var c=P,d,f,h=q.getTextInlineElements();b||"TABLE"==ba?
(b=k.create(b||X),w(b)):b=S.cloneNode(!1);f=b;if(!1!==a.keep_styles){do h[c.nodeName]&&"_mce_caret"!=c.id&&(d=c.cloneNode(!1),k.setAttrib(d,"id",""),b.hasChildNodes()?d.appendChild(b.firstChild):f=d,b.appendChild(d));while(c=c.parentNode)}e||(f.innerHTML='\x3cbr data-mce-bogus\x3d"1"\x3e');return b}function E(a){var b,c;if(3==P.nodeType&&(a?0<V:V<P.nodeValue.length))return!1;if(P.parentNode==S&&fa&&!a||a&&1==P.nodeType&&P==S.firstChild)return!0;if("TABLE"===P.nodeName||P.previousSibling&&"TABLE"==
P.previousSibling.nodeName)return fa&&!a||!fa&&a;b=new f(P,S);for(3==P.nodeType&&(a&&0===V?b.prev():!a&&V==P.nodeValue.length&&b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),s[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function J(a,c){var d,e,f,h,m=X||"P";e=k.getParent(a,k.isBlock);d=b.getBody().nodeName.toLowerCase();if(!e||!B(e)){e=e||R;if(!e.hasChildNodes())return d=
k.create(m),w(d),e.appendChild(d),Q.setStart(d,0),Q.setEnd(d,0),d;for(h=a;h.parentNode!=e;)h=h.parentNode;for(;h&&!k.isBlock(h);)f=h,h=h.previousSibling;if(f&&q.isValidChild(d,m.toLowerCase())){d=k.create(m);w(d);f.parentNode.insertBefore(d,f);for(h=f;h&&!k.isBlock(h);)e=h.nextSibling,d.appendChild(h),h=e;Q.setStart(a,c);Q.setEnd(a,c)}}return a}function H(){function a(b){for(var c=U[b?"firstChild":"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];return c===S}function b(){var a=
U.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:U}var c=U.parentNode.nodeName;/^(OL|UL|LI)$/.test(c)&&(X="LI");W=X?C(X):k.create("BR");a(!0)&&a()?"LI"==c?k.insertAfter(W,b()):k.replace(W,U):a(!0)?"LI"==c?(k.insertAfter(W,b()),W.appendChild(k.doc.createTextNode(" ")),W.appendChild(U)):U.parentNode.insertBefore(W,U):a()?(k.insertAfter(W,b()),F(W)):(U=b(),M=Q.cloneRange(),M.setStartAfter(S),M.setEndAfter(U),$=M.extractContents(),"LI"==X&&"LI"==$.firstChild.nodeName?(W=$.firstChild,k.insertAfter($,
U)):(k.insertAfter($,U),k.insertAfter(W,U)));k.remove(S);x(W);n.add()}function G(){b.execCommand("InsertLineBreak",!1,d)}function I(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function L(a){for(var b=k.getRoot(),c;a!==b&&"false"!==k.getContentEditable(a);)"true"===k.getContentEditable(a)&&(c=a),a=a.parentNode;return a!==b?c:b}function O(a){var b;e||(a.normalize(),b=a.lastChild,(!b||/^(left|right)$/gi.test(k.getStyle(b,"float",!0)))&&k.add(a,"br"))}
var Q,M,R,P,V,S,K,T,W,$,U,ba,da,X,fa;Q=l.getRng(!0);if(!d.isDefaultPrevented())if(Q.collapsed){if((new h(k)).normalize(Q),P=Q.startContainer,V=Q.startOffset,X=(X=(a.force_p_newlines?"p":"")||a.forced_root_block)?X.toUpperCase():"",K=k.doc.documentMode,T=d.shiftKey,1==P.nodeType&&P.hasChildNodes()&&(fa=V>P.childNodes.length-1,P=P.childNodes[Math.min(V,P.childNodes.length-1)]||P,V=fa&&3==P.nodeType?P.nodeValue.length:0),R=L(P))if(n.beforeChange(),!k.isBlock(R)&&R!=k.getRoot())(!X||T)&&G();else{if(X&&
!T||!X&&T)P=J(P,V);U=(S=k.getParent(P,k.isBlock))?k.getParent(S.parentNode,k.isBlock):null;ba=S?S.nodeName.toUpperCase():"";da=U?U.nodeName.toUpperCase():"";"LI"==da&&!d.ctrlKey&&(S=U,ba=da);if(/^(LI|DT|DD)$/.test(ba)){if(!X&&T){G();return}if(k.isEmpty(S)){H();return}}if("PRE"==ba&&!1!==a.br_in_pre){if(!T){G();return}}else if(!X&&!T&&"LI"!=ba||X&&T){G();return}X&&S===b.getBody()||(X=X||"P",E()?(W=/^(H[1-6]|PRE|FIGURE)$/.test(ba)&&"HGROUP"!=da?C(X):C(),a.end_container_on_empty_block&&B(U)&&k.isEmpty(S)?
W=k.split(U,S):k.insertAfter(W,S),x(W)):E(!0)?(W=S.parentNode.insertBefore(C(),S),F(W),x(S)):(M=Q.cloneRange(),M.setEndAfter(S),$=M.extractContents(),I($),W=$.firstChild,k.insertAfter($,S),A(W),O(S),x(W)),k.setAttrib(W,"id",""),b.fire("NewBlock",{newBlock:W}),n.add())}}else b.execCommand("Delete")}var k=b.dom,l=b.selection,a=b.settings,n=b.undoManager,q=b.schema,s=q.getNonEmptyElements(),D=q.getMoveCaretBeforeOnEnterElements();b.on("keydown",function(a){13==a.keyCode&&!1!==d(a)&&a.preventDefault()})}});
h("tinymce/ForceBlocks",[],function(){return function(f){function h(){var m=b.getStart(),a=f.getBody(),l,n,q,s,z,B,F,A,x,w,C;C=c.forced_root_block;if(m&&1===m.nodeType&&C){for(;m&&m!=a;){if(k[m.nodeName])return;m=m.parentNode}l=b.getRng();if(l.setStart){n=l.startContainer;q=l.startOffset;s=l.endContainer;z=l.endOffset;try{x=f.getDoc().activeElement===a}catch(E){}}else l.item&&(m=l.item(0),l=f.getDoc().body.createTextRange(),l.moveToElementText(m)),x=l.parentElement().ownerDocument===f.getDoc(),m=
l.duplicate(),m.collapse(!0),q=-1*m.move("character",-16777215),m.collapsed||(m=l.duplicate(),m.collapse(!1),z=-1*m.move("character",-16777215)-q);m=a.firstChild;for(w=a.nodeName.toLowerCase();m;)(3===m.nodeType||1==m.nodeType&&!k[m.nodeName])&&d.isValidChild(w,C.toLowerCase())?3===m.nodeType&&0===m.nodeValue.length?(F=m,m=m.nextSibling,e.remove(F)):(B||(B=e.create(C,f.settings.forced_root_block_attrs),m.parentNode.insertBefore(B,m),A=!0),F=m,m=m.nextSibling,B.appendChild(F)):(B=null,m=m.nextSibling);
if(A&&x){if(l.setStart)l.setStart(n,q),l.setEnd(s,z),b.setRng(l);else try{l=f.getDoc().body.createTextRange(),l.moveToElementText(a),l.collapse(!0),l.moveStart("character",q),0<z&&l.moveEnd("character",z),l.select()}catch(J){}f.nodeChanged()}}}var c=f.settings,e=f.dom,b=f.selection,d=f.schema,k=d.getBlockElements();if(c.forced_root_block)f.on("NodeChange",h)}});h("tinymce/EditorCommands","tinymce/html/Serializer tinymce/Env tinymce/util/Tools tinymce/dom/ElementUtils tinymce/dom/RangeUtils tinymce/dom/TreeWalker".split(" "),
function(f,h,c,e,b,d){var k=c.each,l=c.extend,a=c.map,n=c.inArray,s=c.explode,v=h.gecko,D=h.ie,z=h.ie&&11>h.ie,B=!1;return function(c){function A(a,b,d,e){var f,h=0;!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)&&(!e||!e.skip_focus)&&c.focus();e=l({},e);e=c.fire("BeforeExecCommand",{command:a,ui:b,value:d});if(e.isDefaultPrevented())return!1;f=a.toLowerCase();if(e=I.exec[f])return e(f,b,d),c.fire("ExecCommand",{command:a,ui:b,value:d}),!0;k(c.plugins,function(e){if(e.execCommand&&
e.execCommand(a,b,d))return c.fire("ExecCommand",{command:a,ui:b,value:d}),h=!0,!1});if(h)return h;if(c.theme&&c.theme.execCommand&&c.theme.execCommand(a,b,d))return c.fire("ExecCommand",{command:a,ui:b,value:d}),!0;try{h=c.getDoc().execCommand(a,b,d)}catch(m){}return h?(c.fire("ExecCommand",{command:a,ui:b,value:d}),!0):!1}function x(a){var b;if(!c._isHidden()){a=a.toLowerCase();if(b=I.state[a])return b(a);try{return c.getDoc().queryCommandState(a)}catch(d){}return!1}}function w(a,b){b=b||"exec";
k(a,function(a,c){k(c.toLowerCase().split(","),function(c){I[b][c]=a})})}function C(a,b,d){b===q&&(b=B);d===q&&(d=null);return c.getDoc().execCommand(a,b,d)}function E(a,b){G.toggle(a,b?{value:b}:q);c.nodeChanged()}var J,H,G,I={state:{},exec:{},value:{}},L=c.settings,O;c.on("PreInit",function(){J=c.dom;H=c.selection;L=c.settings;G=c.formatter});l(this,{execCommand:A,queryCommandState:x,queryCommandValue:function(a){var b;if(!c._isHidden()){a=a.toLowerCase();if(b=I.value[a])return b(a);try{return c.getDoc().queryCommandValue(a)}catch(d){}}},
queryCommandSupported:function(a){a=a.toLowerCase();if(I.exec[a])return!0;try{return c.getDoc().queryCommandSupported(a)}catch(b){}return!1},addCommands:w,addCommand:function(a,b,d){a=a.toLowerCase();I.exec[a]=function(a,e,f,h){return b.call(d||c,e,f,h)}},addQueryStateHandler:function(a,b,d){a=a.toLowerCase();I.state[a]=function(){return b.call(d||c)}},addQueryValueHandler:function(a,b,d){a=a.toLowerCase();I.value[a]=function(){return b.call(d||c)}},hasCustomCommand:function(a){a=a.toLowerCase();
return!!I.exec[a]}});w({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){c.undoManager.add()},"Cut,Copy,Paste":function(a){var b=c.getDoc(),d;try{C(a)}catch(e){d=!0}if(d||!b.queryCommandSupported(a))a=c.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),h.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),c.windowManager.alert(a)},unlink:function(){if(H.isCollapsed()){var a=H.getNode();
"A"==a.tagName&&c.dom.remove(a,!0)}else G.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b=a.substring(7);"full"==b&&(b="justify");k(["left","center","right","justify"],function(a){b!=a&&G.remove("align"+a)});E("align"+b);A("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b;C(a);if(a=J.getParent(H.getNode(),"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(O=H.getBookmark(void 0),J.split(b,a),H.moveToBookmark(O))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){E(a)},
"ForeColor,HiliteColor,FontName":function(a,b,c){E(a,c)},FontSize:function(a,b,c){var d;1<=c&&7>=c&&(d=s(L.font_size_style_values),c=(b=s(L.font_size_classes))?b[c-1]||c:d[c-1]||c);E(a,c)},RemoveFormat:function(a){G.remove(a)},mceBlockQuote:function(){E("blockquote")},FormatBlock:function(a,b,c){return E(c||"p")},mceCleanup:function(){var a=H.getBookmark();c.setContent(c.getContent({cleanup:!0}),{cleanup:!0});H.moveToBookmark(a)},mceRemoveNode:function(a,b,d){a=d||H.getNode();a!=c.getBody()&&(O=H.getBookmark(void 0),
c.dom.remove(a,!0),H.moveToBookmark(O))},mceSelectNodeDepth:function(a,b,d){var e=0;J.getParent(H.getNode(),function(a){if(1==a.nodeType&&e++==d)return H.select(a),B},c.getBody())},mceSelectNode:function(a,b,c){H.select(c)},mceInsertContent:function(a,b,d){function h(a){var b,c;b=H.getRng(!0);c=b.startContainer;b=b.startOffset;3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"\x26nbsp;")),b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):
c.nextSibling&&3==c.nextSibling.nodeType||(a=a.replace(/(&nbsp;| )(<br>|)$/,"\x26nbsp;")));return a}function m(){var a,b,c;a=H.getRng(!0);b=a.startContainer;c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?(b.deleteData(c,1),/[\u00a0| ]$/.test(d)||(d+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-1,1),/[\u00a0| ]$/.test(d)||(d=" "+d)))}var l,r,n,t,q,s;n=c.schema.getTextInlineElements();"string"!=typeof d&&(s=d.merge,d=d.content);/^ | $/.test(d)&&(d=h(d));b=c.parser;l=new f({},c.schema);
a={content:d,format:"html",selection:!0};c.fire("BeforeSetContent",a);d=a.content;-1==d.indexOf("{$caret}")&&(d+="{$caret}");d=d.replace(/\{\$caret\}/,'\x3cspan id\x3d"mce_marker" data-mce-type\x3d"bookmark"\x3e\x26#xFEFF;\x26#x200B;\x3c/span\x3e');r=H.getRng();r=r.startContainer||(r.parentElement?r.parentElement():null);q=c.getBody();r===q&&H.isCollapsed()&&(J.isBlock(q.firstChild)&&J.isEmpty(q.firstChild))&&(r=J.createRng(),r.setStart(q.firstChild,0),r.setEnd(q.firstChild,0),H.setRng(r));H.isCollapsed()||
(c.getDoc().execCommand("Delete",!1,null),m());r=H.getNode();var u={context:r.nodeName.toLowerCase()};t=b.parse(d,u);if(s)for(q=t.firstChild;q;q=q.walk(!0))n[q.name]&&q.attr("data-mce-new","true");q=t.lastChild;if("mce_marker"==q.attr("id")){n=q;for(q=q.prev;q;q=q.walk(!0))if(3==q.type||!J.isBlock(q.name)){c.schema.isValidChild(q.parent.name,"span")&&q.parent.insert(n,q,"br"===q.name);break}}if(u.invalid){H.setContent('\x3cspan id\x3d"mce_marker" data-mce-type\x3d"bookmark"\x3e\x26#xFEFF;\x26#x200B;\x3c/span\x3e');
r=H.getNode();n=c.getBody();for(9==r.nodeType?r=q=n:q=r;q!==n;)r=q,q=q.parentNode;d=r==n?n.innerHTML:J.getOuterHTML(r);d=l.serialize(b.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(t)})));r==n?J.setHTML(n,d):J.setOuterHTML(r,d)}else d=l.serialize(t),q=r.firstChild,b=r.lastChild,!q||q===b&&"BR"===q.nodeName?J.setHTML(r,d):H.setContent(d);(function(){if(s){var a=c.getBody(),b=new e(J);k(J.select("*[data-mce-new]"),function(c){c.removeAttribute("data-mce-new");
for(var d=c.parentNode;d&&d!=a;d=d.parentNode)b.compare(d,c)&&J.remove(c,!0)})}})();n=J.get("mce_marker");H.scrollIntoView(n);r=J.createRng();if((q=n.previousSibling)&&3==q.nodeType){if(r.setStart(q,q.nodeValue.length),!D&&(b=n.nextSibling)&&3==b.nodeType)q.appendData(b.data),b.parentNode.removeChild(b)}else r.setStartBefore(n),r.setEndBefore(n);J.remove(n);H.setRng(r);c.fire("SetContent",a);c.addVisual()},mceInsertRawHTML:function(a,b,d){H.setContent("tiny_mce_marker");c.setContent(c.getContent().replace(/tiny_mce_marker/g,
function(){return d}))},mceToggleFormat:function(a,b,c){E(c)},mceSetContent:function(a,b,d){c.setContent(d)},"Indent,Outdent":function(a){var b,d,e;b=L.indentation;d=/[a-z%]+$/i.exec(b);b=parseInt(b,10);!x("InsertUnorderedList")&&!x("InsertOrderedList")?(!L.forced_root_block&&!J.getParent(H.getNode(),J.isBlock)&&G.apply("div"),k(H.getSelectedBlocks(),function(f){if("LI"!=f.nodeName){var h=c.getParam("indent_use_margin",!1)?"margin":"padding",h=h+("rtl"==J.getStyle(f,"direction",!0)?"Right":"Left");
"outdent"==a?(e=Math.max(0,parseInt(f.style[h]||0,10)-b),J.setStyle(f,h,e?e+d:"")):(e=parseInt(f.style[h]||0,10)+b+d,J.setStyle(f,h,e))}})):C(a)},mceRepaint:function(){if(v)try{O=H.getBookmark(!0),H.getSel()&&H.getSel().selectAllChildren(c.getBody()),H.collapse(!0),H.moveToBookmark(O)}catch(a){}},InsertHorizontalRule:function(){c.execCommand("mceInsertContent",!1,"\x3chr /\x3e")},mceToggleVisualAid:function(){c.hasVisual=!c.hasVisual;c.addVisual()},mceReplaceContent:function(a,b,d){c.execCommand("mceInsertContent",
!1,d.replace(/\{\$selection\}/g,H.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=J.getParent(H.getNode(),"a");c.href=c.href.replace(" ","%20");(!a||!c.href)&&G.remove("link");c.href&&G.apply("link",c,a)},selectAll:function(){var a=J.getRoot(),b;H.getRng().setStart?(b=J.createRng(),b.setStart(a,0),b.setEnd(a,a.childNodes.length),H.setRng(b)):(b=H.getRng(),b.item||(b.moveToElementText(a),b.select()))},"delete":function(){C("Delete");var a=c.getBody();
J.isEmpty(a)&&(c.setContent(""),a.firstChild&&J.isBlock(a.firstChild)?c.selection.setCursorLocation(a.firstChild,0):c.selection.setCursorLocation(a,0))},mceNewDocument:function(){c.setContent("")},InsertLineBreak:function(a,e,f){var h;a=H.getRng(!0);(new b(J)).normalize(a);var k=a.startOffset,m=a.startContainer;1==m.nodeType&&m.hasChildNodes()&&(e=k>m.childNodes.length-1,m=m.childNodes[Math.min(k,m.childNodes.length-1)]||m,k=e&&3==m.nodeType?m.nodeValue.length:0);var l=J.getParent(m,J.isBlock);e=
l?l.nodeName.toUpperCase():"";var r=l?J.getParent(l.parentNode,J.isBlock):null,n=r?r.nodeName.toUpperCase():"";f=f&&f.ctrlKey;"LI"==n&&!f&&(l=r,e=n);if(m&&3==m.nodeType&&k>=m.nodeValue.length){if(f=!z){a:{f=new d(m,l);for(k=c.schema.getNonEmptyElements();m=f.next();)if(k[m.nodeName.toLowerCase()]||0<m.length){f=!0;break a}f=void 0}f=!f}f&&(f=J.create("br"),a.insertNode(f),a.setStartAfter(f),a.setEndAfter(f),h=!0)}f=J.create("br");a.insertNode(f);m=J.doc.documentMode;z&&("PRE"==e&&(!m||8>m))&&f.parentNode.insertBefore(J.doc.createTextNode("\r"),
f);e=J.create("span",{},"\x26nbsp;");f.parentNode.insertBefore(e,f);H.scrollIntoView(e);J.remove(e);h?(a.setStartBefore(f),a.setEndBefore(f)):(a.setStartAfter(f),a.setEndAfter(f));H.setRng(a);c.undoManager.add();return!0}});w({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(b){var c="align"+b.substring(7);b=H.isCollapsed()?[J.getParent(H.getNode(),J.isBlock)]:H.getSelectedBlocks();b=a(b,function(a){return!!G.matchNode(a,c)});return-1!==n(b,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return G.match(a)},
mceBlockQuote:function(){return G.match("blockquote")},Outdent:function(){var a;return L.inline_styles&&((a=J.getParent(H.getStart(),J.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=J.getParent(H.getEnd(),J.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:x("InsertUnorderedList")||x("InsertOrderedList")||!L.inline_styles&&!!J.getParent(H.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=J.getParent(H.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===
b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");w({"FontSize,FontName":function(a){var b=0,c;if(c=J.getParent(H.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");w({Undo:function(){c.undoManager.undo()},Redo:function(){c.undoManager.redo()}})}});h("tinymce/util/URI",["tinymce/util/Tools"],function(f){function h(d,f){var a=this,l,n;d=e(d);f=a.settings=f||{};l=f.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(d)||
/^\s*#/.test(d))a.source=d;else{var q=0===d.indexOf("//");0===d.indexOf("/")&&!q&&(d=(l?l.protocol||"http":"http")+"://mce_host"+d);/^[\w\-]*:?\/\//.test(d)||(n=f.base_uri?f.base_uri.path:(new h(location.href)).directory,""===f.base_uri.protocol?d="//mce_host"+a.toAbsPath(n,d):(d=/([^#?]*)([#?]?.*)/.exec(d),d=(l&&l.protocol||"http")+"://mce_host"+a.toAbsPath(n,d[1])+d[2]));d=d.replace(/@@/g,"(mce_at)");d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(d);
c(b,function(b,c){var e=d[c];e&&(e=e.replace(/\(mce_at\)/g,"@@"));a[b]=e});if(l){a.protocol||(a.protocol=l.protocol);a.userInfo||(a.userInfo=l.userInfo);!a.port&&"mce_host"===a.host&&(a.port=l.port);if(!a.host||"mce_host"===a.host)a.host=l.host;a.source=""}q&&(a.protocol="")}}var c=f.each,e=f.trim,b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),d={ftp:21,http:80,https:443,mailto:25};h.prototype={setPath:function(b){b=/^(.*?)\/?(\w+)?$/.exec(b);
this.path=b[0];this.directory=b[1];this.file=b[2];this.source="";this.getURI()},toRelative:function(b){var c;if("./"===b)return b;b=new h(b,{base_uri:this});if("mce_host"!=b.host&&this.host!=b.host&&b.host||this.port!=b.port||this.protocol!=b.protocol&&""!==b.protocol)return b.getURI();c=this.getURI();var a=b.getURI();if(c==a||"/"==c.charAt(c.length-1)&&c.substr(0,c.length-1)==a)return c;c=this.toRelPath(this.path,b.path);b.query&&(c+="?"+b.query);b.anchor&&(c+="#"+b.anchor);return c},toAbsolute:function(b,
c){b=new h(b,{base_uri:this});return b.getURI(c&&this.isSameOrigin(b))},isSameOrigin:function(b){if(this.host==b.host&&this.protocol==b.protocol){if(this.port==b.port)return!0;var c=d[this.protocol];if(c&&(this.port||c)==(b.port||c))return!0}return!1},toRelPath:function(b,c){var a,d=0,e="",f,h;b=b.substring(0,b.lastIndexOf("/"));b=b.split("/");a=c.split("/");if(b.length>=a.length){f=0;for(h=b.length;f<h;f++)if(f>=a.length||b[f]!=a[f]){d=f+1;break}}if(b.length<a.length){f=0;for(h=a.length;f<h;f++)if(f>=
b.length||b[f]!=a[f]){d=f+1;break}}if(1===d)return c;f=0;for(h=b.length-(d-1);f<h;f++)e+="../";f=d-1;for(h=a.length;f<h;f++)e=f!=d-1?e+("/"+a[f]):e+a[f];return e},toAbsPath:function(b,d){var a,e=0,f=[],h;h=/\/$/.test(d)?"/":"";b=b.split("/");d=d.split("/");c(b,function(a){a&&f.push(a)});b=f;a=d.length-1;for(f=[];0<=a;a--)0===d[a].length||"."===d[a]||(".."===d[a]?e++:0<e?e--:f.push(d[a]));a=b.length-e;a=0>=a?f.reverse().join("/"):b.slice(0,a).join("/")+"/"+f.reverse().join("/");0!==a.indexOf("/")&&
(a="/"+a);h&&a.lastIndexOf("/")!==a.length-1&&(a+=h);return a},getURI:function(b){var c;if(!this.source||b)c="",b||(c=this.protocol?c+(this.protocol+"://"):c+"//",this.userInfo&&(c+=this.userInfo+"@"),this.host&&(c+=this.host),this.port&&(c+=":"+this.port)),this.path&&(c+=this.path),this.query&&(c+="?"+this.query),this.anchor&&(c+="#"+this.anchor),this.source=c;return this.source}};return h});h("tinymce/util/Class",["tinymce/util/Tools"],function(f){function h(){}var c=f.each,e=f.extend,b,d;h.extend=
b=function(f){function h(){var a,b,c;if(!d&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;)c=b[a],c.init&&c.init.apply(this,arguments)}function a(){return this}function m(a,b){return function(){var c=this._super,d;this._super=l[a];d=b.apply(this,arguments);this._super=c;return d}}var l=this.prototype,n,q,s;d=!0;n=new this;d=!1;f.Mixins&&(c(f.Mixins,function(a){for(var b in a)"init"!==b&&(f[b]=a[b])}),l.Mixins&&(f.Mixins=l.Mixins.concat(f.Mixins)));f.Methods&&c(f.Methods.split(","),
function(b){f[b]=a});f.Properties&&c(f.Properties.split(","),function(a){var b="_"+a;f[a]=function(a){return void 0!==a?(this[b]=a,this):this[b]}});f.Statics&&c(f.Statics,function(a,b){h[b]=a});f.Defaults&&l.Defaults&&(f.Defaults=e({},l.Defaults,f.Defaults));for(q in f)s=f[q],n[q]="function"==typeof s&&l[q]?m(q,s):s;h.prototype=n;h.constructor=h;h.extend=b;return h};return h});h("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(f){function h(c){function b(){return!1}function d(){return!0}
function k(c,d,e,h){var k,m;!1===d&&(d=b);if(d){d={func:d};h&&f.extend(d,h);k=c.toLowerCase().split(" ");for(m=k.length;m--;)c=k[m],h=n[c],h||(h=n[c]=[],q(c,!0)),e?h.unshift(d):h.push(d)}return a}function m(b,c){var d,e,f,h,k;if(b){h=b.toLowerCase().split(" ");for(d=h.length;d--;){b=h[d];e=n[b];if(!b){for(f in n)q(f,!1),delete n[f];break}if(e){if(c)for(k=e.length;k--;)e[k].func===c&&(e=e.slice(0,k).concat(e.slice(k+1)),n[b]=e);else e.length=0;e.length||(q(b,!1),delete n[b])}}}else{for(b in n)q(b,
!1);n={}}return a}var a=this,l,n={},q;c=c||{};l=c.scope||a;q=c.toggleEvent||b;a.fire=function(a,f){var h,k,q,s;a=a.toLowerCase();f=f||{};f.type=a;f.target||(f.target=l);f.preventDefault||(f.preventDefault=function(){f.isDefaultPrevented=d},f.stopPropagation=function(){f.isPropagationStopped=d},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=d},f.isDefaultPrevented=b,f.isPropagationStopped=b,f.isImmediatePropagationStopped=b);c.beforeFire&&c.beforeFire(f);if(h=n[a]){k=0;for(q=
h.length;k<q;k++){s=h[k];s.once&&m(a,s.func);if(f.isImmediatePropagationStopped()){f.stopPropagation();break}if(!1===s.func.call(l,f)){f.preventDefault();break}}}return f};a.on=k;a.off=m;a.once=function(a,b,c){return k(a,b,c,{once:!0})};a.has=function(a){a=a.toLowerCase();return!(!n[a]||0===n[a].length)}}var c=f.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend",
" ");h.isNative=function(e){return!!c[e.toLowerCase()]};return h});h("tinymce/ui/Selector",["tinymce/util/Class"],function(f){function h(b){for(var a=[],c=b.length,d;c--;)d=b[c],d.__checked||(a.push(d),d.__checked=1);for(c=a.length;c--;)delete a[c].__checked;return a}var c=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
b=/^\s*|\s*$/g,d,k=f.extend({init:function(d){function a(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function f(a){if(a)return function(b){return b._name===a}}function h(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.hasClass(a[c]))return!1;return!0}}function k(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return!b?!!c:"\x3d"===b?d===c:"*\x3d"===b?0<=d.indexOf(c):"~\x3d"===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!\x3d"===b?d!=c:"^\x3d"===b?0===d.indexOf(c):
"$\x3d"===b?d.substr(d.length-c.length)===c:!1}}function m(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(a[1])return b=n(a[1],[]),function(a){return!q(a,b)};a=a[2];return function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1}}}function l(d,e,n){function r(a){a&&e.push(a)}d=c.exec(d.replace(b,""));r(a(d[1]));r(f(d[2]));r(h(d[3]));r(k(d[4],d[5],d[6]));r(m(d[7]));e.psuedo=!!d[7];e.direct=n;return e}function n(a,b){var c=[],d,f;do if(e.exec(""),
f=e.exec(a))if(a=f[3],c.push(f[1]),f[2]){d=f[3];break}while(f);d&&n(d,b);a=[];for(d=0;d<c.length;d++)"\x3e"!=c[d]&&a.push(l(c[d],[],"\x3e"===c[d-1]));b.push(a);return b}var q=this.match;this._selectors=n(d,[])},match:function(b,a){var c,d,e,f,h,k,m,l,n,q,s,E;a=a||this._selectors;c=0;for(d=a.length;c<d;c++){h=a[c];f=h.length;E=b;s=0;for(e=f-1;0<=e;e--)for(l=h[e];E;){if(l.psuedo){k=E.parent().items();for(n=q=k.length;n--&&k[n]!==E;);}k=0;for(m=l.length;k<m;k++)if(!l[k](E,n,q)){k=m+1;break}if(k===m){s++;
break}else if(e===f-1)break;E=E.parent()}if(s===f)return!0}return!1},find:function(b){function a(b,d,e){var f,h,k,m,l,n=d[e];f=0;for(h=b.length;f<h;f++){l=b[f];k=0;for(m=n.length;k<m;k++)if(!n[k](l,f,h)){k=m+1;break}if(k===m)e==d.length-1?c.push(l):l.items&&a(l.items(),d,e+1);else if(n.direct)break;l.items&&a(l.items(),d,e)}}var c=[],e,f,l=this._selectors;if(b.items){e=0;for(f=l.length;e<f;e++)a(b.items(),l[e],0);1<f&&(c=h(c))}d||(d=k.Collection);return new d(c)}});return k});h("tinymce/ui/Collection",
["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(f,h,c){var e,b,d=Array.prototype.push,k=Array.prototype.slice;b={length:0,init:function(b){b&&this.add(b)},add:function(b){f.isArray(b)?d.apply(this,b):b instanceof e?this.add(b.toArray()):d.call(this,b);return this},set:function(b){var a=this.length;this.length=0;this.add(b);for(b=this.length;b<a;b++)delete this[b];return this},filter:function(b){var a,c,d=[],f,k;"string"===typeof b?(b=new h(b),k=function(a){return b.match(a)}):
k=b;a=0;for(c=this.length;a<c;a++)f=this[a],k(f)&&d.push(f);return new e(d)},slice:function(){return new e(k.apply(this,arguments))},eq:function(b){return-1===b?this.slice(b):this.slice(b,+b+1)},each:function(b){f.each(this,b);return this},toArray:function(){return f.toArray(this)},indexOf:function(b){for(var a=this.length;a--&&this[a]!==b;);return a},reverse:function(){return new e(f.toArray(this).reverse())},hasClass:function(b){return this[0]?this[0].hasClass(b):!1},prop:function(b,a){var c;if(void 0!==
a)return this.each(function(c){if(c[b])c[b](a)}),this;if((c=this[0])&&c[b])return c[b]()},exec:function(b){var a=f.toArray(arguments).slice(1);this.each(function(c){c[b]&&c[b].apply(c,a)});return this},remove:function(){for(var b=this.length;b--;)this[b].remove();return this}};f.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(c){b[c]=function(){var a=f.toArray(arguments);this.each(function(b){c in b&&b[c].apply(b,a)});return this}});f.each("text name disabled active selected checked visible parent value data".split(" "),
function(c){b[c]=function(a){return this.prop(c,a)}});e=c.extend(b);return h.Collection=e});h("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(f,h){var c=0;return{id:function(){return"mceu_"+c++},createFragment:function(c){return h.DOM.createFragment(c)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(c){var b;if(c.getBoundingClientRect){var d=c.getBoundingClientRect();b=Math.max(d.width||d.right-d.left,c.offsetWidth);c=Math.max(d.height||d.bottom-
d.bottom,c.offsetHeight)}else b=c.offsetWidth,c=c.offsetHeight;return{width:b,height:c}},getPos:function(c,b){return h.DOM.getPos(c,b)},getViewPort:function(c){return h.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,b){return h.DOM.addClass(c,b)},removeClass:function(c,b){return h.DOM.removeClass(c,b)},hasClass:function(c,b){return h.DOM.hasClass(c,b)},toggleClass:function(c,b,d){return h.DOM.toggleClass(c,b,d)},css:function(c,b,d){return h.DOM.setStyle(c,
b,d)},getRuntimeStyle:function(c,b){return h.DOM.getStyle(c,b,!0)},on:function(c,b,d,f){return h.DOM.bind(c,b,d,f)},off:function(c,b,d){return h.DOM.unbind(c,b,d)},fire:function(c,b,d){return h.DOM.fire(c,b,d)},innerHtml:function(c,b){h.DOM.setHTML(c,b)}}});h("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(f,h,c,e,b){function d(a){a._eventDispatcher||(a._eventDispatcher=new c({scope:a,toggleEvent:function(b,
d){d&&c.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a._rendered&&a.bindPendingEvents())}}));return a._eventDispatcher}var k="onmousewheel"in document,l=f.extend({Statics:{classPrefix:"mce-"},isRtl:function(){return l.rtl},classPrefix:"mce-",init:function(a){var c=this,d,e;c.settings=a=h.extend({},c.Defaults,a);c._id=a.id||b.id();c._text=c._name="";c._width=c._height=0;c._aria={role:a.role};this._elmCache={};if(d=a.classes){d=d.split(" ");d.map={};for(e=d.length;e--;)d.map[d[e]]=
!0}c._classes=d||[];c.visible(!0);h.each("title text width height name classes visible disabled active value".split(" "),function(b){var d=a[b];if(void 0!==d)c[b](d);else void 0===c["_"+b]&&(c["_"+b]=!1)});c.on("click",function(){if(c.disabled())return!1});a.classes&&h.each(a.classes.split(" "),function(a){c.addClass(a)});c.settings=a;c._borderBox=c.parseBox(a.border);c._paddingBox=c.parseBox(a.padding);c._marginBox=c.parseBox(a.margin);a.hidden&&c.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",
Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},parseBox:function(a){var b;if(a){if("number"===typeof a)return a=a||0,{top:a,left:a,bottom:a,right:a};a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}},
borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(a,b){function c(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle[b]}function d(a){a=parseFloat(c(a),10);return isNaN(a)?0:a}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}},initLayoutRect:function(){var a=
this.settings,c,d=this.getEl(),e,f,h,k,m,l;c=this._borderBox=this._borderBox||this.measureBox(d,"border");this._paddingBox=this._paddingBox||this.measureBox(d,"padding");this._marginBox=this._marginBox||this.measureBox(d,"margin");e=b.getSize(d);m=a.minWidth;l=a.minHeight;d=m||e.width;h=l||e.height;e=a.width;f=a.height;k=a.autoResize;k="undefined"!=typeof k?k:!e&&!f;e=e||d;f=f||h;var n=c.left+c.right;c=c.top+c.bottom;var r=a.maxWidth||65535,q=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||
0,w:e,h:f,deltaW:n,deltaH:c,contentW:e-n,contentH:f-c,innerW:e-n,innerH:f-c,startMinWidth:m||0,startMinHeight:l||0,minW:Math.min(d,r),minH:Math.min(h,q),maxW:r,maxH:q,autoResize:k,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect,c,d,e;b||(b=this.initLayoutRect());if(a){d=b.deltaW;e=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:
c,b.w=c,b.innerW=c-d);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-e);c=a.innerW;void 0!==c&&(c=c<b.minW-d?b.minW-d:c,c=c>b.maxW-d?b.maxW-d:c,b.innerW=c,b.w=c+d);c=a.innerH;void 0!==c&&(c=c<b.minH-e?b.minH-e:c,c=c>b.maxH-e?b.maxH-e:c,b.innerH=c,b.h=c+e);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h){if((c=l.repaintControls)&&c.map&&!c.map[this._id])c.push(this),
c.map[this._id]=!0;a.x=b.x;a.y=b.y;a.w=b.w;a.h=b.h}return this}return b},repaint:function(){var a,b,c,d,e=0;d=0;var f,h;h=!document.createRange?Math.round:function(a){return a};a=this.getEl().style;c=this._layoutRect;f=this._lastRepaintRect||{};d=this._borderBox;e=d.left+d.right;d=d.top+d.bottom;c.x!==f.x&&(a.left=h(c.x)+"px",f.x=c.x);c.y!==f.y&&(a.top=h(c.y)+"px",f.y=c.y);c.w!==f.w&&(a.width=h(c.w-e)+"px",f.w=c.w);c.h!==f.h&&(a.height=h(c.h-d)+"px",f.h=c.h);this._hasBody&&c.innerW!==f.innerW&&(b=
this.getEl("body").style,b.width=h(c.innerW)+"px",f.innerW=c.innerW);this._hasBody&&c.innerH!==f.innerH&&(b=b||this.getEl("body").style,b.height=h(c.innerH)+"px",f.innerH=c.innerH);this._lastRepaintRect=f;this.fire("repaint",{},!1)},on:function(a,b){var c=this;d(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(e){b||c.parentsAndSelf().each(function(c){var e=c.settings.callbacks;if(e&&(b=e[a]))return d=c,!1});return b.call(d,e)}}(b));return c},off:function(a,b){d(this).off(a,b);return this},
fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=d(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return d(this).has(a)},parents:function(a){var b,c=new e;for(b=this.parent();b;b=b.parent())c.add(b);a&&(c=c.filter(a));return c},parentsAndSelf:function(a){return(new e(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=
this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,b){for(var c;a;){for(c=b;c&&a!=c;)c=c.parent();if(a==c)break;a=a.parent()}return a},hasClass:function(a,b){var c=this._classes[b||"control"];a=this.classPrefix+a;return c&&!!c.map[a]},addClass:function(a,b){var c,d;a=this.classPrefix+a;c=this._classes[b||"control"];c||(c=[],c.map={},this._classes[b||"control"]=c);if(!c.map[a]&&(c.map[a]=a,c.push(a),this._rendered&&(d=this.getEl(b))))d.className=c.join(" ");return this},
removeClass:function(a,b){var c,d;a=this.classPrefix+a;if((c=this._classes[b||"control"])&&c.map[a]){delete c.map[a];for(d=c.length;d--;)c[d]===a&&c.splice(d,1)}if(this._rendered&&(d=this.getEl(b)))d.className=c.join(" ");return this},toggleClass:function(a,b,c){b?this.addClass(a,c):this.removeClass(a,c);return this},classes:function(a){return(a=this._classes[a||"control"])?a.join(" "):""},innerHtml:function(a){b.innerHtml(this.getEl(),a);return this},getEl:function(a){a=a?this._id+"-"+a:this._id;
this._elmCache[a]||(this._elmCache[a]=b.get(a));return this._elmCache[a]},visible:function(a){var b;if("undefined"!==typeof a){if(this._visible!==a){this._rendered&&(this.getEl().style.display=a?"":"none");this._visible=a;if(b=this.parent())b._lastRect=null;this.fire(a?"show":"hide")}return this}return this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();
return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this._rendered&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"\x26#"+a.charCodeAt(0)+";"})},translate:function(a){return l.translate?l.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=
this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,c=a.getEl(),d=a.parent(),e,f;if(a.items){var h=a.items().toArray();for(f=h.length;f--;)h[f].remove()}d&&d.items&&(e=[],d.items().each(function(b){b!==a&&e.push(b)}),d.items().set(e),d._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&b.off(c);(d=a.getRoot().controlIdLookup)&&delete d[a._id];c&&c.parentNode&&c.parentNode.removeChild(c);a._rendered=!1;return a},renderBefore:function(a){a.parentNode.insertBefore(b.createFragment(this.renderHtml()),
a);this.postRender();return this},renderTo:function(a){a=a||this.getContainerElm();a.appendChild(b.createFragment(this.renderHtml()));this.postRender();return this},postRender:function(){var a=this.settings,c,d,e;for(d in a)if(0===d.indexOf("on"))this.on(d.substr(2),a[d]);if(this._eventsRoot){for(c=this.parent();!e&&c;c=c.parent())e=c._eventsRoot;if(e)for(d in e._nativeEvents)this._nativeEvents[d]=!0}this.bindPendingEvents();if(a.style&&(c=this.getEl()))c.setAttribute("style",a.style),c.style.cssText=
a.style;this._visible||b.css(this.getEl(),"display","none");this.settings.border&&(a=this.borderBox(),b.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));a=this.getRoot();a.controlIdLookup||(a.controlIdLookup={});a.controlIdLookup[this._id]=this;for(var f in this._aria)this.aria(f,this._aria[f]);this.fire("postrender",{},!1)},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,e,f,h,k;f=b;for(d=e=0;f&&f!=
c&&f.nodeType;)d+=f.offsetLeft||0,e+=f.offsetTop||0,f=f.offsetParent;f=b.offsetWidth;b=b.offsetHeight;h=c.clientWidth;k=c.clientHeight;"end"==a?(d-=h-f,e-=k-b):"center"==a&&(d-=h/2-f/2,e-=k/2-b/2);c.scrollLeft=d;c.scrollTop=e;return this},bindPendingEvents:function(){function a(a){var b=f.getParentCtrl(a.target);b&&b.fire(a.type,a)}function c(){var a=n._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),n._lastHoverCtrl=
null)}function d(a){var b=f.getParentCtrl(a.target);a=n._lastHoverCtrl;var c=0,e,h;if(b!==a){n._lastHoverCtrl=b;h=b.parents().toArray().reverse();h.push(b);if(a){b=a.parents().toArray().reverse();b.push(a);for(c=0;c<b.length&&h[c]===b[c];c++);for(e=b.length-1;e>=c;e--)a=b[e],a.fire("mouseleave",{target:a.getEl()})}for(e=c;e<h.length;e++)b=h[e],b.fire("mouseenter",{target:b.getEl()})}}function e(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*
a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);f.fire("wheel",a)}var f=this,h,m,l,n,r,q;f._rendered=!0;if(r=f._nativeEvents){l=f.parents().toArray();l.unshift(f);h=0;for(m=l.length;!n&&h<m;h++)n=l[h]._eventsRoot;n||(n=l[l.length-1]||f);f._eventsRoot=n;m=h;for(h=0;h<m;h++)l[h]._eventsRoot=n;h=n._delegates;h||(h=n._delegates={});for(q in r){if(!r)return!1;if("wheel"===q)if(k)b.on(f.getEl(),"mousewheel",e);else b.on(f.getEl(),"DOMMouseScroll",e);else"mouseenter"===q||"mouseleave"===q?n._hasMouseEnter||
(b.on(n.getEl(),"mouseleave",c),b.on(n.getEl(),"mouseover",d),n._hasMouseEnter=1):h[q]||(b.on(n.getEl(),q,a),h[q]=!0),r[q]=!1}}},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){this.repaint();return this}});return l});h("tinymce/ui/Factory",[],function(){var f={},h;return{add:function(c,e){f[c.toLowerCase()]=e},has:function(c){return!!f[c.toLowerCase()]},create:function(c,
e){var b,d;if(!h){d=tinymce.ui;for(b in d)f[b.toLowerCase()]=d[b];h=!0}"string"==typeof c?(e=e||{},e.type=c):(e=c,c=e.type);c=c.toLowerCase();b=f[c];if(!b)throw Error("Could not find control by type: "+c);b=new b(e);b.type=c;return b}}});h("tinymce/ui/KeyboardNavigation",[],function(){return function(f){function h(a){return(a=a||A)&&a.getAttribute("role")}function c(a){for(var b=a||A;b=b.parentNode;)if(a=h(b))return a}function e(a){var b=A;if(b)return b.getAttribute("aria-"+a)}function b(a){a=a.tagName.toUpperCase();
return"INPUT"==a||"TEXTAREA"==a}function d(a){function c(a){if(!(1!=a.nodeType||"none"==a.style.display)){var e;e=b(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(h(a))?!0:!1;e&&d.push(a);for(e=0;e<a.childNodes.length;e++)c(a.childNodes[e])}}var d=[];c(a||F.getEl());return d}function k(a){var b,c;a=a||x;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&!(b=c[a],b.settings.ariaRoot);a++);return b}function l(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);
b[a]&&b[a].focus();return a}function a(a,b){var c=-1,e=k();b=b||d(e.getEl());for(var f=0;f<b.length;f++)b[f]===A&&(c=f);e.lastAriaIndex=l(c+a,b)}function n(){"tablist"==c()?a(-1,d(A.parentNode)):x.parent().submenu?x.fire("cancel"):a(-1)}function q(){var b=h(),f=c();"tablist"==f?a(1,d(A.parentNode)):"menuitem"==b&&"menu"==f&&e("haspopup")?B():a(1)}function s(){a(-1)}function D(){var b=h(),d=c();"menuitem"==b&&"menubar"==d?B():"button"==b&&e("haspopup")?B({key:"down"}):a(1)}function z(b){"tablist"==
c()?(b=d(x.getEl("body"))[0])&&b.focus():a(b.shiftKey?-1:1)}function B(a){a=a||{};x.fire("click",{target:A,aria:a})}var F=f.root,A,x;try{A=document.activeElement}catch(w){A=document.body}x=F.getParentCtrl(A);F.on("keydown",function(a){function c(a,d){b(A)||!1!==d(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:c(a,n);break;case 39:c(a,q);break;case 38:c(a,s);break;case 40:c(a,D);break;case 27:x.fire("cancel");break;case 14:case 13:case 32:c(a,B);break;case 9:!1!==z(a)&&
a.preventDefault()}});F.on("focusin",function(a){A=a.target;x=a.control});return{focusFirst:function(a){a=k(a);var b=d(a.getEl());a.settings.ariaRemember&&"lastAriaIndex"in a?l(a.lastAriaIndex,b):l(0,b)}}}});h("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/ui/DomUtils".split(" "),function(f,h,c,e,b,d,k){var l={};return f.extend({layout:"",innerClass:"container-inner",init:function(a){this._super(a);
a=this.settings;this._fixed=a.fixed;this._items=new h;this.isRtl()&&this.addClass("rtl");this.addClass("container");this.addClass("container-body","body");a.containerCls&&this.addClass(a.containerCls);this._layout=e.create((a.layout||this.layout)+"layout");this.settings.items&&this.add(this.settings.items);this._hasBody=!0},items:function(){return this._items},find:function(a){a=l[a]=l[a]||new c(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;
if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c;c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,c,h=
[];d.isArray(a)||(a=[a]);d.each(a,function(a){a&&(a instanceof f||("string"==typeof a&&(a={type:a}),c=d.extend({},b.settings.defaults,a),a.type=c.type=c.type||a.type||b.settings.defaultType||(c.defaults?c.defaults.type:null),a=e.create(c)),h.push(a))});return h},renderNew:function(){var a=this;a.items().each(function(b,c){var d,e;b.parent(a);b._rendered||(d=a.getEl("body"),e=k.createFragment(b.renderHtml()),d.hasChildNodes()&&c<=d.childNodes.length-1?d.insertBefore(e,d.childNodes[c]):d.appendChild(e),
b.postRender())});a._layout.applyClasses(a);a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var d;a=this.create(a);d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},
toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},preRender:function(){},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+'"'+(b?' role\x3d"'+this.settings.role+'"':"")+'\x3e\x3cdiv id\x3d"'+this._id+'-body" class\x3d"'+this.classes("body")+'"\x3e'+(this.settings.html||"")+a.renderHtml(this)+"\x3c/div\x3e\x3c/div\x3e"},
postRender:function(){var a;this.items().exec("postRender");this._super();this._layout.postRender(this);this._rendered=!0;this.settings.style&&k.css(this.getEl(),this.settings.style);this.settings.border&&(a=this.borderBox(),k.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));this.parent()||(this.keyboardNav=new b({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},
recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;if(this.visible()){f.repaintControls=[];f.repaintControls.map={};this.recalc();for(a=f.repaintControls.length;a--;)f.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();f.repaintControls=[]}return this}})});h("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],
function(f){return function(h,c){var e,b=document,d,k,l,a,n;c=c||{};l=function(b){if(b.button!==d)return k(b);b.deltaX=b.screenX-a;b.deltaY=b.screenY-n;b.preventDefault();c.drag(b)};k=function(a){f.off(b,"mousemove",l);f.off(b,"mouseup",k);e.parentNode.removeChild(e);c.stop&&c.stop(a)};this.destroy=function(){f.off(b.getElementById(c.handle||h))};f.on(b.getElementById(c.handle||h),"mousedown",function(q){var s,D;D=document;var z,B,F,A,x,w;w=Math.max;s=D.documentElement;z=D.body;B=w(s.scrollWidth,
z.scrollWidth);F=w(s.clientWidth,z.clientWidth);A=w(s.offsetWidth,z.offsetWidth);D=w(s.scrollHeight,z.scrollHeight);x=w(s.clientHeight,z.clientHeight);w=w(s.offsetHeight,z.offsetHeight);s=B<A?F:B;D=D<w?x:D;q.preventDefault();d=q.button;x=b.getElementById(c.handle||h);a=q.screenX;n=q.screenY;x=window.getComputedStyle?window.getComputedStyle(x,null).getPropertyValue("cursor"):x.runtimeStyle.cursor;e=b.createElement("div");f.css(e,{position:"absolute",top:0,left:0,width:s,height:D,zIndex:2147483647,
opacity:1E-4,cursor:x});b.body.appendChild(e);f.on(b,"mousemove",l);f.on(b,"mouseup",k);c.start(q)})}});h("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(f,h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function c(){function c(h,k,m,l,n,q){var t,s,w;if(t=b.getEl("scroll"+h))s=k.toLowerCase(),w=m.toLowerCase(),b.getEl("absend")&&f.css(b.getEl("absend"),s,b.layoutRect()[l]-1),n?(f.css(t,"display","block"),l=b.getEl("body"),h=
b.getEl("scroll"+h+"t"),n=l["client"+m]-2*d,n-=e&&a?t["client"+q]:0,m=l["scroll"+m],m=n/m,q={},q[s]=l["offset"+k]+d,q[w]=n,f.css(t,q),q={},q[s]=l["scroll"+k]*m,q[w]=n*m,f.css(h,q)):f.css(t,"display","none")}var e,a,h;h=b.getEl("body");e=h.scrollWidth>h.clientWidth;a=h.scrollHeight>h.clientHeight;c("h","Left","Width","contentW",e,"Height");c("v","Top","Height","contentH",a,"Width")}function e(){function c(e,a,k,l,n){var q,s=b._id+"-scroll"+e,B=b.classPrefix;b.getEl().appendChild(f.createFragment('\x3cdiv id\x3d"'+
s+'" class\x3d"'+B+"scrollbar "+B+"scrollbar-"+e+'"\x3e\x3cdiv id\x3d"'+s+'t" class\x3d"'+B+'scrollbar-thumb"\x3e\x3c/div\x3e\x3c/div\x3e'));b.draghelper=new h(s+"t",{start:function(){q=b.getEl("body")["scroll"+a];f.addClass(f.get(s),B+"active")},drag:function(c){var f,h,m;h=b.layoutRect();f=h.contentW>h.innerW;h=h.contentH>h.innerH;m=b.getEl("body")["client"+k]-2*d;m-=f&&h?b.getEl("scroll"+e)["client"+n]:0;f=m/b.getEl("body")["scroll"+k];b.getEl("body")["scroll"+a]=q+c["delta"+l]/f},stop:function(){f.removeClass(f.get(s),
B+"active")}})}b.addClass("scroll");c("v","Top","Height","Y","Width");c("h","Left","Width","X","Height")}var b=this,d=2;b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=!0,e(),b.on("wheel",function(d){var e=b.getEl("body");e.scrollLeft+=10*(d.deltaX||0);e.scrollTop+=10*d.deltaY;c()}),f.on(b.getEl("body"),"scroll",c)),c())}}});h("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(f,h){return f.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var c=
this._layout,e=this.settings.html;this.preRender();c.preRender(this);"undefined"==typeof e?e='\x3cdiv id\x3d"'+this._id+'-body" class\x3d"'+this.classes("body")+'"\x3e'+c.renderHtml(this)+"\x3c/div\x3e":("function"==typeof e&&(e=e.call(this)),this._hasBody=!1);return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+'" hidefocus\x3d"1" tabindex\x3d"-1" role\x3d"group"\x3e'+(this._preBodyHtml||"")+e+"\x3c/div\x3e"}})});h("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(f){function h(c,e,
b){var d,k,m,a;m=f.getViewPort();d=f.getPos(e);k=d.x;d=d.y;c._fixed&&"static"==f.getRuntimeStyle(document.body,"position")&&(k-=m.x,d-=m.y);c=c.getEl();a=f.getSize(c);c=a.width;m=a.height;a=f.getSize(e);e=a.width;a=a.height;b=(b||"").split("");"b"===b[0]&&(d+=a);"r"===b[1]&&(k+=e);"c"===b[0]&&(d+=Math.round(a/2));"c"===b[1]&&(k+=Math.round(e/2));"b"===b[3]&&(d-=m);"r"===b[4]&&(k-=c);"c"===b[3]&&(d-=Math.round(m/2));"c"===b[4]&&(k-=Math.round(c/2));return{x:k,y:d,w:c,h:m}}return{testMoveRel:function(c,
e){for(var b=f.getViewPort(),d=0;d<e.length;d++){var k=h(this,c,e[d]);if(this._fixed){if(0<k.x&&k.x+k.w<b.w&&0<k.y&&k.y+k.h<b.h)return e[d]}else if(k.x>b.x&&k.x+k.w<b.w+b.x&&k.y>b.y&&k.y+k.h<b.h+b.y)return e[d]}return e[0]},moveRel:function(c,e){"string"!=typeof e&&(e=this.testMoveRel(c,e));var b=h(this,c,e);return this.moveTo(b.x,b.y)},moveBy:function(c,e){var b=this.layoutRect();this.moveTo(b.x+c,b.y+e);return this},moveTo:function(c,e){function b(b,a,c){return 0>b?0:b+c>a?(b=a-c,0>b?0:b):b}if(this.settings.constrainToViewport){var d=
f.getViewPort(window),h=this.layoutRect();c=b(c,d.w+d.x,h.w);e=b(e,d.h+d.y,h.h)}this._rendered?this.layoutRect({x:c,y:e}).repaint():(this.settings.x=c,this.settings.y=e);this.fire("move",{x:c,y:e});return this}}});h("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(f){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,c){if(1>=h||1>=c){var e=f.getWindowSize();h=1>=h?h*e.w:h;c=1>=c?c*e.h:c}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,
minH:c,w:h,h:c}).reflow()},resizeBy:function(f,c){var e=this.layoutRect();return this.resizeTo(e.w+f,e.h+c)}}});h("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(f,h,c,e){function b(){q||(q=function(a){if(2!=a.button)for(var b=z.length;b--;){var c=z[b],d=c.getParentCtrl(a.target);if(c.settings.autohide){if(d){var e;a:{e=d;for(var f=c;e;){if(e==f){e=!0;break a}e=e.parent()}e=void 0}if(e||c.parent()===d)continue}a=c.fire("autohide",
{target:a.target});a.isDefaultPrevented()||c.hide()}}},e.on(document,"click",q))}function d(){s||(s=function(){var a;for(a=z.length;a--;)l(z[a])},e.on(window,"scroll",s))}function k(){if(!D){var a=document.documentElement,b=a.clientWidth,c=a.clientHeight;D=function(){if(!document.all||b!=a.clientWidth||c!=a.clientHeight)b=a.clientWidth,c=a.clientHeight,A.hideAll()};e.on(window,"resize",D)}}function l(a){function b(c,d){for(var e,f=0;f<z.length;f++)if(z[f]!=a)for(e=z[f].parent();e&&(e=e.parent());)e==
a&&z[f].fixed(c).moveBy(0,d).repaint()}var c=e.getViewPort().y;a.settings.autofix&&(a._fixed?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function a(a,b){var c,d=A.zIndex||65535,f;if(a)B.push(b);else for(c=B.length;c--;)B[c]===b&&B.splice(c,1);if(B.length)for(c=0;c<B.length;c++)B[c].modal&&(d++,f=B[c]),B[c].getEl().style.zIndex=d,B[c].zIndex=d,d++;
c=document.getElementById(b.classPrefix+"modal-block");f?e.css(c,"z-index",f.zIndex-1):c&&(c.parentNode.removeChild(c),F=!1);A.currentZIndex=d}function n(a){var b;for(b=z.length;b--;)z[b]===a&&z.splice(b,1);for(b=B.length;b--;)B[b]===a&&B.splice(b,1)}var q,s,D,z=[],B=[],F,A=f.extend({Mixins:[h,c],init:function(c){var f=this;f._super(c);f._eventsRoot=f;f.addClass("floatpanel");c.autohide&&(b(),k(),z.push(f));c.autofix&&(d(),f.on("move",function(){l(this)}));f.on("postrender show",function(b){if(b.control==
f){var c,d=f.classPrefix;f.modal&&!F&&(c=e.createFragment('\x3cdiv id\x3d"'+d+'modal-block" class\x3d"'+d+"reset "+d+'fade"\x3e\x3c/div\x3e'),c=c.firstChild,f.getContainerElm().appendChild(c),setTimeout(function(){e.addClass(c,d+"in");e.addClass(f.getEl(),d+"in")},0),F=!0);a(!0,f)}});f.on("show",function(){f.parents().each(function(a){if(a._fixed)return f.fixed(!0),!1})});c.popover&&(f._preBodyHtml='\x3cdiv class\x3d"'+f.classPrefix+'arrow"\x3e\x3c/div\x3e',f.addClass("popover").addClass("bottom").addClass(f.isRtl()?
"end":"start"))},fixed:function(a){if(this._fixed!=a){if(this._rendered){var b=e.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.toggleClass("fixed",a);this._fixed=a}return this},show:function(){var a,b=this._super();for(a=z.length;a--&&z[a]!==this;);-1===a&&z.push(this);return b},hide:function(){n(this);a(!1,this);return this._super()},hideAll:function(){A.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),a(!1,this));return this},remove:function(){n(this);
this._super()},postRender:function(){this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});A.hideAll=function(){for(var a=z.length;a--;){var b=z[a];b&&b.settings.autohide&&(b.hide(),z.splice(a,1))}};return A});h("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(f,h,c,e){return f.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",
{data:this.toJSON()})},close:function(){this.close()}}},init:function(b){var c=this;c._super(b);c.isRtl()&&c.addClass("rtl");c.addClass("window");c._fixed=!0;b.buttons&&(c.statusbar=new h({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:c.isRtl()?"start":"end",defaults:{type:"button"},items:b.buttons}),c.statusbar.addClass("foot"),c.statusbar.parent(c));c.on("click",function(b){-1!=b.target.className.indexOf(c.classPrefix+"close")&&c.close()});c.on("cancel",function(){c.close()});
c.aria("describedby",c.describedBy||c._id+"-none");c.aria("label",b.title);c._fullscreen=!1},recalc:function(){var b=this.statusbar,d,e,f;this._fullscreen&&(this.layoutRect(c.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();d=this.layoutRect();this.settings.title&&!this._fullscreen&&(e=d.headerW,e>d.w&&(f=d.x-Math.max(0,e/2),this.layoutRect({w:e,x:f}),f=!0));b&&(b.layoutRect({w:this.layoutRect().innerW}).recalc(),e=b.layoutRect().minW+d.deltaW,e>d.w&&(f=d.x-Math.max(0,
e-d.w),this.layoutRect({w:e,x:f}),f=!0));f&&this.recalc()},initLayoutRect:function(){var b=this._super(),d=0,e;this.settings.title&&!this._fullscreen&&(e=this.getEl("head"),e=c.getSize(e),b.headerW=e.width,b.headerH=e.height,d+=b.headerH);this.statusbar&&(d+=this.statusbar.layoutRect().h);b.deltaH+=d;b.minH+=d;b.h+=d;d=c.getWindowSize();b.x=Math.max(0,d.w/2-b.w/2);b.y=Math.max(0,d.h/2-b.h/2);return b},renderHtml:function(){var b=this._layout,c=this._id,e=this.classPrefix,f=this.settings,a="",h="",
m=f.html;this.preRender();b.preRender(this);f.title&&(a='\x3cdiv id\x3d"'+c+'-head" class\x3d"'+e+'window-head"\x3e\x3cdiv id\x3d"'+c+'-title" class\x3d"'+e+'title"\x3e'+this.encode(f.title)+'\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"'+e+'close" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3cdiv id\x3d"'+c+'-dragh" class\x3d"'+e+'dragh"\x3e\x3c/div\x3e\x3c/div\x3e');f.url&&(m='\x3ciframe src\x3d"'+f.url+'" tabindex\x3d"-1"\x3e\x3c/iframe\x3e');"undefined"==typeof m&&(m=b.renderHtml(this));
this.statusbar&&(h=this.statusbar.renderHtml());return'\x3cdiv id\x3d"'+c+'" class\x3d"'+this.classes()+'" hidefocus\x3d"1"\x3e\x3cdiv class\x3d"'+this.classPrefix+'reset" role\x3d"application"\x3e'+a+'\x3cdiv id\x3d"'+c+'-body" class\x3d"'+this.classes("body")+'"\x3e'+m+"\x3c/div\x3e"+h+"\x3c/div\x3e\x3c/div\x3e"},fullscreen:function(b){var d=this,e=document.documentElement,f,a=d.classPrefix,h;b!=d._fullscreen&&(c.on(window,"resize",function(){var a;if(d._fullscreen)if(f)d._timer||(d._timer=setTimeout(function(){var a=
c.getWindowSize();d.moveTo(0,0).resizeTo(a.w,a.h);d._timer=0},50));else{a=(new Date).getTime();var b=c.getWindowSize();d.moveTo(0,0).resizeTo(b.w,b.h);50<(new Date).getTime()-a&&(f=!0)}}),h=d.layoutRect(),(d._fullscreen=b)?(d._initial={x:h.x,y:h.y,w:h.w,h:h.h},d._borderBox=d.parseBox("0"),d.getEl("head").style.display="none",h.deltaH-=h.headerH+2,c.addClass(e,a+"fullscreen"),c.addClass(document.body,a+"fullscreen"),d.addClass("fullscreen"),b=c.getWindowSize(),d.moveTo(0,0).resizeTo(b.w,b.h)):(d._borderBox=
d.parseBox(d.settings.border),d.getEl("head").style.display="",h.deltaH+=h.headerH,c.removeClass(e,a+"fullscreen"),c.removeClass(document.body,a+"fullscreen"),d.removeClass("fullscreen"),d.moveTo(d._initial.x,d._initial.y).resizeTo(d._initial.w,d._initial.h)));return d.reflow()},postRender:function(){var b,c,f=this;setTimeout(function(){f.addClass("in")},0);f._super();f.statusbar&&f.statusbar.postRender();f.focus();this.dragHelper=new e(f._id+"-dragh",{start:function(){b=f.layoutRect().x;c=f.layoutRect().y},
drag:function(e){f.moveTo(b+e.deltaX,c+e.deltaY)}});f.on("submit",function(b){b.isDefaultPrevented()||f.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var b=this.classPrefix;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();this._fullscreen&&(c.removeClass(document.documentElement,b+"fullscreen"),c.removeClass(document.body,b+"fullscreen"))},getContentWindow:function(){var b=this.getEl().getElementsByTagName("iframe")[0];
return b?b.contentWindow:null}})});h("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(f){var h=f.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(c){function e(b,c,a){return{type:"button",text:b,subtype:a?"primary":"",onClick:function(a){a.control.parents()[1].close();
d(c)}}}var b,d=c.callback||function(){};switch(c.buttons){case h.OK_CANCEL:b=[e("Ok",!0,!0),e("Cancel",!1)];break;case h.YES_NO:case h.YES_NO_CANCEL:b=[e("Yes",1,!0),e("No",0)];c.buttons==h.YES_NO_CANCEL&&b.push(e("Cancel",-1));break;default:b=[e("Ok",!0,!0)]}return(new f({padding:20,x:c.x,y:c.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:b,title:c.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:c.text},onPostRender:function(){this.aria("describedby",
this.items()[0]._id)},onClose:c.onClose,onCancel:function(){d(!1)}})).renderTo(document.body).reflow()},alert:function(c,e){"string"==typeof c&&(c={text:c});c.callback=e;return h.msgBox(c)},confirm:function(c,e){"string"==typeof c&&(c={text:c});c.callback=e;c.buttons=h.OK_CANCEL;return h.msgBox(c)}}});return h});h("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(f,h){return function(c){function e(){if(b.length)return b[b.length-1]}var b=[];this.windows=b;c.on("remove",
function(){for(var c=b.length;c--;)b[c].close()});this.open=function(d,e){var h;c.editorManager.setActive(c);d.title=d.title||" ";d.url=d.url||d.file;d.url&&(d.width=parseInt(d.width||320,10),d.height=parseInt(d.height||240,10));d.body&&(d.items={defaults:d.defaults,type:d.bodyType||"form",items:d.body});!d.url&&!d.buttons&&(d.buttons=[{text:"Ok",subtype:"primary",onclick:function(){h.find("form")[0].submit()}},{text:"Cancel",onclick:function(){h.close()}}]);h=new f(d);b.push(h);h.on("close",function(){for(var a=
b.length;a--;)b[a]===h&&b.splice(a,1);b.length||c.focus()});if(d.data)h.on("postRender",function(){this.find("*").each(function(a){var b=a.name();b in d.data&&a.value(d.data[b])})});h.features=d||{};h.params=e||{};1===b.length&&c.nodeChanged();return h.renderTo().reflow()};this.alert=function(b,e,f){h.alert(b,function(){e?e.call(f||this):c.focus()})};this.confirm=function(b,c,e){h.confirm(b,function(a){c.call(e||this,a)})};this.close=function(){e()&&e().close()};this.getParams=function(){return e()?
e().params:null};this.setParams=function(b){e()&&(e().params=b)};this.getWindows=function(){return b}}});h("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),function(f,h,c,e,b,d,k){return function(l){function a(a,b){try{l.getDoc().execCommand(a,!1,b)}catch(c){}}function n(){var a=l.getDoc().documentMode;return a?a:6}function q(a){var b;a.dataTransfer&&(l.selection.isCollapsed()&&"IMG"==
a.target.tagName&&ca.select(a.target),b=l.selection.getContent(),0<b.length&&a.dataTransfer.setData(Y,ka+escape(b)))}function s(a){var b;a.dataTransfer&&(a=a.dataTransfer.getData(Y))&&0<=a.indexOf(ka)&&(b=unescape(a.substr(ka.length)));return b}function D(a){l.queryCommandSupported("mceInsertClipboardContent")?l.execCommand("mceInsertClipboardContent",!1,{content:a}):l.execCommand("mceInsertContent",!1,a)}function z(){function a(b){var c=x.schema.getBlockElements(),d=l.getBody();if("BR"!=b.nodeName)return!1;
for(;b!=d&&!c[b.nodeName];b=b.parentNode)if(b.nextSibling)return!1;return!0}function b(a,c){var d;for(d=a.nextSibling;d&&d!=c;d=d.nextSibling)if(!(3==d.nodeType&&0===fa.trim(d.data).length)&&d!==c)return!1;return d===c}function d(b,e,f){var h;h=x.schema.getNonEmptyElements();for(b=new c(f||b,b);f=b[e?"next":"prev"]();)if(h[f.nodeName]&&!a(f)||3==f.nodeType&&0<f.data.length)return f}function e(a,c){var f,k,n,q;if(!a.collapsed)return a;f=a.startContainer;k=a.startOffset;if(3==f.nodeType)if(c){if(k<
f.data.length)return a}else if(0<k)return a;f=h.getNode(a.startContainer,a.startOffset);n=x.getParent(f,x.isBlock);k=d(l.getBody(),c,f);q=x.getParent(k,x.isBlock);if(!f||!k)return a;if(q&&n!=q)if(c){if(!b(n,q))return a;1==f.nodeType?"BR"==f.nodeName?a.setStartBefore(f):a.setStartAfter(f):a.setStart(f,f.data.length);1==k.nodeType?a.setEnd(k,0):a.setEndBefore(k)}else{if(!b(q,n))return a;1==k.nodeType?"BR"==k.nodeName?a.setStartBefore(k):a.setStartAfter(k):a.setStart(k,k.data.length);1==f.nodeType?a.setEnd(f,
0):a.setEndBefore(f)}return a}function n(a){var b=A.getRng(),b=e(b,a);a:{a=b;var c,f,k;if(!a.collapsed&&(b=x.getParent(h.getNode(a.startContainer,a.startOffset),x.isBlock),c=x.getParent(h.getNode(a.endContainer,a.endOffset),x.isBlock),f=l.schema.getTextBlockElements(),b!=c&&f[b.nodeName]&&f[c.nodeName]&&!("false"===x.getContentEditable(b)||"false"===x.getContentEditable(c)))){a.deleteContents();f=d(b,!1);k=d(c,!0);x.isEmpty(c)||fa(b).append(c.childNodes);fa(c).remove();f?1==f.nodeType?"BR"==f.nodeName?
(a.setStartBefore(f),a.setEndBefore(f)):(a.setStartAfter(f),a.setEndAfter(f)):(a.setStart(f,f.data.length),a.setEnd(f,f.data.length)):k&&(1==k.nodeType?(a.setStartBefore(k),a.setEndBefore(k)):(a.setStart(k,0),a.setEnd(k,0)));A.setRng(a);a=!0;break a}a=void 0}if(a)return!0}function t(a){var b,c,d;n(a)||(k.each(l.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&l.dom.setAttrib(a,"style",
l.dom.getAttrib(a,"style"))}),b=new z(function(){}),b.observe(l.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),l.getDoc().execCommand(a?"ForwardDelete":"Delete",!1,null),c=l.selection.getRng(),d=c.startContainer.parentNode,k.each(b.takeRecords(),function(a){if(x.isChildOf(a.target,l.getBody())){if("style"==a.attributeName){var b=a.target.getAttribute("data-mce-style");b?a.target.setAttribute("style",b):a.target.removeAttribute("style")}k.each(a.addedNodes,function(a){if("SPAN"==
a.nodeName&&!a.getAttribute("mce-data-marked")){var b,e;a==d&&(b=c.startOffset,e=a.firstChild);x.remove(a,!0);e&&(c.setStart(e,b),c.setEnd(e,b),l.selection.setRng(c))}})}}),b.disconnect(),k.each(l.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")}))}var w=l.getDoc(),x=l.dom,A=l.selection,z=window.MutationObserver,B,C;z||(B=!0,z=function(){function a(b){b=b.relatedNode||b.target;c.push({target:b,addedNodes:[b]})}function b(a){c.push({target:a.relatedNode||a.target,
attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",a,!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}});
l.on("keydown",function(a){var b=a.keyCode==aa,c=a.ctrlKey||a.metaKey;if(!a.isDefaultPrevented()&&(b||a.keyCode==ga)){var d=l.selection.getRng(),e=d.startContainer,f=d.startOffset;if(c||!(d.collapsed&&3==e.nodeType)||!(b?f<e.data.length:0<f))a.preventDefault(),c&&l.selection.getSel().modify("extend",b?"forward":"backward",a.metaKey?"lineboundary":"word"),t(b)}});l.on("keypress",function(a){if(!a.isDefaultPrevented()&&!A.isCollapsed()&&a.charCode&&!f.metaKeyPressed(a)){var b,c,d,e;b=l.selection.getRng();
d=String.fromCharCode(a.charCode);a.preventDefault();a=fa(b.startContainer).parents().filter(function(a,b){return!!l.schema.getTextInlineElements()[b.nodeName]});t(!0);a=a.filter(function(a,b){return!fa.contains(l.getBody(),b)});a.length?(c=x.createFragment(),a.each(function(a,b){b=b.cloneNode(!1);c.hasChildNodes()?b.appendChild(c.firstChild):e=b;c.appendChild(b);c.appendChild(b)}),e.appendChild(l.getDoc().createTextNode(d)),d=x.getParent(b.startContainer,x.isBlock),x.isEmpty(d)?fa(d).empty().append(c):
b.insertNode(c),b.setStart(e.firstChild,1),b.setEnd(e.firstChild,1),l.selection.setRng(b)):l.selection.setContent(d)}});l.addCommand("Delete",function(){t()});l.addCommand("ForwardDelete",function(){t(!0)});B||(l.on("dragstart",function(a){C=A.getRng();q(a)}),l.on("drop",function(a){if(!a.isDefaultPrevented()){var b=s(a);b&&(a.preventDefault(),window.setTimeout(function(){var c=h.getCaretRangeFromPoint(a.x,a.y,w);C&&(A.setRng(C),C=null);t();A.setRng(c);D(b)},0))}}),l.on("cut",function(a){!a.isDefaultPrevented()&&
a.clipboardData&&(a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/html",l.selection.getContent()),a.clipboardData.setData("text/plain",l.selection.getContent({format:"text"})),t(!0))}))}function B(){l.shortcuts.add("meta+a",null,"SelectAll")}function F(){l.settings.content_editable||(Z.bind(l.getDoc(),"focusin",function(a){l.filterEvent(a)||ca.setRng(ca.getRng())}),Z.bind(l.getDoc(),"mousedown mouseup",function(a){a.target==l.getDoc().documentElement&&(l.getBody().focus(),
"mousedown"==a.type?ca.placeCaretAt(a.clientX,a.clientY):ca.setRng(ca.getRng()))}))}function A(){l.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===ga&&l.getBody().getElementsByTagName("hr").length&&ca.isCollapsed()&&0===ca.getRng(!0).startOffset){var b=ca.getNode(),c=b.previousSibling;"HR"==b.nodeName?(Z.remove(b),a.preventDefault()):c&&(c.nodeName&&"hr"===c.nodeName.toLowerCase())&&(Z.remove(c),a.preventDefault())}})}function x(){if(!window.Range.prototype.getClientRects)l.on("mousedown",
function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=l.getBody();b.blur();setTimeout(function(){b.focus()},0)}})}function w(){l.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&(a.preventDefault(),ca.getSel().setBaseAndExtent(b,0,b,1),l.nodeChanged());"A"==b.nodeName&&Z.hasClass(b,"mce-item-anchor")&&(a.preventDefault(),ca.select(b))})}function C(){function a(){var b=Z.getAttribs(ca.getStart().cloneNode(!1));return function(){var a=ca.getStart();a!==l.getBody()&&
(Z.setAttrib(a,"style",null),X(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function b(){return!ca.isCollapsed()&&Z.getParent(ca.getStart(),Z.isBlock)!=Z.getParent(ca.getEnd(),Z.isBlock)}l.on("keypress",function(c){var d;if(!c.isDefaultPrevented()&&(8==c.keyCode||46==c.keyCode)&&b())return d=a(),l.getDoc().execCommand("delete",!1,null),d(),c.preventDefault(),!1});Z.bind(l.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=a(),setTimeout(function(){d()},0))})}function E(){l.on("keydown",
function(a){if(!a.isDefaultPrevented()&&a.keyCode===ga&&ca.isCollapsed()&&0===ca.getRng(!0).startOffset){var b=ca.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function J(){7<n()||(a("RespectVisibilityInDesign",!0),l.contentStyles.push(".mceHideBrInPre pre br {display: none}"),Z.addClass(l.getBody(),"mceHideBrInPre"),la.addNodeFilter("pre",function(a){for(var b=a.length,c,d,f,h;b--;){c=a[b].getAll("br");for(d=c.length;d--;)f=c[d],(h=
f.prev)&&3===h.type&&"\n"!=h.value.charAt(h.value-1)?h.value+="\n":f.parent.insert(new e("#text",3),f,!0).value="\n"}}),ja.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e;b--;){c=a[b].getAll("br");for(d=c.length;d--;)if(e=c[d],(e=e.prev)&&3==e.type)e.value=e.value.replace(/\r?\n$/,"")}}))}function H(){Z.bind(l.getBody(),"mouseup",function(){var a,b=ca.getNode();if("IMG"==b.nodeName){if(a=Z.getStyle(b,"width"))Z.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),Z.setStyle(b,"width","");if(a=
Z.getStyle(b,"height"))Z.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),Z.setStyle(b,"height","")}})}function G(){function b(){l._refreshContentEditable();a("StyleWithCSS",!1);a("enableInlineTableEditing",!1);ia.object_resizing||a("enableObjectResizing",!1)}if(!ia.readonly)l.on("BeforeExecCommand MouseDown",b)}function I(){function a(){X(Z.select("a"),function(a){var b=a.parentNode,c=Z.getRoot();if(b.lastChild===a){for(;b&&!Z.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}Z.add(b,
"br",{"data-mce-bogus":1})}})}l.on("SetContent ExecCommand",function(b){("setcontent"==b.type||"mceInsertLink"===b.command)&&a()})}function L(){if(ia.forced_root_block)l.on("init",function(){a("DefaultParagraphSeparator",ia.forced_root_block)})}function O(){l.on("Undo Redo SetContent",function(a){a.initial||l.execCommand("mceRepaint")})}function Q(){l.on("keydown",function(a){var b;if(!a.isDefaultPrevented()&&a.keyCode==ga&&(b=l.getDoc().selection.createRange())&&b.item)a.preventDefault(),l.undoManager.beforeChange(),
Z.remove(b.item(0)),l.undoManager.add()})}function M(){var a;10<=n()&&(a="",X("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),l.contentStyles.push(a+"{padding-right: 1px !important}"))}function R(){9>n()&&(la.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),ja.addNodeFilter("noscript",function(a){for(var c=a.length,d,f,h;c--;)if(d=a[c],f=a[c].firstChild)f.value=b.decode(f.value);else if(h=
d.attributes.map["data-mce-innertext"])d.attr("data-mce-innertext",null),f=new e("#text",3),f.value=h,f.raw=!0,d.append(f)}))}function P(){function a(b,c){var d=e.createTextRange();try{d.moveToPoint(b,c)}catch(f){d=null}return d}function b(d){if(d.button){if(d=a(d.x,d.y))0<d.compareEndPoints("StartToStart",h)?d.setEndPoint("StartToStart",h):d.setEndPoint("EndToEnd",h),d.select()}else c()}function c(){var a=d.selection.createRange();h&&(!a.item&&0===a.compareEndPoints("StartToEnd",a))&&h.select();
Z.unbind(d,"mouseup",c);Z.unbind(d,"mousemove",b);h=f=0}var d=Z.doc,e=d.body,f,h,k;d.documentElement.unselectable=!0;Z.bind(d,"mousedown contextmenu",function(e){if("HTML"===e.target.nodeName&&(f&&c(),k=d.documentElement,!(k.scrollHeight>k.clientHeight)&&(f=1,h=a(e.x,e.y))))Z.bind(d,"mouseup",c),Z.bind(d,"mousemove",b),Z.getRoot().focus(),h.select()})}function V(){if(!l.inline)l.on("keydown",function(){document.activeElement==document.body&&l.getWin().focus()})}function S(){l.inline||(l.contentStyles.push("body {min-height: 150px}"),
l.on("click",function(a){"HTML"==a.target.nodeName&&(a=l.selection.getRng(),l.getBody().focus(),l.selection.setRng(a),l.selection.normalize(),l.nodeChanged())}))}function K(){if(d.mac)l.on("keydown",function(a){if(f.metaKeyPressed(a)&&(37==a.keyCode||39==a.keyCode))a.preventDefault(),l.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","lineboundary")})}function T(){if(!l.inline)l.on("focus blur beforegetcontent",function(){var a=l.dom.create("br");l.getBody().appendChild(a);a.parentNode.removeChild(a)},
!0)}function W(){l.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});l.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function $(){l.on("touchstart",function(a){var b,c,d;b=a.target;c=(new Date).getTime();if((a=a.changedTouches)&&!(1<a.length))d=a[0],l.once("touchend",function(a){var e=a.changedTouches[0],f;!(500<(new Date).getTime()-c)&&(!(5<Math.abs(d.clientX-e.clientX))&&!(5<Math.abs(d.clientY-e.clientY)))&&(f={target:b},
X("pageX pageY clientX clientY screenX screenY".split(" "),function(a){f[a]=e[a]}),f=l.fire("click",f),f.isDefaultPrevented()||(l.selection.placeCaretAt(e.clientX,e.clientY),l.nodeChanged()))})})}function U(){l.on("init",function(){l.dom.bind(l.getBody(),"submit",function(a){a.preventDefault()})})}function ba(){la.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}function da(){l.on("dragstart",function(a){q(a)});l.on("drop",function(a){if(!a.isDefaultPrevented()){var b=
s(a);b&&(a.preventDefault(),a=h.getCaretRangeFromPoint(a.x,a.y,l.getDoc()),ca.setRng(a),D(b))}})}var X=k.each,fa=l.$,ga=f.BACKSPACE,aa=f.DELETE,Z=l.dom,ca=l.selection,ia=l.settings,la=l.parser,ja=l.serializer,ha=d.gecko,N=d.ie,ea=d.webkit,ka="data:text/mce-internal,",Y=N?"Text":"URL";(function(){l.on("keydown",function(a){var b,c,d,e;if(!(a.isDefaultPrevented()||a.keyCode!=f.BACKSPACE))if(a=ca.getRng(),b=a.startContainer,c=a.startOffset,d=Z.getRoot(),e=b,a.collapsed&&0===c){for(;e&&e.parentNode&&
e.parentNode.firstChild==e&&e.parentNode!=d;)e=e.parentNode;"BLOCKQUOTE"===e.tagName&&(l.formatter.toggle("blockquote",null,e),a=Z.createRng(),a.setStart(b,0),a.setEnd(b,0),ca.setRng(a))}})})();(function(){function a(b){var c=Z.create("body");b=b.cloneContents();c.appendChild(b);return ca.serializer.serialize(c,{format:"html"})}l.on("keydown",function(b){var c=b.keyCode,d;if(!b.isDefaultPrevented()&&(c==aa||c==ga))if(d=l.selection.isCollapsed(),c=l.getBody(),!d||Z.isEmpty(c)){if(d=!d){d=l.selection.getRng();
if(d.setStart){d=a(d);var e=Z.createRng();e.selectNode(l.getBody());e=a(e);d=d===e}else d.item?d=!1:(e=d.duplicate(),e.moveToElementText(l.getBody()),d=h.compareRanges(d,e));d=!d}d||(b.preventDefault(),l.setContent(""),c.firstChild&&Z.isBlock(c.firstChild)?l.selection.setCursorLocation(c.firstChild,0):l.selection.setCursorLocation(c,0),l.nodeChanged())}})})();(function(){l.on("keyup focusin mouseup",function(a){!l.filterEvent(a)&&(65!=a.keyCode||!f.metaKeyPressed(a))&&ca.normalize()},!0)})();ea&&
(z(),F(),w(),L(),U(),E(),ba(),$(),d.iOS?(V(),S(),W()):B());N&&11>d.ie&&(A(),document.body.setAttribute("role","application"),J(),H(),Q(),M(),R(),P());11<=d.ie&&(S(),T(),E());d.ie&&(B(),a("AutoUrlDetect",!1),da());ha&&(A(),x(),C(),G(),I(),O(),l.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),K(),E())}});h("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(f){function h(c){c._eventDispatcher||(c._eventDispatcher=new f({scope:c,toggleEvent:function(e,
b){f.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,b)}}));return c._eventDispatcher}return{fire:function(c,e,b){if(this.removed&&"remove"!==c)return e;e=h(this).fire(c,e,b);if(!1!==b&&this.parent)for(b=this.parent();b&&!e.isPropagationStopped();)b.fire(c,e,!1),b=b.parent();return e},on:function(c,e,b){return h(this).on(c,e,b)},off:function(c,e){return h(this).off(c,e)},once:function(c,e){return h(this).once(c,e)},hasEventListeners:function(c){return h(this).has(c)}}});h("tinymce/EditorObservable",
["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(f,h,c){function e(b,a){return"selectionchange"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(a)?b.getDoc().documentElement:b.settings.event_root?(b.eventRoot||(b.eventRoot=d.select(b.settings.event_root)[0]),b.eventRoot):b.getBody()}function b(b,a){var c=e(b,a),f;b.delegates||(b.delegates={});b.delegates[a]||(b.settings.event_root?(k||(k={},b.editorManager.on("removeEditor",function(){var a;
if(!b.editorManager.activeEditor&&k){for(a in k)b.dom.unbind(e(b,a));k=null}})),k[a]||(f=function(c){for(var e=c.target,f=b.editorManager.editors,h=f.length;h--;){var k=f[h].getBody();if(k===e||d.isChildOf(e,k))f[h].hidden||f[h].fire(a,c)}},k[a]=f,d.bind(c,a,f))):(f=function(c){b.hidden||b.fire(a,c)},d.bind(c,a,f),b.delegates[a]=f))}var d=h.DOM,k;h={bindPendingEventDelegates:function(){var d=this;c.each(d._pendingNativeEvents,function(a){b(d,a)})},toggleNativeEvent:function(c,a){if(!this.settings.readonly&&
!("focus"==c||"blur"==c))a?this.initialized?b(this,c):this._pendingNativeEvents?this._pendingNativeEvents.push(c):this._pendingNativeEvents=[c]:this.initialized&&(this.dom.unbind(e(this,c),c,this.delegates[c]),delete this.delegates[c])},unbindAllNativeEvents:function(){var b;if(this.delegates){for(b in this.delegates)this.dom.unbind(e(this,b),b,this.delegates[b]);delete this.delegates}this.inline||(this.getBody().onload=null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());
this.dom.unbind(this.getContainer())}};return h=c.extend({},f,h)});h("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(f,h){var c=f.each,e=f.explode,b={f9:120,f10:121,f11:122},d=f.makeMap("alt,ctrl,shift,meta,access");return function(k){function l(a,f,n,r){var q,s;s={func:n,scope:r||k,desc:k.translate(f)};c(e(a,"+"),function(a){a in d?s[a]=!0:/^[0-9]{2,}$/.test(a)?s.keyCode=parseInt(a,10):(s.charCode=a.charCodeAt(0),s.keyCode=b[a]||a.toUpperCase().charCodeAt(0))});a=[s.keyCode];for(q in d)s[q]?
a.push(q):s[q]=!1;s.id=a.join(",");s.access&&(s.alt=!0,h.mac?s.ctrl=!0:s.shift=!0);s.meta&&(h.mac?s.meta=!0:(s.ctrl=!0,s.meta=!1));return s}var a={};k.on("keyup keypress keydown",function(b){(b.altKey||b.ctrlKey||b.metaKey)&&!b.isDefaultPrevented()&&c(a,function(a){if(!(a.ctrl!=b.ctrlKey||a.meta!=b.metaKey))if(!(a.alt!=b.altKey||a.shift!=b.shiftKey))if(b.keyCode==a.keyCode||b.charCode&&b.charCode==a.charCode)return b.preventDefault(),"keydown"==b.type&&a.func.call(a.scope),!0})});this.add=function(b,
d,h,m){var n;n=h;"string"===typeof h?h=function(){k.execCommand(n,!1,null)}:f.isArray(n)&&(h=function(){k.execCommand(n[0],n[1],n[2])});c(e(b.toLowerCase()),function(b){b=l(b,d,h,m);a[b.id]=b});return!0};this.remove=function(b){b=l(b);return a[b.id]?(delete a[b.id],!0):!1}}});h("tinymce/Editor","tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/EditorObservable tinymce/Shortcuts".split(" "),
function(f,h,c,e,b,d,k,l,a,n,s,v,D,z,B,F,A,x,w,C,E,J,H,G){function I(a,b,d){var e=this,f,k;f=e.documentBaseUrl=d.documentBaseURL;k=d.baseURI;e.settings=b=M({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:f,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"\x3c!DOCTYPE html\x3e",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:e.convertURL,url_converter_scope:e,ie7_compat:!0},b);c.language=b.language||"en";c.languageLoad=b.language_load;c.baseURL=d.baseURL;e.id=b.id=a;e.isNotDirty=!0;e.plugins={};e.documentBaseURI=new z(b.document_base_url||f,{base_uri:k});e.baseURI=k;e.contentCSS=[];e.contentStyles=[];e.shortcuts=new G(e);e.loadedCSS={};e.editorCommands=new D(e);b.target&&(e.targetElm=b.target);e.suffix=d.suffix;e.editorManager=d;e.inline=b.inline;b.cache_suffix&&(E.cacheSuffix=
b.cache_suffix.replace(/^[\?\&]+/,""));d.fire("SetupEditor",e);e.execCallback("setup",e);e.$=h.overrideDefaults(function(){return{context:e.inline?e.getBody():e.getDoc(),element:e.getBody()}})}var L=f.DOM,O=c.ThemeManager,Q=c.PluginManager,M=J.extend,R=J.each,P=J.explode,V=J.inArray,S=J.trim,K=J.resolve,T=F.Event,W=E.gecko,$=E.ie;I.prototype={render:function(){function a(){L.unbind(window,"ready",a);c.render()}function b(){var a=B.ScriptLoader;d.language&&("en"!=d.language&&!d.language_url)&&(d.language_url=
c.editorManager.baseURL+"/langs/"+d.language+".js");d.language_url&&a.add(d.language_url);if(d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!O.urls[d.theme]){var e=d.theme_url,e=e?c.documentBaseURI.toAbsolute(e):"themes/"+d.theme+"/theme"+f+".js";O.load(d.theme,e)}J.isArray(d.plugins)&&(d.plugins=d.plugins.join(" "));R(d.external_plugins,function(a,b){Q.load(b,a);d.plugins+=" "+b});R(d.plugins.split(/[ ,]/),function(a){if((a=S(a))&&!Q.urls[a])"-"==a.charAt(0)?(a=a.substr(1,a.length),
a=Q.dependencies(a),R(a,function(a){a=Q.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"},a);Q.load(a.resource,a)})):Q.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"})});a.loadQueue(function(){c.removed||c.init()})}var c=this,d=c.settings,e=c.id,f=c.suffix;if(T.domLoaded){if(c.getElement()&&E.contentEditable){d.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");var h=c.getElement().form||L.getParent(e,"form");
h&&(c.formElement=h,d.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(L.insertAfter(L.create("input",{type:"hidden",name:e}),e),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},L.bind(h,"submit reset",c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,{format:"raw"})}),d.submit_patch&&(!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit)&&(h._mceOldSubmit=h.submit,h.submit=function(){c.editorManager.triggerSave();c.isNotDirty=!0;return h._mceOldSubmit(h)}));
c.windowManager=new A(c);if("xml"==d.encoding)c.on("GetContent",function(a){a.save&&(a.content=L.encode(a.content))});if(d.add_form_submit_trigger)c.on("submit",function(){c.initialized&&c.save()});d.add_unload_trigger&&(c._beforeUnload=function(){c.initialized&&(!c.destroyed&&!c.isHidden())&&c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));b()}}else L.bind(window,"ready",a)},filterEvent:function(a){return!1},init:function(){function a(c){var d=
Q.get(c),e;e=Q.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=S(c);d&&-1===V(l,c)&&(R(Q.dependencies(c),function(b){a(b)}),d=new d(b,e,b.$),b.plugins[c]=d,d.init&&(d.init(b,e),l.push(c)))}var b=this,c=b.settings,d=b.getElement(),e,f,h,k,m,l=[];this.editorManager.i18n.setCode(c.language);b.rtl=this.editorManager.i18n.rtl;b.editorManager.add(b);c.aria_label=c.aria_label||L.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),
h=O.get(c.theme),b.theme=new h(b,O.urls[c.theme]),b.theme.init&&b.theme.init(b,O.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""),b.$)):b.theme=c.theme);R(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);c.render_ui&&b.theme&&(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(e=c.width||d.style.width||d.offsetWidth,f=c.height||d.style.height||d.offsetHeight,h=c.min_height||100,m=/^[0-9\.]+(|px)$/i,m.test(""+e)&&(e=Math.max(parseInt(e,10),100)),m.test(""+f)&&(f=Math.max(parseInt(f,10),h)),e=b.theme.renderUI({targetNode:d,
width:e,height:f,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(f=(e.iframeHeight||f)+("number"==typeof f?e.deltaHeight||0:""),f<h&&(f=h))):(e=c.theme(b,d),e.editorContainer.nodeType&&(e.editorContainer=e.editorContainer.id=e.editorContainer.id||b.id+"_parent"),e.iframeContainer.nodeType&&(e.iframeContainer=e.iframeContainer.id=e.iframeContainer.id||b.id+"_iframecontainer"),f=e.iframeHeight||d.offsetHeight),b.editorContainer=e.editorContainer);c.content_css&&R(P(c.content_css),
function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return d=f=e=null,b.initContentBody();b.iframeHTML=c.doctype+"\x3chtml\x3e\x3chead\x3e";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='\x3cbase href\x3d"'+b.documentBaseURI.getURI()+'" /\x3e');!E.caretAfter&&c.ie7_compat&&(b.iframeHTML+='\x3cmeta http-equiv\x3d"X-UA-Compatible" content\x3d"IE\x3d7" /\x3e');b.iframeHTML+='\x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html; charset\x3dUTF-8" /\x3e';
for(d=0;d<b.contentCSS.length;d++)h=b.contentCSS[d],b.iframeHTML+='\x3clink type\x3d"text/css" rel\x3d"stylesheet" href\x3d"'+J._addCacheSuffix(h)+'" /\x3e',b.loadedCSS[h]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("\x3d")&&(d=b.getParam("body_id","","hash"),d=d[b.id]||d);h=c.body_class||"";-1!=h.indexOf("\x3d")&&(h=b.getParam("body_class","","hash"),h=h[b.id]||"");c.content_security_policy&&(b.iframeHTML+='\x3cmeta http-equiv\x3d"Content-Security-Policy" content\x3d"'+c.content_security_policy+'" /\x3e');
b.iframeHTML+='\x3c/head\x3e\x3cbody id\x3d"'+d+'" class\x3d"mce-content-body '+h+'" data-id\x3d"'+b.id+'"\x3e\x3cbr\x3e\x3c/body\x3e\x3c/html\x3e';c='javascript:(function(){document.open();document.domain\x3d"'+document.domain+'";var ed \x3d window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&(k=c);var n=L.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
style:{width:"100%",height:f,display:"block"}});n.onload=function(){n.onload=null;b.fire("load")};L.setAttrib(n,"src",k||'javascript:""');b.contentAreaContainer=e.iframeContainer;b.iframeElement=n;f=L.add(e.iframeContainer,n);if($)try{b.getDoc()}catch(r){f.src=k=c}e.editorContainer&&(L.get(e.editorContainer).style.display=b.orgDisplay,b.hidden=L.isHidden(e.editorContainer));b.getElement().style.display="none";L.setAttrib(b.id,"aria-hidden",!0);k||b.initContentBody();d=f=e=null},initContentBody:function(c){var h=
this,k=h.settings,m=h.getElement(),q=h.getDoc(),A;k.inline||(h.getElement().style.visibility=h.orgVisibility);!c&&!k.content_editable&&(q.open(),q.write(h.iframeHTML),q.close());k.content_editable&&(h.on("remove",function(){var a=this.getBody();L.removeClass(a,"mce-content-body");L.removeClass(a,"mce-edit-focus");L.setAttrib(a,"contentEditable",null)}),L.addClass(m,"mce-content-body"),h.contentDocument=q=k.content_document||document,h.contentWindow=k.content_window||window,h.bodyElement=m,k.content_document=
k.content_window=null,k.root_name=m.nodeName.toLowerCase());c=h.getBody();c.disabled=!0;k.readonly||(h.inline&&"static"==L.getStyle(c,"position",!0)&&(c.style.position="relative"),c.contentEditable=h.getParam("content_editable_state",!0));c.disabled=!1;h.schema=new x(k);h.dom=new f(q,{keep_values:!0,url_converter:h.convertURL,url_converter_scope:h,hex_colors:k.force_hex_style_colors,class_filter:k.class_filter,update_styles:!0,root_element:h.inline?h.getBody():null,collect:k.content_editable,schema:h.schema,
onSetAttrib:function(a){h.fire("SetAttrib",a)}});h.parser=new w(k,h.schema);h.parser.addAttributeFilter("src,href,style,tabindex",function(a,b){for(var c=a.length,d,e=h.dom,f,k;c--;)d=a[c],f=d.attr(b),k="data-mce-"+b,d.attributes.map[k]||("style"===b?(f=e.serializeStyle(e.parseStyle(f),d.name),f.length||(f=null),d.attr(k,f),d.attr(b,f)):"tabindex"===b?(d.attr(k,f),d.attr(b,null)):d.attr(k,h.convertURL(f,b,d.name)))});h.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type",
"mce-"+(c.attr("type")||"no/type"))});h.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});h.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var c=a.length,d,e=h.schema.getNonEmptyElements();c--;)d=a[c],d.isEmpty(e)&&(d.append(new b("br",1)).shortEnded=!0)});h.serializer=new d(k,h);h.selection=new l(h.dom,h.getWin(),h.serializer,h);h.formatter=new a(h);h.undoManager=new n(h);h.forceBlocks=new v(h);h.enterKey=
new s(h);h._nodeChangeDispatcher=new e(h);h.fire("PreInit");!k.browser_spellcheck&&!k.gecko_spellcheck&&(q.body.spellcheck=!1,L.setAttrib(c,"spellcheck","false"));h.fire("PostRender");h.quirks=new C(h);k.directionality&&(c.dir=k.directionality);k.nowrap&&(c.style.whiteSpace="nowrap");if(k.protect)h.on("BeforeSetContent",function(a){R(k.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});h.on("SetContent",function(){h.addVisual(h.getBody())});
if(k.padd_empty_editor)h.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});h.load({initial:!0,format:"html"});h.startContent=h.getContent({format:"raw"});h.initialized=!0;h.bindPendingEventDelegates();h.fire("init");h.focus(!0);h.nodeChanged({initial:!0});h.execCallback("init_instance_callback",h);0<h.contentStyles.length&&(A="",R(h.contentStyles,function(a){A+=a+"\r\n"}),h.dom.addStyle(A));R(h.contentCSS,function(a){h.loadedCSS[a]||
(h.dom.loadCSS(a),h.loadedCSS[a]=!0)});k.auto_focus&&setTimeout(function(){var a;a=!0===k.auto_focus?h:h.editorManager.get(k.auto_focus);a.destroyed||a.focus()},100);m=q=c=null},focus:function(a){var b=this.selection,c=this.settings.content_editable,d,e=this.getDoc();if(!a){a=b.getRng();a.item&&(d=a.item(0));this._refreshContentEditable();c||(E.opera||this.getBody().focus(),this.getWin().focus());if(W||c){a=this.getBody();if(a.setActive)try{a.setActive()}catch(f){a.focus()}else a.focus();c&&b.normalize()}d&&
d.ownerDocument==e&&(a=e.body.createControlRange(),a.addElement(d),a.select())}this.editorManager.setActive(this)},execCallback:function(a){var b=this.settings[a],c;if(b){if(this.callbackLookup&&(c=this.callbackLookup[a]))b=c.func,c=c.scope;"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?K(c):0,b=K(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c});return b.apply(c||this,Array.prototype.slice.call(arguments,1))}},translate:function(a){var b=this.settings.language||
"en",c=this.editorManager.i18n;return!a?"":c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"})},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==q?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"===typeof a?R(0<a.indexOf("\x3d")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("\x3d");1<a.length?d[S(a[0])]=S(a[1]):
d[S(a[0])]=S(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});!b.text&&!b.icon&&(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addCommand:function(a,b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,
b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},
show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(L.show(this.getContainer()),L.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||($&&(a&&!this.inline)&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(L.hide(this.getContainer()),L.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},
isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;if(b)return a=a||{},a.load=!0,c=this.setContent(b.value!==q?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?
c.value=d:(b.inline||(c.innerHTML=d),(e=L.getParent(b.id,"form"))&&R(e.elements,function(a){if(a.name==b.id)return a.value=d,!1})),a.element=c=null,!1!==a.set_dirty&&(b.isNotDirty=!0),d},setContent:function(a,b){var c=this.getBody(),d;b=b||{};b.format=b.format||"html";b.set=!0;b.content=a;b.no_events||this.fire("BeforeSetContent",b);a=b.content;0===a.length||/^\s+$/.test(a)?((d=this.settings.forced_root_block)&&this.schema.isValidChild(c.nodeName.toLowerCase(),d.toLowerCase())?(a=$&&11>$?"":'\x3cbr data-mce-bogus\x3d"1"\x3e',
a=this.dom.createHTML(d,this.settings.forced_root_block_attrs,a)):$||(a='\x3cbr data-mce-bogus\x3d"1"\x3e'),this.dom.setHTML(c,a),this.fire("SetContent",b)):("raw"!==b.format&&(a=(new k({},this.schema)).serialize(this.parser.parse(a,{isRootContent:!0}))),b.content=S(a),this.dom.setHTML(c,b.content),b.no_events||this.fire("SetContent",b));return b.content},getContent:function(a){var b;b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",
a);b="raw"==a.format?b.innerHTML:"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?S(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a,b){b&&(a=M({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},getContainer:function(){this.container||(this.container=L.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},
getElement:function(){this.targetElm||(this.targetElm=L.get(this.id));return this.targetElm},getWin:function(){var a;if(!this.contentWindow&&(a=this.iframeElement))this.contentWindow=a.contentWindow;return this.contentWindow},getDoc:function(){var a;if(!this.contentDocument&&(a=this.getWin()))this.contentDocument=a.document;return this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",
a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===q&&(b.hasVisual=c.visual);R(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";f=d.getAttrib(a,"border");(!f||"0"==f)&&b.hasVisual?d.addClass(a,e):d.removeClass(a,
e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&L.remove(this.getElement().nextSibling),this.inline||($&&10>$&&this.getDoc().execCommand("SelectAll",!1,null),L.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=
null),this.fire("remove"),this.editorManager.remove(this),L.remove(this.getContainer()),this.destroy())},destroy:function(a){if(!this.destroyed)if(!a&&!this.removed)this.remove();else{a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),L.unbind(a,"submit reset",this.formEventDelegate);this.iframeElement=this.targetElm=
this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}},_refreshContentEditable:function(){var a,b;this._isHidden()&&(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;if(!W)return 0;a=this.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}};
M(I.prototype,H);return I});h("tinymce/util/I18n",[],function(){var f={},h="en";return{setCode:function(c){c&&(h=c,this.rtl=this.data[c]?"rtl"===this.data[c]._dir:!1)},getCode:function(){return h},rtl:!1,add:function(c,e){var b=f[c];b||(f[c]=b={});for(var d in e)b[d]=e[d];this.setCode(c)},translate:function(c){var e;(e=f[h])||(e={});if("undefined"==typeof c)return c;if("string"!=typeof c&&c.raw)return c.raw;if(c.push){var b=c.slice(1);c=(e[c[0]]||c[0]).replace(/\{([0-9]+)\}/g,function(c,e){return b[e]})}return(e[c]||
c).replace(/{context:\w+}$/,"")},data:f}});h("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(f,h){function c(f){function a(){try{return document.activeElement}catch(a){return document.body}}function l(a,b){var c;b.startContainer?(c=a.getDoc().createRange(),c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b;return c}f.on("AddEditor",function(n){var q=n.editor;q.on("init",function(){if(q.inline||h.ie){if("onbeforedeactivate"in document&&9>h.ie)q.dom.bind(q.getBody(),
"beforedeactivate",function(a){if(a.target==q.getBody())try{q.lastRng=q.selection.getRng()}catch(b){}});else q.on("nodechange mouseup keyup",function(b){var c=a();"nodechange"==b.type&&b.selectionChange||(c&&c.id==q.id+"_ifr"&&(c=q.getBody()),q.dom.isChildOf(c,q.getBody())&&(q.lastRng=q.selection.getRng()))});h.webkit&&!e&&(e=function(){var a=f.activeEditor;if(a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed)q.lastRng=a},k.bind(document,"selectionchange",e))}});q.on("setcontent",function(){q.lastRng=
null});q.on("mousedown",function(){q.selection.lastFocusBookmark=null});q.on("focusin",function(){var a=f.focusedEditor;q.selection.lastFocusBookmark&&(q.selection.setRng(l(q,q.selection.lastFocusBookmark)),q.selection.lastFocusBookmark=null);a!=q&&(a&&a.fire("blur",{focusedEditor:q}),f.setActive(q),f.focusedEditor=q,q.fire("focus",{blurredEditor:a}),q.focus(!0));q.lastRng=null});q.on("focusout",function(){window.setTimeout(function(){var b=f.focusedEditor,d=a();!k.getParent(d,c.isEditorUIElement)&&
b==q&&(q.fire("blur",{focusedEditor:null}),f.focusedEditor=null,q.selection&&(q.selection.lastFocusBookmark=null))},0)});b||(b=function(a){var b=f.activeEditor;if(b&&a.target.ownerDocument==document){if(b.selection&&a.target!=b.getBody()){var d=b.selection,e;e=b.dom;var h=b.lastRng;e=h&&h.startContainer?!e.isChildOf(h.startContainer,e.getRoot())||!e.isChildOf(h.endContainer,e.getRoot())?void 0:{startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset}:
h;d.lastFocusBookmark=e}a.target!=document.body&&(!k.getParent(a.target,c.isEditorUIElement)&&f.focusedEditor==b)&&(b.fire("blur",{focusedEditor:null}),f.focusedEditor=null)}},k.bind(document,"focusin",b));q.inline&&!d&&(d=function(a){var b=f.activeEditor;b.inline&&!b.dom.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},k.bind(document,"mouseup",d))});f.on("RemoveEditor",function(a){f.focusedEditor==a.editor&&(f.focusedEditor=null);f.activeEditor||(k.unbind(document,
"selectionchange",e),k.unbind(document,"focusin",b),k.unbind(document,"mouseup",d),e=b=d=null)})}var e,b,d,k=f.DOM;c.isEditorUIElement=function(b){return-1!==b.className.toString().indexOf("mce-")};return c});h("tinymce/EditorManager","tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),function(f,h,c,e,b,d,k,l,a){function n(a){var b=A.editors,c;delete b[a.id];for(var d=
0;d<b.length;d++)if(b[d]==a){b.splice(d,1);c=!0;break}A.activeEditor==a&&(A.activeEditor=b[0]);A.focusedEditor==a&&(A.focusedEditor=null);return c}var q=c.DOM,s=d.explode,D=d.each,z=d.extend,B=0,F,A;A={$:h,majorVersion:"4",minorVersion:"1.10",releaseDate:"2015-05-05",editors:[],i18n:l,activeEditor:null,setup:function(){var b,c,d="",f;c=document.location.href;/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/"));if(f=window.tinymce||
window.tinyMCEPreInit)b=f.base||f.baseURL,d=f.suffix;else{for(var h=document.getElementsByTagName("script"),k=0;k<h.length;k++)if(f=h[k].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=f.indexOf(".min")&&(d=".min");b=f.substring(0,f.lastIndexOf("/"));break}!b&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(d=".min"),b=f.substring(0,f.lastIndexOf("/")))}this.baseURL=(new e(c)).toAbsolute(b);this.documentBaseURL=c;this.baseURI=new e(this.baseURL);this.suffix=
d;this.focusManager=new a(this)},init:function(a){function b(a){var c=a.id;c||(c=(c=a.name)&&!q.get(c)?a.name:q.uniqueId(),a.setAttribute("id",c));return c}function c(a,b,d){var e=h.get(a);if(e&&!(e.getContainer()||e.getBody()).parentNode)n(e),e.unbindAllNativeEvents(),e.destroy(!0),e=null;e||(a=new f(a,b,h),a.targetElm=a.targetElm||d,k.push(a),a.render())}function d(b){var c=a[b];if(c)return c.apply(h,Array.prototype.slice.call(arguments,2))}function e(){var f,h;q.unbind(window,"ready",e);d("onpageload");
if(a.types)D(a.types,function(d){D(q.select(d.selector),function(e){c(b(e),z({},a,d),e)})});else if(a.selector)D(q.select(a.selector),function(d){c(b(d),a,d)});else{a.target&&c(b(a.target),a);switch(a.mode){case "exact":f=a.elements||"";0<f.length&&D(s(f),function(b){var d;(d=q.get(b))?c(b,a,d):D(document.forms,function(d){D(d.elements,function(d){d.name===b&&(b="mce_editor_"+B++,q.setAttrib(d,"id",b),c(b,a,d))})})});break;case "textareas":case "specific_textareas":D(q.select("textarea"),function(d){if(!a.editor_deselector||
!(a.editor_deselector.constructor===RegExp?a.editor_deselector.test(d.className):q.hasClass(d,a.editor_deselector)))(!a.editor_selector||(a.editor_selector.constructor===RegExp?a.editor_selector.test(d.className):q.hasClass(d,a.editor_selector)))&&c(b(d),a,d)})}a.oninit&&(f=h=0,D(k,function(a){h++;if(a.initialized)f++;else a.on("init",function(){f++;f==h&&d("oninit")});f==h&&d("oninit")}))}}var h=this,k=[];h.settings=a;q.bind(window,"ready",e)},get:function(a){return!arguments.length?this.editors:
a in this.editors?this.editors[a]:null},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);b.activeEditor=a;b.fire("AddEditor",{editor:a});F||(F=function(){b.fire("BeforeUnload")},q.bind(window,"beforeunload",F));return a},createEditor:function(a,b){return this.add(new f(a,b,this))},remove:function(a){var b=this,c=b.editors,d;if(a)if("string"==typeof a)a=a.selector||a,D(q.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{d=a;if(!c[d.id])return null;n(d)&&b.fire("RemoveEditor",{editor:d});
c.length||q.unbind(window,"beforeunload",F);d.remove();return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new f(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){D(this.editors,
function(a){a.save()})},addI18n:function(a,b){l.add(a,b)},translate:function(a){return l.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};z(A,k);A.setup();return window.tinymce=window.tinyMCE=A});h("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(f,h){var c=h.each,e=h.explode;f.on("AddEditor",function(b){var d=b.editor;d.on("preInit",
function(){function b(a,d){c(d,function(b,c){b&&m.setStyle(a,c,b)});m.rename(a,"span")}function f(b){m=d.dom;l.convert_fonts_to_spans&&c(m.select("font,u,strike",b.node),function(b){a[b.nodeName.toLowerCase()](m,b)})}var a,h,m,l=d.settings;l.inline_styles&&(h=e(l.font_size_legacy_values),a={font:function(a,c){b(c,{backgroundColor:c.style.backgroundColor,color:c.color,fontFamily:c.face,fontSize:h[parseInt(c.size,10)-1]})},u:function(a,c){"html4"===d.settings.schema&&b(c,{textDecoration:"underline"})},
strike:function(a,c){b(c,{textDecoration:"line-through"})}},d.on("PreProcess SetContent",f))})})});h("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(f,h){var c={send:function(e){function b(){!e.async||4==d.readyState||1E4<f++?(e.success&&1E4>f&&200==d.status?e.success.call(e.success_scope,""+d.responseText,d,e):e.error&&e.error.call(e.error_scope,1E4<f?"TIMED_OUT":"GENERAL",d,e),d=null):setTimeout(b,10)}var d,f=0;e.scope=e.scope||this;e.success_scope=e.success_scope||
e.scope;e.error_scope=e.error_scope||e.scope;e.async=!1===e.async?!1:!0;e.data=e.data||"";if(d=new XMLHttpRequest){d.overrideMimeType&&d.overrideMimeType(e.content_type);d.open(e.type||(e.data?"POST":"GET"),e.url,e.async);e.crossDomain&&(d.withCredentials=!0);e.content_type&&d.setRequestHeader("Content-Type",e.content_type);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d=c.fire("beforeSend",{xhr:d,settings:e}).xhr;d.send(e.data);if(!e.async)return b();setTimeout(b,10)}}};h.extend(c,f);return c});
h("tinymce/util/JSON",[],function(){function f(h,c){var e,b,d,k;c=c||'"';if(null===h)return"null";d=typeof h;if("string"==d)return b="\bb\tt\nn\ff\rr\"\"''\\\\",c+h.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(d,a){if('"'===c&&"'"===d)return d;e=b.indexOf(a);if(e+1)return"\\"+b.charAt(e+1);d=a.charCodeAt().toString(16);return"\\u"+"0000".substring(d.length)+d})+c;if("object"==d){if(h.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(h)){e=0;for(b="[";e<h.length;e++)b+=(0<e?
",":"")+f(h[e],c);return b+"]"}b="{";for(k in h)h.hasOwnProperty(k)&&(b+="function"!=typeof h[k]?(1<b.length?","+c:c)+k+c+":"+f(h[k],c):"");return b+"}"}return""+h}return{serialize:f,parse:function(f){try{return window[String.fromCharCode(101)+"val"]("("+f+")")}catch(c){}}}});h("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(f,h,c){function e(c){this.settings=b({},c);this.count=0}var b=c.extend;e.sendRPC=function(b){return(new e).send(b)};e.prototype=
{send:function(c){var e=c.error,l=c.success;c=b(this.settings,c);c.success=function(a,b){a=f.parse(a);"undefined"==typeof a&&(a={error:"JSON Parse error."});a.error?e.call(c.error_scope||c.scope,a.error,b):l.call(c.success_scope||c.scope,a.result)};c.error=function(a,b){e&&e.call(c.error_scope||c.scope,a,b)};c.data=f.serialize({id:c.id||"c"+this.count++,method:c.method,params:c.params});c.content_type="application/json";h.send(c)}};return e});h("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(f){return{callbacks:{},
count:0,send:function(h){var c=this,e=f.DOM,b=h.count!==q?h.count:c.count,d="tinymce_jsonp_"+b;c.callbacks[b]=function(f){e.remove(d);delete c.callbacks[b];h.callback(f)};e.add(e.doc.body,"script",{id:d,src:h.url,type:"text/javascript"});c.count++}}});h("tinymce/util/LocalStorage",[],function(){function f(){d=[];for(var a in b)d.push(a);c.length=d.length}function h(){var a,c="";if(l){for(var d in b)a=b[d],c+=(c?",":"")+d.length.toString(32)+","+d+","+a.length.toString(32)+","+a;e.setAttribute(k,c);
try{e.save(k)}catch(m){}f()}}var c,e,b,d,k,l;try{if(window.localStorage)return localStorage}catch(a){}k="tinymce";e=document.documentElement;(l=!!e.addBehavior)&&e.addBehavior("#default#userData");c={key:function(a){return d[a]},getItem:function(a){return a in b?b[a]:null},setItem:function(a,c){b[a]=""+c;h()},removeItem:function(a){delete b[a];h()},clear:function(){b={};h()}};(function(){function a(b){var c;c=b!==q?m+b:d.indexOf(",",m);if(-1===c||c>d.length)return null;b=d.substring(m,c);m=c+1;return b}
var c,d,h,m=0;b={};if(l){e.load(k);d=e.getAttribute(k)||"";do{h=a();if(null===h)break;c=a(parseInt(h,32)||0);if(null!==c){h=a();if(null===h)break;h=a(parseInt(h,32)||0);c&&(b[c]=h)}}while(null!==c);f()}})();return c});h("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),function(f,h,c,e,b,d){var k=window.tinymce;k.DOM=f.DOM;k.ScriptLoader=c.ScriptLoader;k.PluginManager=e.PluginManager;k.ThemeManager=
e.ThemeManager;k.dom=k.dom||{};k.dom.Event=h.Event;b.each(b,function(b,a){k[a]=b});b.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(b){k[b]=d[b.substr(2).toLowerCase()]});return{}});h("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(f,h){return f.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=h.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(c){var e=
this.settings,b,d;c=c.items().filter(":visible");b=e.firstControlClass;d=e.lastControlClass;c.each(function(c){c.removeClass(b).removeClass(d);e.controlClass&&c.addClass(e.controlClass)});c.eq(0).addClass(b);c.eq(-1).addClass(d)},renderHtml:function(c){var e=this.settings,b="";c=c.items();c.eq(0).addClass(e.firstControlClass);c.eq(-1).addClass(e.lastControlClass);c.each(function(c){e.controlClass&&c.addClass(e.controlClass);b+=c.renderHtml()});return b},recalc:function(){},postRender:function(){}})});
h("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(f){return f.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(f){f.items().filter(":visible").each(function(c){var e=c.settings;c.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h});c.recalc&&c.recalc()})},renderHtml:function(f){return'\x3cdiv id\x3d"'+f._id+'-absend" class\x3d"'+f.classPrefix+'abs-end"\x3e\x3c/div\x3e'+this._super(f)}})});h("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(f,
h){return f.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},text:function(c){return"undefined"!=typeof c?(this._value=c,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(c)),this):this._value},renderHtml:function(){var c=this.classPrefix;return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+'" role\x3d"presentation"\x3e\x3cdiv class\x3d"'+c+'tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"'+c+'tooltip-inner"\x3e'+this.encode(this._text)+"\x3c/div\x3e\x3c/div\x3e"},
repaint:function(){var c,e;c=this.getEl().style;e=this._layoutRect;c.left=e.x+"px";c.top=e.y+"px";c.zIndex=131070}})});h("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(f,h){var c,e=f.extend({init:function(b){var c=this;c._super(b);b=c.settings;c.canFocus=!0;b.tooltip&&!1!==e.tooltips&&(c.on("mouseenter",function(e){var f=c.tooltip().moveTo(-65535);e.control==c?(e=f.text(b.tooltip).show().testMoveRel(c.getEl(),["bc-tc","bc-tl","bc-tr"]),f.toggleClass("tooltip-n","bc-tc"==
e),f.toggleClass("tooltip-nw","bc-tl"==e),f.toggleClass("tooltip-ne","bc-tr"==e),f.moveRel(c.getEl(),e)):f.hide()}),c.on("mouseleave mousedown click",function(){c.tooltip().hide()}));c.aria("label",b.ariaLabel||b.tooltip)},tooltip:function(){c||(c=new h({type:"tooltip"}),c.renderTo());return c},active:function(b){void 0!==b&&(this.aria("pressed",b),this.toggleClass("active",b));return this._super(b)},disabled:function(b){void 0!==b&&(this.aria("disabled",b),this.toggleClass("disabled",b));return this._super(b)},
postRender:function(){var b=this.settings;this._rendered=!0;this._super();if(!this.parent()&&(b.width||b.height))this.initLayoutRect(),this.repaint();b.autofocus&&this.focus()},remove:function(){this._super();c&&(c.remove(),c=null)}});return e});h("tinymce/ui/Button",["tinymce/ui/Widget"],function(f){return f.extend({Defaults:{classes:"widget btn",role:"button"},init:function(f){var c;this.on("click mousedown",function(c){c.preventDefault()});this._super(f);c=f.size;f.subtype&&this.addClass(f.subtype);
c&&this.addClass("btn-"+c)},icon:function(f){var c=this.classPrefix;if("undefined"==typeof f)return this.settings.icon;f=(this.settings.icon=f)?c+"ico "+c+"i-"+this.settings.icon:"";if(this._rendered){var c=this.getEl().firstChild,e=c.getElementsByTagName("i")[0];if(f){if(!e||e!=c.firstChild)e=document.createElement("i"),c.insertBefore(e,c.firstChild);e.className=f}else e&&c.removeChild(e);this.text(this._text)}return this},repaint:function(){var f=this.getEl().firstChild.style;f.width=f.height="100%";
this._super()},text:function(f){if(this._rendered){var c=this.getEl().lastChild.lastChild;c&&(c.data=this.translate(f))}return this._super(f)},renderHtml:function(){var f=this._id,c=this.classPrefix,e=this.settings.icon,b;(b=this.settings.image)?(e="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style\x3d\"background-image: url('"+b+"')\""):b="";e=this.settings.icon?c+"ico "+c+"i-"+e:"";return'\x3cdiv id\x3d"'+f+'" class\x3d"'+this.classes()+'" tabindex\x3d"-1" aria-labelledby\x3d"'+
f+'"\x3e\x3cbutton role\x3d"presentation" type\x3d"button" tabindex\x3d"-1"\x3e'+(e?'\x3ci class\x3d"'+e+'"'+b+"\x3e\x3c/i\x3e":"")+(this._text?(e?"\u00a0":"")+this.encode(this._text):"")+"\x3c/button\x3e\x3c/div\x3e"}})});h("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(f){return f.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var f=this._layout;this.addClass("btn-group");this.preRender();f.preRender(this);return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+
'"\x3e\x3cdiv id\x3d"'+this._id+'-body"\x3e'+(this.settings.html||"")+f.renderHtml(this)+"\x3c/div\x3e\x3c/div\x3e"}})});h("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(f){return f.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(f){var c=this;c._super(f);c.on("click mousedown",function(c){c.preventDefault()});c.on("click",function(e){e.preventDefault();c.disabled()||c.checked(!c.checked())});c.checked(c.settings.checked)},checked:function(f){return"undefined"!=
typeof f?(f?this.addClass("checked"):this.removeClass("checked"),this._checked=f,this.aria("checked",f),this):this._checked},value:function(f){return this.checked(f)},renderHtml:function(){var f=this._id,c=this.classPrefix;return'\x3cdiv id\x3d"'+f+'" class\x3d"'+this.classes()+'" unselectable\x3d"on" aria-labelledby\x3d"'+f+'-al" tabindex\x3d"-1"\x3e\x3ci class\x3d"'+c+"ico "+c+'i-checkbox"\x3e\x3c/i\x3e\x3cspan id\x3d"'+f+'-al" class\x3d"'+c+'label"\x3e'+this.encode(this._text)+"\x3c/span\x3e\x3c/div\x3e"}})});
h("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(f,h,c){return f.extend({init:function(e){var b=this;b._super(e);b.addClass("combobox");b.subinput=!0;b.ariaTarget="inp";e=b.settings;e.menu=e.menu||e.values;e.menu&&(e.icon="caret");b.on("click",function(c){for(var f=c.target,h=b.getEl();f&&f!=h;)f.id&&-1!=f.id.indexOf("-open")&&(b.fire("action"),e.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),f=f.parentNode});b.on("keydown",function(c){"INPUT"==
c.target.nodeName&&13==c.keyCode&&b.parents().reverse().each(function(e){c.preventDefault();b.fire("change");if(e.hasEventListeners("submit")&&e.toJSON)return e.fire("submit",{data:e.toJSON()}),!1})});e.placeholder&&(b.addClass("placeholder"),b.on("focusin",function(){b._hasOnChange||(c.on(b.getEl("inp"),"change",function(){b.fire("change")}),b._hasOnChange=!0);b.hasClass("placeholder")&&(b.getEl("inp").value="",b.removeClass("placeholder"))}),b.on("focusout",function(){0===b.value().length&&(b.getEl("inp").value=
e.placeholder,b.addClass("placeholder"))}))},showMenu:function(){var c=this,b=c.settings;c.menu||(b=b.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",c.menu=h.create(b).parent(c).renderTo(c.getContainerElm()),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(b){b.control===c.menu&&c.focus()}),c.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==c.value())})}).fire("show"),c.menu.on("select",function(b){c.value(b.control.value())}),
c.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&c.menu.hide()}),c.aria("expanded",!0));c.menu.show();c.menu.layoutRect({w:c.layoutRect().w});c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(c){return"undefined"!=typeof c?(this._value=c,this.removeClass("placeholder"),this._rendered&&(this.getEl("inp").value=c),this):this._rendered?(c=this.getEl("inp").value,c!=this.settings.placeholder?c:""):this._value},disabled:function(c){this._rendered&&
"undefined"!=typeof c&&(this.getEl("inp").disabled=c);return this._super(c)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this.getEl(),b=this.getEl("open"),d=this.layoutRect(),f,b=b?d.w-c.getSize(b).width-10:d.w-10,d=document;if(d.all&&(!d.documentMode||8>=d.documentMode))f=this.layoutRect().h-2+"px";c.css(e.firstChild,{width:b,lineHeight:f});this._super();return this},postRender:function(){var e=this;c.on(this.getEl("inp"),"change",function(){e.fire("change")});return e._super()},
remove:function(){c.off(this.getEl("inp"));this._super()},renderHtml:function(){var c=this._id,b=this.settings,d=this.classPrefix,f=b.value||b.placeholder||"",h,a="",l="";"spellcheck"in b&&(l+=' spellcheck\x3d"'+b.spellcheck+'"');b.maxLength&&(l+=' maxlength\x3d"'+b.maxLength+'"');b.size&&(l+=' size\x3d"'+b.size+'"');b.subtype&&(l+=' type\x3d"'+b.subtype+'"');this.disabled()&&(l+=' disabled\x3d"disabled"');(h=b.icon)&&"caret"!=h&&(h=d+"ico "+d+"i-"+b.icon);b=this._text;if(h||b)a='\x3cdiv id\x3d"'+
c+'-open" class\x3d"'+d+"btn "+d+'open" tabIndex\x3d"-1" role\x3d"button"\x3e\x3cbutton id\x3d"'+c+'-action" type\x3d"button" hidefocus\x3d"1" tabindex\x3d"-1"\x3e'+("caret"!=h?'\x3ci class\x3d"'+h+'"\x3e\x3c/i\x3e':'\x3ci class\x3d"'+d+'caret"\x3e\x3c/i\x3e')+(b?(h?" ":"")+b:"")+"\x3c/button\x3e\x3c/div\x3e",this.addClass("has-open");return'\x3cdiv id\x3d"'+c+'" class\x3d"'+this.classes()+'"\x3e\x3cinput id\x3d"'+c+'-inp" class\x3d"'+d+"textbox "+d+'placeholder" value\x3d"'+f+'" hidefocus\x3d"1"'+
l+" /\x3e"+a+"\x3c/div\x3e"}})});h("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(f){return f.extend({init:function(f){var c=this;f.spellcheck=!1;f.onaction&&(f.icon="none");c._super(f);c.addClass("colorbox");c.on("change keyup postrender",function(){c.repaintColor(c.value())})},repaintColor:function(f){var c=this.getEl().getElementsByTagName("i")[0];if(c)try{c.style.background=f}catch(e){}},value:function(f){"undefined"!=typeof f&&this._rendered&&this.repaintColor(f);return this._super(f)}})});
h("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(f,h){return f.extend({showPanel:function(){var c=this,e=c.settings;c.active(!0);if(c.panel)c.panel.show();else{var b=e.panel;b.type&&(b={layout:"grid",items:b});b.role=b.role||"dialog";b.popover=!0;b.autohide=!0;b.ariaRoot=!0;c.panel=(new h(b)).on("hide",function(){c.active(!1)}).on("cancel",function(b){b.stopPropagation();c.focus();c.hidePanel()}).parent(c).renderTo(c.getContainerElm());c.panel.fire("show");c.panel.reflow()}c.panel.moveRel(c.getEl(),
e.popoverAlign||(c.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var c=this;c.aria("haspopup",!0);c.on("click",function(e){e.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!e.aria)))});return c._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});h("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(f,h){var c=
h.DOM;return f.extend({init:function(c){this._super(c);this.addClass("colorbutton")},color:function(c){return c?(this._color=c,this.getEl("preview").style.backgroundColor=c,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var c=this._id,b=this.classPrefix,d=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:"",f=this.settings.image?" style\x3d\"background-image: url('"+this.settings.image+"')\"":"";return'\x3cdiv id\x3d"'+
c+'" class\x3d"'+this.classes()+'" role\x3d"button" tabindex\x3d"-1" aria-haspopup\x3d"true"\x3e\x3cbutton role\x3d"presentation" hidefocus\x3d"1" type\x3d"button" tabindex\x3d"-1"\x3e'+(d?'\x3ci class\x3d"'+d+'"'+f+"\x3e\x3c/i\x3e":"")+'\x3cspan id\x3d"'+c+'-preview" class\x3d"'+b+'preview"\x3e\x3c/span\x3e'+(this._text?(d?" ":"")+this._text:"")+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"'+b+'open" hidefocus\x3d"1" tabindex\x3d"-1"\x3e \x3ci class\x3d"'+b+'caret"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e'},
postRender:function(){var e=this,b=e.settings.onclick;e.on("click",function(d){!(d.aria&&"down"==d.aria.key)&&(d.control==e&&!c.getParent(d.target,"."+e.classPrefix+"open"))&&(d.stopImmediatePropagation(),b.call(e,d))});delete e.settings.onclick;return e._super()}})});h("tinymce/util/Color",[],function(){var f=Math.min,h=Math.max,c=Math.round;return function(e){function b(b){var e;if("object"==typeof b)if("r"in b)k=b.r,l=b.g,a=b.b;else{if("v"in b){e=b.h;var n=b.s;b=b.v;var q;e=(parseInt(e,10)||0)%
360;n=parseInt(n,10)/100;b=parseInt(b,10)/100;n=h(0,f(n,1));b=h(0,f(b,1));if(0===n)k=l=a=c(255*b);else{e/=60;n*=b;q=n*(1-Math.abs(e%2-1));b-=n;switch(Math.floor(e)){case 0:k=n;l=q;a=0;break;case 1:k=q;l=n;a=0;break;case 2:k=0;l=n;a=q;break;case 3:k=0;l=q;a=n;break;case 4:k=q;l=0;a=n;break;case 5:k=n;l=0;a=q;break;default:k=l=a=0}k=c(255*(k+b));l=c(255*(l+b));a=c(255*(a+b))}}}else if(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(b))k=parseInt(e[1],10),l=parseInt(e[2],10),a=parseInt(e[3],
10);else if(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(b))k=parseInt(e[1],16),l=parseInt(e[2],16),a=parseInt(e[3],16);else if(e=/#([0-F])([0-F])([0-F])/gi.exec(b))k=parseInt(e[1]+e[1],16),l=parseInt(e[2]+e[2],16),a=parseInt(e[3]+e[3],16);k=0>k?0:255<k?255:k;l=0>l?0:255<l?255:l;a=0>a?0:255<a?255:a;return d}var d=this,k=0,l=0,a=0;e&&b(e);d.toRgb=function(){return{r:k,g:l,b:a}};d.toHsv=function(){var b;var d=k,e=l,n=a,q,d=d/255,e=e/255,n=n/255;q=f(d,f(e,n));b=h(d,h(e,n));q==b?b={h:0,s:0,v:100*q}:(d=
60*((d==q?3:n==q?1:5)-(d==q?e-n:n==q?d-e:n-d)/(b-q)),q=(b-q)/b,b={h:c(d),s:c(100*q),v:c(100*b)});return b};d.toHex=function(){function b(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+b(k)+b(l)+b(a)};d.parse=b}});h("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(f,h,c,e){return f.extend({Defaults:{classes:"widget colorpicker"},init:function(b){this._super(b)},postRender:function(){function b(a,b){var d=
c.getPos(a),e;e=b.pageX-d.x;d=b.pageY-d.y;e=Math.max(0,Math.min(e/a.clientWidth,1));d=Math.max(0,Math.min(d/a.clientHeight,1));return{x:e,y:d}}function d(b,d){c.css(D,{top:100*((360-b.h)/360)+"%"});d||c.css(B,{left:b.s+"%",top:100-b.v+"%"});z.style.background=(new e({s:100,v:100,h:b.h})).toHex();a.color().parse({s:b.s,v:b.v,h:b.h})}function f(c){c=b(z,c);q.s=100*c.x;q.v=100*(1-c.y);d(q);a.fire("change")}function l(c){c=b(s,c);q=n.toHsv();q.h=360*(1-c.y);d(q,!0);a.fire("change")}var a=this,n=a.color(),
q,s,D,z,B;s=a.getEl("h");D=a.getEl("hp");z=a.getEl("sv");B=a.getEl("svp");a._repaint=function(){q=n.toHsv();d(q)};a._super();a._svdraghelper=new h(a._id+"-sv",{start:f,drag:f});a._hdraghelper=new h(a._id+"-h",{start:l,drag:l});a._repaint()},rgb:function(){return this.color().toRgb()},value:function(b){if(arguments.length)this.color().parse(b),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new e);return this._color},renderHtml:function(){var b=
this._id,c=this.classPrefix,e,f,a="",h;h="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");e=0;for(f=h.length-1;e<f;e++)a+='\x3cdiv class\x3d"'+c+'colorpicker-h-chunk" style\x3d"height:'+100/f+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType\x3d0,startColorstr\x3d"+h[e]+",endColorstr\x3d"+h[e+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType\x3d0,startColorstr\x3d"+h[e]+",endColorstr\x3d"+h[e+
1]+')"\x3e\x3c/div\x3e';e='\x3cdiv id\x3d"'+b+'-h" class\x3d"'+c+'colorpicker-h" style\x3d"background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);"\x3e'+a+'\x3cdiv id\x3d"'+b+'-hp" class\x3d"'+c+'colorpicker-h-marker"\x3e\x3c/div\x3e\x3c/div\x3e';return'\x3cdiv id\x3d"'+b+
'" class\x3d"'+this.classes()+'"\x3e\x3cdiv id\x3d"'+b+'-sv" class\x3d"'+c+'colorpicker-sv"\x3e\x3cdiv class\x3d"'+c+'colorpicker-overlay1"\x3e\x3cdiv class\x3d"'+c+'colorpicker-overlay2"\x3e\x3cdiv id\x3d"'+b+'-svp" class\x3d"'+c+'colorpicker-selector1"\x3e\x3cdiv class\x3d"'+c+'colorpicker-selector2"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'+e+"\x3c/div\x3e"}})});h("tinymce/ui/Path",["tinymce/ui/Widget"],function(f){return f.extend({init:function(f){var c=this;f.delimiter||
(f.delimiter="\u00bb");c._super(f);c.addClass("path");c.canFocus=!0;c.on("click",function(e){var b;(b=e.target.getAttribute("data-index"))&&c.fire("select",{value:c.data()[b],index:b})})},focus:function(){this.getEl().firstChild.focus();return this},data:function(f){return"undefined"!==typeof f?(this._data=f,this.update(),this):this._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){this._super();this.data(this.settings.data)},renderHtml:function(){return'\x3cdiv id\x3d"'+
this._id+'" class\x3d"'+this.classes()+'"\x3e'+this._getPathHtml()+"\x3c/div\x3e"},_getPathHtml:function(){var f=this._data||[],c,e,b="",d=this.classPrefix;c=0;for(e=f.length;c<e;c++)b+=(0<c?'\x3cdiv class\x3d"'+d+'divider" aria-hidden\x3d"true"\x3e '+this.settings.delimiter+" \x3c/div\x3e":"")+'\x3cdiv role\x3d"button" class\x3d"'+d+"path-item"+(c==e-1?" "+d+"last":"")+'" data-index\x3d"'+c+'" tabindex\x3d"-1" id\x3d"'+this._id+"-"+c+'" aria-level\x3d"'+c+'"\x3e'+f[c].name+"\x3c/div\x3e";b||(b='\x3cdiv class\x3d"'+
d+'path-item"\x3e\u00a0\x3c/div\x3e');return b}})});h("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(f,h){return f.extend({postRender:function(){var c=this,e=h.activeEditor;!1!==e.settings.elementpath&&(c.on("select",function(b){e.focus();e.selection.select(this.data()[b.index].element);e.nodeChanged()}),e.on("nodeChange",function(b){var d=[];b=b.parents;for(var f=b.length;f--;){var h;if(h=1==b[f].nodeType){a:{h=b[f];if(1===h.nodeType){if("BR"==h.nodeName||h.getAttribute("data-mce-bogus")){h=
!0;break a}if("bookmark"===h.getAttribute("data-mce-type")){h=!0;break a}}h=!1}h=!h}if(h&&(h=e.fire("ResolveName",{name:b[f].nodeName.toLowerCase(),target:b[f]}),h.isDefaultPrevented()||d.push({name:h.name,element:b[f]}),h.isPropagationStopped()))break}c.data(d)}));return c._super()}})});h("tinymce/ui/FormItem",["tinymce/ui/Container"],function(f){return f.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var f=this._layout,c=this.classPrefix;this.addClass("formitem");
f.preRender(this);return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+'" hidefocus\x3d"1" tabindex\x3d"-1"\x3e'+(this.settings.title?'\x3cdiv id\x3d"'+this._id+'-title" class\x3d"'+c+'title"\x3e'+this.settings.title+"\x3c/div\x3e":"")+'\x3cdiv id\x3d"'+this._id+'-body" class\x3d"'+this.classes("body")+'"\x3e'+(this.settings.html||"")+f.renderHtml(this)+"\x3c/div\x3e\x3c/div\x3e"}})});h("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(f,h,c){return f.extend({Defaults:{containerCls:"form",
layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,b=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});b.each(function(b){var f;if(f=b.settings.label)f=new h(c.extend({items:{type:"label",id:b._id+"-l",text:f,flex:0,forId:b._id,disabled:b.disabled()}},e.settings.formItemDefaults)),f.type="formitem",b.aria("labelledby",
b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),e.replace(b,f),f.add(b)})},recalcLabels:function(){var c=0,b=[],d,f;if(!1!==this.settings.labelGapCalc){d="children"==this.settings.labelGapCalc?this.find("formitem"):this.items();d.filter("formitem").each(function(d){d=d.items()[0];var a=d.getEl().clientWidth;c=a>c?a:c;b.push(d)});f=this.settings.labelGap||0;for(d=b.length;d--;)b[d].settings.minWidth=c+f}},visible:function(c){var b=this._super(c);!0===c&&this._rendered&&this.recalcLabels();
return b},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.recalcLabels();this.fromJSON(this.settings.data)}})});h("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(f){return f.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var f=this._layout,c=this.classPrefix;this.preRender();f.preRender(this);return'\x3cfieldset id\x3d"'+
this._id+'" class\x3d"'+this.classes()+'" hidefocus\x3d"1" tabindex\x3d"-1"\x3e'+(this.settings.title?'\x3clegend id\x3d"'+this._id+'-title" class\x3d"'+c+'fieldset-title"\x3e'+this.settings.title+"\x3c/legend\x3e":"")+'\x3cdiv id\x3d"'+this._id+'-body" class\x3d"'+this.classes("body")+'"\x3e'+(this.settings.html||"")+f.renderHtml(this)+"\x3c/div\x3e\x3c/fieldset\x3e"}})});h("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(f,h){return f.extend({init:function(c){var e=
this,b=tinymce.activeEditor,d=b.settings,f,l,a;c.spellcheck=!1;(a=d.file_picker_types||d.file_browser_callback_types)&&(a=h.makeMap(a,/[, ]/));if(!a||a[c.filetype])if((l=d.file_picker_callback)&&(!a||a[c.filetype]))f=function(){var a=e.fire("beforecall").meta,a=h.extend({filetype:c.filetype},a);l.call(b,function(a,b){e.value(a).fire("change",{meta:b})},e.value(),a)};else if((l=d.file_browser_callback)&&(!a||a[c.filetype]))f=function(){l(e.getEl("inp").id,e.value(),c.filetype,window)};f&&(c.icon="browse",
c.onaction=f);e._super(c)}})});h("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(f){return f.extend({recalc:function(f){var c=f.layoutRect(),e=f.paddingBox();f.items().filter(":visible").each(function(b){b.layoutRect({x:e.left,y:e.top,w:c.innerW-e.right-e.left,h:c.innerH-e.top-e.bottom});b.recalc&&b.recalc()})}})});h("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(f){return f.extend({recalc:function(f){var c,e,b,d,h,l,a,n,q,s,D,z,B,F=[],A,x,w,C,E,J,H,G,I,L,O,Q,M,R,P,V,
S,K,T=Math.max,W=Math.min;b=f.items().filter(":visible");d=f.layoutRect();h=f._paddingBox;l=f.settings;c=f.isRtl()?l.direction||"row-reversed":l.direction;a=l.align;n=f.isRtl()?l.pack||"end":l.pack;l=l.spacing||0;if("row-reversed"==c||"column-reverse"==c)b=b.set(b.toArray().reverse()),c=c.split("-")[0];"column"==c?(E="y",w="h",C="minH",J="maxH",G="innerH",H="top",I="deltaH",L="contentH",P="left",M="w",O="x",Q="innerW",R="minW",V="right",S="deltaW",K="contentW"):(E="x",w="w",C="minW",J="maxW",G="innerW",
H="left",I="deltaW",L="contentW",P="top",M="h",O="y",Q="innerH",R="minH",V="bottom",S="deltaH",K="contentH");s=d[G]-h[H]-h[H];c=x=q=0;for(e=b.length;c<e;c++)D=b[c],z=D.layoutRect(),B=D.settings,B=B.flex,s-=c<e-1?l:0,0<B&&(q+=B,z[J]&&F.push(D),z.flex=B),s-=z[C],B=h[P]+z[R]+h[V],B>x&&(x=B);A={};A[C]=0>s?d[C]-s+d[I]:d[G]-s+d[I];A[R]=x+d[S];A[L]=d[G]-s;A[K]=x;A.minW=W(A.minW,d.maxW);A.minH=W(A.minH,d.maxH);A.minW=T(A.minW,d.startMinWidth);A.minH=T(A.minH,d.startMinHeight);if(d.autoResize&&(A.minW!=d.minW||
A.minH!=d.minH)){if(A.w=A.minW,A.h=A.minH,f.layoutRect(A),this.recalc(f),null===f._lastRect&&(b=f.parent()))b._lastRect=null,b.recalc()}else{f=s/q;c=0;for(e=F.length;c<e;c++)D=F[c],z=D.layoutRect(),D=z[J],B=z[C]+z.flex*f,B>D?(s-=z[J]-z[C],q-=z.flex,z.flex=0,z.maxFlexSize=D):z.maxFlexSize=0;f=s/q;F=h[H];A={};0===q&&("end"==n?F=s+h[H]:"center"==n?(F=Math.round(d[G]/2-(d[G]-s)/2)+h[H],0>F&&(F=h[H])):"justify"==n&&(F=h[H],l=Math.floor(s/(b.length-1))));A[O]=h[P];c=0;for(e=b.length;c<e;c++)D=b[c],z=D.layoutRect(),
B=z.maxFlexSize||z[C],"center"===a?A[O]=Math.round(d[Q]/2-z[M]/2):"stretch"===a?(A[M]=T(z[R]||0,d[Q]-h[P]-h[V]),A[O]=h[P]):"end"===a&&(A[O]=d[Q]-z[M]-h.top),0<z.flex&&(B+=z.flex*f),A[w]=B,A[E]=F,D.layoutRect(A),D.recalc&&D.recalc(),F+=B+l}}})});h("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(f){return f.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(f){f.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})});
h("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/EditorManager tinymce/Env".split(" "),function(f,h,c,e,b,d){function k(a){function b(c,d){return function(){var b=this;a.on("nodeChange",function(e){var f=a.formatter,h=null;l(e.parents,function(a){l(c,function(b){d?f.matchNode(a,d,{value:b.value})&&(h=b.value):f.matchNode(a,b.value)&&(h=b.value);if(h)return!1});if(h)return!1});b.value(h)})}}function d(a){a=a.replace(/;$/,"").split(";");
for(var b=a.length;b--;)a[b]=a[b].split("\x3d");return a}function e(b){return function(){var c=this;b="redo"==b?"hasRedo":"hasUndo";c.disabled(!(a.undoManager&&a.undoManager[b]()));a.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){c.disabled(!(a.undoManager&&a.undoManager[b]()))})}}function f(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}var h;h=function(){function b(a){var e=[];if(a)return l(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=b(a.items);
else{var h=a.format||"custom"+c++;a.format||(a.name=h,d.push(a));f.format=h;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},
{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},
{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){l(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?b(e.concat(a.settings.style_formats)):b(e):b(a.settings.style_formats||e),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},
onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&f(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();l({bold:a.settings.translations["palette.bold"],italic:a.settings.translations["palette.italic"],underline:a.settings.translations["palette.underline"],strikethrough:a.settings.translations["palette.strikethrough"],
subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{tooltip:b,onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})},onclick:function(){f(c)}})});l({outdent:[a.settings.translations["palette.outdent"],"Outdent"],indent:[a.settings.translations["palette.indent"],"Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help",
"mceHelp"],selectall:["Select All","SelectAll"],removeformat:[a.settings.translations["palette.clearformting"],"RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});l({blockquote:["Blockquote","mceBlockQuote"],numlist:[a.settings.translations["palette.numberlist"],"InsertOrderedList"],bullist:[a.settings.translations["palette.bulletlist"],"InsertUnorderedList"],subscript:[a.settings.translations["palette.subscript"],
"Subscript"],superscript:[a.settings.translations["palette.superscript"],"Superscript"],alignleft:[a.settings.translations["palette.alignleft"],"JustifyLeft"],aligncenter:[a.settings.translations["palette.alighcenter"],"JustifyCenter"],alignright:[a.settings.translations["palette.alignright"],"JustifyRight"],alignjustify:[a.settings.translations["palette.alignjustify"],"JustifyFull"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,
function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})}})});a.addButton("undo",{tooltip:a.settings.translations["palette.undo"],onPostRender:e("undo"),cmd:"undo"});a.addButton("redo",{tooltip:a.settings.translations["palette.redo"],onPostRender:e("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),
cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});l({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic",
"Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){c.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:h});a.addButton("formatselect",function(){var c=[],e=d(a.settings.block_formats||"Paragraph\x3dp;Heading 1\x3dh1;Heading 2\x3dh2;Heading 3\x3dh3;Heading 4\x3dh4;Heading 5\x3dh5;Heading 6\x3dh6;Preformatted\x3dpre");
l(e,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:e[0][0],values:c,fixedWidth:!0,onselect:f,onPostRender:b(c)}});a.addButton("fontselect",function(){var c=[],e=d(a.settings.font_formats||"Andale Mono\x3dandale mono,monospace;Arial\x3darial,helvetica,sans-serif;Arial Black\x3darial black,sans-serif;Book Antiqua\x3dbook antiqua,palatino,serif;Comic Sans MS\x3dcomic sans ms,sans-serif;Courier New\x3dcourier new,courier,monospace;Georgia\x3dgeorgia,palatino,serif;Helvetica\x3dhelvetica,arial,sans-serif;Impact\x3dimpact,sans-serif;Symbol\x3dsymbol;Tahoma\x3dtahoma,arial,helvetica,sans-serif;Terminal\x3dterminal,monaco,monospace;Times New Roman\x3dtimes new roman,times,serif;Trebuchet MS\x3dtrebuchet ms,geneva,sans-serif;Verdana\x3dverdana,geneva,sans-serif;Webdings\x3dwebdings;Wingdings\x3dwingdings,zapf dingbats");
l(e,function(a){c.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:c,fixedWidth:!0,onPostRender:b(c,"fontname"),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var c=[];l((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var b=a,d=a;a=a.split("\x3d");
1<a.length&&(b=a[0],d=a[1]);c.push({text:b,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:c,fixedWidth:!0,onPostRender:b(c,"fontsize"),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:h})}var l=e.each;b.on("AddEditor",function(a){a.editor.rtl&&(f.rtl=!0);k(a.editor)});f.translate=function(a){return b.translate(a)};h.tooltips=!d.iOS});h("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],
function(f){return f.extend({recalc:function(f){var c=f.settings,e,b,d,h,l,a,n,q,s,D,z,B,F,A,x,w,C,E=[],J=[],H,c=f.settings;d=f.items().filter(":visible");h=f.layoutRect();b=c.columns||Math.ceil(Math.sqrt(d.length));e=Math.ceil(d.length/b);A=c.spacingH||c.spacing||0;x=c.spacingV||c.spacing||0;w=c.alignH||c.align;C=c.alignV||c.align;B=f._paddingBox;H="reverseRows"in c?c.reverseRows:f.isRtl();w&&"string"==typeof w&&(w=[w]);C&&"string"==typeof C&&(C=[C]);for(s=0;s<b;s++)E.push(0);for(a=0;a<e;a++)J.push(0);
for(a=0;a<e;a++)for(s=0;s<b;s++){q=d[a*b+s];if(!q)break;n=q.layoutRect();q=n.minW;n=n.minH;E[s]=q>E[s]?q:E[s];J[a]=n>J[a]?n:J[a]}n=h.innerW-B.left-B.right;for(s=q=0;s<b;s++)q+=E[s]+(0<s?A:0),n-=(0<s?A:0)+E[s];D=h.innerH-B.top-B.bottom;for(a=s=0;a<e;a++)s+=J[a]+(0<a?x:0),D-=(0<a?x:0)+J[a];q+=B.left+B.right;s+=B.top+B.bottom;a={};a.minW=q+(h.w-h.innerW);a.minH=s+(h.h-h.innerH);a.contentW=a.minW-h.deltaW;a.contentH=a.minH-h.deltaH;a.minW=Math.min(a.minW,h.maxW);a.minH=Math.min(a.minH,h.maxH);a.minW=
Math.max(a.minW,h.startMinWidth);a.minH=Math.max(a.minH,h.startMinHeight);if(h.autoResize&&(a.minW!=h.minW||a.minH!=h.minH)){if(a.w=a.minW,a.h=a.minH,f.layoutRect(a),this.recalc(f),null===f._lastRect&&(e=f.parent()))e._lastRect=null,e.recalc()}else{h.autoResize&&(a=f.layoutRect(a),a.contentW=a.minW-h.deltaW,a.contentH=a.minH-h.deltaH);f="start"==c.packV?0:0<D?Math.floor(D/e):0;a=0;if(c=c.flexWidths)for(s=0;s<c.length;s++)a+=c[s];else a=b;a=n/a;for(s=0;s<b;s++)E[s]+=c?c[s]*a:a;D=B.top;for(a=0;a<e;a++){h=
B.left;c=J[a]+f;for(s=0;s<b;s++){n=H?a*b+b-1-s:a*b+s;q=d[n];if(!q)break;z=q.settings;n=q.layoutRect();l=Math.max(E[s],n.startMinWidth);n.x=h;n.y=D;F=z.alignH||(w?w[s]||w[0]:null);"center"==F?n.x=h+l/2-n.w/2:"right"==F?n.x=h+l-n.w:"stretch"==F&&(n.w=l);F=z.alignV||(C?C[s]||C[0]:null);"center"==F?n.y=D+c/2-n.h/2:"bottom"==F?n.y=D+c-n.h:"stretch"==F&&(n.h=c);q.layoutRect(n);h+=l+A;q.recalc&&q.recalc()}D+=c+x}}}})});h("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(f){return f.extend({renderHtml:function(){this.addClass("iframe");
this.canFocus=!1;return'\x3ciframe id\x3d"'+this._id+'" class\x3d"'+this.classes()+'" tabindex\x3d"-1" src\x3d"'+(this.settings.url||"javascript:''")+'" frameborder\x3d"0"\x3e\x3c/iframe\x3e'},src:function(f){this.getEl().src=f},html:function(f,c){var e=this,b=this.getEl().contentWindow.document.body;b?(b.innerHTML=f,c&&c()):setTimeout(function(){e.html(f)},0);return this}})});h("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(f,h){return f.extend({init:function(c){this._super(c);
this.addClass("widget");this.addClass("label");this.canFocus=!1;c.multiline&&this.addClass("autoscroll");c.strong&&this.addClass("strong")},initLayoutRect:function(){var c=this._super();this.settings.multiline&&(h.getSize(this.getEl()).width>c.maxW&&(c.minW=c.maxW,this.addClass("multiline")),this.getEl().style.width=c.minW+"px",c.startMinH=c.h=c.minH=Math.min(c.maxH,h.getSize(this.getEl()).height));return c},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+
"px");return this._super()},text:function(c){this._rendered&&c&&this.innerHtml(this.encode(c));return this._super(c)},renderHtml:function(){var c=this.settings.forId;return'\x3clabel id\x3d"'+this._id+'" class\x3d"'+this.classes()+'"'+(c?' for\x3d"'+c+'"':"")+"\x3e"+this.encode(this._text)+"\x3c/label\x3e"}})});h("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(f){return f.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(f){this._super(f);this.addClass("toolbar")},postRender:function(){this.items().addClass("toolbar-item");
return this._super()}})});h("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(f){return f.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});h("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(f,h,c){var e=f.extend({init:function(b){this._renderOpen=!0;this._super(b);this.addClass("menubtn");b.fixedWidth&&this.addClass("fixed-width");this.aria("haspopup",!0);this.hasPopup=!0},showMenu:function(){var b=
this,c=b.settings;if(b.menu&&b.menu.visible())return b.hideMenu();b.menu||(c=c.menu||[],c.length?c={type:"menu",items:c}:c.type=c.type||"menu",b.menu=h.create(c).parent(b).renderTo(),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(c){c.control.parent()===b.menu&&(c.stopPropagation(),b.focus(),b.hideMenu())}),b.menu.on("select",function(){b.focus()}),b.menu.on("show hide",function(c){c.control==b.menu&&b.activeMenu("show"==c.type);b.aria("expanded","show"==c.type)}).fire("show"));
b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide())},activeMenu:function(b){this.toggleClass("active",b)},renderHtml:function(){var b=this._id,d=this.classPrefix,e=this.settings.icon,f;(f=this.settings.image)?(e="none","string"!=typeof f&&(f=window.getSelection?f[0]:f[1]),f=" style\x3d\"background-image: url('"+f+
"')\""):f="";e=this.settings.icon?d+"ico "+d+"i-"+e:"";this.aria("role",this.parent()instanceof c?"menuitem":"button");return'\x3cdiv id\x3d"'+b+'" class\x3d"'+this.classes()+'" tabindex\x3d"-1" aria-labelledby\x3d"'+b+'"\x3e\x3cbutton id\x3d"'+b+'-open" role\x3d"presentation" type\x3d"button" tabindex\x3d"-1"\x3e'+(e?'\x3ci class\x3d"'+e+'"'+f+"\x3e\x3c/i\x3e":"")+"\x3cspan\x3e"+(this._text?(e?"\u00a0":"")+this.encode(this._text):"")+'\x3c/span\x3e \x3ci class\x3d"'+d+'caret"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e'},
postRender:function(){var b=this;b.on("click",function(c){var e;if(e=c.control===b)a:{e=c.target;for(var f=b.getEl();e;){if(f===e){e=!0;break a}e=e.parentNode}e=!1}e&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())});b.on("mouseenter",function(c){var f=c.control;c=b.parent();var h;f&&(c&&f instanceof e&&f.parent()==c)&&(c.items().filter("MenuButton").each(function(a){a.hideMenu&&a!=f&&(a.menu&&a.menu.visible()&&(h=!0),a.hideMenu())}),h&&(f.focus(),f.showMenu()))});return b._super()},text:function(b){var c,
e;if(this._rendered){e=this.getEl("open").getElementsByTagName("span");for(c=0;c<e.length;c++)e[c].innerHTML=(this.settings.icon&&b?"\u00a0":"")+this.encode(b)}return this._super(b)},remove:function(){this._super();this.menu&&this.menu.remove()}});return e});h("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(f){return f.extend({init:function(f){function c(a){for(var b=0;b<a.length;b++){if(d=a[b].selected||f.value===a[b].value){h=h||a[b].text;e._value=a[b].value;break}a[b].menu&&c(a[b].menu)}}
var e=this,b,d,h,l;if(e._values=b=f.values)c(b),!d&&0<b.length&&(h=b[0].text,e._value=b[0].value),f.menu=b;f.text=f.text||h||b[0].text;e._super(f);e.addClass("listbox");e.on("select",function(a){var b=a.control;l&&(a.lastControl=l);f.multiple?b.active(!b.active()):e.value(a.control.settings.value);l=b})},value:function(f){function c(e,a){e.items().each(function(e){(b=e.value()===a)&&(d=d||e.text());e.active(b);e.menu&&c(e.menu,a)})}function e(c){for(var a=0;a<c.length;a++)(b=c[a].value==f)&&(d=d||
c[a].text),c[a].active=b,c[a].menu&&e(c[a].menu)}var b,d,h;"undefined"!=typeof f&&(this.menu?c(this.menu,f):(h=this.settings.menu,e(h)),this.text(d||this.settings.text));return this._super(f)}})});h("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(f,h,c){return f.extend({Defaults:{border:0,role:"menuitem"},init:function(c){this.hasPopup=!0;this._super(c);c=this.settings;this.addClass("menu-item");c.menu&&this.addClass("menu-item-expand");c.preview&&this.addClass("menu-item-preview");
if("-"===this._text||"|"===this._text)this.addClass("menu-item-sep"),this.aria("role","separator"),this._text="-";c.selectable&&(this.aria("role","menuitemcheckbox"),this.addClass("menu-item-checkbox"),c.icon="selected");!c.preview&&!c.selectable&&this.addClass("menu-item-normal");this.on("mousedown",function(b){b.preventDefault()});c.menu&&!c.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var c=this,b=c.settings,d,f=c.parent();f.items().each(function(b){b!==
c&&b.hideMenu()});b.menu&&((d=c.menu)?d.show():(d=b.menu,d.length?d={type:"menu",items:d}:d.type=d.type||"menu",f.settings.itemDefaults&&(d.itemDefaults=f.settings.itemDefaults),d=c.menu=h.create(d).parent(c).renderTo(),d.reflow(),d.on("cancel",function(b){b.stopPropagation();c.focus();d.hide()}),d.on("show hide",function(b){b.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),d.on("hide",function(b){b.control===d&&c.removeClass("selected")}),d.submenu=!0),d._parentMenu=
f,d.addClass("menu-sub"),b=d.testMoveRel(c.getEl(),c.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),d.moveRel(c.getEl(),b),d.rel=b,b="menu-sub-"+b,d.removeClass(d._lastRel),d.addClass(b),d._lastRel=b,c.addClass("selected"),c.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){var e=this._id,b=this.settings,d=this.classPrefix,f=
this.encode(this._text),h=this.settings.icon,a="",l=b.shortcut;h&&this.parent().addClass("menu-has-icons");b.image&&(a=" style\x3d\"background-image: url('"+b.image+"')\"");if(l){var m,n,h={},h=c.mac?{alt:"\x26#x2325;",ctrl:"\x26#x2318;",shift:"\x26#x21E7;",meta:"\x26#x2318;"}:{meta:"Ctrl"},l=l.split("+");for(m=0;m<l.length;m++)(n=h[l[m].toLowerCase()])&&(l[m]=n);l=l.join("+")}h=d+"ico "+d+"i-"+(this.settings.icon||"none");return'\x3cdiv id\x3d"'+e+'" class\x3d"'+this.classes()+'" tabindex\x3d"-1"\x3e'+
("-"!==f?'\x3ci class\x3d"'+h+'"'+a+"\x3e\x3c/i\x3e\u00a0":"")+("-"!==f?'\x3cspan id\x3d"'+e+'-text" class\x3d"'+d+'text"\x3e'+f+"\x3c/span\x3e":"")+(l?'\x3cdiv id\x3d"'+e+'-shortcut" class\x3d"'+d+'menu-shortcut"\x3e'+l+"\x3c/div\x3e":"")+(b.menu?'\x3cdiv class\x3d"'+d+'caret"\x3e\x3c/div\x3e':"")+"\x3c/div\x3e"},postRender:function(){var c=this,b=c.settings,d=b.textStyle;"function"==typeof d&&(d=d.call(this));if(d){var f=c.getEl("text");f&&f.setAttribute("style",d)}c.on("mouseenter click",function(d){d.control===
c&&(!b.menu&&"click"===d.type?(c.fire("select"),c.parent().hideAll()):(c.showMenu(),d.aria&&c.menu.focus(!0)))});c._super();return c},active:function(c){"undefined"!=typeof c&&this.aria("checked",c);return this._super(c)},remove:function(){this._super();this.menu&&this.menu.remove()}})});h("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(f,h,c){return f.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",
ariaRoot:!0},init:function(e){e.autohide=!0;e.constrainToViewport=!0;if(e.itemDefaults)for(var b=e.items,d=b.length;d--;)b[d]=c.extend({},e.itemDefaults,b[d]);this._super(e);this.addClass("menu")},repaint:function(){this.toggleClass("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var c=
this;c.items().each(function(b){b=b.settings;if(b.icon||b.selectable)return c._hasIcons=!0,!1});return c._super()}})});h("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(f){return f.extend({Defaults:{classes:"radio",role:"radio"}})});h("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(f,h){return f.extend({renderHtml:function(){var c=this.classPrefix;this.addClass("resizehandle");"both"==this.settings.direction&&this.addClass("resizehandle-both");this.canFocus=!1;
return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+'"\x3e\x3ci class\x3d"'+c+"ico "+c+'i-resize"\x3e\x3c/i\x3e\x3c/div\x3e'},postRender:function(){var c=this;c._super();c.resizeDragHelper=new h(this._id,{start:function(){c.fire("ResizeStart")},drag:function(e){"both"!=c.settings.direction&&(e.deltaX=0);c.fire("Resize",e)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});h("tinymce/ui/Spacer",["tinymce/ui/Widget"],
function(f){return f.extend({renderHtml:function(){this.addClass("spacer");this.canFocus=!1;return'\x3cdiv id\x3d"'+this._id+'" class\x3d"'+this.classes()+'"\x3e\x3c/div\x3e'}})});h("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(f,h){return f.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var c=this.getEl(),e=this.layoutRect(),b;this._super();b=c.firstChild;c=c.lastChild;h.css(b,{width:e.w-h.getSize(c).width,height:e.h-2});h.css(c,
{height:e.h-2});return this},activeMenu:function(c){h.toggleClass(this.getEl().lastChild,this.classPrefix+"active",c)},renderHtml:function(){var c=this._id,e=this.classPrefix,b,d=this.settings.icon;(b=this.settings.image)?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style\x3d\"background-image: url('"+b+"')\""):b="";d=this.settings.icon?e+"ico "+e+"i-"+d:"";return'\x3cdiv id\x3d"'+c+'" class\x3d"'+this.classes()+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cbutton type\x3d"button" hidefocus\x3d"1" tabindex\x3d"-1"\x3e'+
(d?'\x3ci class\x3d"'+d+'"'+b+"\x3e\x3c/i\x3e":"")+(this._text?(d?" ":"")+this._text:"")+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"'+e+'open" hidefocus\x3d"1" tabindex\x3d"-1"\x3e'+(this._menuBtnText?(d?"\u00a0":"")+this._menuBtnText:"")+' \x3ci class\x3d"'+e+'caret"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e'},postRender:function(){var c=this.settings.onclick;this.on("click",function(e){var b=e.target;if(e.control==this)for(;b;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==b.nodeName&&-1==
b.className.indexOf("open")){e.stopImmediatePropagation();c.call(this,e);break}b=b.parentNode}});delete this.settings.onclick;return this._super()}})});h("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(f){return f.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});h("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(f,h){return f.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){var e;
this.activeTabId&&(e=this.getEl(this.activeTabId),h.removeClass(e,this.classPrefix+"active"),e.setAttribute("aria-selected","false"));this.activeTabId="t"+c;e=this.getEl("t"+c);e.setAttribute("aria-selected","true");h.addClass(e,this.classPrefix+"active");this.items()[c].show().fire("showtab");this.reflow();this.items().each(function(b,d){c!=d&&b.hide()})},renderHtml:function(){var c=this,e=c._layout,b="",d=c.classPrefix;c.preRender();e.preRender(c);c.items().each(function(e,f){var a=c._id+"-t"+f;
e.aria("role","tabpanel");e.aria("labelledby",a);b+='\x3cdiv id\x3d"'+a+'" class\x3d"'+d+'tab" unselectable\x3d"on" role\x3d"tab" aria-controls\x3d"'+e._id+'" aria-selected\x3d"false" tabIndex\x3d"-1"\x3e'+c.encode(e.settings.title)+"\x3c/div\x3e"});return'\x3cdiv id\x3d"'+c._id+'" class\x3d"'+c.classes()+'" hidefocus\x3d"1" tabindex\x3d"-1"\x3e\x3cdiv id\x3d"'+c._id+'-head" class\x3d"'+d+'tabs" role\x3d"tablist"\x3e'+b+'\x3c/div\x3e\x3cdiv id\x3d"'+c._id+'-body" class\x3d"'+c.classes("body")+'"\x3e'+
e.renderHtml(c)+"\x3c/div\x3e\x3c/div\x3e"},postRender:function(){var c=this;c._super();c.settings.activeTab=c.settings.activeTab||0;c.activateTab(c.settings.activeTab);this.on("click",function(e){var b=e.target.parentNode;if(e.target.parentNode.id==c._id+"-head")for(var d=b.childNodes.length;d--;)b.childNodes[d]==e.target&&c.activateTab(d)})},initLayoutRect:function(){var c,e,b;e=h.getSize(this.getEl("head")).width;e=0>e?0:e;b=0;this.items().each(function(c){e=Math.max(e,c.layoutRect().minW);b=Math.max(b,
c.layoutRect().minH)});this.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=e;c.settings.h=b;c.layoutRect({x:0,y:0,w:e,h:b})});var d=h.getSize(this.getEl("head")).height;this.settings.minWidth=e;this.settings.minHeight=b+d;c=this._super();c.deltaH+=d;c.innerH=c.h-c.deltaH;return c}})});h("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(f,h){return f.extend({init:function(c){var e=this;e._super(c);e._value=c.value||"";e.addClass("textbox");if(c.multiline)e.addClass("multiline");
else e.on("keydown",function(b){13==b.keyCode&&e.parents().reverse().each(function(c){b.preventDefault();if(c.hasEventListeners("submit")&&c.toJSON)return c.fire("submit",{data:c.toJSON()}),!1})})},disabled:function(c){this._rendered&&"undefined"!=typeof c&&(this.getEl().disabled=c);return this._super(c)},value:function(c){return"undefined"!=typeof c?(this._value=c,this._rendered&&(this.getEl().value=c),this):this._rendered?this.getEl().value:this._value},repaint:function(){var c,e,b,d=0;b=0;var f;
c=this.getEl().style;e=this._layoutRect;f=this._lastRepaintRect||{};d=document;if(!this.settings.multiline&&d.all&&(!d.documentMode||8>=d.documentMode))c.lineHeight=e.h-b+"px";b=this._borderBox;d=b.left+b.right+8;b=b.top+b.bottom+(this.settings.multiline?8:0);e.x!==f.x&&(c.left=e.x+"px",f.x=e.x);e.y!==f.y&&(c.top=e.y+"px",f.y=e.y);e.w!==f.w&&(c.width=e.w-d+"px",f.w=e.w);e.h!==f.h&&(c.height=e.h-b+"px",f.h=e.h);this._lastRepaintRect=f;this.fire("repaint",{},!1);return this},renderHtml:function(){var c=
this._id,e=this.settings,b=this.encode(this._value,!1),d="";"spellcheck"in e&&(d+=' spellcheck\x3d"'+e.spellcheck+'"');e.maxLength&&(d+=' maxlength\x3d"'+e.maxLength+'"');e.size&&(d+=' size\x3d"'+e.size+'"');e.subtype&&(d+=' type\x3d"'+e.subtype+'"');this.disabled()&&(d+=' disabled\x3d"disabled"');return e.multiline?'\x3ctextarea id\x3d"'+c+'" class\x3d"'+this.classes()+'" '+(e.rows?' rows\x3d"'+e.rows+'"':"")+' hidefocus\x3d"1"'+d+"\x3e"+b+"\x3c/textarea\x3e":'\x3cinput id\x3d"'+c+'" class\x3d"'+
this.classes()+'" value\x3d"'+b+'" hidefocus\x3d"1"'+d+" /\x3e"},postRender:function(){var c=this;h.on(c.getEl(),"change",function(e){c.fire("change",e)});return c._super()},remove:function(){h.off(this.getEl());this._super()}})});h("tinymce/ui/Throbber",["tinymce/ui/DomUtils","tinymce/ui/Control"],function(f,h){return function(c,e){var b=this,d,k=h.classPrefix;b.show=function(h){b.hide();d=!0;window.setTimeout(function(){d&&c.appendChild(f.createFragment('\x3cdiv class\x3d"'+k+"throbber"+(e?" "+
k+"throbber-inline":"")+'"\x3e\x3c/div\x3e'))},h||0);return b};b.hide=function(){var e=c.lastChild;e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e);d=!1;return b}}});(function(f){for(var h=0;h<f.length;h++){for(var c=s,e=f[h],b=e.split(/[.\/]/),d=0;d<b.length-1;++d)c[b[d]]===q&&(c[b[d]]={}),c=c[b[d]];c[b[b.length-1]]=n[e]}})("tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/Env tinymce/util/Tools tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/dom/TridentSelection tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/dom/ElementUtils tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/DomUtils tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/util/Quirks tinymce/util/Observable tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/LegacyInput tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/ListBox tinymce/ui/MenuItem tinymce/ui/Menu tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox tinymce/ui/Throbber".split(" "))})(this)})},
"xl/eqeditor/InlineFormula":function(){define(["dojo/_base/declare","xl/eqeditor/EqLabel","dojo/dom-construct","./AssessmentsComponents"],function(s,q,l,h){var n=h.EquationClasses.EqUtils;return s("xl.eqeditor.InlineFormula",[q],{constructor:function(){var f=this._label.getEqDocument();f.smartSlash=!0;f.suppressEmptyHiding=!0;f.interpretFunctions=!0},postCreate:function(){this.inherited(arguments);l.create(this.domNode,{contentEditable:!1})},saveHtmlNode:function(){var f=l.create("tdxeq");n.setTextContent(f,
this.getEqText());return f},reattachDom:function(f){this.domNode=f}})})},"xl/eqeditor/InlineEditor":function(){define("dojo/on dojo/_base/declare dojo/_base/connect dojo/_base/lang xl/player/controls/UIEqEditor dojo/dom-construct dojo/dom-class ./AssessmentsComponents xl/util/localization!html5player/math".split(" "),function(s,q,l,h,n,f,m,c,e){var b=c.EquationClasses.EqUtils;return q("xl.eqeditor.InlineEditor",[n],{constructor:function(b){},postCreate:function(){this.inherited(arguments);f.create(this.domNode,
{contentEditable:!1});m.add(this.domNode,"inlineEditor");this._setEditorSettings();this.on("eqeditor_focus",h.hitch(this,this._onFocus));this.on("eqeditor_blur",h.hitch(this,this._onBlur));this.on("eqeditor_mousedown",h.hitch(this,this._onMouseDown));this.on("eqeditor_mouseup",h.hitch(this,this._onMouseUp));this.on("eqeditor_change",h.hitch(this,this._change))},_setEditorSettings:function(){this.processRelationalShortcuts=this.wordShortcuts=!0;var b=this.getEqDoc();b.smartSlash=!0;b.suppressEmptyHiding=
!0;b.interpretFunctions=!0;b.showEmptyBoxes=!0;b.getShortcutList().setCaseSensitive(!1);b.addShortcut(e.divsym_sc,"\x26div;");b.addShortcut(e.times_sc,"\x26times;");b.addShortcut(e.sqrt_sc,"@RT{@CURSOR{}}");b.addShortcut(e.nrt_sc,"@RT{;@CURSOR{}}");b.addShortcut(e.abs_sc,"|@DUMMY{@CURSOR{}}|");b.addShortcut(e.pipe_sc,"|");b.addShortcut(e.supsub_sc,"@SUPSUB{@CURSOR{};;}");b.addShortcut(e.subsub_sc,"@SUB{@CURSOR{}}@DUMMY{}@SUB{}");b.addShortcut(e.pi_sc,"\x26pi;");b.addShortcut(e.pi_sc1,"\x26pi;");b.addShortcut(e.union_sc,
"\x26cup;");b.addShortcut(e.int_sc,"\x26cap;");b.addShortcut(e.inf_sc,"\x26inf;");b.addShortcut(e.empty_sc,"\x26empty;");b.addShortcut(e.angle_sc,"\x26angle;");b.addShortcut(e.cis_sc,"\x26angle;");b.addShortcut(e.cdelta_sc,"\x26cdelta;");b.addShortcut(e.belongs_sc,"\x26in;");b.addShortcut(e.notbelong_sc,"\x26notin;");b.addShortcut(e.subset_sc,"\x26subset;");b.addShortcut(e.notsubset_sc,"\x26notsubset;");b.addShortcut(e.propersub_sc,"\x26propsubset;");b.addShortcut(e.notpropersub_sc,"\x26notpropsubset;");
b.addShortcut(e.and_sc,"\x26and;");b.addShortcut(e.or_sc,"\x26or;");b.addShortcut(e.not_sc,"\x26lognot;");b.addShortcut(e.grad_sc,"\x26grad;");b.addShortcut(e.integral_sc,"@integral{}");b.addShortcut(e.dintegral_sc,"@INTEGRAL{@CURSOR{};}");b.addShortcut(e.sum_sc,"@SUM{@CURSOR{}; }");b.addShortcut(e.dsum_sc,"@SUM{@CURSOR{};}");b.addShortcut(e.hat_sc,"@HAT{@CURSOR{}}");b.addShortcut(e.overbar_sc,"@OVERBAR{@CURSOR{}}");b.addShortcut(e.dbloverbar_sc,"@OVDBBAR{@CURSOR{}}");b.addShortcut(e.alpha_sc,"\x26alpha;");
b.addShortcut(e.beta_sc,"\x26beta;");b.addShortcut(e.gamma_sc,"\x26gamma;");b.addShortcut(e.theta_sc,"\x26theta;");b.addShortcut(e.mu_sc,"\x26mu;");b.addShortcut(e.sigma_sc,"\x26sigma;");b.addShortcut(e.lambda_sc,"\x26lambda;");b.addShortcut(e.chi_sc,"\x26chi;");b.addShortcut(e.rho_sc,"\x26rho;");b.addShortcut(e.delta_sc,"\x26delta;");b.addShortcut(e.epsilon_sc,"\x26epsi;");b.addShortcut(e.eta_sc,"\x26eta;");b.addShortcut(e.kappa_sc,"\x26kappa;");b.addShortcut(e.nu_sc,"\x26nu;");b.addShortcut(e.tau_sc,
"\x26tau;");b.addShortcut(e.phi_sc,"\x26phi;");b.addShortcut(e.vphi_sc,"\x26phiv;");b.addShortcut(e.psi_sc,"\x26psi;");b.addShortcut(e.omega_sc,"\x26omega;");b.addShortcut(e.cphi_sc,"\x26cphi;");b.addShortcut(e.cpsi_sc,"\x26cpsi;");b.addShortcut(e.comega_sc,"\x26comega;");b.addShortcut(e.vec_sc,"@RAYR{@CURSOR{}}");b.addShortcut(e.partiald_sc,"\x26partiald;");b.addShortcut(e.tilde_sc,"\x26tilde;");b.addShortcut(e.rarrow_sc,"\x26rightarrow;");b.addShortcut(e.larrow_sc,"\x26leftarrow;");b.addShortcut(e.biarrow_sc,
"\x26leftrightarrow;");b.addShortcut(e.endash_sc,"\x26ndash;");b.addShortcut(e.emdash_sc,"\x26mdash;")},doLayout:function(){this._eqDoc&&this._eqDoc.isEmpty()?m.add(this.domNode,"eqEmpty"):m.remove(this.domNode,"eqEmpty");this.inherited(arguments)},isDomFocused:function(b){return m.contains(b,"focused")},_onFocus:function(b){this.inherited(arguments);l.publish("eqeditor_focus",[this])},_onMouseDown:function(){l.publish("eqeditor_mousedown",[this]);this.inherited(arguments)},_onMouseUp:function(){l.publish("eqeditor_mouseup",
[this]);this.inherited(arguments)},_onBlur:function(){this.inherited(arguments);l.publish("eqeditor_blur",[this])},_change:function(){this.onChange()},saveHtmlNode:function(){var c=f.create("tdxeq");b.setTextContent(c,this.getEqText());return c}})})},"xl/player/LearningAidMenu":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_HasDropDown dojo/Evented dojo/has dojo/_base/config dojo/_base/lang dijit/form/_FormWidgetMixin dojo/text!./templates/LearningAidMenu.html dojo/_base/declare dijit/Menu dijit/MenuItem dijit/MenuSeparator".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return d("xl.player.LearningAidMenu",[s,q,l,h,n,e],{templateString:b,baseClass:"xlQuestionHelp",postCreate:function(){this.inherited(arguments)},loadAndOpenDropDown:function(){var a=this.inherited(arguments),b=this;a.then(function(){(f("ie")||f("trident"))&&setTimeout(function(){b.dropDown.focus()},100)});return a}})})},"xl/player/controls/Timeline":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/dom-class dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/Timeline.html xl/player/controls/_AltTextToolTip xl/eqeditor/EqLabel".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return s("xl.player.controls.Timeline",[e,b,k],{templateString:d,data:null,baseWidth:null,gap:null,formulaOptions:null,startup:function(){this.initialize();this.inherited(arguments)},initialize:function(){c.set(this.periodLine,"margin","0 0 "+this.gap+"px");c.set(this.timeLine,"margin","0 0 "+this.gap+"px");for(var a=[],b=0;b<this.data[0].length;b++){var d=n.create("div");m.add(d,0==b?"left cell":"center cell");var e=""===this.data[0][b]?1.3*this.baseWidth:this.baseWidth;
0<b&&c.set(d,"width",e+"px");var h=new r;h.getEqDoc().siCommaChar=this.formulaOptions.commaChar;h.getEqDoc().siCommaDecimal=this.formulaOptions.siCommaDecimal;h.getEqDoc().deductLeading=!0;h.getEqDoc().deductExtraMargins=!0;h.getEqDoc().printing=this.formulaOptions.printing;h.getEqDoc().interpretFunctions=!1;h.setEqText(this.data[0][b]);h.startup();n.place(h.domNode,d);n.place(d,this.periodLine);0==b&&a.push(d);var k="",l="";""===this.data[0][b]?l="hborder-dash":(k="vborder",l="hborder");var q="",
d=h="";0!=b&&(1==b?(q=k,d=l):1<b&&b<this.data[0].length-1?(q=k,d=h=l):(q=k,h=l));k=n.create("div");m.add(k,"cell");0==b?a.push(k):c.set(k,"width",e+"px");e=n.create("div");m.add(e,"vertical "+q);q=n.create("div");m.add(q,"horizontal "+h);n.place(q,e);n.place(e,k);b<this.data[0].length-1&&(e=n.create("div"),m.add(e,"vertical"),h=n.create("div"),m.add(h,"horizontal "+d),n.place(h,e),n.place(e,k));n.place(k,this.timeLine)}for(k=1;k<this.data.length;k++){q=n.create("div");m.add(q,"row");c.set(q,"margin",
"0 0 "+this.gap+"px");for(b=0;b<this.data[k].length;b++)d=n.create("div"),m.add(d,0==b?"left cell":"center cell"),e=""===this.data[0][b]?1.3*this.baseWidth:this.baseWidth,0<b&&c.set(d,"width",e+"px"),h=new r,h.getEqDoc().siCommaChar=this.formulaOptions.commaChar,h.getEqDoc().siCommaDecimal=this.formulaOptions.siCommaDecimal,h.getEqDoc().deductLeading=!0,h.getEqDoc().deductExtraMargins=!0,h.getEqDoc().printing=this.formulaOptions.printing,h.getEqDoc().interpretFunctions=!1,h.setEqText(this.data[k][b]),
h.startup(),n.place(h.domNode,d),n.place(d,q),0==b&&a.push(d);n.place(q,this.containerNode)}for(e=b=0;e<a.length;e++)d=f.getMarginBox(a[e]),b=Math.max(b,d.w);for(e=0;e<a.length;e++)c.set(a[e],"width",b+"px")},parseData:function(a){h.mixin(this,a)}})})},"xl/player/forms/MediaPreReqsForm":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/MediaPreReqsForm.html xl/util/localization!html5player/popup dojo/_base/declare dojo/_base/array dojo/dom-construct dojo/on dojo/html dojo/_base/lang dojo/dom-class xl/dijit-bootstrap/bootstrapUtils".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return f("xl.player.forms.MediaPreReqsForm",[s,q,l],{templateString:h,baseClass:"mediaPreReqsForm",resources:{p1:n.media_access_1,p2:n.media_access_2,displayQuestion:n.display_question,noShowRequiredMediaReviewMode:n.no_show_required_media_review_mode},_hideDisplayQuestion:!1,postCreate:function(){this.inherited(arguments);m.forEach(this.mediaPreReqs.mediaList,function(a){var b=c.create("li",null,this.mediaList),f=c.create("a",{innerHTML:a.title},b);a.viewed&&k.add(f,
"view");e(f,"click",d.hitch(this,function(){this._mediaClicked(a,f)}))},this);if(this.mediaPreReqs.reviewMode&&!this.mediaPreReqs.satisfied)k.add(this.btnDisplayQuestion,"hidden"),b.set(this.paragraph2,this.resources.noShowRequiredMediaReviewMode),this._hideDisplayQuestion=!0;else this.btnDisplayQuestion.on("click",d.hitch(this,this._displayButtonClicked))},_mediaClicked:function(a,b){this.emit("assignedmediaclicked",{mediaInfo:a,partnerGraded:a.partnerGraded});a.viewed=!0;k.add(b,"viewed");this._updateDisplay()},
_updateDisplay:function(){var a=m.every(this.mediaList,function(a){return a.viewed});r.setVisible(this.btnDisplayQuestion,a&&!this._hideDisplayQuestion)},_displayButtonClicked:function(){this.emit("reloadquestion")}})})},"xl/player/forms/MediaLandingPageForm":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/MediaLandingPageForm.html xl/util/localization!html5player/popup dojo/_base/declare dojo/_base/array dojo/dom-construct dojo/on dojo/html dojo/_base/lang dojo/dom-class xl/dijit-bootstrap/bootstrapUtils".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r){return f("xl.player.forms.MediaLandingPageForm",[s,q,l],{templateString:h,baseClass:"mediaLandingPageForm",resources:{pageText:n.media_landing_page_text?n.media_landing_page_text:"Your item will open in a new window."},postCreate:function(){this.inherited(arguments);m.forEach(this.mediaPreReqs.mediaList,function(a){var b=c.create("li",null,this.mediaList),f=c.create("a",{innerHTML:a.title},b);a.viewed&&k.add(f,"viewed");e(f,"click",d.hitch(this,function(){this._mediaClicked(a,
f)}))},this)},_mediaClicked:function(a,b){this.emit("assignedmediaclicked",{mediaInfo:a,partnerGraded:a.partnerGraded});a.viewed=!0;k.add(b,"viewed")}})})},"xl/player/ExternalPlayer":function(){define(["dijit/_WidgetBase","dijit/layout/_LayoutWidget","dojo/_base/declare","dojo/dom-class","xl/util/localization!html5player/player"],function(s,q,l,h,n){return l("xl.player.ExternalPlayer",[s,q],{display:function(f){window.AssessmentClientComponents.externals.initialize();f={Component:window.AssessmentClientComponents.ExternalItem,
props:Object.assign({},f||{},{containerDomElement:this.domNode}),children:[]};window.AssessmentClientComponents.reactWrapper(f,this.domNode);this.domNode.style.display="initial"},close:function(f){this.domNode.style.display="none";window.AssessmentClientComponents.reactWrapper({Component:window.AssessmentClientComponents.ExternalItem,props:{containerDomElement:this.domNode},children:[]},this.domNode)}})})},"xl/player/AssignedMediaDropdown":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_HasDropDown dojo/Evented dijit/form/_FormWidgetMixin dojo/text!./templates/AssignedMediaDropdown.html dojo/_base/declare dojo/_base/array dijit/Menu dijit/MenuItem dijit/MenuSeparator".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){return c("xl.player.AssignedMediaDropdown",[s,q,l,h,n,f],{templateString:m,baseClass:"assignedMediaDropdown",postCreate:function(){this.inherited(arguments)},_oldItems:null,_cleanupOldMenuItems:function(){this._oldItems&&e.forEach(this._oldItems,function(b){b.destroy()});this._oldItems=[]},clearItems:function(){this._cleanupOldMenuItems();var b=this,a=this.dropDown.getChildren();e.forEach(a,function(a){b.dropDown.removeChild(a);b._oldItems.push(a)})},addItem:function(b){this.dropDown.addChild(b)}})})},
"xl/player/forms/PartnerGradedForm":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PartnerGradedForm.html xl/util/localization!html5player/player dojo/_base/declare dojo/_base/array dojo/dom-construct dojo/on dojo/_base/lang dojo/dom-class xl/dijit-bootstrap/bootstrapUtils".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k){return f("xl.player.forms.PartnerGradedForm",[s,q,l],{templateString:h,baseClass:"partnerGradedForm",linkTemplate:"\x3ca data-dojo-attach-point\x3d'linkQuestion' data-dojo-attach-event\x3d'onclick:linkClicked'\x3e\x3c/a\x3e",
mediaInfo:null,postMixInProperties:function(){var c=b.replace(n["partnergradedquestion.display"],[this.linkTemplate]),a=this.templateString.indexOf("\x3c!--content--\x3e"),d=a+14;this.templateString=this.templateString.substring(0,a)+c+this.templateString.substring(d);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.linkQuestion.innerHTML=this.mediaInfo.title},linkClicked:function(){this.emit("assignedmediaclicked",{mediaInfo:this.mediaInfo,partnerGraded:!0})}})})},
"xl/player/forms/CalculatorForm":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/query dojo/_base/array dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/window dijit/place dojo/has dojo/sniff dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/CalculatorForm.html xl/player/controls/_NeedsPlayerViewer xl/util/_ToolPaletteMixin xl/util/Calculator xl/dojo-ext/Moveable xl/util/IPMath dijit/focus xl/ZOrder/ZOrderManager xl/util/localization!html5player/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x){return s("xl.player.forms.CalculatorForm",[r,a,v,u],{templateString:t,baseClass:"xlCalculator",MAX_DIGITS:22,CALC_PRECISION:14,DISP_PRECISION:13,_value:0,_lastOp:"\x3d",_mode:"CMOP",_error:!1,_movable:null,_memoryInUse:!1,_memoryValue:0,_operand:0,_sequenceLastOp:"\x3d",_referrerFocusableNode:null,postCreate:function(){this.inherited(arguments);this.display(0);this._movable=this.isWrapped?this.domNode:new z(this.domNode,{handle:this.titleBar,
delay:2});l(this._movable,"Moved",q.hitch(this,this._moveableMoved));l(this._movable,"MoveStop",q.hitch(this,this._endDrag));l(this.domNode,"keyup",q.hitch(this,this._onKeyUpEvent));l(this.domNode,"keypress",q.hitch(this,this._onKeyPressEvent));this._focusWatch&&this._focusWatch.unwatch()},numClick:function(a){this._error||this._pressDigit(a.currentTarget.innerHTML)},backspaceClick:function(a){this._error||this._backspace()},binaryClick:function(a){this._error||this._doBinaryClick(a.currentTarget.innerHTML)},
_doBinaryClick:function(a){try{"\x3d"==a||"CMOP"!=this._mode?(D.checkBinaryOp(this._lastOp,this.getOperand()),this._value=D.doBinary(this._lastOp,this.getOperand(),this._value),D.checkValue(this._value),this._mode="CMOP","\x3d"!=a&&(this._lastOp=a),this._sequenceLastOp=a,"\x3d"==this._sequenceLastOp&&(this._lastOp="\x3d")):this._sequenceLastOp=this._lastOp=a}catch(b){this._setError(b.message)}finally{this._error||this.display(this._value)}},memoryClick:function(a){if(!this._error)switch(a.currentTarget.innerHTML){case "MP":this._memoryPlus();
break;case "MS":this._memorySave();break;case "MR":this._memoryLoad();break;case "MC":this._memoryClear()}},resetClick:function(a){this._reset()},clearClick:function(a){this._error||this._clear()},enterClick:function(a){this._insertValue()},unaryClick:function(a){this._error||(a=a.currentTarget.id,this.setOperand(this.readValue()),this._doUnaryClick(a))},_doUnaryClick:function(a){try{D.checkUnaryOp(a,this.getOperand());var b=D.doUnary(a,this.getOperand(),this._value);D.checkValue(b);this.setOperand(b);
this.display(b);this._mode="CMENTERED"}catch(c){this._setError(c.message)}},toggleSignClick:function(a){this._error||this._toggleSign()},display:function(a){a=B.fixValue(a,this.DISP_PRECISION);this.operand.value=a.toString()},getOperand:function(){return this._operand},setOperand:function(a){this._operand=a},readValue:function(){return parseFloat(this.operand.value)},getDisplayStr:function(){return this.operand.value},close:function(){this._hide();this._reset();F.focus(this._referrerFocusableNode);
this.isWrapped&&l.emit(this.domNode,"calculatorenter_closed",{shoving:!1})},show:function(){this._show();A.bringToTop(this.domNode);this.operand.setAttribute("aria-label",x.calculator_input_label);this.closeButton.setAttribute("aria-label",x.close);this.enterButton.setAttribute("aria-label",x.enter);this.minusButton.setAttribute("aria-label",x.minus);this._referrerFocusableNode=F.curNode;var a=this;setTimeout(function(){F.focus(a.operand)},200)},anchorNode:function(){return this.targetWidget._editor&&
this.targetWidget.domTable?this.targetWidget._editor:this.targetWidget.domNode},_setError:function(a){this._error=!0;this.display(a);a=h(".xlCalculator .btn");n.forEach(a,function(a){"C"!=a.innerHTML&&(f.add(a,"disabled"),a.disabled=!0)})},_resetError:function(){this._error=!1;this.display(0);var a=h(".xlCalculator .btn");n.forEach(a,function(a){"C"!=a.innerHTML&&(f.remove(a,"disabled"),a.disabled=!1)})},_reset:function(){this._mode="CMOP";this._operand=this._value=0;this._lastOp="\x3d";this._resetError()},
_clear:function(){this.display(0)},_pressDigit:function(a){if("CMENTRY"!=this._mode||0==this.readValue()&&-1==this.getDisplayStr().indexOf("."))"."==a?this.display("0."):this.display(a);else{if(this.getDisplayStr().length>this.MAX_DIGITS)return;"."!=a?this.display(this.getDisplayStr()+a):-1==this.getDisplayStr().indexOf(".")&&this.display(this.readValue()+a)}"\x3d"==this._sequenceLastOp&&(this._lastOp="\x3d");this.setOperand(this.readValue());this._mode="CMENTRY"},_backspace:function(){"CMENTRY"==
this._mode&&(1<this.getDisplayStr().length?this.display(this.getDisplayStr().substring(0,this.getDisplayStr().length-1)):this.display(0));this.setOperand(this.readValue())},_memoryPlus:function(){this._memoryInUse?this._memoryValue=B.fixValue(this._memoryValue+this.readValue(),this.CALC_PRECISION):this._memorySave();this._mode="CMENTERED"},_memorySave:function(){this._memoryInUse=!0;this._memoryValue=this.readValue();this._mode="CMENTERED";c.set(this.memorystoredisplayer,"display","block")},_memoryLoad:function(){this._memoryInUse||
(this._memoryValue=0);this.display(this._memoryValue);this.setOperand(this._memoryValue);this._mode="CMENTERED"},_memoryClear:function(){this._memoryInUse=!1;c.set(this.memorystoredisplayer,"display","none")},_toggleSign:function(){"CMOP"==this._mode?(this._value=-this._value,this.display(this._value)):(this.setOperand(-this.readValue()),this.display(this.getOperand()))},_moveableMoved:function(a,b){this.set("docked",!1)},_endDrag:function(){this.constrainPosition()},_insertValue:function(){if(this.isWrapped)l.emit(this.domNode,
"calculatorenter_clicked",{result:this.getDisplayStr()});else{var a=this.getViewer().getLastFocusedInput();a||(a=this.targetWidget);this._insertValuetoInput(a,this.getDisplayStr())}},_onKeyUpEvent:function(a){var b=String.fromCharCode(a.keyCode);switch(a.keyCode){case 27:this._error?this._reset():this._clear();break;case 8:this._backspace();break;case 46:this._clear()}48<=a.keyCode&&57>=a.keyCode&&!a.shiftKey?this._pressDigit(b):96<=a.keyCode&&105>=a.keyCode?this._pressDigit(String.fromCharCode(a.keyCode-
48)):("."==b||190==a.keyCode||110==a.keyCode)&&46!=a.keyCode?this._pressDigit("."):53==a.keyCode&&a.shiftKey?this._doUnaryClick("prcntg"):106==a.keyCode||56==a.keyCode&&a.shiftKey?this._doBinaryClick("*"):(d("ie")||d("chrome")||d("trident"))&&189==a.keyCode&&!a.shiftKey?this._doBinaryClick("-"):d("mozilla")&&173==a.keyCode&&!a.shiftKey?this._doBinaryClick("-"):d("safari")&&189==a.keyCode&&!a.shiftKey?this._doBinaryClick("-"):109==a.keyCode?this._doBinaryClick("-"):(d("ie")||d("chrome")||d("trident"))&&
187==a.keyCode&&a.shiftKey?this._doBinaryClick("+"):d("mozilla")&&61==a.keyCode&&a.shiftKey?this._doBinaryClick("+"):d("safari")&&187==a.keyCode&&a.shiftKey?this._doBinaryClick("+"):107==a.keyCode?this._doBinaryClick("+"):111==a.keyCode||191==a.keyCode&&!a.shiftKey?this._doBinaryClick("/"):(d("ie")||d("chrome"))&&187==a.keyCode&&!a.shiftKey?this._doBinaryClick("\x3d"):d("mozilla")&&61==a.keyCode&&!a.shiftKey?this._doBinaryClick("\x3d"):d("trident")&&187==a.keyCode&&!a.shiftKey?this._doBinaryClick("\x3d"):
d("safari")&&(187==a.keyCode&&!a.shiftKey)&&this._doBinaryClick("\x3d")},positionPalette:function(){if(this.targetWidget&&(this.docked||!this._positioned)){this._positioned=!0;var a=this.anchorNode();if(a&&(a=m.position(a,!0),this.dockPadding&&(a.x-=this.dockPadding.left,a.y-=this.dockPadding.top,a.w+=this.dockPadding.right,a.h+=this.dockPadding.bottom),b.around(this.domNode,a,this.dockPositions,!0),this.needsCentering)){var a=this.domNode,d=this.viewportSize||e.getBox(this.ownerDocument),f=this._relativePosition,
h=f?null:m.position(a);c.set(a,{left:Math.floor(d.l+(f?f.x:(d.w-h.w)/2))+"px",top:Math.floor(d.t+(f?f.y:(d.h-h.h)/2))+"px",position:"absolute"});this.needsCentering=!1}}},_insertValuetoInput:function(a,b){a.insertEqText&&!a.readOnly?a.insertEqText(b,{clear:!0}):a._editor&&a.isEditable(a.currentCell)&&(a._editor.value=b,a.saveEditor(a.currentCell,a._editor))},setInputValue:function(a){var b=this.targetWidget;b&&this._insertValuetoInput(b,a)},_onKeyPressEvent:function(a){switch(a.keyCode){case 13:a.preventDefault(),
this._insertValue()}}})})},"xl/util/Calculator":function(){define(["./IPMath"],function(s){return{doUnary:function(q,l,h){l=parseFloat(l);h=parseFloat(h);try{switch(q){case "sqrt":return Math.sqrt(l);case "prcntg":return l/100*h;case "rcprcl":return 1/l}}catch(n){return n}},doBinary:function(q,l,h){l=parseFloat(l);h=parseFloat(h);switch(q){case "\x3d":return l;case "+":return h+l;case "-":return h-l;case "/":return h/l;case "*":return h*l}},checkBinaryOp:function(q,l){if("/"==q&&s.isZero(l))throw Error("Cannot divide by zero");
},checkValue:function(q){if(s.isInfinite(q)){if(0<=s.sign(q))throw Error("Infinity");throw Error("Negative Infinity");}},checkUnaryOp:function(q,l){switch(q){case "rcprcl":if(s.isZero(l))throw Error("Cannot divide by zero");break;case "sqrt":if(0>l)throw Error("Cannot take root of a negative");}}}})},"xl/player/forms/GradePanel":function(){define(["dojo/_base/declare","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/GradePanel.html","xl/player/forms/_GradePanelBase"],
function(s,q,l,h,n){return s("xl.player.forms.GradePanel",[n,q,l],{templateString:h,constructor:function(){this.inherited(arguments)}})})},"xl/player/forms/_GradePanelBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_WidgetBase dijit/_HasDropDown dojo/text!./templates/GradePanel.html xl/util/stringUtils xl/player/dialogs/ConfirmationDialog xl/util/localization!html5player/player xl/util/localization!html5player/popup".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.player.forms._GradePanelBase",
[h],{templateString:f,constructor:function(){this.textGrade=e.grade;this.textNeedsGrading=e["status.question_needs_grading"];this.textTotalPoints=q.replace(e["info.x_of_y"],["",this.strPts(1)]);this.textSubmitGrade=e["button.submitgrade"]},strPts:function(b){return 1==b?q.replace(e["info.pt"],[b]):q.replace(e["info.pts"],[b])},_oldGrade:null,_viewer:null,_opt:null,updateDisplay:function(b,c){this._opt=b;this._viewer=c;this.txtGrade.value=b.graded||b.hasShowWork&&0<=b.score?m.formatFloatWithDecimal(b.score?
Math.max(b.score,0):0,"-.--",null,b.useCommaDecimals):"";this._oldGrade=this.txtGrade.value;this.spanTotalPoints.innerHTML=q.replace(e["info.x_of_y"],["",this.strPts(b.points)]);this.spanNeedsGrading.innerHTML=b.graded?e["status.question_graded"]:e["status.question_needs_grading"]},txtGradeKeyUp:function(b){b.which===l.ENTER&&this.submitGradeClick()},submitGradeClick:function(){var d=this._opt,e=this.txtGrade.value;d.useCommaDecimals&&(e=e.replace(",","."));e=parseFloat(e);isNaN(e)?c.displayText(b.grade_not_valid_number,
"\x26nbsp;",[c.BUTTON.OK]):0>e?c.displayText(b.grade_greater_than_zero,"\x26nbsp;",[c.BUTTON.OK]):e>d.points?c.displayText(b.grade_greater_than_n.replace("%d",d.points),"\x26nbsp;",[c.BUTTON.OK]):(this._opt.score=e,this._viewer.doSubmitGrade({score:d.score,gradeEssayUrl:d.gradeEssayUrl}))},gradeModified:function(){return this._oldGrade!=this.txtGrade.value}})})},"xl/player/forms/EmbeddedMediaForm":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin xl/player/controls/_NeedsPlayerViewer dojo/text!./templates/EmbeddedMediaForm.html dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/topic dojo/query xl/dijit-bootstrap/Button".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){return f("xl.player.forms.EmbeddedMediaForm",[s,q,l,h],{templateString:n,baseClass:"embeddedMediaForm",contentPanelId:null,readyTimeout:null,readyCheckInterval:100,readyCheckLimit:6E4,postCreate:function(){this.inherited(arguments);m.forEach(this.mediaPreReqs.mediaList,function(a){this.title.innerText=a.title;var b=a.mediaUrl;if(b){var c=a.mediaFrameId,d=a.loadPostMessage,e=c&&d,b=this._addQueryParameter(b,"embedded");e?this._loadCustomContentPanel(c,d,b):this.frame.src=
b;this._addNewTabButton(a)}},this);(this.framePanel=this.findParentNode("framePanel",this.containerNode))&&this.framePanel.focus();k.set(this.containerNode,"padding","0 20px");this._topicListener=r.subscribe("contentPanelLayout",c.hitch(this,this.setSize))},findParentNode:function(a,b){if(!b.parentNode)return null;for(var c=b.parentNode;!e.contains(c,a);){if(!c.parentNode)return null;c=c.parentNode}return c},setSize:function(){if(this.framePanel&&this.containerNode){var a=this.getViewer().contentPanel;
if(a&&a.domNode){var a=d.getContentBox(a.domNode),b=a.w-40,c=a.h-15;k.set(this.framePanel,{width:a.w+"px",height:a.h+"px"});k.set(this.frame,{width:b+"px",height:c+"px"})}(a=d.getContentBox(this.framePanel).h-1)&&0<a&&k.set(this.containerNode,"height",a+"px")}},destroy:function(){if(this.contentPanelId){var a=this.getViewer().contentPanel;e.add(a.domNode,"hide");a.domNode=a.originalNode;e.remove(a.domNode,"hide");this.readyTimeout&&clearTimeout(this.readyTimeout)}this._topicListener&&this._topicListener.remove();
this.inherited(arguments)},_addNewTabButton:function(a){var b=this.getViewer();b&&b.controlPanel&&(a=new t({title:this._getTitle(a),onClick:this._createNewTabCallback(a),"class":"btnNewTab"}),b.controlPanel.addButtonToControlPanel(a,"Right","first"))},_addQueryParameter:function(a,b){var c=a.includes("?")?"\x26":"?";return a+c+"mediaOpenMode\x3d"+b},_createNewTabCallback:function(a){var b=this._addQueryParameter(a.mediaUrl,"full");return function(){this.frame.fullViewPostMessage?this._postIFrameMessage(this.frame.fullViewPostMessage):
window.open(b)}.bind(this)},_getTitle:function(a){a=!a.contentType||"other"==a.contentType.toLowerCase()?"media":a.contentType.toLowerCase();return c.replace("Open this {0} in a new tab",[a])},_loadCustomContentPanel:function(a,b,c){var d=this.getViewer().contentPanel;this.contentPanelId="mediaFrameContentPanel_"+a;d.iFrameNodes||(d.iFrameNodes=[]);d.iFrameNodes[this.contentPanelId]?this._loadExistingContentPanel(d,b):this._loadNewContentPanel(d,c)},_loadExistingContentPanel:function(b,c){e.add(b.domNode,
"hide");b.originalNode=b.domNode;b.domNode=b.iFrameNodes[this.contentPanelId];e.remove(b.domNode,"hide");this.frame=a("iframe",b.domNode)[0];this.containerNode=this.frame.parentNode;this._postIFrameMessage(c)},_loadNewContentPanel:function(c,d){c.originalNode=c.domNode;c.domNode=c.iFrameNodes[this.contentPanelId]=dojo.clone(c.originalNode);c.domNode.id=this.contentPanelId;this.frame=a("iframe",c.domNode)[0];this.containerNode=this.frame.parentNode;e.add(c.originalNode,"hide");b.place(c.domNode,c.originalNode,
"after");this.frame.src=d;window.addEventListener("message",function(a){a.data&&("PPLUS_LAUNCH_SUCCEEDED"==a.data.type&&this.frame.contentWindow==a.source)&&(this.frame.dataset.ready=!0,this.frame.fullViewPostMessage=a.data.fullViewPostMessage)}.bind({frame:this.frame}))},_postIFrameMessage:function(a,b){b||(b=0);this.frame.dataset.ready||b>this.readyCheckLimit?(this.frame.contentWindow.postMessage(a,"*"),clearTimeout(this.readyTimeout)):this.readyTimeout=setTimeout(function(){this._postIFrameMessage(a,
b+this.readyCheckInterval)}.bind(this),this.readyCheckInterval)}})})},"xl/grammarapply/GrammarApply":function(){define("dojo/_base/declare dijit/registry dojo/_base/lang dijit/_WidgetBase dijit/_Container dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom dojo/_base/Deferred dijit/place dojo/touch dojo/has dojo/dom-style dojo/_base/fx dojo/fx dojo/fx/easing xl/player/controls/_NeedsPlayerViewer xl/player/controls/_InputObject dojo/query xl/player/dialogs/GrammarApplyInsReplDelDialog dojo/string dojo/dnd/Target dojo/topic xl/grammarapply/ViewportConstrainedManager ./GrammarApplyDndAvatar".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J){return s("xl.grammarapply.GrammarApply",[h,n,z,B],{baseClass:"grammarapply",incorrectTemplateString:"\x3cspan class\x3d'incorrectBubble'\x3e\x3cspan class\x3d'incorrectIcon'\x3e\x3c/span\x3e\x3cspan class\x3d'incorrectText'\x3eINCORRECT\x3c/span\x3e\x3c/span\x3e",incorrectNode:null,correctTemplateString:"\x3cspan class\x3d'correctBubble'\x3e\x3cspan class\x3d'correctIcon'\x3e\x3c/span\x3e\x3cspan class\x3d'correctText'\x3eCORRECT\x3c/span\x3e\x3c/span\x3e",
correctNode:null,replCorrectTemplateString:"\x3cspan class\x3d'ird-answer'\x3e${answer}\x3c/span\x3e",insDragCorrectTemplateString:"\x3cspan style\x3d'position:relative;'\x3e\x3cspan class\x3d'${markerClass}'\x3e\x3c/span\x3e\x3c/span\x3e",insTemplateString:"\x3cspan style\x3d'position:relative;'\x3e\x3cspan class\x3d'${markerClassText}'\x3e${text}\x3c/span\x3e\x3cspan class\x3d'${markerClass}'\x3e\x3c/span\x3e\x3c/span\x3e",confirmTemplateString:"\x3cspan class\x3d'ga_confirmselection hidden'\x3e\x3cspan class\x3d'yes'\x3e\x3c/span\x3e\x3cspan class\x3d'no'\x3e\x3c/span\x3e",
mode:"",hintIsActive:!1,controlPanel:null,infoPanel:null,_insrepldelDialog:null,lineInstructions:null,csfsSource:null,isDndActive:!1,_confirmSelectionNode:null,_confirmDeferred:null,printing:!1,_nodes:null,summaryData:null,isQuestionScored:!1,_dropTopic:null,_startTopic:null,_cancelTopic:null,_overTopic:null,constructor:function(a){this.controlPanel=q.byId(a.controlPanelId);this.controlPanel.grammarApply=this;this.infoPanel=q.byId(a.infoPanelId);this.infoPanel.grammarApply=this;a.data&&(this.data=
a.data);this._nodes=[]},postCreate:function(){f(this.domNode,"mouseover",l.hitch(this,this.mouseEntered));f(this.domNode,"mouseout",l.hitch(this,this.mouseLeaving));f(this.domNode,r.press,l.hitch(this,this.mouseClick));f(window,"resize",l.hitch(this,this._windowResized));this._insrepldelDialog=new A({ga:this});this._dropTopic=C.subscribe("/dnd/drop",l.hitch(this,this.dndDrop));this._startTopic=C.subscribe("/dnd/start",l.hitch(this,this.dndStart));this._cancelTopic=C.subscribe("/dnd/cancel",l.hitch(this,
this.dndCancel));this._overTopic=C.subscribe("/dnd/source/over",l.hitch(this,this.dndOver));E.manager().makeAvatar=this.makeAvatar;"csfs"==this.type?this.controlPanel.showCsfsPanel():"ins"==this.type&&this.controlPanel.showInsPanel();this._confirmSelectionNode=c.toDom(this.confirmTemplateString);f(this._confirmSelectionNode.children[0],"click",l.hitch(this,this.confirmYesClicked));f(this._confirmSelectionNode.children[1],"click",l.hitch(this,this.confirmNoClicked));f(document.body,"click",l.hitch(this,
this.documentClicked));this.data&&this.initializeData(this.data)},destroy:function(a){this.inherited(arguments);this._dropTopic.remove();this._startTopic.remove();this._cancelTopic.remove();this._overTopic.remove();c.destroy(this._confirmSelectionNode);this._confirmSelectionNode=null;console.log("grammar apply is destroying")},_windowResized:function(a){for(a=0;a<this._nodes.length;a++)this.checkAndMoveAnswerBounds(a)},documentClicked:function(a){a=q.getEnclosingWidget(a.target);if(this._confirmSelectionNode&&
(!a||"xl.grammarapply.GrammarApply"!=a.declaredClass)&&(!a||!m.contains(a.domNode.parentNode,"contentPanel")&&("ins"!=this.type||"csfs"!=this.type)))m.add(this._confirmSelectionNode,"hidden"),delete this._confirmDeferred},cancelConfirm:function(a){m.add(this._confirmSelectionNode,"hidden")},confirmYesClicked:function(a){m.add(this._confirmSelectionNode,"hidden");this._confirmDeferred.resolve();delete this._confirmDeferred},confirmNoClicked:function(a){delete this._confirmDeferred;m.add(this._confirmSelectionNode,
"hidden")},makeAvatar:function(){return new J(this)},dndStart:function(){this.isDndActive=!0},dndCancel:function(){this.isDndActive=!1},dndOver:function(b){a("touch")&&(b&&(b.isDragging&&m.contains(b.node,"q"))&&("csfs"==this.type?m.add(b.node,"active"):"ins"==this.type&&m.add(b.node.parentNode,"active")),b||this.clearHighlights())},confirmSelection:function(a){this._confirmDeferred=new d;if(m.contains(a,"cs"))this._confirmDeferred.resolve();else{this._confirmSelectionNode||(this._confirmSelectionNode=
c.toDom(this.confirmTemplateString));m.remove(this._confirmSelectionNode,"hidden");k.around(this._confirmSelectionNode,a,["above"],!0);a=e.getMarginBox(a);var b=e.getMarginBox(this._confirmSelectionNode),f=D.elasticOut;u.animateProperty({node:this._confirmSelectionNode,properties:{top:{start:parseInt(b.t)-a.h,end:parseInt(b.t),unit:"px"}},easing:f,duration:2E3}).play();return this._confirmDeferred}},idreplCorrectAnswer:function(a){for(var d,f=0;f<a.ids.length;f++)d=b.byId(a.ids[f]),m.remove(d),m.add(d,
"ird-strikeout"),a.overrideColor&&t.set(d,{color:a.overrideColor}),m.add(d.parentNode,"answered");d=b.byId(a.ids[0]);var f=x.substitute(this.replCorrectTemplateString,{answer:a.answer}),f=c.toDom(f),h=e.getContentBox(d);t.set(f,{top:"-"+h.h+"px",opacity:"1"});c.place(f,d,"first");a=a.ids[0].split(".");a=parseInt(a[1]);this._nodes[a]=f;this.checkAndMoveAnswerBounds(a)},checkAndMoveAnswerBounds:function(a){if(a&&!(0>a)){var b=this._nodes[a];if(b){var c=e.position(b);c.r=c.x+c.w;if(0<a){var d=this._nodes[a-
1];if(d){var f=e.position(d);f.r=f.x+f.w;f.r>c.x&&f.y===c.y&&t.set(d,"left",-(f.r-c.x)-5+"px")}}if(this._nodes.length>a&&(a=this._nodes[a+1]))if(d=e.position(a),d.r=d.x+d.w,c.r>d.l){f=e.position(this.getViewer().domNode);f.r=f.x+f.w;var h=d.r-c.r;d.y===c.y&&(d.r+h>f.r?t.set(b,"left",-h-5+"px"):t.set(a,"left",h+5+"px"))}}}},markDelNode:function(a){this.idreplCorrectAnswer(a);if(a.correct){a=b.byId(a.ids[0]);this.correctNode||(this.correctNode=c.toDom(this.correctTemplateString));var d=e.getContentBox(a);
t.set(this.correctNode,{top:"-"+(d.h+10)+"px",opacity:"1"});c.place(this.correctNode,a,"first");v.combine([u.fadeIn({node:this.correctNode,duration:3E3}),u.fadeOut({node:this.correctNode,duration:3E3})]).play(0,!0);m.add(a,"answered")}},markInsDragCorrect:function(a,d){var e=b.byId(a),e=2==a.split(".").length?e:e.parentNode;d=d.toLowerCase();var f;switch(d){case "s":f=x.substitute(this.insDragCorrectTemplateString,{markerClass:"simple-marker"});break;case "c":f=x.substitute(this.insDragCorrectTemplateString,
{markerClass:"complex-marker"});break;case "cx":f=x.substitute(this.insDragCorrectTemplateString,{markerClass:"compoundcomplex-marker"});break;case "cd":f=x.substitute(this.insDragCorrectTemplateString,{markerClass:"compound-marker"})}f=c.toDom(f);c.place(f,e,"before");m.add(e,"answered")},markInsNode:function(a){var d=b.byId(a.id);d&&m.remove(d);var e=a.answer,e=a.correct?x.substitute(this.insTemplateString,{markerClass:"insert-marker-correct",markerClassText:"insert-marker-correct-text",text:e}):
x.substitute(this.insTemplateString,{markerClass:"insert-marker-incorrect",markerClassText:"insert-marker-incorrect-text",text:e}),e=c.toDom(e);a.overrideColor&&t.set(d,{color:a.overrideColor});c.place(e,d,"before");m.add(d,"answered");a=a.id.split(".");a=parseInt(a[1]);this._nodes[a]=e.children[0];this.checkAndMoveAnswerBounds(a)},dndDrop:function(a,b,c,d){d.disallowInsertNodes=!0;var e=this;e.isDndActive=!1;this._confirmDeferred||(this.confirmSelection(d.node),this._confirmDeferred.then(l.hitch(this,
function(){d&&e.getViewer().postCommand("grammarapplycheckanswer",{itemClickedID:d.id,clientID:e.id,mode:e.mode,dragType:b[0].id});delete this._confirmDeferred})))},mouseClick:function(a){if(!this.isQuestionScored&&2!=a.button&&!(("csfs"==this.type||"ins"==this.type)&&"HINT"!=this.mode)){var b=this;switch(this.mode){case "INSTRUCTIONS":case "":m.contains(a.target,"q")&&(this.confirmSelection(a.target),this._confirmDeferred.then(l.hitch(this,function(){b.getViewer().postCommand("grammarapplycheckanswer",
{itemClickedID:a.target.attributes.id.value,clientID:this.id,mode:b.mode});delete this._confirmDeferred})));break;case "HINT":a.target&&(a.target.parentNode&&a.target.parentNode.attributes.id&&!m.contains(a.target.parentNode,"answered")&&!m.contains(a.target,"blockquote"))&&this.getViewer().postCommand("grammarapplyhint",{itemClicked:a.target.parentNode.attributes.id.value,clientId:this.domNode.attributes.id.value})}}},mouseEntered:function(a){if(!this.isQuestionScored)if("ins"==this.type)switch(this.mode){case "INSTRUCTIONS":case "":!m.contains(a.target.parentNode,
"answered")&&this.isDndActive&&m.add(a.target.parentNode,"active");break;case "HINT":!m.contains(a.target.parentNode,"answered")&&!m.contains(a.target.parentNode,"blockquote")&&m.add(a.target.parentNode,"active")}else if("csfs"==this.type)switch(this.mode){case "INSTRUCTIONS":case "":m.contains(a.target,"q")&&(!m.contains(a.target,"answered")&&this.isDndActive)&&m.add(a.target,"active");break;case "HINT":m.contains(a.target,"q")&&(!m.contains(a.target.parentNode,"answered")&&!m.contains(a.target.parentNode,
"blockquote"))&&m.add(a.target.parentNode,"active")}else switch(this.mode){case "INSTRUCTIONS":case "":m.contains(a.target,"q")&&!m.contains(a.target,"answered")&&m.add(a.target,"active");break;case "HINT":!m.contains(a.target.parentNode,"answered")&&(!m.contains(a.target.parentNode,"blockquote")&&!this.hintIsActive)&&m.add(a.target.parentNode,"active")}},mouseLeaving:function(a){switch(this.mode){case "INSTRUCTIONS":case "":"ins"==this.type?m.remove(a.target.parentNode,"active"):m.remove(a.target,
"active");break;case "HINT":this.hintIsActive||m.remove(a.target.parentNode,"active")}},showDialog:function(a){this._insrepldelDialog.itemClickedID=a.itemClickedID;this._insrepldelDialog.message.innerHTML=a.instructions;this._insrepldelDialog.show()},hideDialog:function(){this._insrepldelDialog&&this._insrepldelDialog.hide()},getInputData:function(){return{id:this.lastClickedId}},markClickedNode:function(a,d,f){if(d)for(f=0;f<a.length;f++){if(d=b.byId(a[f]),m.remove(d),m.add(d,"correct"),m.add(d.parentNode,
"answered"),0<f&&(d=b.byId(a[f]+"."+f)))m.remove(d),m.add(d,"correct"),m.add(d.parentNode,"answered")}else if(0<a.length)if(d=b.byId(a[0]),m.remove(d),"showsummary"==this.mode)for(f=0;f<a.length;f++)d=b.byId(a[f]),m.add(d,"permanentIncorrect");else this.incorrectNode||(this.incorrectNode=c.toDom(this.incorrectTemplateString)),a=e.getContentBox(d),t.set(this.incorrectNode,{top:"-"+(a.h+10)+"px",opacity:"1"}),f&&t.set(this.incorrectNode,{color:f}),c.place(this.incorrectNode,d,"first"),v.combine([u.fadeIn({node:this.incorrectNode,
duration:3E3}),u.fadeOut({node:this.incorrectNode,duration:3E3})]).play(0,!0),m.add(d,"ic")},markCsfsNode:function(a){this.idreplCorrectAnswer(a)},processCommand:function(a,b){switch(a){case "initializeData":this.initializeData(b)}},disableDragIcons:function(){this.controlPanel.hideDragPanels()},getDialog:function(){return this._insrepldelDialog},initializeData:function(a){this.mode=a.mode;this.type=a.type;for(var b=0;b<a.lines.length;b++){var c=a.lines[b];if(c.answered)for(var d=0;d<c.parts.length;d++){var e=
c.parts[d],f=[this.id,b,d];switch(e.type){case "GrammarApplyIdTool":this.loadIdData(e,f);break;case "GrammarApplyIdReplTool":this.loadIdReplData(e,f);break;case "GrammarApplyReplTool":this.loadReplData(e,f);break;case "GrammarApplyInsTool":this.loadInsData(e,f);break;case "GrammarApplyDelTool":this.loadDelData(e,f);break;case "GrammarApplyCsfsTool":this.loadCsfsData(e,f);break;case "GrammarApplyInsDragTool":this.loadInsDragData(e,f)}}}},loadIdReplData:function(a,b){if(a.answered){for(var c=[],d=0;d<
a.wordsClicked.length;d++){var e=b.join(".")+"."+d;c.push(e)}this.idreplCorrectAnswer({ids:c,answer:a.userAnswer})}},loadInsData:function(a,b){if(a.answered){var c=b.join(".")+".0";this.markInsNode({id:c,answer:a.userAnswer,correct:a.correct})}},loadDelData:function(a,b){if(a.answered){for(var c=[],d=0;d<a.wordsClicked.length;d++){var e=b.join(".")+"."+d;c.push(e)}this.markDelNode({ids:c,correct:a.correct,answer:a.userAnswer?a.userAnswer:""})}},loadInsDragData:function(a,b){a.answered&&this.markInsDragCorrect(b[0]+
"."+b[1],a.dragType)},loadCsfsData:function(a,b){if(a.answered){for(var c=[],d=0;d<a.words.length;d++){var e=b.join(".")+"."+d;c.push(e)}this.markCsfsNode({ids:c,answer:a.replacementText?a.replacementText:""})}},loadReplData:function(a,b){this.loadIdReplData(a,b)},loadIdData:function(a,b){if(a.answered)for(var c=0;c<a.wordsClicked.length;c++){var d=b.join(".")+"."+c;a.correct?m.add(d,"correct"):a.wordsClicked[c]&&m.add(d,"ic")}},clearHighlights:function(){F(".active",this.domNode).forEach(function(a){m.remove(a,
"active")})}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(s){var q={linear:function(l){return l},quadIn:function(l){return Math.pow(l,2)},quadOut:function(l){return-1*l*(l-2)},quadInOut:function(l){l*=2;return 1>l?Math.pow(l,2)/2:-1*(--l*(l-2)-1)/2},cubicIn:function(l){return Math.pow(l,3)},cubicOut:function(l){return Math.pow(l-1,3)+1},cubicInOut:function(l){l*=2;return 1>l?Math.pow(l,3)/2:(Math.pow(l-2,3)+2)/2},quartIn:function(l){return Math.pow(l,4)},quartOut:function(l){return-1*
(Math.pow(l-1,4)-1)},quartInOut:function(l){l*=2;return 1>l?Math.pow(l,4)/2:-0.5*(Math.pow(l-2,4)-2)},quintIn:function(l){return Math.pow(l,5)},quintOut:function(l){return Math.pow(l-1,5)+1},quintInOut:function(l){l*=2;return 1>l?Math.pow(l,5)/2:(Math.pow(l-2,5)+2)/2},sineIn:function(l){return-1*Math.cos(l*(Math.PI/2))+1},sineOut:function(l){return Math.sin(l*(Math.PI/2))},sineInOut:function(l){return-1*(Math.cos(Math.PI*l)-1)/2},expoIn:function(l){return 0==l?0:Math.pow(2,10*(l-1))},expoOut:function(l){return 1==
l?1:-1*Math.pow(2,-10*l)+1},expoInOut:function(l){if(0==l)return 0;if(1==l)return 1;l*=2;if(1>l)return Math.pow(2,10*(l-1))/2;--l;return(-1*Math.pow(2,-10*l)+2)/2},circIn:function(l){return-1*(Math.sqrt(1-Math.pow(l,2))-1)},circOut:function(l){return Math.sqrt(1-Math.pow(l-1,2))},circInOut:function(l){l*=2;return 1>l?-0.5*(Math.sqrt(1-Math.pow(l,2))-1):0.5*(Math.sqrt(1-Math.pow(l-2,2))+1)},backIn:function(l){return Math.pow(l,2)*(2.70158*l-1.70158)},backOut:function(l){l-=1;return Math.pow(l,2)*(2.70158*
l+1.70158)+1},backInOut:function(l){l*=2;if(1>l)return Math.pow(l,2)*(3.5949095*l-2.5949095)/2;l-=2;return(Math.pow(l,2)*(3.5949095*l+2.5949095)+2)/2},elasticIn:function(l){if(0==l||1==l)return l;l-=1;return-1*Math.pow(2,10*l)*Math.sin((l-0.075)*2*Math.PI/0.3)},elasticOut:function(l){return 0==l||1==l?l:Math.pow(2,-10*l)*Math.sin((l-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(l){if(0==l)return 0;l*=2;if(2==l)return 1;var h=0.3*1.5,n=h/4;if(1>l)return l-=1,-0.5*Math.pow(2,10*l)*Math.sin((l-n)*2*
Math.PI/h);l-=1;return 0.5*Math.pow(2,-10*l)*Math.sin((l-n)*2*Math.PI/h)+1},bounceIn:function(l){return 1-q.bounceOut(1-l)},bounceOut:function(l){l<1/2.75?l=7.5625*Math.pow(l,2):l<2/2.75?l=7.5625*Math.pow(l-1.5/2.75,2)+0.75:l<2.5/2.75?(l-=2.25/2.75,l=7.5625*Math.pow(l,2)+0.9375):(l-=2.625/2.75,l=7.5625*Math.pow(l,2)+0.984375);return l},bounceInOut:function(l){return 0.5>l?q.bounceIn(2*l)/2:q.bounceOut(2*l-1)/2+0.5}};s.setObject("dojo.fx.easing",q);return q})},"xl/player/dialogs/GrammarApplyInsReplDelDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/_base/array dojo/text!./templates/GrammarApplyInsReplDelDialog.html dojo/dom-style dojo/dom-geometry dijit/registry dojo/Evented dijit/focus dojo/dom xl/player/dialogs/ModalBaseDialog dojox/xml/parser dojo/query xl/grapher/enums xl/util/stringUtils xl/util/IPMath dojo/dom-class dojo/on dojo/_base/fx dijit/form/TextBox xl/util/localization!html5player/popup".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A){return s("xl.player.dialogs.GrammarApplyInsReplDelDialog",[k],{baseClass:"ga_insrepldelDialog",contentString:n,isModal:!0,ga:null,itemClickedID:null,constructor:function(a){this.ga=a.ga;this.autofocus=!1},postCreate:function(){this.inherited(arguments);z(this.btnSubmit,"click",q.hitch(this,this.submitClicked));z(this.btnCancel,"click",q.hitch(this,this.cancelClicked));z(this.answerTextBox.focusNode,"keydown",q.hitch(this,this.answerKeyDown));this.btnSubmit.domNode.innerHTML=
A.submit;this.btnCancel.domNode.innerHTML=A.cancel;this.titleBar.style.height="24px"},show:function(){this.inherited(arguments);this.setFocusable();b.focus(d.byId(this.answerTextBox.id))},answerKeyDown:function(a){13==a.keyCode&&this.submitClicked(a)},submitClicked:function(a){this.ga.getViewer().postCommand("grammarapplycheckanswer",{userGuess:this.answerTextBox.textbox.value,itemClickedID:this.itemClickedID,clientID:this.ga.id,dialogID:this.id,mode:this.ga.mode});this.reset()},cancelClicked:function(a){this.hide();
this.reset()},reset:function(){this.answerTextBox.textbox.value="";D.add(this.incorrectNode,"hidden")},displayIncorrect:function(){D.remove(this.incorrectNode,"hidden");B.fadeIn({node:this.incorrectNode,duration:3E3}).play(0,!0)}})})},"dojo/dnd/Target":function(){define(["../_base/declare","../dom-class","./Source"],function(s,q,l){return s("dojo.dnd.Target",l,{constructor:function(){this.isSource=!1;q.remove(this.node,"dojoDndSource")}})})},"xl/grammarapply/ViewportConstrainedManager":function(){define("dojo/_base/declare dojo/dnd/Manager dojo/dnd/common dojo/dnd/autoscroll dojo/has dojo/dom-geometry".split(" "),
function(s,q,l,h,n,f){var m=s("xl.GrammarApply.ViewportConstrainedManager",[q],{onMouseMove:function(c){var e=this.avatar;if(e){h.autoScrollNodes(c);var b=f.getMarginBox(e.node),d=document.documentElement.clientWidth,e=e.node.style,k=c.pageX+this.OFFSET_X,m=c.pageY+this.OFFSET_Y;k+b.w>d&&(k-=k+b.w-d);e.left=k+"px";e.top=m+"px";b=Boolean(this.source.copyState(l.getCopyKeyState(c)));this.copy!=b&&this._setCopyStatus(b)}n("touch")&&c.preventDefault()}});l._manager=null;m.manager=l.manager=function(){l._manager||
(l._manager=new m);return l._manager};return m})},"xl/grammarapply/GrammarApplyDndAvatar":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/dnd/Avatar","dojo/dom-attr"],function(s,q,l,h,n){return s("xl.grammarapply.GrammarApplyDndAvatar",[h],{_generateText:function(){return""}})})},"xl/grammarapply/GrammarApplyInfoPanel":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/text!./templates/GrammarApplyInfoPanel.html".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k){return s("xl.grammarapply.GrammarApplyInfoPanel",[h,n,f],{baseClass:"ga_infopanel",templateString:k,controlPanelId:"",itemClickedId:null,grammarApply:null,constructor:function(){},postCreate:function(){var b=l.byId(this.controlPanelId);b.on("updateInfoPanel",q.hitch(this,this.updateContents));this.getAnswerBtn.on("click",q.hitch(this,this.getAnswer));this.tryAgainBtn.on("click",q.hitch(this,this.tryAgain));b.requestInitialMessage();this.own(m(this.titleClose,"click",
q.hitch(this,this.hideInfoPanel)))},hideInfoPanel:function(){d.set(this.domNode,"display","none");var b=this.grammarApply.getViewer();b&&b.contentPanel.layout()},updateContents:function(b){this.titleText.innerHTML=b.title&&void 0!=b.title?b.title:"";this.contentText.innerHTML=b.content;this.subtitleText.innerHTML=b.subtitleText?b.subtitleText:"";b.isHint?c.remove(this.hintButtonPanel,"hidden"):c.add(this.hintButtonPanel,"hidden");this.openPanel();this.grammarApply&&this.grammarApply.getViewer().resize()},
displayHintButtons:function(b,a,e,f,h){c.remove(this.hintButtonPanel,"hidden");this.contentText.innerHTML=b;this.subtitleText.innerHTML=a;this.titleText.innerHTML="HINT";this.itemClickedId=e;d.set(this.getAnswerBtn.domNode,"display",f?"initial":"none");d.set(this.tryAgainBtn.domNode,"display",h?"initial":"none")},hideHintButtons:function(){c.add(this.hintButtonPanel,"hidden")},closePanel:function(){"none"!=this.domNode.style.display&&(d.set(this.domNode,"display","none"),this.grammarApply.getViewer().resize())},
openPanel:function(){"none"==this.domNode.style.display&&(d.set(this.domNode,"display","block"),this.grammarApply.getViewer().resize())},getAnswer:function(b){this.grammarApply.hintIsActive=!1;this.closePanel();this.grammarApply.mode="";this.grammarApply.getViewer().postCommand("grammarapplygetanswer",{clientID:this.grammarApply.id,lineID:this.itemClickedId});this.grammarApply.clearHighlights();c.add(this.hintButtonPanel,"hidden")},tryAgain:function(b){this.grammarApply.hintIsActive=!1;this.closePanel();
this.grammarApply.mode="";this.grammarApply.clearHighlights();c.add(this.hintButtonPanel,"hidden")}})})},"xl/grammarapply/GrammarApplyControlPanel":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/text!./templates/GrammarApplyControlPanel.html dijit/form/Button dojo/dnd/Mover dojo/dnd/Source dojo/topic xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u){return s("xl.grammarapply.GrammarApplyControlPanel",[l,h,n],{baseClass:"ga_controlpanel",templateString:d,instructions:"",hintPrompt:"Mouse over the line for which you want to see a hint, then click on it.",grammarApply:null,csNode:null,fsNode:null,constructor:function(){},postCreate:function(){this.instructionsBtn.on("click",q.hitch(this,this.instructionsClicked));this.hintBtn.on("click",q.hitch(this,this.hintClicked));this.instructionsBtn.domNode.innerHTML=
u["ga.button.instructions"];this.hintBtn.domNode.innerHTML=u["ga.button.hint"]},requestInitialMessage:function(){this.updateInfoPanel({title:u["ga.instructions_title"],content:this.instructions,subtitleText:""})},instructionsClicked:function(a){this.grammarApply.mode="INSTRUCTIONS";this.updateInfoPanel({title:u["ga.instructions_title"],content:this.instructions,subtitleText:""})},hintClicked:function(a){this.grammarApply.summaryData?this.updateInfoPanel(this.grammarApply.summaryData):(this.grammarApply.mode=
"HINT",this.updateInfoPanel({title:u["ga.hint_title"],content:this.hintPrompt,subtitle:""}))},updateInfoPanel:function(a){this.emit("updateInfoPanel",{title:a.title,content:a.content,subtitleText:a.subtitleText})},showCsfsPanel:function(){m.remove(this.csfsNode.node,"hidden")},showInsPanel:function(){m.remove(this.insNode.node,"hidden")},hideDragPanels:function(){m.add(this.csfsNode.node,"hidden");m.add(this.insNode.node,"hidden")},onupdateInfoPanel:function(){}})})},"xl/draganddrop/DropTargetContainer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/registry xl/draganddrop/DropTarget dojo/_base/lang dojo/topic dojo/dom-construct dijit/_Container dojo/dom-class dojo/dom-attr xl/player/dialogs/InputFeedbackDialog dojo/mouse dojo/touch dojo/has dojo/dom dojo/on dijit/popup dojo/parser dojo/_base/array dojo/dom-style dojo/dom-geometry xl/player/controls/_InputFeedbackObject xl/util/DijitLoadMonitor xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w){return s("xl.draganddrop.DropTargetContainer",[q,c,A,w],{constructor:function(b){this._params=n.mixin({},b);this._params._skipStartup=!0;this.isTouch=a("touch")},_params:null,_target:null,toolTipContent:null,_correctAnswerNodes:null,baseClass:"droptargetContainer",processCommand:function(a,b){switch(a){case "correct":this.isAnswered=this._target.isAnswered=b.isAnswered;this._target.isCorrect=b.isCorrect;this._correctAnswerNodes=b.correctAnswerNodes;
this.parentClientId=b.parentClientId;this.updateControlState();break;case "incorrect":this.toolTipContent=b.tooltip;this.isAnswered=this._target.isAnswered=b.isAnswered;this._target.isCorrect=b.isCorrect;this._correctAnswerNodes=b.correctAnswerNodes;this.showFeedbackLink=b.showFeedbackLink;this.parentClientId=b.parentClientId;this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){z.forEach(l.findWidgets(this._target.node),function(a){a.destroyRecursive?
a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});m.empty(this._target.node);a=m.toDom(a.correctAnswerNodes);""!==a.innerHTML&&m.place(a.innerHTML,this._target.node,"only");D.parse(this._target.node);this._target.startup()},destroy:function(a){this.inherited(arguments);this._target&&(this._target.destroy(),delete this._target)},postCreate:function(){this.inherited(arguments);if(0<this.leftLabel.length||0<this.rightLabel.length||0<this.centerLabel.length){var b=m.create("div",{"class":"droptarget-label"},
this.domNode);0<this.leftLabel.length&&m.create("div",{innerHTML:this.leftLabel,"class":"droptarget-left-label"},b);0<this.centerLabel.length&&m.create("div",{innerHTML:this.centerLabel,"class":"droptarget-center-label"},b);0<this.rightLabel.length&&m.create("div",{innerHTML:this.rightLabel,"class":"droptarget-right-label"},b);D.parse(b)}a("touch")&&(a("ie")||a("trident")||a("edge"))&&B.set(this.domNode,"touch-action","none");x.staticFunctions.loadingStarted(this)},startup:function(){B.set(this.domNode.parentNode,
"white-space","normal");this.borderColor&&B.set(this.domNode,"borderColor",this.borderColor);this.borderWidth&&B.set(this.domNode,"borderWidth",this.borderWidth+"px");this.backgroundColor&&B.set(this.domNode,"backgroundColor",this.backgroundColor);this.borderWidth&&B.set(this.domNode,"borderStyle","solid");B.set(this.domNode,"display","inline-block");if(0<this.domNode.length){var a=F.getContentBox(this.domNode.children[0]);this._params.height=parseInt(this.height)-parseInt(a.h)+"px"}var a=m.create("div",
{},this.domNode,"parent"),b=n.mixin({},this._params);this._target=new h(a,b);this.inherited(arguments);for(a=0;a<this.domNode.childNodes.length;a++)b=l.byId(this.domNode.childNodes[a].id),null!=b&&b.isInstanceOf(xl.draganddrop.DragItem)&&(m.create(b.domNode,{},this._target.node),a--);this._target.startup();x.staticFunctions.loadingCompleted(this)},markCorrect:function(){e.add(this.domNode,"droptarget-correct")},updateControlState:function(){this.updateToolTipDijit();z.forEach(l.findWidgets(this._target.node),
function(a){a.destroyRecursive?a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});m.empty(this._target.node);var a=m.toDom(this._correctAnswerNodes),b=F.position(this._target.node,!0);if(""!==a.innerHTML&&(m.place(a.innerHTML,this._target.node,"only"),this.parentClientId&&(a=l.byId(this.parentClientId))))a.inputFilled=!0,a.isAnswered=this.isAnswered;D.parse(this._target.node);this._target.startup();this._target.getAllNodes().forEach(n.hitch(this,function(a){e.replace(a,"dragitem-inert","dragitem")}));
e.add(this.domNode,this._target.isCorrect?"droptarget-correct":"droptarget-incorrect");a=F.position(this._target.node,!0);this._target.offsetTargetContainer(b,a,B)},getAllNodes:function(){return this._target.getAllNodes()}})})},"xl/draganddrop/DragItem":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class xl/player/controls/_AltTextToolTip dojo/dom-construct dojo/dom-attr".split(" "),function(s,q,l,h,n,f,m,c,e,b){return s("xl.draganddrop.DragItem",
[q,c],{baseClass:"dragitem",name:null,minWidth:null,maxWidth:null,minHeight:null,altText:null,clones:null,verticalAlignment:null,horizontalAlignment:null,_cloneCount:1,constructor:function(b){},destroy:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);m.add(this.domNode,this.baseClass);null!=this.minWidth&&"0px"!=this.minWidth&&f.set(this.domNode,"minWidth",this.minWidth);null!=this.maxWidth&&"0px"!=this.maxWidth&&
f.set(this.domNode,"maxWidth",this.maxWidth);null!=this.minHeight&&"0px"!=this.minHeight&&f.set(this.domNode,"minHeight",this.minHeight);null!=this.width&&f.set(this.domNode,"width",this.width);null!=this.height&&f.set(this.domNode,"height",this.height);null!=this.backgroundColor&&"none"!=this.backgroundColor&&f.set(this.domNode,"backgroundColor",this.backgroundColor);null!=this.borderWidth&&"0px"!=this.borderWidth&&f.set(this.domNode,"borderWidth",this.borderWidth);this.borderColor&&null!=this.borderColor&&
"none"!=this.borderColor&&f.set(this.domNode,"borderColor",this.borderColor);switch(this.verticalAlignment){case "top":b.set(this.domNode,"vtop","");break;case "middle":b.set(this.domNode,"vmiddle","");break;case "bottom":b.set(this.domNode,"vbottom","");break;default:b.set(this.domNode,"vtop","")}if(null!=this.horizontalAlignment)switch(this.horizontalAlignment){case "left":b.set(this.domNode,"hleft","");break;case "center":b.set(this.domNode,"hcenter","");break;case "right":b.set(this.domNode,"hright",
"");break;default:b.set(this.domNode,"hleft","")}},startup:function(){this.inherited(arguments)},getCloneCount:function(){return this._cloneCount},incrementCloneCount:function(){this._cloneCount++},decrementCloneCount:function(){1<this._cloneCount&&this._cloneCount--},resetCloneCount:function(){this._cloneCount=1}})})},"xl/draganddrop/DnDLabeling":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget ./DragSourceContainer dojo/_base/array dojo/dom-class dojo/dom-style".split(" "),
function(s,q,l,h,n,f,m){return s("xl.draganddrop.DnDLabeling",[q,l],{dragSourceContainer:null,width:null,height:null,orientation:"vertical",DEFAULT_LABEL_PADDING:12,CONTAINER_TOP_BOTTOM_MARGIN_IN_PIXELS:26,postCreate:function(){this.inherited(arguments);f.add(this.domNode,"DnDLabeling");f.add(this.domNode,this.orientation);m.set(this.domNode,{width:this.width,height:parseInt(this.height)+this.CONTAINER_TOP_BOTTOM_MARGIN_IN_PIXELS+"px"})},startup:function(){this.inherited(arguments);n.forEach(this.getChildren(),
function(c){c.isInstanceOf(h)&&(this.dragSourceContainer=c,this.dragSourceContainer.setAvatarClass("DnDLabeling"))},this);this.reSizeDragSource(this.dragSourceContainer.getChildren())},reSizeDragSource:function(c){this.itemList=c;var e=c=this.DEFAULT_LABEL_PADDING,b=this.getDragItemRowsAnalysis(c,e),d=Object.keys(b).length;if(1<d&&0===this.itemList.length%d)for(d=this.itemList.length/d;b[1].itemCount>d;)"horizontal"===this.orientation?e++:c++,b=this.getDragItemRowsAnalysis(c,e);var f=d=e=0,h;for(h in b){var a=
b[h].lblRange;d<a&&(d=a);for(a=0;f<=b[h].lastIndex;f++){var l=parseInt(this.itemList[f].width);a<l&&(a=l)}e+=a+c}"horizontal"===this.orientation?(this.height=d+"px",this.width=e+"px",m.set(this.dragSourceContainer.domNode,{maxHeight:this.height,minWidth:this.width})):(this.width=d+"px",m.set(this.dragSourceContainer.domNode,{maxWidth:this.width}))},getDragItemRowsAnalysis:function(c,e){Analysis=function(a,b,c){this.lastIndex=a;this.itemCount=b;this.lblRange=c};var b={},d="horizontal"===this.orientation?
e:c,f=1,h=1,a=parseInt(this.height),l=parseInt(this.width),m=this;this.itemList.forEach(function(n,q){var s=parseInt(n.height),B=parseInt(n.width),F,A;if("horizontal"===m.orientation){if(A=d+=s+e,F=d>a&&0!==q)d=e+s+e}else if(A=d+=B+c,F=d>l&&0!==q)d=c+B+c;F&&(f++,h=1);b[f]=new Analysis(q,h++,A)});return b}})})},"xl/draganddrop/DnDVocab":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget ./DragSourceContainer ./DropTargetContainer dojo/_base/array dojo/dom-class dojo/dom-style".split(" "),
function(s,q,l,h,n,f,m,c){return s("xl.draganddrop.DnDVocab",[q,l],{dragSourceContainer:null,width:null,height:null,orientation:"vertical",postCreate:function(){this.inherited(arguments);m.add(this.domNode,"DnDVocab");m.add(this.domNode,this.orientation);c.set(this.domNode,{maxWidth:this.width})},startup:function(){this.inherited(arguments);f.forEach(this.getChildren(),function(e){e.isInstanceOf(h)&&(this.dragSourceContainer=e,this.dragSourceContainer.setAvatarClass("DnDVocab"),this.dragSourceContainer.shouldSetMinSizes=
function(b){return 0===b});e.isInstanceOf(n)&&c.set(e.domNode,"vertical-align","middle")},this)}})})},"xl/draganddrop/DnDSorting":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget ./DragSourceContainer dojo/_base/array dojo/dom-class dojo/dom-style".split(" "),function(s,q,l,h,n,f,m){return s("xl.draganddrop.DnDSorting",[q,l],{dragSourceContainer:null,width:null,height:null,postCreate:function(){this.inherited(arguments);f.add(this.domNode,"DnDSorting");this.width&&
m.set(this.domNode,{maxWidth:this.width})},startup:function(){this.inherited(arguments);n.forEach(this.getChildren(),function(c){c.isInstanceOf(h)&&(this.dragSourceContainer=c,this.dragSourceContainer.setAvatarClass("DnDSorting"),this.dragSourceContainer.shouldSetMinSizes=function(){return!1})},this)}})})},"xl/draganddrop/DnDRanking":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/layout/_LayoutWidget ./DragSourceContainer ./DropTargetContainerEquivalency dojo/_base/array dojo/dom-class dojo/dom-style".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.draganddrop.DnDRanking",[l,h],{dragSourceContainer:null,width:null,height:null,postCreate:function(){this.inherited(arguments);c.add(this.domNode,"DnDRanking");this.width&&e.set(this.domNode,{minWidth:this.width});this.height&&e.set(this.domNode,{minHeight:this.height})},startup:function(){this.inherited(arguments);m.forEach(this.getChildren(),function(b){b.isInstanceOf(n)?(this.dragSourceContainer=b,this.dragSourceContainer.setShowIndeterminate(this.showIndeterminate),
this.dragSourceContainer.setAvatarClass("DnDRanking"),e.set(this.dragSourceContainer.domNode,{minWidth:this.width}),this.dropTarget&&this.dragSourceContainer.sizeDragItems(this.dropTarget.getTargetSize().w)):b.isInstanceOf(f)&&(this.dropTarget=b,this.dropTarget.setShowIndeterminate(this.showIndeterminate,this.indeterminateText,q.hitch(this,this.indeterminateChange)),this.dragSourceContainer&&(b=this.dropTarget.getTargetSize().w,this.dragSourceContainer.sizeDragItems(b)))},this)},indeterminateChange:function(b){this.dragSourceContainer.setInputFilled(b)}})})},
"xl/draganddrop/DropTargetContainerEquivalency":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/registry xl/draganddrop/DropTargetEquivalency dojo/_base/lang dojo/topic dojo/dom-construct dijit/_Container dojo/dom-class dojo/dom-attr xl/player/dialogs/InputFeedbackDialog dojo/mouse dojo/touch dojo/has dojo/dom dojo/on dijit/popup dojo/parser dojo/_base/array dojo/dom-style dojo/dom-geometry dojo/_base/event dijit/form/CheckBox".split(" "),function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,
z,B,F,A,x){return s("xl.draganddrop.DropTargetContainerEquivalency",[q,c],{constructor:function(b){this._params=n.mixin({},b);this._params._skipStartup=!0;this._mouseEvents=[];this.isTouch=a("touch")},baseClass:"droptargetContainer",_params:null,_target:null,toolTip:null,toolTipContent:null,_correctAnswerNodes:null,processCommand:function(a,b){switch(a){case "correct":this.isAnswered=this._target.isAnswered=b.isAnswered;this._target.isCorrect=b.isCorrect;this._correctAnswerNodes=b.correctAnswerNodes;
this.parentClientId=b.parentClientId;this.isCorrectAnswerIndeterminate=b.isCorrectAnswerIndeterminate;this.updateControlState();break;case "incorrect":this.toolTipContent=b.tooltip,this.isAnswered=this._target.isAnswered=b.isAnswered,this._target.isCorrect=b.isCorrect,this._correctAnswerNodes=b.correctAnswerNodes,this.showFeedbackLink=b.showFeedbackLink,this.parentClientId=b.parentClientId,this.isCorrectAnswerIndeterminate=b.isCorrectAnswerIndeterminate,this.updateControlState()}},destroy:function(a){this.inherited(arguments);
this._target&&(this._target.destroy(),this._target=null);this.toolTip&&this.toolTip.destroyRecursive();this._clearMouseEvents()},postCreate:function(){this.inherited(arguments);var b=m.create("div",{"class":"droptarget-label",style:"z-index:100;position:relative;"},this.domNode);0<this.leftLabel.length&&m.create("div",{innerHTML:this.leftLabel,"class":"droptarget-left-label"},b);0<this.centerLabel.length&&m.create("div",{innerHTML:this.centerLabel,"class":"droptarget-center-label"},b);0<this.rightLabel.length&&
m.create("div",{innerHTML:this.rightLabel,"class":"droptarget-right-label"},b);D.parse(b);a("touch")&&(a("ie")||a("trident")||a("edge"))&&B.set(this.domNode,"touch-action","none")},startup:function(){null!=this.width&&"0px"!=this.width&&B.set(this.domNode,this.printing?"width":"minWidth",this.width);null!=this.width&&"0px"!=this.height&&B.set(this.domNode,this.printing?"height":"minHeight",this.height);this.borderColor&&B.set(this.domNode,"borderColor",this.borderColor);this.borderWidth&&B.set(this.domNode,
"borderWidth",this.borderWidth+"px");this.backgroundColor&&B.set(this.domNode,"backgroundColor",this.backgroundColor);this.borderWidth&&B.set(this.domNode,"borderStyle","solid");B.set(this.domNode,"display","inline-block");var a=m.create("div",{},this.domNode,"parent"),b=n.mixin({},this._params);this._target=new h(a,b);this.inherited(arguments);this._target.startup();this._showSavedUserAnswers()},_getDropItems:function(){var a=[];l.findWidgets(this.domNode).forEach(function(b){b.isInstanceOf(xl.draganddrop.DragItem)&&
a.push(b)});return a},markCorrect:function(){e.add(this.domNode,"droptarget-correct")},getTargetSize:function(){return this._target.getSize()},updateControlState:function(){this.updateToolTipDijit();z.forEach(l.findWidgets(this._target.node),function(a){a.destroyRecursive?a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});m.empty(this._target.node);var a=m.toDom(this._correctAnswerNodes);if(""!=a.innerHTML&&(m.place(a.innerHTML,this._target.node,"only"),this.parentClientId&&(a=l.byId(this.parentClientId))))a.inputFilled=
!0;D.parse(this._target.node);this._target.startup();this._target.getAllNodes().forEach(n.hitch(this,function(a){e.replace(a,"dragitem-inert","dragitem")}));this._target.sizeDropItems();this._target.arrangeEqualentItems();e.add(this.domNode,this._target.isCorrect?"droptarget-correct":"droptarget-incorrect");this.showIndeterminate&&(null!=this.userAnswerIndeterminate&&this.indeterminateCheckBox.set("checked",this.userAnswerIndeterminate),this.indeterminateCheckBox.set("disabled",!0),e.remove(this.indeterminateCheckBox.domNode,
"correct incorrect correctUnanswered"),e.add(this.indeterminateCheckBox.domNode,this._target.isCorrect?"correct":"incorrect"),this.isCorrectAnswerIndeterminate&&!this.userAnswerIndeterminate&&e.add(this.indeterminateCheckBox.domNode,"correctUnanswered"))},getAllNodes:function(){return this._target.getAllNodes()},_evtDocumentClick:null,_mouseEvents:null,canShowToolTip:function(){return this._target.isAnswered&&!this._target.isCorrect&&this.toolTipContent},updateToolTipDijit:function(a){var b=a?t.byId(a):
this.domNode;this.toolTip&&(this._destroyToolTip(),this.toolTip=null);this.canShowToolTip()&&(this.toolTip=new d({id:this.id+"_tooltip",baseClass:"xlTooltip",content:this.toolTipContent,showFeedbackLink:this.showFeedbackLink,onCancel:this._hideToolTip,inputId:this.parentClientId}),this._mouseEvents.push(u.once(this.toolTip,"show",function(){this.startup()})),this._mouseEvents.push(u(b,r.release,n.hitch(this,function(a){this._showToolTip(b);A.stop(a)}))))},_destroyToolTip:function(){this.toolTip.destroy();
this.toolTip=null;this._clearMouseEvents()},_clearMouseEvents:function(){this._evtDocumentClick&&this._evtDocumentClick.remove();this._evtDocumentClick=null;z.forEach(this._mouseEvents,function(a){a.remove()});this._mouseEvents=[]},_showToolTip:function(a){v.open({popup:this.toolTip,around:a});var b=this;this._evtDocumentClick=u(window.document,r.press,n.hitch(this,function(a){(!b.toolTip||!t.isDescendant(a.target,b.toolTip.domNode))&&this._hideToolTip()}))},_hideToolTip:function(){v.close(this.toolTip);
this._evtDocumentClick&&(this._evtDocumentClick.remove(),this._evtDocumentClick=null)},_showSavedUserAnswers:function(){var a=this._getDropItems();this._target.createSavedUserAnswer(a)},clearTargets:function(a){if(this._target.isInstanceOf(xl.draganddrop.DropTargetEquivalency)){for(var b=0;b<a.length;b++)B.set(a[b],{position:"",left:"",top:""}),e.remove(a[b],"dojoDndItemAnchor"),e.replace(a[b],"dragitem","dragitem-inert");this._target.clearAllNestedTargets()}},setShowIndeterminate:function(a,c,d){if(this.showIndeterminate=
a)a=m.create("div",{"class":"Indeterminate"},this.domNode,"after"),this.indeterminateCheckBox=(new x({value:this.name,onChange:n.hitch(this,function(a){this.isAnswered||(this.indeterminateClicked(a),d&&d(a))})})).placeAt(a),this.indeterminateLabelNode=m.create("label",{innerHTML:c,"aria-hidden":"true"},a),this.accessible||b.set(this.indeterminateLabelNode,"for",this.indeterminateCheckBox.id)},indeterminateClicked:function(a){this._target.isIndeterminateChecked=a}})})},"xl/player/controls/IdleCheck":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojox/timing/_base xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f){return s("xl.player.controls.IdleCheck",[q,f],{baseClass:"hidden",idleTimeout:0,_idleStart:null,_timer:null,_isStarted:!1,_serviceCalled:!1,_timedout:!1,constructor:function(f){},postCreate:function(){this.inherited(arguments);this.own(l(document,"keydown",h.hitch(this,this.reset)),l(document,"click",h.hitch(this,this.reset)));this._timer=new n.Timer(1E4);this._timer.onTick=h.hitch(this,this.checkIdleTime)},start:function(){this._isStarted||0>=this.idleTimeout||(this._isStarted=
!0,this._idleStart=new Date,this._timer.start())},resume:function(){this._isStarted||0>=this.idleTimeout||(this._isStarted=!0,this._timer.start())},stop:function(){this._timer.stop();this._timedout=this._isStarted=!1},reset:function(){this._idleStart=new Date},setTimeout:function(f){f&&!isNaN(f)&&(this.idleTimeout=f)},checkIdleTime:function(){var f=Math.floor((new Date-this._idleStart)/6E4);if(this._timedout||f>=this.idleTimeout)if(this._timedout=!0,f=this.getViewer())this.stop(),!this._serviceCalled&&
!f.communicationErrorDialog.isShown?(this._serviceCalled=!0,this.timeoutReached()):!this._serviceCalled&&f.communicationErrorDialog.isShown&&f.communicationErrorDialog.registerCallback(h.hitch(this,this.timeoutReached))},timeoutReached:function(){var f=this,c=this.getViewer();c&&c.inactivityTimeoutDialog().then(function(){f.stop();f._serviceCalled=!1},function(){f._serviceCalled=!1;c.communicationErrorDialog.isShown&&f.resume()})}})})},"xl/player/controls/Image":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/dom-style xl/player/controls/_NeedsPlayerViewer xl/util/DijitLoadMonitor xl/player/controls/_AltTextToolTip".split(" "),
function(s,q,l,h,n,f,m,c,e,b){return s("xl.player.controls.Image",[q,b,c],{baseClass:"tdxImage",source:null,width:0,height:0,title:null,alt:null,imgNode:null,linkAction:null,linkText:null,linkNode:null,isLink:!1,constructor:function(b){!b.altText&&b.alt&&(b.altText=b.alt)},buildRendering:function(){var b=n.create("span");this.domNode=b;this.isLink?(this.linkNode=n.create("a",{href:"javascript:void(0);"},b),this.linkNode.innerHTML=this.linkText):this.linkAction?(this.linkNode=n.create("a",null,b),
this.imgNode=n.create("img",null,this.linkNode)):this.imgNode=n.create("img",null,b);this.linkNode&&this.own(l(this.linkNode,"click",h.hitch(this,this.doLinkAction)));this.inherited(arguments);return b},postCreate:function(){this.inherited(arguments);this.align&&m.set(this.domNode,"vertical-align",this.align);if(this.imgNode){var b=this.alt||"",c=this.title||"",n,a;if(this.width&&this.height)n=this.width,a=this.height;else if(this.width||this.height){var q=new Image;q.src=this.source;this.width?(n=
this.width,a=q.height*(this.width/q.width)):(a=this.height,n=q.width*(this.height/q.height))}else a=n="100%";f.set(this.imgNode,{src:this.source,title:c,alt:b,width:n,height:a});this.own(l.once(this.imgNode,"load",h.hitch(this,this.imageLoaded)))}e.staticFunctions.loadingStarted(this)},doLinkAction:function(){var b=this.getViewer();b&&b.playActions([this.linkAction])},imageLoaded:function(){e.staticFunctions.loadingCompleted(this)}})})},"xl/player/controls/AccessibleFillin":function(){define("dijit/_Widget dijit/_WidgetBase ./_InputObject ./_AccessibleName dojo/_base/declare dojo/dom-construct dojo/dom dojo/on dojo/_base/lang dojo/dom-style dojo/dom-attr dojo/dom-class xl/player/controls/_NeedsPlayerViewer xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return n("xl.player.controls.AccessibleFillin",[q,l,r,h],{_list:null,selectedIndex:-1,accessibleNumber:1,baseClass:"xlAccessibleFillin",constructor:function(){},postCreate:function(){var a=this._list=m.byId("cbOptions"+this.id);f.create("option",{id:"_Blank"+this.id,Value:"",innerHTML:"",selected:"selected"},a);a.fillinParent=this;d.set(a,"aria-label","drop down "+this.accessibleNumber+", ");var b=m.byId("_Blank"+this.id);f.place(b,a,"first");this.own(c(this._list,
"change",e.hitch(this._list,this.menuItemClicked)),c(this._list,"mousedown",e.hitch(this,this._listMouseDown)));this.inherited(arguments)},setAccessibleName:function(){d.set(this._list,"aria-label",this.accessibleNumber)},getFocusNode:function(){return this._list},getDefaultAccessibleName:function(){return"listbox "+this.accessibleNumber+","},menuItemClicked:function(a){0<this.selectedIndex?(this.fillinParent.selectedIndex=this.selectedIndex-1,this.fillinParent.inputFilled=!0):(this.fillinParent.selectedIndex=
-1,this.fillinParent.inputFilled=!1);this.fillinParent.inputChanged()},processCommand:function(a,b){switch(a){case "answered":this.answeredCommand(b);break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){a&&(this.selectedIndex=a.correctIndex,this._list.selectedIndex=a.correctIndex+1,this.inputFilled=!0,this.inputChanged())},answeredCommand:function(a){a&&(this.isAnswered=a.isAnswered,this.correctIndex=a.correctIndex,this.userIndex=a.userIndex,this.isCorrect=a.isCorrect,
this.toolTipContent=a.toolTip,this.showFeedbackLink=a.showFeedbackLink,this.updateControlState())},updateControlState:function(){this.updateToolTipDijit();k.add(this._list,"xlFillinItem answered");k.add(this.domNode,"xlFillinItem answered");this._list.selectedIndex=this.correctIndex+1;this.isAnswered?(this.isCorrect||(k.add(this._list,"incorrect"),k.add(this.domNode,"incorrect")),d.set(this._list,"aria-label",this.accessibleNumber+", ")):d.set(this._list,"disabled","false")},_listMouseDown:function(a){this.isAnswered&&
a.preventDefault()},getInputData:function(){return{selectedIndex:this.selectedIndex}},clear:function(){this._list.selectedIndex=0;this.selectedIndex=-1;this.inputFilled=!1;this.inputChanged()}})})},"xl/player/RemediationReasonCodes":function(){define([],function(){return{PrerequisiteItem:"prerequisiteitem",NextItem:"nextitem",Unprepared:"unprepared",NoMoreItemsAvailable:"nomoreitemsavailable",ProgressingSlowly:"progressingslowly",Ready:"ready"}})},"xl/player/RemediationTopics":function(){define([],
function(){return{Prerequisite:"prerequisite",Target:"target"}})},"xl/assignment/AssignmentEnums":function(){define([],function(){return{EVENT_ASSIGNMENT_ACTION:"assignmentaction",EVENT_RETURN_TO_ASSIGNMENT:"ReturnToAssignment"}})},"xl/player/dialogs/CommunicationErrorDialog":function(){define(["dojo/_base/declare","dojo/_base/array","./ConfirmationDialog","xl/util/localization!html5player/popup","xl/util/localization!html5player/error"],function(s,q,l,h,n){return new (s("xl.player.dialogs.CommunicationErrorDialog",
[],{isShown:!1,callbacks:null,registerCallback:function(f){this.callbacks||(this.callbacks=[]);"function"===typeof f&&this.callbacks.push(f)},show:function(f){var m=this;this.isShown=!0;var c=[];c.push(h.communication_retry_message);c.push(n.uniqueID+": "+f);c.push(n.timestamp+": "+new Date+"\x3chr\x3e"+n.errorPersists);f=c.join("\x3cbr/\x3e");l.displayText(f,h.communication_error_title,[l.BUTTON.OK]).then(function(){m.isShown=!1;m.callbacks&&(q.forEach(m.callbacks,function(c){c()}),m.callbacks=[])})}}))})},
"xl/player/HigherEdPlayerViewer":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/focus dojo/on dojo/touch dojo/has dojo/dom-attr dojo/dom-style dojo/dom-class dojo/_base/lang dojo/dom-construct xl/dijit/Tooltip dojo/_base/config xl/util/array xl/dijit-bootstrap/bootstrapUtils xl/dijit-bootstrap/Button dojo/text!./templates/HigherEdPlayerViewer.html xl/player/_PlayerViewerBase xl/dijit/HigherEdAssignmentReviewNav xl/player/HigherEdControlPanel xl/player/HigherEdHeaderBar xl/player/InteractiveAssignmentHeaderBar xl/player/forms/HigherEdGradePanel dijit/registry xl/util/higherEdUtils xl/util/stringUtils xl/util/localization!html5player/learningaids xl/nonamd/assessmentclient/loader".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G){return s("xl.player.HigherEdPlayerViewer",[z,q,l],{templateString:D,baseClass:"playerViewer",buttonShowWorkClass:"higherEdShowWork",iconShowWorkClass:"higherEdShowWorkIcon",widgetsInTemplate:!0,_assignmentTitleTooltip:null,btnComponents:null,assignmentReviewNavData:null,assignmentReviewNav:null,useSentenceCase:!0,shouldHideAssignmentControls:!1,_isQuiz:!1,_correctnessIconTooltip:null,constructor:function(a){this.inherited(arguments)},
postCreate:function(){this.inherited(arguments);this.createHeaderBar();this.correctnessIconHost=this.headerBar.correctnessIcon;this.isTdx2&&b.add(this.domNode,"tdx2")},updateTitle:function(a,b){this.inherited(arguments);this.headerBar.updateTitle(a,b)},updateSkillBuilderTitle:function(a){a=a?this._skillBuilderTitlePrefix()+a:this.locPlayer["acc.skillbuilder"];var b=this.locPlayer["button.returntohw"];this.sendAssignmentAction({action:"updateremediationtitle",value:{title:J.sentenceCase(a),buttonLabel:J.sentenceCase(b)}})},
createHeaderBar:function(){this.headerBar&&(this.headerBar.destroy(),this.headerBar=null);this.headerBar=this.isTdx2?new x({region:"top",className:"interactiveAssignment headerbar"}):new A({region:"top",className:"highered headerbar"});k.place(this.headerBar.domNode,this.headerBarContainer,"only")},setupControlPanel:function(){this.controlPanel&&(this.controlPanel.destroy(),this.controlPanel=null);if("Desktop"!==this.uiMode)this.inherited(arguments);else{this.controlPanel=new F({region:"bottom",layoutPriority:1,
className:"controlPanel higherEd",isPreview:this.isPreview,dialog:this.dialog});var a=this.getMenu(),b=this._updateShowCompletedCheckbox();this._initAssignedMediaDropdown();this.own(n(this.controlPanel,"buttonClick",d.hitch(this,this._controlButtonClicked)),a.on("commandSent",d.hitch(this,this.postCommand)),a.on("playActions",d.hitch(this,this.playActions)),n(this.controlPanel.remediationButton.domNode,"click",d.hitch(this,this._onRemediationClick)),n(this.getCloseButton().domNode,"click",d.hitch(this,
this.closeQuestion)),b.checkBoxInput.on("click",d.hitch(this,this._onShowCompletedProblemClick)));k.place(this.controlPanel.domNode,this.controlPanelContainer,"only")}this.updateMasterDetails();this._updateCloseButton(this.btnComponents)},_initAssignedMediaDropdown:function(){this.controlPanel.assignedMediaDropdown.clearItems();u.hide(this.controlPanel.assignedMediaDropdown)},updateCtlPanel:function(a){E.sentenceCaseLabels(a.buttons);if(this._showCtlPanelNextCloseButton(a)){var b=a.navigationInfo.nextEnabled?
this._getNextControlButton():this._getCloseControlButton();if(a.buttons){for(var c=0;c<a.buttons.length;c++)a.buttons[c].style?a.buttons[c].style.toLowerCase().includes("btn-default")||(a.buttons[c].style+=" btn-default"):a.buttons[c].style="btn-default";a.buttons.push(b)}else a.buttons=[b]}this.inherited(arguments);this.updateStatusPanelButtons()},_showCtlPanelNextCloseButton:function(a){return this.isRemediationQuestion||!a.navigationInfo||u.getVisible(this.controlPanel.btnSubmit)?!1:this.isReview||
"Test"===this.playMode||"Completed"===this.getQuestionStatus()?!0:!1},_getCloseControlButton:function(){return{label:this.getCloseButton().label,disabled:!1,command:"closequestion"}},_getNextControlButton:function(){return{label:this.locPlayer["button.next"],disabled:!1,command:"nextquestion"}},getMenu:function(){return this.controlPanel.menu},loadParams:null,loadActivity:function(a,b){"undefined"!==typeof b.showCompletedProblem&&(this._showCompletedProblemChecked=b.showCompletedProblem);return this.inherited(arguments)},
loadProblem:function(a){this.loadParams=a;return this.inherited(arguments)},isPreviewAndAddMode:function(){return this.loadParams?this.loadParams.previewTestItem||this.loadParams.previewHomeworkItem||!1:!1},_setShowCompletedProblem:function(a){this.loadParams.sequenceNode?this.loadParams.sequenceNode.extra.showCompletedProblem=a:this.loadParams.showCompletedProblem=a},_getShowCompletedProblem:function(){return!this.loadParams?!1:this.loadParams.sequenceNode?this.loadParams.sequenceNode.extra.showCompletedProblem||
!1:this.loadParams.showCompletedProblem||!1},_onShowCompletedProblemClick:function(){if(!this._loadingFromShowCompleteProblem){this._loadingFromShowCompleteProblem=!0;var a=this.getShowCompletedCheckbox().checkBoxInput.get("checked");this.sendAssignmentCommand("showcompletedproblem",{checked:a})}},_updateShowCompletedCheckbox:function(){var a=this.getShowCompletedCheckbox();a.checkBoxInput.set("checked",this._getShowCompletedProblem());this._loadingFromShowCompleteProblem=!1;this.isPreviewAndAddMode()&&
b.add(a.domNode,"hidden");return a},getMenuHolder:function(){return this.controlPanel.menuHolder},getRemediationButton:function(){return this.controlPanel.remediationButton},getShowCompletedCheckbox:function(){return this.controlPanel.showCompletedCheckBox},updateEmbeddedAssignmentControls:function(a){this.headerBar.updateEmbeddedAssignmentControls(a);this.isRemediationQuestion=!!a.isRemediationQuestion;this.isRemediationQuestion||(this._updateCloseButton(a.components),this._setGradePanelExtraTitle(a.extraTitle))},
updateStatusPanelButtons:function(){if(this.headerBar.hasSaveForLaterButton()){var a=!this.allInputsFilled()||this.controlPanel.isNavigationNextEnabled();this.isAdaptive&&(a=this.anyInputsFilled());this.headerBar.setSaveForLaterButtonDisabled(a)}this.isStopAndResume&&!this.isReview&&this.headerBar.hideOverviewButton()},inputChanged:function(a){a.sourceObject&&this.isRegisteredInput(a.sourceObject)&&(this.controlPanel.update(this),this.updateStatusPanelButtons(),this.doQuestionStatusChanged())},updateStatusPanelFromAction:function(a){this.headerBar.updateStatusPanelFromAction(a)},
addControlPanelButtons:function(a){var b=this.controlPanel,c=this.isTdx2?" gr-btn-primary":" btn-primary";t.forEach(a,function(a){"saveforlater"!==a.command&&b.addButton(a,c)})},initDisplay:function(a){this.inherited(arguments);this._setRemediationButtonTexts();this.shouldHideAssignmentControls=a.hideAssignmentControls;this.isAdaptive&&b.add(this.domNode,"adaptive");this._isQuiz=a.isQuiz;this.headerBar.initDisplay(a);this.updateStatusPanelButtons()},hideAssignmentControls:function(){this.headerBar.hideAssignmentControls()},
setupMenu:function(a,b){E.sentenceCaseLabels(a.menuItems);this.inherited(arguments)},updateMasterDetails:function(){this.isRemediationQuestion?this._enableSkillBuilderMode():(this._disableSkillBuilderMode(),this.mainPanel.resize())},updateSkillBuilderNavigation:function(a){this.headerBar.updateSkillBuilderNavigation(a)},_setRemediationButtonTexts:function(){var a;a=this.isReview&&!this.isPreview?this.locPlayer["acc.reviewskillbuilder"]:this.locPlayer["acc.skillbuilder"];a=J.sentenceCase(a);this.remediationButton.set("aria-label",
a);this.remediationButton.set("title",a);this.remediationButton.set("label",a)},_updateCloseButton:function(a){if(this.btnComponents){var c=this.getCloseButton();c.set("disabled",!a.enabled);if(null!=a.close.label){var d=J.sentenceCase(a.close.label);c.set("label",d);c.set("aria-label",d)}a.close.hidden?b.add(c.domNode,"hidden"):(b.remove(c.domNode,"hidden"),h.focus(c))}else this.btnComponents=a},getCloseButton:function(){return"Test"===this.playMode&&this.isAdaptive?this.controlPanel.btnSubmit:this.headerBar.btnClose},
previousQuestion:function(){this.headerBar.blurPreviousButton();return this.inherited(arguments)},nextQuestion:function(){this.headerBar.blurNextButton();return this.inherited(arguments)},_setGradePanelExtraTitle:function(a){this.gradePanel&&(this.gradePanel._opt=this.gradePanel._opt||{},this.gradePanel._opt.extraTitle=a,this.gradePanel.updateDisplay(this.gradePanel._opt,this))},setLearningAids:function(a){E.sentenceCaseLabels(a.learningAids);this.controlPanel.setLearningAids(a,this)},itemClick:function(a){this.emit("loadquestion",
{questionIndex:a.index})},minimizeClick:function(a){a?e.set(this.assignmentReviewNavPanel.domNode,"width","100px"):e.set(this.assignmentReviewNavPanel.domNode,"width","380px");this.mainPanel.resize()},skipNavigation:function(){this.contentPanel.focusFirstPanel()},updateAttempt:function(a,c){if(this.playerNavCreated)this.playerNavUpdateAttempt&&this.playerNavUpdateAttempt(a,c.index);else{b.remove(this.assignmentReviewNavPanel.domNode,"hidden");e.set(this.assignmentReviewNavPanel.domNode,"width","380px");
this.isTdx2&&e.set(this.assignmentReviewNavPanel.domNode,"border-right","none");var f={Component:window.AssessmentClientComponents.PlayerNavigation,props:{assessment:a,onItemClick:d.hitch(this,this.itemClick),onMinimize:d.hitch(this,this.minimizeClick),callbackSetup:d.hitch(this,this.callbackSetup),selectedItem:c.index,onSkipNavigation:d.hitch(this,this.skipNavigation)},children:[]};window.AssessmentClientComponents.reactWrapper(f,this.assignmentReviewNavPanel.domNode);this.mainPanel.resize();this.playerNavCreated=
!0}this.headerBar.updateAttempt(a,c)},callbackSetup:function(a){this.playerNavUpdateAttempt=a},_initAssignmentReviewNav:function(a,b,c){b&&!this.shouldHideAssignmentControls&&(this.assignmentReviewNav||(this.assignmentReviewNavData=b,this.assignmentReviewNav=this._getAssignmentReviewNav(),this.mainPanel.resize()),this._displayNavSelection(a,c))},_displayNavSelection:function(a,b){if(b){var c=this.assignmentReviewNavData[b.index],d;if(null!==b.score&&0<=b.score&&b.correctness)d=b.correctness;else if(b.score>=
b.points)d="correct";else if(0<b.score||c.isPartnerGraded&&"InProgress"===c.status)d="partial";else if(0===b.score)d="incorrect";else if("test"===(a||"").toLowerCase()||c.isPartnerGraded||c.isMedia)d="notattempted";c.needsGrading=b.needsGrading;c.status=b.status;c.correctness=d;this.assignmentReviewNav.loadData(this.assignmentReviewNavData,a,this.isReview,this.profView,this.isPreview);this.mainPanel.resize();this.assignmentReviewNav.updateStats(b,a);this.updateResultIcon(d)}},_getAssignmentReviewNav:function(){return!this.assignmentReviewNav?
(b.remove(this.assignmentReviewNavPanel.domNode,"hidden"),(new B({mainPanel:this.mainPanel,contentPanel:this.contentPanel})).placeAt(this.assignmentReviewNavPanel)):this.assignmentReviewNav},addAdditionalSettings:function(a){E.sentenceCaseLabels(a);if(this.showHelpButton){var b={label:J.sentenceCase(this.locPlayer["playersettings.help_center"]),type:"Command",command:"help",commandArgs:{type:"main"},isToggle:!1,disabled:!1};a.push(b)}},getItemPlayerSettings:function(){return this.headerBar.itemPlayerSettings},
closeOverviewUponFocus:function(){this.disableCloseOverviewUponFocus||(this.inherited(arguments),this.headerBar.closeOverview())},onOverviewClosed:function(a){this.headerBar.focusOverviewButton()},_updateTime:function(a){this.controlPanel&&this.controlPanel.timeLabel&&(this.controlPanel.timeLabel.innerHTML=a.TimeLabel,this.controlPanel.timeValue.innerHTML=a.TimeStr)},setRemediationTitles:function(a){this.isRemediationQuestion?(this._enableSkillBuilderMode(),this.headerBar.setRemediationTitles(a)):
this._disableSkillBuilderMode();this.mainPanel.resize()},getAssignedMediaDropdown:function(){return this.controlPanel?this.controlPanel.assignedMediaDropdown:this.inherited(arguments)},_enableSkillBuilderMode:function(){this.headerBar.enableSkillBuilderControls();this.isSkillBuilderRequired&&this.headerBar.hideReturnToHomeworkAndNextPreviousButton();var a=C.byId(this.skillBuilderProgressBar.id);e.set(a.domNode,"display","block");b.add(this.assignmentReviewNavPanel.domNode,"hidden")},_disableSkillBuilderMode:function(){this.headerBar.disableSkillBuilderControls();
var a=C.byId(this.skillBuilderProgressBar.id);e.set(a.domNode,"display","none");this.skillBuilderProgressPrompt.innerHTML="";this.assignmentReviewNav&&b.remove(this.assignmentReviewNavPanel.domNode,"hidden")},_updateMasteryInfo:function(a,b){this.inherited(arguments);var c=a.masteryReasonCode,d=a.masteryTopic,e=this.masteryLevel;this.isRemediationQuestion&&(this._setSkillBuilderLevel(b,c,d,e),this._updateMasteryMessage(c,d,e));this.updateMasterDetails()},updateItemScoreIconTooltip:function(a){c.set(this.correctnessIconHost,
"aria-label",a);a?this._correctnessIconTooltip?this._correctnessIconTooltip.set("label",J.sentenceCase(a)):this._correctnessIconTooltip=this.setToolTip(this.correctnessIconHost,J.sentenceCase(a),["below"]):this._correctnessIconTooltip&&(this._correctnessIconTooltip.destroy(),this._correctnessIconTooltip=null)},_updateMasteryMessage:function(a,b,c){if(!this.remediationTitlePrerequisite&&c||0===c&&a||!this.hadPrevPrerequisiteItem)this.skillBuilderProgressPrompt.innerHTML=this.getMasteryMessage(c,a,
b)},setToolTip:function(a,b,c){return new r({connectId:a,label:b,position:c||["below","above"]})},updateOverviewText:function(a){this.headerBar.updateOverviewText(a)},playToolAction:function(a){"quit"===a.action&&(this.controlPanel._checkAnswerButton?this.controlPanel._checkAnswerButton.focus():this.controlPanel._buttons.length&&this.controlPanel._buttons[0].focus())}})})},"xl/dijit/Tooltip":function(){define(["dojo/_base/declare","dijit/Tooltip"],function(s,q){return s("xl.dijit.Tooltip",q,{wrapperClass:null,
getContent:function(l){var h=this.inherited(arguments);this.wrapperClass&&(h="\x3cdiv class\x3d'"+this.wrapperClass+"'\x3e"+h+"\x3c/div\x3e");return h}})})},"xl/dijit/HigherEdAssignmentReviewNav":function(){define("dojo/_base/declare dojo/parser dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-geometry dojo/dom-style xl/dijit/Tooltip dojo/query dojo/window dojo/on dojo/json dojo/_base/lang dojo/keys dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/focus dojo/text!./templates/AssignmentReviewNav.html xl/util/stringUtils xl/util/localization!html5player/assignment xl/dijit/AssignmentReviewNav".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A){return s("xl.dijit.HigherEdAssignmentReviewNav",[A,t,u,v],{templateString:z,isLeftNavCollapsed:!1,toolTipList:[],loadData:function(a,b,c,d,e){this.isReview=c;this.profView=d;this.isPreview=e;this._setHeaderText();this._loadData(a,b)},updateStats:function(a,b){this.inherited(arguments);this._showHideNeedGrading(this.assignmentreviewnavUL.childNodes[a.index],a,b);this._selectLI(a.index)},loadQuestion:function(a){this.emit("loadquestion",{questionIndex:a})},
_loadData:function(a,b){l.empty(this.assignmentreviewnavUL);var c=this._isNeedGradingIncluded(a),d=this;this.toolTipList=[];a.forEach(function(a,e){d._createaListItem(d.assignmentreviewnavUL,a,e,b,c)});this._updateTooltip()},_createaListItem:function(b,c,e,f,h){b=l.create("li",{},b);this._createListItemLeftSide(b,c,e,f,h);this._showHideNeedGrading(b,c,f);var k=this;this.own(d(b,"click",function(){k.loadQuestion(e);k._selectLI(e)}),d(b,"keypress",function(b){b.keyCode==a.ENTER&&(k.loadQuestion(e),
k._selectLI(e))}))},_createListItemLeftSide:function(a,b,c,d,e){a=l.create("span",{},a);h.add(a,"leftSide");this._createIconSpan(a,b,c,d,e);this._createAnchor(a,b,c,d)},_createAnchor:function(a,b,c,d){var e=b.title;c=this._createQuestionLabel(void 0===b.number?c+1:b.number,b.isMedia);b=this._getCorrectnessStatus(b,d);a=l.create("a",{href:"#",innerHTML:c},a);h.add(a,"questionLabel");n.set(a,"tabindex",-1);e&&n.set(a,"title",e);b&&n.set(a,"aria-label",c+", "+F[b])},_toggleLeftMenu:function(){if(this.isLeftNavCollapsed){this.isLeftNavCollapsed=
!1;this._setHeaderText();this._updateTooltip();h.add(this.domNode.parentElement,"leftNavAnimateExpanded");h.remove(this.domNode.parentElement,"leftNavCollapsed");h.add(this.params.contentPanel.domNode,"leftNavAnimateExpanded");var a=this;setTimeout(function(){h.remove(a.domNode.parentElement,"leftNavAnimateExpanded");h.remove(a.params.contentPanel.domNode,"leftNavAnimateExpanded");a.params.mainPanel.resize()},710)}else this.isLeftNavCollapsed=!0,this._setHeaderText(),this._updateTooltip(),h.add(this.domNode.parentElement,
"leftNavAnimateCollapsed"),h.add(this.params.contentPanel.domNode,"leftNavAnimateCollapsed"),a=this,setTimeout(function(){h.add(a.domNode.parentElement,"leftNavCollapsed");h.remove(a.domNode.parentElement,"leftNavAnimateCollapsed");h.remove(a.params.contentPanel.domNode,"leftNavAnimateCollapsed");a.params.mainPanel.resize()},710)},_createQuestionLabel:function(a,b){var c="",c=b?F.hasOwnProperty("assignmentReviewNavMedia")?F.assignmentReviewNavMedia:"Media {0}":F.assignmentReviewNavQuestion;return r.replace(c,
[a])},_getCorrectnessStatus:function(a,b){var c=(b||"").toLowerCase();return"test"===c&&!this.isReview?(a.status||"").toLowerCase():this._isNeedsGrading(a)?"needsgrading":a.isPartnerGraded&&"InProgress"===a.status?"partial":this._notAttemptedOrScored(a)?"test"===c?"notattempted":"":(a.correctness||"").toLowerCase()},_setHeaderText:function(){var a,b;this.isLeftNavCollapsed?(a="left-maximize-icon",b=F.leftNavExpand,this.assignmentreviewnavheader.innerHTML=""):(a="left-minimize-icon",b=F.leftNavCollapse,
this.assignmentreviewnavheader.innerHTML='\x3cspan class\x3d"title" role\x3d"heading" aria-level\x3d"3"\x3e'+F["assignmentReviewNavHeader.New"]+"\x3c/span\x3e");a=l.create("button",{className:a,"aria-label":b,tabIndex:0});l.place(a,this.assignmentreviewnavheader,"last");b=F.SkipToMain?F.SkipToMain:"Skip to Main content";this.focusshifter.innerHTML=b;n.set(this.focusshifter,"aria-label",b);this.own(d(a,"click",r.hitch(this,this._toggleLeftMenu)),d(this.focusshifter,"click",r.hitch(this,this._focusMainContent)),
d(this.focusshifter,"focus",r.hitch(this,this._onFocus)),d(this.focusshifter,"blur",r.hitch(this,this._onBlur)))},_focusMainContent:function(){var a=e("div[tabindex\x3d'0']",this.contentPanel.domNode);0<a.length&&a[0].focus()},_onFocus:function(a){a instanceof FocusEvent&&h.remove(this.focusshifter,"sr-only")},_onBlur:function(){h.add(this.focusshifter,"sr-only")},_notAttemptedOrScored:function(a){return this.isPreview&&this.isReview&&!a.correctness||this.inherited(arguments)},_createIconSpan:function(a,
b,d,e,f){a=l.create("span",{ariaHidden:!0},a);b=this._getCorrectnessStatus(b,e);e=(f?"iconSpanWNeedGrading":"iconSpanWONeedGrading")+" questionStatusIcon "+b+(e?" "+e.toLowerCase():"")+(this.isReview?" review":"");h.add(a,e);e=new c({connectId:a});this.toolTipList.push({toolTip:e,correctnessStatus:b})},_updateTooltip:function(){this.toolTipList.forEach(function(a,b){var c=B.sentenceCase(F[a.correctnessStatus||"incomplete"]),d="below";this.isLeftNavCollapsed&&(c=r.replace(F.assignmentReviewNavQuestion,
[b+1])+" - "+c,d="after-centered");a.toolTip.label=c;a.toolTip.position=[d]})},_selectLI:function(a){for(var c=this.assignmentreviewnavUL.childNodes,d=0;d<c.length;d++)h.remove(c[d],"selected"),n.set(c[d],"tabindex",0);a=this.assignmentreviewnavUL.childNodes[a];h.add(a,"selected");b.scrollIntoView(a)},_showHideNeedGrading:function(a,b,c){b=this.profView&&"needsgrading"===this._getCorrectnessStatus(b,c);c=a.getElementsByTagName("div");var d=a.getElementsByClassName("endSpan");c&&0<c.length&&l.destroy(c[0]);
d&&0<d.length&&l.destroy(d[0]);b?this._createNeedGradingSpan(a):this._createEmptySpan(a)},_createEmptySpan:function(a){a=l.create("span",{ariaHidden:!0},a);h.add(a,"endSpan");this.isLeftNavCollapsed&&h.add(a,"hidden")},_createNeedGradingSpan:function(a){var b={innerHTML:F.needsgrading};a=l.create("div",{},a);h.add(a,"needGradingDiv");b=l.create("span",b,a);h.add(b,"needGradingSpan");this.isLeftNavCollapsed&&h.add(b,"hidden")},_updateLiStats:function(a,b){var c=this.assignmentreviewnavUL.childNodes[a.index].getElementsByTagName("span");
if(c&&c[0]){var d="correct incorrect partial worked notattempted needsgrading".split(" ");this._isNeedsGrading(a)?h.replace(c[0],"needsgrading",d):null!==a.score&&0<=a.score&&a.correctness?h.replace(c[0],a.correctness.toLowerCase(),d):a.score>=a.points?h.replace(c[0],"correct",d):0<a.score?h.replace(c[0],"partial",d):0===a.score?h.replace(c[0],"incorrect",d):"test"===(b||"").toLowerCase()&&h.replace(c[0],"notattempted",d)}}})})},"xl/dijit/AssignmentReviewNav":function(){define("dojo/_base/declare dojo/parser dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-geometry dojo/window dojo/on dojo/json dojo/_base/lang dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/AssignmentReviewNav.html xl/util/localization!html5player/assignment".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t){var u="correct incorrect partial worked notattempted needsgrading".split(" ");return s("xl.dijit.AssignmentReviewNav",[d,k,r],{templateString:a,isReview:!1,loadData:function(a,b){this._setHeaderText();this._loadData(a,b);this._selectLI(0)},updateDisplay:function(a){this._selectLI(a)},updateStats:function(a,b){this._updateLiStats(a,b)},_isNeedsGrading:function(a){return a.needsGrading},layout:function(){var a=f.getMarginBox(this.domNode),b=f.getMarginBox(this.assignmentreviewnavheader);
f.setMarginBox(this.assignmentreviewnavtablediv,{h:a.h-b.h})},_setHeaderText:function(){this.assignmentreviewnavheader.innerHTML="\x3ch3\x3e"+t["assignmentReviewNavHeader.New"]+"\x3c/h3\x3e"},_notAttemptedOrScored:function(a){return"notattempted"===(a.status||"").toLowerCase()&&!a.correctness},_loadData:function(a,b){l.empty(this.assignmentreviewnavUL);var c=this;a.forEach(function(a,d){c._createaListItem(c.assignmentreviewnavUL,a,d,b)})},_isNeedGradingIncluded:function(a){var b=this,c=!1;a.forEach(function(a,
d){b._isNeedsGrading(a)&&(c=!0)});return c},_createaListItem:function(a,b,c,d){a=l.create("li",{},a);this._createIconSpan(a,b,d);this._createAnAnchor(a,b,c,d)},_createIconSpan:function(a,b,c){a=l.create("span",{ariaHidden:!0},a);b=this._getCorrectnessStatus(b,c);h.add(a,"iconSpanWOGrading "+b)},_createAnAnchor:function(a,b,d,e){var f=b.title,h=this._createQuestionLabel(void 0===b.number?d+1:b.number,b.isMedia);b=this._getCorrectnessStatus(b,e);a=l.create("a",{href:"#",innerHTML:h},a);f&&n.set(a,"title",
f);b&&n.set(a,"aria-label",h+", "+t[b]);var k=this;this.own(c(a,"click",function(){k.assignment._requestItemNodeResult({command:"loadquestion",commandArgs:{questionIndex:d}});k._selectLI(d)}))},_createQuestionLabel:function(a,c){var d="",d=c?t.hasOwnProperty("assignmentReviewNavMedia")?t.assignmentReviewNavMedia:"Media {0}":t.assignmentReviewNavQuestion;return b.replace(d,[a])},_getCorrectnessStatus:function(a,b){var c=(b||"").toLowerCase();return this._isNeedsGrading(a)?"needsgrading":a.isPartnerGraded&&
"InProgress"===a.status?"partial":this._notAttemptedOrScored(a)?"test"===c?this.isReview?"incorrect":"notattempted":"":(a.correctness||"").toLowerCase()},_selectLI:function(a){for(var b=this.assignmentreviewnavUL.childNodes,c=0;c<b.length;c++){var d=b[c];d&&h.remove(d,"selected")}(a=this.assignmentreviewnavUL.childNodes[a])&&h.add(a,"selected");m.scrollIntoView(a)},_updateLiStats:function(a,b){var c=this.assignmentreviewnavUL.childNodes[a.index].getElementsByTagName("span");if(c&&c[0])if(this._isNeedsGrading(a))h.replace(c[0],
"needsgrading",u);else if(null!==a.score&&0<=a.score&&a.correctness)h.replace(c[0],a.correctness.toLowerCase(),u);else if(a.score>=a.points)h.replace(c[0],"correct",u);else if(0<a.score)h.replace(c[0],"partial",u);else if(0===a.score)h.replace(c[0],"incorrect",u);else if("test"===(b||"").toLowerCase())h.replace(c[0],this.isReview?"incorrect":"notattempted",u)}})})},"xl/player/HigherEdControlPanel":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/dom-construct dojo/_base/array dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/MenuItem dijit/MenuSeparator xl/dijit/StyledCheckBox dojo/text!./templates/HigherEdControlPanel.html xl/player/_PlayerControlPanelBase xl/player/HigherEdAssignedMediaDropdown xl/player/HigherEdLearningAidMenu xl/util/stringUtils xl/util/localization!html5player/player xl/util/localization!html5player/learningaids".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v){return s("xl.player.HigherEdPlayerControlPanel",[k,f,m],{templateString:d,widgetsInTemplate:!0,constructor:function(a){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.setupShowCompletedCheckBox()},setupShowCompletedCheckBox:function(){this.showCompletedCheckBox.set("labelText",t.sentenceCase(u.showcompletedproblem));(!this.params.isPreview||this.params.dialog)&&q.add(this.showCompletedCheckBox.domNode,"hidden")},enableGrammarApplyPanel:function(){this.isGrammarApply=
!0;q.add(this.buttonContainerLeft,"hidden");q.remove(this.grammarApplyScorePanel,"hidden")},disableGrammarApplyPanel:function(){this.isGrammarApply=!1;q.remove(this.buttonContainerLeft,"hidden");q.add(this.grammarApplyScorePanel,"hidden")},updateNavigation:function(){},updateProgressBar:function(a){this.params.dialog&&a&&(a=(a.partsRemaining&&0<a.partsRemaining?a.partsRemaining+" ":"")+a.label,this.params.dialog.progressStatus?this.params.dialog.progressStatus.innerText=a:(this.params.dialog.progressStatus=
h.create("span",{className:"progressStatus",innerHTML:a},this.params.dialog.titleNode,"last"),h.create("span",{className:"dialogTitleSeparator",innerHTML:" | "},this.params.dialog.progressStatus,"before")))},setLearningAids:function(a,b){var c=this.questionHelpMenu.dropDown;c.destroyDescendants(!1);this.questionHelpMenu.buttonLabel.innerHTML=t.sentenceCase(u.getMoreHelp);this.questionHelpMenu.focusNode.ariaLabel=t.sentenceCase(u.getMoreHelp);if(0==a.learningAids.length)l.set(this.questionHelpMenu.domNode,
"display","none"),l.set(this.learningAidBlock,"display","none");else{l.set(this.questionHelpMenu.domNode,"display","");l.set(this.learningAidBlock,"display","");h.empty(this.outsideLearningAids);var d=0,f=!0,k,m=2,n="",r=!1,s=a.learningAids.reduce(function(a,b){return a+(b.isSeparator?0:1)},0);s===m+1&&(m+=1);for(var v=0;v<a.learningAids.length;v++)k=a.learningAids[v],f&&!k.isSeparator&&(n=1<s?"learningaid-button-responsive":"",n=this._createLearningAidButton(k,b,n),h.place(n,this.outsideLearningAids,
d),d++),n=f?"expanded-menu":"",k.isSeparator?(r&&(n="expanded-menu"),k=new e({"class":n})):k=this._createLearningAidMenuItem(k,b,n),r=!1,k&&c.addChild(k),d>=m&&f&&(f=!1,r=!0);0===s?l.set(this.learningAidBlock,"display","none"):1===s?l.set(this.questionHelpMenu.domNode,"display","none"):s<=m&&q.add(this.questionHelpMenu.domNode,"questionHelp-responsive")}},_createLearningAidMenuItem:function(a,b,d){d=new c({label:a.label,"class":d});d.data=a.data;a.disabled&&d.set("disabled",!0);var e=this;if("remediation"===
d.data)d.on("click",function(a){a.eventAction="QuestionHelpButton";b._onRemediationClick(a)});else d.on("click",function(){e.menu.emit("commandSent","learningaid",{data:this.data})});return d},_createLearningAidButton:function(a,b,c){c=h.create("button",{"class":"learningaid-button "+c,"aria-label":a.label+" "+t.sentenceCase(v.pressEnter)});c.innerHTML=a.label;c.data=a.data;a.disabled&&(c.disabled=!0);var d=this;c.onclick="remediation"===c.data?function(a){a.eventAction="QuestionHelpButton";b._onRemediationClick(a)}:
function(){d.menu.emit("commandSent","learningaid",{data:this.data})};return c},isNavigationNextEnabled:function(){return null!=this._navigationInfo&&!this._navigationInfo.nextEnabled},addButton:function(a){if(!a.style&&"similarexercisereview"===a.command||"similarexercise"===a.command)a.style="btn-default";return this.inherited(arguments)}})})},"xl/dijit/StyledCheckBox":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/form/CheckBox".split(" "),
function(s,q,l,h,n,f,m){return l("xl.dijit.StyledCheckBox",[s,q],{templateString:"\x3cdiv data-dojo-attach-point\x3d'checkBoxContainer' class\x3d'styledCheckBoxContainer'\x3e\x3c/div\x3e",label:null,checkBoxInput:null,buildRendering:function(){this.inherited(arguments);this.checkBoxInput=new m;this.checkBoxInput.startup();f.place(this.checkBoxInput.domNode,this.checkBoxContainer);this.label=f.create("label",{"for":this.checkBoxInput.id},this.checkBoxContainer,"last");this.own([this.checkBoxInput.on("focus",
h.hitch(this,this.checkBoxFocused)),this.checkBoxInput.on("blur",h.hitch(this,this.checkBoxBlurred))])},checkBoxFocused:function(){n.add(this.domNode,"styledCheckBoxContainerFocused")},checkBoxBlurred:function(){n.remove(this.domNode,"styledCheckBoxContainerFocused")},_setLabelTextAttr:function(c){this.label.innerHTML=c},_getCheckedAttr:function(){return this.checkBoxInput.get("checked")},_setCheckedAttr:function(c){this.checkBoxInput.set("checked",c)},destroy:function(){this.checkBoxInput&&this.checkBoxInput.destroy();
this.inherited(arguments)}})})},"xl/player/HigherEdAssignedMediaDropdown":function(){define(["dojo/text!./templates/HigherEdAssignedMediaDropdown.html","dojo/_base/declare","xl/player/AssignedMediaDropdown"],function(s,q,l){return q("xl.player.HigherEdAssignedMediaDropdown",[l],{templateString:s,baseClass:"assignedMediaDropdown"})})},"xl/player/HigherEdLearningAidMenu":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_HasDropDown dojo/Evented dojo/has dojo/_base/config dojo/_base/lang dijit/form/_FormWidgetMixin dojo/text!./templates/HigherEdLearningAidMenu.html dojo/_base/declare dijit/Menu dijit/MenuItem dijit/MenuSeparator".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a){return d("xl.player.HigherEdLearningAidMenu",[s,q,l,h,n,e],{templateString:b,baseClass:"xlQuestionHelp",postCreate:function(){this.inherited(arguments)},loadAndOpenDropDown:function(){var a=this.inherited(arguments),b=this;a.then(function(){(f("ie")||f("trident"))&&setTimeout(function(){b.dropDown.focus()},100)});return a}})})},"xl/player/HigherEdHeaderBar":function(){define("dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/focus dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/on dojo/touch dojo/text!./templates/HigherEdHeaderBar.html xl/player/_HeaderBarBase xl/dijit/Tooltip xl/dijit-bootstrap/bootstrapUtils xl/dijit-bootstrap/Button xl/util/array xl/util/stringUtils xl/util/localization!html5player/learningaids".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F){return h("xl.player.HigherEdHeaderBar",[t,s,q],{templateString:a,_assignmentTitleTooltip:null,_correctnessIconTooltip:null,_isQuiz:!1,_overviewTooltip:void 0,constructor:function(){this.inherited(arguments)},postCreate:function(){m.set(this.btnNext.domNode,{"aria-label":this.locPlayer["button.next_question"]});this.setToolTip(this.btnNext,this.locPlayer["button.next_question"],["below"]);m.set(this.btnPrev.domNode,{"aria-label":this.locPlayer["button.previous_question"]});
this.setToolTip(this.btnPrev,this.locPlayer["button.previous_question"]);this.setToolTip(this.itemPlayerSettings.domNode,this.locPlayer["button.settings"],["below"]);k(this.btnReturnToHWHigherEd,"click",f.hitch(this,this._sendReturnToHomeClickedMessage));this.inherited(arguments);this.correctnessIconHost=this.correctnessIcon},addSaveForLaterButton:function(a){if(!this._saveForLaterButton){var b="btnSaveForLater",b=a.style?b+(" "+a.style):b+" btn-primary",c=this,b=new D({label:a.label,onClick:function(a){a.targetButton=
this;c._controlButtonClicked(a)},stayDisabled:a.disabled,command:a.command,"class":b});m.set(b.domNode,{title:a.label});e.place(b.domNode,this.statusPanelButtonContainer,"first");b.startup();return this._saveForLaterButton=b}},blurNextButton:function(){this.btnNext.domNode.blur()},blurPreviousButton:function(){this.btnPrev.domNode.blur()},closeOverview:function(){m.set(this.btnOverview.domNode,"aria-expanded","false")},disableSkillBuilderControls:function(){b.set(this.btnReturnToHWHigherEd.domNode,
{display:"none"});b.set(this.btnClose.domNode,{display:"inline"});c.remove(this.statusPanel.domNode,"skillBuilder");c.remove(this.scores,"hidden");c.remove(this.assignmentTitle,"hidden");this._showOverviewButton();c.add(this.skillBuilderTitle,"hidden")},enableSkillBuilderControls:function(){b.set(this.btnReturnToHWHigherEd.domNode,{display:"inline"});b.set(this.btnClose.domNode,{display:"none"});c.add(this.statusPanel.domNode,"skillBuilder");c.add(this.numericItemTitle,"hidden");c.add(this.scores,
"hidden");c.add(this.assignmentTitle,"hidden");this.hideOverviewButton();c.remove(this.skillBuilderTitle,"hidden")},hideReturnToHomeworkAndNextPreviousButton:function(){this.btnReturnToHWHigherEd&&this.btnReturnToHWHigherEd.domNode&&b.set(this.btnReturnToHWHigherEd.domNode,{display:"none"});this.nextPrevPanel&&this.nextPrevPanel.domNode&&b.set(this.nextPrevPanel.domNode,{display:"none"})},focusOverviewButton:function(){l.focus(this.btnOverview.domNode)},hasSaveForLaterButton:function(){return!!this._saveForLaterButton},
hideAssignmentControls:function(){v.hide(this.btnPrev);v.hide(this.btnNext);v.hide(this.progressTextLeft);v.hide(this.btnOverview);v.hide(this.scores)},hideOverviewButton:function(){c.add(this.btnOverview.domNode,"hidden")},initDisplay:function(a){this.inherited(arguments);this.shouldHideAssignmentControls=a.hideAssignmentControls;this._isQuiz=a.isQuiz;this.updateStatusPanel(a.isQuiz?"Quiz":a.playMode);this.shouldHideAssignmentControls&&this.hideAssignmentControls()},openOverview:function(a){this.emit("openoverview");
m.set(this.btnOverview.domNode,"aria-expanded","true");n.stop(a)},setRemediationTitles:function(a){(this.skillBuilderTitle.innerHTML=a.value.title)&&c.remove(this.statusPanelSpacer,"hidden");this.btnReturnToHWHigherEd.set("label",a.value.buttonLabel)},setSaveForLaterButtonDisabled:function(a){this._saveForLaterButton&&this._saveForLaterButton.set("disabled",a)},setToolTip:function(a,b,c){return new u({connectId:a,label:b,position:c||["below","above"]})},updateEmbeddedAssignmentControls:function(a){this.isRemediationQuestion=
!!a.isRemediationQuestion;this.isRemediationQuestion||(this._updateAssignmentTitle(a.title),this._updateItemNavigation(a.index,a.components),this._updateScores(a.scores,a.assignmentType),this._attachButtonEventHandlers(),this._updateOverviewButton(a.overviewTitle))},updateOverviewText:function(a){var b=-1;this.numericItemTitle&&(b=this.numericItemTitle.innerText.length);if("undefined"!==typeof a.currentQuestion){a.isMedia&&c.add(this.progressText,"hidden");var d=this._getQuestionTypeString(a.isMedia),
e=this._getQuestionNumber(a.currentQuestion);("Test"===this.playMode||this._isQuiz)&&!this.isReview&&!this.isPreview?(a=f.replace(this.locPlayer["info.x_of_y"],[e,a.questionCount]),this.numericItemTitle.innerText=[d,a].join(" ")):!this.isRemediationQuestion&&!this.shouldHideAssignmentControls&&(d=[d,e].join(" "),this.statusTitle.innerText&&(d+=", "),this.numericItemTitle.innerText=d);-1!==b&&b<this.numericItemTitle.innerText.length&&(this.resize(),this.getViewer().resize())}},updateSkillBuilderNavigation:function(a){this.isRemediationQuestion&&
(a&&(a.showNext||a.showPrev)?(v.show(this.nextPrevPanel),v.setVisible(this.btnPrev.domNode,a.showPrev),v.setVisible(this.btnNext.domNode,a.showNext),this.btnPrev.set("disabled",!a.prevEnabled),this.btnNext.set("disabled",!a.nextEnabled)):v.hide(this.nextPrevPanel))},updateStatusPanel:function(a){switch(a){case "Test":c.add(this.statusPanel.domNode,"statusPanelTestMode");break;case "Quiz":c.add(this.statusPanel.domNode,"statusPanelQuizMode");break;case "Normal":c.add(this.statusPanel.domNode,"statusPanelStudyPlanMode");
break;default:c.add(this.statusPanel.domNode,"statusPanelDefaultMode")}c.toggle(this.statusPanel.domNode,"hidden",this.getViewer().isPreviewAndAddMode())},updateStatusPanelFromAction:function(a){this.statusPanel&&(!a.isGrammarApply&&!this.shouldHideAssignmentControls)&&(this._updateStatusProgressText(a.progressBarStatus),this._processStatusButtons(a.buttons))},updateTitle:function(a,b){this.inherited(arguments);this.statusTitle.innerHTML="";!this.isRemediationQuestion&&a&&(this.statusTitle.innerHTML=
'\x3cspan class\x3d"numericItemTitle"\x3e'+a+"\x3c/span\x3e");this.setToolTip(this.statusTitle,b||a)},_attachButtonEventHandlers:function(){if(!this._buttonEventHandlersAttached){var a=d("touch")?r.press:"click";this.own(k(this.btnOverview,a,f.hitch(this,this.openOverview)),k(this.btnClose,a,f.hitch(this,this.closeQuestion)),k(this.btnPrev,a,f.hitch(this,this.previousQuestion)),k(this.btnNext,a,f.hitch(this,this.nextQuestion)));this._buttonEventHandlersAttached=!0}},_formatEarnedScore:function(a){return a.toFixed(2).replace(/0+$/,
"").replace(/\.$/,"")},_getProgressText:function(){this.progressText&&c.add(this.progressText,"hidden");this.skillBuilderProgressText&&c.add(this.skillBuilderProgressText,"hidden");this.progressTextLeft&&c.add(this.progressTextLeft,"hidden");return this.isRemediationQuestion?this.skillBuilderProgressText:c.contains(this.nextPrevPanel,"hidden")?this.progressTextLeft:this.progressText},_getQuestionNumber:function(a){return void 0===a.number?a.index+1:a.number},_getQuestionTypeString:function(a){return a?
this.locPlayer.hasOwnProperty("acc.media")?this.locPlayer["acc.media"]:"Media":this.locPlayer["acc.question"]},_processStatusButtons:function(a){var b=this;z.forEach(a,function(a){"saveforlater"===a.command&&b.addSaveForLaterButton(a)})},_sendReturnToHomeClickedMessage:function(){this.emit("returntohomeclickedmessage",{command:"reloadquestion",commandArgs:{eventAction:"ReturnToHomeworkHeaderButton"}})},_showOverviewButton:function(){this._overviewButtonCanBeShown&&c.remove(this.btnOverview.domNode,
"hidden")},_showStatusText:function(a){return!this.getViewer().parentProblem&&a&&a.show&&1<a.progressMax},_updateAssignmentTitle:function(a){this.assignmentTitle.innerHTML=a;c.remove(this.assignmentTitle,"hidden");c.add(this.skillBuilderTitle,"hidden");a&&c.remove(this.statusPanelSpacer,"hidden");this._updateAssignmentTitleTooltip(a)},_updateAssignmentTitleTooltip:function(a){a?this._assignmentTitleTooltip?this._assignmentTitleTooltip.set("label",a):this._assignmentTitleTooltip=new u({connectId:this.assignmentTitle,
label:a,wrapperClass:"assignmentTitleTooltip",position:["below","above"]}):this._assignmentTitleTooltip&&(this._assignmentTitleTooltip.destroy(),this._assignmentTitleTooltip=null)},_updateItemNavigation:function(a,b){this.shouldHideAssignmentControls&&(b.navigation.hidden=!0);null!=a&&0<=a&&(this.btnPrev.set("disabled",!b.enabled||!b.prev.enabled),this.btnNext.set("disabled",!b.enabled||!b.next.enabled),b.navigation.hidden&&!this.isStopAndResume?v.hide(this.nextPrevPanel):v.show(this.nextPrevPanel))},
_updateOverviewButton:function(a){void 0===this._overviewTooltip&&(this._overviewButtonCanBeShown=!0,this._showOverviewButton(),this._overviewTooltip=this.setToolTip(this.btnOverview,a,["below"]),m.set(this.btnOverview.domNode,"aria-label",a+" "+F.pressEnter),m.set(this.btnOverview.domNode,"aria-expanded","false"))},_updateScores:function(a,b){var d=[];a&&a.item?(b&&b.isTest&&null!=a.item.possible?d=["\x3cb\x3e"+B.sentenceCase(this.locPlayer["info.this_question_label"])+"\x3c/b\x3e",f.replace(this.locPlayer["info.possible"],
[this._formatEarnedScore(a.item.possible),""])]:null!=a.item.earned&&null!=a.item.total&&(d=["\x3cb\x3e"+this.locPlayer["info.point_label"]+"\x3c/b\x3e",f.replace(this.locPlayer["info.x_of_y"],[this._formatEarnedScore(a.item.earned),a.item.total])]),d=d.join(" ")):d="";this.itemScore.innerHTML=d;b&&(!b.isReview&&b.isTest)&&c.add(this.correctnessIconHost,"hidden");d&&d.length?c.remove(this.itemScoreGroup,"hidden"):c.add(this.itemScoreGroup,"hidden");d=a&&a.overall?a.overall:"";(this.overallScore.innerHTML=
d)&&d.length?c.remove(this.overallScore,"hidden"):c.add(this.overallScore,"hidden")},_updateStatusProgressText:function(a){var b=this._getProgressText();b&&(this._showStatusText(a)?(b.innerHTML=f.replace(this.locPlayer["progress.status_string"],[a.currentProgress,a.progressMax]),c.remove(b,"hidden")):(b.innerHTML="",c.add(b,"hidden")),this.setHeaderFocus=!0)}})})},"xl/player/_HeaderBarBase":function(){define("dijit/_WidgetBase dijit/layout/_LayoutWidget dojo/_base/declare dojo/dom-class xl/player/controls/_NeedsPlayerViewer xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f){return l("xl.player._HeaderBarBase",[s,q,n],{isPreview:!1,isRemediationQuestion:!1,isReview:!1,isStopAndResume:!1,playMode:"",_correctness:null,_title:null,constructor:function(h){this.locPlayer=(h||{}).locPlayer||f},postCreate:function(){this.inherited(arguments)},addAdditionalSettings:function(f){},closeQuestion:function(){this.getViewer().closeQuestion()},giveUp:function(){this.getViewer().playActions([{action:"giveup"}])},initDisplay:function(f){this.isReview=f.isReview;
this.isStopAndResume=f.isStopAndResume;this.isPreview=f.isPreview;this.isRemediationQuestion=f.isRemediationQuestion;this.playMode=f.playMode;this.updateTitle(f.title,f.tooltip)},nextQuestion:function(){this.getViewer().nextQuestion()},previousQuestion:function(){this.getViewer().previousQuestion()},saveForLater:function(){this.getViewer().saveForLater()},sendAssignmentAction:function(f){this.getViewer().sendAssignmentAction(f)},updateAttempt:function(){},updateStatusPanelFromAction:function(f){},
updateTitle:function(f,c){this._title=f;this.statusTitle.innerHTML=f||"";this.statusTitle.title=c||""},_controlButtonClicked:function(f){f=f.targetButton.command;"nextquestion"===f?this.nextQuestion():"prevquestion"===f?this.previousQuestion():"saveforlater"===f?this.saveForLater():"giveup"===f?this.giveUp():"closequestion"===f&&this.closeQuestion()}})})},"xl/player/InteractiveAssignmentHeaderBar":function(){define("dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/focus dijit/popup dijit/TooltipDialog dojo/_base/config dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/keys dojo/on dojo/touch dojo/text!./templates/InteractiveAssignmentHeaderBar.html xl/player/_HeaderBarBase xl/dijit/Tooltip xl/dijit-bootstrap/bootstrapUtils xl/dijit-bootstrap/Button xl/util/array xl/util/localization!html5player/assessmentclient xl/util/localization!html5player/assignment xl/util/localization!html5player/learningaids".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E){return m("xl.player.InteractiveAssignmentHeaderBar",[z,s,q],{templateString:D,_assignmentTitleTooltip:null,_isQuiz:!1,_btnInformationTooltip:void 0,_informationParagraphTemplate:"\x3cp\x3e{0}\x3cbr /\x3e\x3cb\x3e{1}\x3c/b\x3e\x3c/p\x3e",constructor:function(a){this.inherited(arguments);this.locAssessmentClient=(a||{}).locAssessmentClient||w;this.locAssignment=(a||{}).locAssignment||C},postCreate:function(){this.setToolTip(this.itemPlayerSettings.domNode,
this.locPlayer["button.settings"],["below"]);u(this.btnReturnToHWHigherEd,"click",c.hitch(this,this._sendReturnToHomeClickedMessage));this.inherited(arguments);this.correctnessIconHost=this.correctnessIcon},addSaveForLaterButton:function(a){if(!this._saveForLaterButton){var c="btnSaveForLater",c=a.style?c+(" "+a.style):c+" btn-primary",d=this,c=new A({label:a.label,onClick:function(a){a.targetButton=this;d._controlButtonClicked(a)},stayDisabled:a.disabled,command:a.command,"class":c});b.set(c.domNode,
{title:a.label});k.place(c.domNode,this.statusPanelButtonContainer,"first");c.startup();return this._saveForLaterButton=c}},blurNextButton:function(){},blurPreviousButton:function(){},closeInformation:function(){this._btnInformationTooltip&&(h.close(this._btnInformationTooltip),b.set(this.btnInformation.domNode,"aria-expanded","false"),this.informationText.innerHTML=E.pressEnter)},closeOverview:function(){},disableSkillBuilderControls:function(){r.set(this.btnReturnToHWHigherEd.domNode,{display:"none"});
r.set(this.btnClose.domNode,{display:"inline"});d.remove(this.statusPanel.domNode,"skillBuilder");d.remove(this.scores,"hidden");d.remove(this.assignmentTitle,"hidden");d.add(this.skillBuilderTitle,"hidden")},enableSkillBuilderControls:function(){r.set(this.btnReturnToHWHigherEd.domNode,{display:"inline"});r.set(this.btnClose.domNode,{display:"none"});d.add(this.statusPanel.domNode,"skillBuilder");d.add(this.itemType,"hidden");d.add(this.scores,"hidden");d.add(this.assignmentTitle,"hidden");d.remove(this.skillBuilderTitle,
"hidden")},focusOverviewButton:function(){},hasSaveForLaterButton:function(){return!!this._saveForLaterButton},hideAssignmentControls:function(){F.hide(this.nextPrevPanel);F.hide(this.progressTextLeft);F.hide(this.scores)},hideOverviewButton:function(){},initDisplay:function(a){this.inherited(arguments);this.shouldHideAssignmentControls=a.hideAssignmentControls;this._isQuiz=a.isQuiz;this.updateStatusPanel(a.isQuiz?"Quiz":a.playMode);this.shouldHideAssignmentControls&&this.hideAssignmentControls()},
openInformation:function(){this._btnInformationTooltip&&(h.open({popup:this._btnInformationTooltip,around:this.btnInformation.domNode}),b.set(this.btnInformation.domNode,"aria-expanded","true"),l.focus(this.btnInformation.domNode),this.informationText.innerHTML=this._btnInformationTooltip.content)},openOverview:function(a){},setRemediationTitles:function(a){(this.skillBuilderTitle.innerHTML=a.value.title)&&d.remove(this.statusPanelSpacer,"hidden");this.btnReturnToHWHigherEd.set("label",a.value.buttonLabel)},
setSaveForLaterButtonDisabled:function(a){this._saveForLaterButton&&this._saveForLaterButton.set("disabled",a)},setToolTip:function(a,b,c){return new B({connectId:a,label:b,position:c||["below","above"]})},updateAttempt:function(a,b){this._updateInformationButton(a);this._updateItemType(a.items&&a.items[b.index])},updateEmbeddedAssignmentControls:function(a){this.isRemediationQuestion=!!a.isRemediationQuestion;this.isRemediationQuestion||(this._updateAssignmentTitle(a.title),this._updateItemNavigation(a.index,
a.components),this._updateScores(a.scores,a.assignmentType),this._attachButtonEventHandlers())},updateOverviewText:function(a){a.isMedia&&d.add(this._getProgressText(),"hidden");this._updateAssignmentProgressText(a)},updateSkillBuilderNavigation:function(a){this.isRemediationQuestion&&(a&&(a.showNext||a.showPrev)?F.show(this.nextPrevPanel):F.hide(this.nextPrevPanel))},updateStatusPanel:function(a){switch(a){case "Test":d.add(this.statusPanel.domNode,"statusPanelTestMode");break;case "Quiz":d.add(this.statusPanel.domNode,
"statusPanelQuizMode");break;case "Normal":d.add(this.statusPanel.domNode,"statusPanelStudyPlanMode");break;default:d.add(this.statusPanel.domNode,"statusPanelDefaultMode")}d.toggle(this.statusPanel.domNode,"hidden",this.getViewer().isPreviewAndAddMode())},updateStatusPanelFromAction:function(a){this.statusPanel&&(!a.isGrammarApply&&!this.shouldHideAssignmentControls)&&(this._updateProgressText(a.progressBarStatus),this._processStatusButtons(a.buttons))},updateTitle:function(a,b){},_attachButtonEventHandlers:function(){if(!this._buttonEventHandlersAttached){var b=
a("touch")?v.press:"click";this.own(u(this.btnClose,b,c.hitch(this,this.closeQuestion)),u(this.btnInformation,v.press,c.hitch(this,this._toggleInformation)),u(this.btnInformation,"mouseover",c.hitch(this,this.openInformation)),u(this.btnInformation,"keydown",c.hitch(this,this._handleInformationKeyDown)),u(this.btnInformation.domNode,"focus",c.hitch(this,this.openInformation)),u(this.btnInformation.domNode,"blur",c.hitch(this,this.closeInformation)));this._buttonEventHandlersAttached=!0}},_buildInformationContent:function(a){var b=
"";a.dateDueTimestamp&&(b+=c.replace(this._informationParagraphTemplate,[this.locAssignment.overviewDueDate,e.format(new Date(a.dateDueTimestamp),{formatLength:"short",locale:f.culture||"en-us"})]));a.settings&&a.settings.maxAttempts&&(a=c.replace(this.locAssessmentClient["info.x_per_question"]||"{0} per question",[a.settings.maxAttempts]),b+=c.replace(this._informationParagraphTemplate,[this.locAssessmentClient["info.attempts"]||"Attempts:",a]));return b},_getProgressText:function(){this.progressText&&
d.add(this.progressText,"hidden");this.skillBuilderProgressText&&d.add(this.skillBuilderProgressText,"hidden");this.progressTextLeft&&d.add(this.progressTextLeft,"hidden");return this.isRemediationQuestion?this.skillBuilderProgressText:d.contains(this.nextPrevPanel,"hidden")?this.progressTextLeft:this.progressText},_handleInformationKeyDown:function(a){switch(a.charCode||a.keyCode){case t.ESCAPE:this.closeInformation();break;case t.ENTER:case t.SPACE:this._toggleInformation()}},_processStatusButtons:function(a){var b=
this;x.forEach(a,function(a){"saveforlater"===a.command&&b.addSaveForLaterButton(a)})},_sendReturnToHomeClickedMessage:function(){this.emit("returntohomeclickedmessage",{command:"reloadquestion",commandArgs:{eventAction:"ReturnToHomeworkHeaderButton"}})},_showStatusText:function(a){return!this.getViewer().parentProblem&&a&&a.show&&1<a.progressMax},_toggleInformation:function(){"true"===b.get(this.btnInformation.domNode,"aria-expanded")?this.closeInformation():this.openInformation()},_toggleScoresDivider:function(){this.assignmentProgress&&
this.assignmentProgress.innerHTML&&this.overallScore&&this.overallScore.innerHTML?d.remove(this.scoresDivider,"hidden"):d.add(this.scoresDivider,"hidden")},_updateAssignmentProgressText:function(a){this.assignmentProgress.innerHTML="\x3cstrong\x3e"+(this.locAssignment.completed||"Completed")+":\x3c/strong\x3e "+c.replace(this.locPlayer["info.x_of_y"],[a.completedCount,a.questionCount]);this._toggleScoresDivider()},_updateAssignmentTitle:function(a){this.assignmentTitle.innerHTML=a;d.remove(this.assignmentTitle,
"hidden");d.add(this.skillBuilderTitle,"hidden");a&&d.remove(this.statusPanelSpacer,"hidden");this._updateAssignmentTitleTooltip(a)},_updateAssignmentTitleTooltip:function(a){a?this._assignmentTitleTooltip?this._assignmentTitleTooltip.set("label",a):this._assignmentTitleTooltip=new B({connectId:this.assignmentTitle,label:a,wrapperClass:"assignmentTitleTooltip",position:["below","above"]}):this._assignmentTitleTooltip&&(this._assignmentTitleTooltip.destroy(),this._assignmentTitleTooltip=null)},_updateInformationButton:function(a){(a=
this._buildInformationContent(a))?(d.remove(this.btnInformation,"hidden"),void 0===this._btnInformationTooltip&&(this._btnInformationTooltip=new n({content:a,label:"assignment information",baseClass:"btnInformationTooltip"}),this.own(u(this._btnInformationTooltip,v.press,function(a){a.preventDefault();a.stopPropagation()})),b.set(this.btnInformation.domNode,"aria-expanded","false"))):r.set(this.btnInformation.domNode,"visibility","hidden")},_updateItemNavigation:function(a,b){this.shouldHideAssignmentControls&&
(b.navigation.hidden=!0);null!=a&&0<=a&&(b.navigation.hidden&&!this.isStopAndResume?F.hide(this.nextPrevPanel):F.show(this.nextPrevPanel))},_updateItemType:function(a){a&&a.category&&("Other"===a.category?a=this.locPlayer["acc.media"]||"Media":(a="category."+a.category.toLowerCase(),a=w[a]),this.itemType.innerText=a)},_updateProgressText:function(a){var b=this._getProgressText();b&&(this._showStatusText(a)?(b.innerHTML=c.replace(this.locPlayer["progress.status_string"],[a.currentProgress,a.progressMax]),
d.remove(b,"hidden")):(b.innerHTML="",d.add(b,"hidden")),this.setHeaderFocus=!0)},_updateScores:function(a,b){var e="";if(a&&a.score)var e=c.replace(this.locAssessmentClient[0<a.totalPoints?"info.x_slash_y_pts":"info.x_slash_y_pt"],[a.totalScore,a.totalPoints]),f=c.replace(" ({0}%)",[a.score]),e="\x3cstrong\x3e"+this.locAssessmentClient["score.my_score"]+":\x3c/strong\x3e "+e+f;(this.overallScore.innerHTML=e)&&e.length?d.remove(this.overallScore,"hidden"):(d.add(this.overallScore,"hidden"),d.add(this.statusPanelSpacer,
"hidden"));this._toggleScoresDivider()}})})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(s,q,l,h,n,f,m,c,e){function b(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var f,k,l=e.charAt(0);e=e.length;var n=["abbr","wide","narrow"];switch(l){case "G":f=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":f=a.getFullYear();switch(e){case 1:break;
case 2:if(!c.fullYear){f=String(f);f=f.substr(f.length-2);break}default:k=!0}break;case "Q":case "q":f=Math.ceil((a.getMonth()+1)/3);k=!0;break;case "M":case "L":f=a.getMonth();3>e?(f+=1,k=!0):(l=["months","L"==l?"standAlone":"format",n[e-3]].join("-"),f=b[l][f]);break;case "w":f=r._getWeekOfYear(a,0);k=!0;break;case "d":f=a.getDate();k=!0;break;case "D":f=r._getDayOfYear(a);k=!0;break;case "e":case "c":if(f=a.getDay(),2>e){f=(f-h.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":f=a.getDay();3>e?(f+=
1,k=!0):(l=["days","c"==l?"standAlone":"format",n[e-3]].join("-"),f=b[l][f]);break;case "a":l=12>a.getHours()?"am":"pm";f=c[l]||b["dayPeriods-format-wide-"+l];break;case "h":case "H":case "K":case "k":k=a.getHours();switch(l){case "h":f=k%12||12;break;case "H":f=k;break;case "K":f=k%12;break;case "k":f=k||24}k=!0;break;case "m":f=a.getMinutes();k=!0;break;case "s":f=a.getSeconds();k=!0;break;case "S":f=Math.round(a.getMilliseconds()*Math.pow(10,e-3));k=!0;break;case "v":case "z":if(f=r._getZone(a,
!0,c))break;e=4;case "Z":l=r._getZone(a,!1,c);l=[0>=l?"+":"-",m.pad(Math.floor(Math.abs(l)/60),2),m.pad(Math.abs(l)%60,2)];4==e&&(l.splice(0,0,"GMT"),l.splice(3,0,":"));f=l.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+d);}k&&(f=m.pad(f,e));return f})}function d(a,b,c,d){var e=function(a){return a};b=b||e;c=c||e;d=d||e;var f=a.match(/(''|[^'])+/g),h="'"==a.charAt(0);q.forEach(f,function(a,d){a?(f[d]=(h?c:b)(a.replace(/''/g,"'")),h=!h):f[d]=""});return d(f.join(""))}
function k(a,b,c,d){d=f.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var f=d.length,h="",k="";c.strict?(1<f&&(h="0{"+(f-1)+"}"),2<f&&(k="0{"+(f-2)+"}")):(h="0?",k="0{0,2}");switch(e){case "y":e="\\d{2,4}";break;case "M":case "L":e=2<f?"\\S+?":"1[0-2]|"+h+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+k+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+h+"[1-9]";
break;case "E":case "e":case "c":e=".+?";break;case "h":e="1[0-2]|"+h+"[1-9]";break;case "k":e="1[01]|"+h+"\\d";break;case "H":e="1\\d|2[0-3]|"+h+"\\d";break;case "K":e="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+f+"}";break;case "a":f=c.am||b["dayPeriods-format-wide-am"];h=c.pm||b["dayPeriods-format-wide-pm"];e=f+"|"+h;c.strict||(f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),h!=h.toLowerCase()&&(e+="|"+h.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,
"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var r={};s.setObject(e.id.replace(/\//g,"."),r);r._getZone=function(a,b,c){return b?l.getTimezoneName(a):a.getTimezoneOffset()};r.format=function(a,c){c=c||{};var e=n.normalizeLocale(c.locale),f=c.formatLength||"short",e=r._getGregorianBundle(e),h=[],k=s.hitch(this,b,a,e,c);if("year"==c.selector)return d(e["dateFormatItem-yyyy"]||"yyyy",k);var l;"date"!=c.selector&&(l=c.timePattern||
e["timeFormat-"+f])&&h.push(d(l,k));"time"!=c.selector&&(l=c.datePattern||e["dateFormat-"+f])&&h.push(d(l,k));return 1==h.length?h[0]:e["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return h[b]})};r.regexp=function(a){return r._parseInfo(a).regexp};r._parseInfo=function(a){a=a||{};var b=n.normalizeLocale(a.locale),b=r._getGregorianBundle(b),c=a.formatLength||"short",e=a.datePattern||b["dateFormat-"+c],f=a.timePattern||b["timeFormat-"+c],c="date"==a.selector?e:"time"==a.selector?
f:b["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[f,e][b]}),h=[];return{regexp:d(c,s.hitch(this,k,h,b,a)),tokens:h,bundle:b}};r.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=r._parseInfo(b),e=d.tokens,f=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var h=["abbr","wide","narrow"],k=[1970,0,1,0,0,0,0],m="",c=q.every(c,function(a,c){if(!c)return!0;var d=e[c-1],l=d.length,d=d.charAt(0);switch(d){case "y":if(2!=
l&&b.strict)k[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),l=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),k[0]=a<d?l+a:l-100+a;else{if(b.strict)return!1;k[0]=a}break;case "M":case "L":if(2<l){if(l=f["months-"+("L"==d?"standAlone":"format")+"-"+h[l-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),l=q.map(l,function(a){return a.replace(".","").toLowerCase()})),a=q.indexOf(l,a),-1==a)return!1}else a--;k[1]=a;break;case "E":case "e":case "c":l=f["days-"+("c"==
d?"standAlone":"format")+"-"+h[l-3]].concat();b.strict||(a=a.toLowerCase(),l=q.map(l,function(a){return a.toLowerCase()}));a=q.indexOf(l,a);if(-1==a)return!1;break;case "D":k[1]=0;case "d":k[2]=a;break;case "a":l=b.am||f["dayPeriods-format-wide-am"];d=b.pm||f["dayPeriods-format-wide-pm"];if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();l=l.replace(n,"").toLowerCase();d=d.replace(n,"").toLowerCase()}if(b.strict&&a!=l&&a!=d)return!1;m=a==d?"p":a==l?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<
a)return!1;k[3]=a;break;case "m":k[4]=a;break;case "s":k[5]=a;break;case "S":k[6]=a}return!0}),d=+k[3];"p"===m&&12>d?k[3]=d+12:"a"===m&&12==d&&(k[3]=0);d=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);b.strict&&d.setFullYear(k[0]);var n=e.join(""),s=-1!=n.indexOf("d"),n=-1!=n.indexOf("M");if(!c||n&&d.getMonth()>k[1]||s&&d.getDate()>k[2])return null;if(n&&d.getMonth()<k[1]||s&&d.getDate()<k[2])d=l.add(d,"hour",1);return d};var a=[];r.addCustomFormats=function(b,c){a.push({pkg:b,name:c})};r._getGregorianBundle=
function(b){var c={};q.forEach(a,function(a){a=n.getLocalization(a.pkg,a.name,b);c=s.mixin(c,a)},this);return c};r.addCustomFormats(e.id.replace(/\/date\/locale$/,".cldr"),"gregorian");r.getNames=function(a,b,c,d){var e;d=r._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};r.isWeekend=function(a,b){var c=h.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&
d<=c.end};r._getDayOfYear=function(a){return l.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};r._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((r._getDayOfYear(a)+(c-b+7)%7-1)/7);c==b&&d++;return d};return r})},"dojo/date":function(){define(["./has","./_base/lang"],function(s,q){var l={getDaysInMonth:function(h){var n=h.getMonth();return 1==n&&l.isLeapYear(h)?29:[31,28,31,30,31,30,31,31,30,31,30,31][n]},isLeapYear:function(h){h=
h.getFullYear();return!(h%400)||!(h%4)&&!!(h%100)},getTimezoneName:function(h){var l=h.toString(),f="",m=l.indexOf("(");if(-1<m)f=l.substring(++m,l.indexOf(")"));else if(m=/([A-Z\/]+) \d{4}$/,l=l.match(m))f=l[1];else if(l=h.toLocaleString(),m=/ ([A-Z\/]+)$/,l=l.match(m))f=l[1];return"AM"==f||"PM"==f?"":f},compare:function(h,l,f){h=new Date(+h);l=new Date(+(l||new Date));"date"==f?(h.setHours(0,0,0,0),l.setHours(0,0,0,0)):"time"==f&&(h.setFullYear(0,0,0),l.setFullYear(0,0,0));return h>l?1:h<l?-1:0},
add:function(h,l,f){var m=new Date(+h),c=!1,e="Date";switch(l){case "day":break;case "weekday":var b;(l=f%5)?b=parseInt(f/5):(l=0<f?5:-5,b=0<f?(f-5)/5:(f+5)/5);var d=h.getDay(),k=0;6==d&&0<f?k=1:0==d&&0>f&&(k=-1);d+=l;if(0==d||6==d)k=0<f?2:-2;f=7*b+l+k;break;case "year":e="FullYear";c=!0;break;case "week":f*=7;break;case "quarter":f*=3;case "month":c=!0;e="Month";break;default:e="UTC"+l.charAt(0).toUpperCase()+l.substring(1)+"s"}if(e)m["set"+e](m["get"+e]()+f);c&&m.getDate()<h.getDate()&&m.setDate(0);
return m},difference:function(h,n,f){n=n||new Date;f=f||"day";var m=n.getFullYear()-h.getFullYear(),c=1;switch(f){case "quarter":h=h.getMonth();n=n.getMonth();h=Math.floor(h/3)+1;n=Math.floor(n/3)+1;c=n+4*m-h;break;case "weekday":m=Math.round(l.difference(h,n,"day"));f=parseInt(l.difference(h,n,"week"));c=m%7;if(0==c)m=5*f;else{var e=0,b=h.getDay();n=n.getDay();f=parseInt(m/7);c=m%7;h=new Date(h);h.setDate(h.getDate()+7*f);h=h.getDay();if(0<m)switch(!0){case 6==b:e=-1;break;case 0==b:e=0;break;case 6==
n:e=-1;break;case 0==n:e=-2;break;case 5<h+c:e=-2}else if(0>m)switch(!0){case 6==b:e=0;break;case 0==b:e=1;break;case 6==n:e=2;break;case 0==n:e=1;break;case 0>h+c:e=2}m=m+e-2*f}c=m;break;case "year":c=m;break;case "month":c=n.getMonth()-h.getMonth()+12*m;break;case "week":c=parseInt(l.difference(h,n,"day")/7);break;case "day":c/=24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=n.getTime()-h.getTime()}return Math.round(c)}};q.mixin(q.getObject("dojo.date",!0),l);
return l})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(s,q){var l={};s.setObject("dojo.cldr.supplemental",l);l.getFirstDayOfWeek=function(h){h={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,
py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[l._region(h)];return void 0===h?1:h};l._region=function(h){h=q.normalizeLocale(h);h=h.split("-");var l=h[1];l?4==l.length&&(l=h[2]):l={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",
fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",
mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",
ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",
crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",
khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",
nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",
teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[h[0]];return l};l.getWeekend=function(h){var n=l._region(h);h={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[n];n={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,
iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[n];void 0===h&&(h=6);void 0===n&&(n=0);return{start:h,end:n}};return l})},"dojo/cldr/nls/gregorian":function(){define({root:{"days-standAlone-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E",
eraNarrow:["BCE","CE"],"days-format-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","months-format-wide":"Month1 Month2 Month3 Month4 Month5 Month6 Month7 Month8 Month9 Month10 Month11 Month12".split(" "),"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})",
"dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":"Month1 Month2 Month3 Month4 Month5 Month6 Month7 Month8 Month9 Month10 Month11 Month12".split(" "),"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":"Month1 Month2 Month3 Month4 Month5 Month6 Month7 Month8 Month9 Month10 Month11 Month12".split(" "),
"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":"Month1 Month2 Month3 Month4 Month5 Month6 Month7 Month8 Month9 Month10 Month11 Month12".split(" "),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),
"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],eraAbbr:["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E",
"dateTimeFormat-full":"{1} {0}","field-day":"Day","days-format-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{1} {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),eraNames:["BCE",
"CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":"SMTWTFS".split(""),"days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"y-MM-dd","field-second":"Second","dateFormatItem-yMMMEd":"y MMM d, E","dateFormatItem-Ed":"d, E","dateTimeFormats-appendItem-Timezone":"{0} {1}",
"field-week":"Week","dateFormat-medium":"y MMM d","dayPeriods-format-narrow-pm":"PM","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-au":!0,"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dojo/cldr/nls/en/gregorian":function(){define({"dateFormatItem-Ehm":"E h:mm a",
"days-standAlone-short":"Su Mo Tu We Th Fr Sa".split(" "),"months-format-narrow":"JFMAMJJASOND".split(""),"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d",eraNarrow:["B","A"],"days-format-short":"Su Mo Tu We Th Fr Sa".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y","months-format-wide":"January February March April May June July August September October November December".split(" "),
"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":"January February March April May June July August September October November December".split(" "),"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter",
"4th quarter"],"dateFormatItem-yQQQQ":"QQQQ y","timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-H":"HH","months-standAlone-abbr":"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-Gy":"y G","dateFormatItem-M":"L","days-standAlone-wide":"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm",eraAbbr:["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a",
"dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"field-zone":"Time Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":"JFMAMJJASOND".split(""),"field-year-relative+-1":"Last year","field-month-relative+-1":"Last month",
"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-yMMMd":"MMM d, y",eraNames:["Before Christ","Anno Domini"],"days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})",
"dateFormatItem-EHm":"E HH:mm","dateFormat-short":"M/d/yy","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"MMM d, y","field-year-relative+0":"This year","field-week-relative+-1":"Last week",
"field-year-relative+1":"Next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM y G","field-week-relative+0":"This week","field-week-relative+1":"Next week"})},"xl/player/forms/HigherEdGradePanel":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/HigherEdGradePanel.html xl/player/forms/_GradePanelBase xl/util/localization!html5player/player xl/util/stringUtils".split(" "),
function(s,q,l,h,n,f,m){return s("xl.player.forms.HigherEdGradePanel",[n,q,l],{templateString:h,constructor:function(){this.inherited(arguments);this.textSubmitGrade=m.sentenceCase(f["button.submitgrade"])},updateDisplay:function(c,e){this.inherited(arguments);c.extraTitle&&(this.spanExtraTitle.innerHTML=c.extraTitle)}})})},"xl/nonamd/assessmentclient/loader":function(){var s="";"undefined"!==typeof window&&window&&(window.localStorage&&window.localStorage["acs-override-cdn"]?s=window.localStorage.getItem("acs-override-cdn").replace("assessmentclient.js",
"components.js"):window.dojoConfig&&window.dojoConfig.acVersionedUrl&&(s=window.dojoConfig.acVersionedUrl+"/components.js"));s=s?[["dojo/text!",s].join("")]:[];define(s,function(q){if(!q)return null;var l;l=document.createElement("script");l.type="text/javascript";l.textContent=q;document.getElementsByTagName("head")[0].appendChild(l);return null})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),function(s,q,l,h,n,
f,m,c){function e(a,b){var c=a.indexOf(b);return 0<=c?a.substring(c+1):""}function b(){return e(location.href,"#")}function d(){f.publish("/dojo/hashchange",b())}function k(){b()!==t&&(t=b(),d())}function r(a){if(u)if(u.isTransitioning())setTimeout(n.hitch(null,r,a),D);else{var b=u.iframe.location.href,c=b.indexOf("?");u.iframe.location.replace(b.substring(0,c)+"?"+a)}else location.replace("#"+a),!v&&k()}function a(){function a(){t=b();h=u?t:e(v.href,"?");k=!1;m=null}var c=document.createElement("iframe"),
f=l.dojoBlankHtmlUrl||q.toUrl("./resources/blank.html");l.useXDomain&&!l.dojoBlankHtmlUrl&&console.warn("dojo/hash: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl to the path on your domain to blank.html");c.id="dojo-hash-iframe";c.src=f+"?"+b();c.style.display="none";document.body.appendChild(c);this.iframe=s.global["dojo-hash-iframe"];var h,k,m,r,u,v=this.iframe.location;this.isTransitioning=function(){return k};this.pollLocation=
function(){if(!u)try{var l=e(v.href,"?");document.title!=r&&(r=this.iframe.document.title=document.title)}catch(q){u=!0,console.error("dojo/hash: Error adding history entry. Server unreachable.")}var s=b();if(k&&t===s)if(u||l===m)a(),d();else{setTimeout(n.hitch(this,this.pollLocation),0);return}else if(!(t===s&&(u||h===l))){if(t!==s){t=s;k=!0;m=s;c.src=f+"?"+m;u=!1;setTimeout(n.hitch(this,this.pollLocation),0);return}u||(location.href="#"+v.search.substring(1),a(),d())}setTimeout(n.hitch(this,this.pollLocation),
D)};a();setTimeout(n.hitch(this,this.pollLocation),D)}s.hash=function(a,c){if(!arguments.length)return b();"#"==a.charAt(0)&&(a=a.substring(1));c?r(a):location.href="#"+a;return a};var t,u,v,D=l.hashPollFrequency||100;m(function(){"onhashchange"in s.global&&(!c("ie")||8<=c("ie")&&"BackCompat"!=document.compatMode)?v=h.after(s.global,"onhashchange",d,!0):document.addEventListener?(t=b(),setInterval(k,D)):document.attachEvent&&(u=new a)});return s.hash})},"xl/dijit/_FullHeight":function(){define("dojo/_base/declare dojo/_base/lang dojo/window dojo/dom-style dijit/Destroyable dojo/on dojo/has dijit/Viewport dojo/topic".split(" "),
function(s,q,l,h,n,f,m,c,e){return s("xl.dijit._FullHeight",[n],{fullHeightEnabled:!0,offsetHeight:0,orientationChanged:!1,viewPortResizeCount:0,startup:function(){this._started||(this.inherited(arguments),this._adjustHeight())},getWindowBox:function(){return l.getBox()},getMinHeight:function(){return 0},getWindowHeight:function(){return Math.max(l.getBox().h,this.getMinHeight())},getWindowWidth:function(){return l.getBox().w},heightAdjusted:function(b){},_adjustHeight:function(){if(this.fullHeightEnabled&&
this.domNode){var b=this.getWindowHeight();this.resize?this.resize({h:b}):(h.set(this.domNode,{height:b+"px"}),window.document.body.scrollTop=0);this.heightAdjusted(b)}},_queueAdjustHeight:function(b){setTimeout(q.hitch(this,function(){this.viewPortResizeCount===b&&this._adjustHeight()}),500)},postCreate:function(){this.inherited(arguments);!m("android")&&!m("ios")&&this.own([c.on("resize",q.hitch(this,function(b){this.viewPortResizeCount+=1;this._queueAdjustHeight(this.viewPortResizeCount)}))]);
(m("android")||m("ios"))&&this.own([c.on("resize",q.hitch(this,function(b){this.orientationChanged&&(this._adjustHeight(),this.orientationChanged=!1)}))]);this.own([f(window,"orientationchange",q.hitch(this,function(b){this.orientationChanged=!0;var c=null;"undefined"!=typeof event?c=event:"undefined"!=typeof b&&(c=b);this._adjustHeight();this.fullHeightEnabled&&window.scrollTo(0,0);e.publish("fullHeightOrientationChanged",c)}))])}})})},"xl/paf/enums":function(){define([],function(){return{EVENT_PLAYER_READY:"PlayerReady",
EVENT_NODERESULT_RESPONSE:"NodeResultResponse",EVENT_SEQUENCENODE_LOADED:"SequenceNodeLoaded",EVENT_NAVIGATE:"Navigate",EVENT_SUBMITGRADE:"SubmitGrade",EVENT_MEDIANODERESULT:"MediaNodeResult",EVENT_PRINT_REQUEST:"PrintRequest",EVENT_ASSIGNMENT_COMMAND:"AssigmentCommand",EVENT_TOGGLE_UI:"ToggleUI",EVENT_ALLOW_CLOSE:"AllowClose",EVENT_TOGGLE_STANDBY:"ToggleStandby",EVENT_OPEN_OVERVIEW:"OpenOverview",EVENT_CLOSE_OVERVIEW:"CloseOverview",EVENT_CLOSE_ACTIVITY:"CloseActivity",EVENT_QUESTION_STATUS_CHANGED:"QuestionStatusChanged",
EVENT_LOAD_QUESTION:"LoadQuestion"}})},"xl/player/dialogs/KeyboardDialog":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-class dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/_base/array dojo/html dojo/query dojo/on dojo/_base/Deferred dojo/dom-geometry dojo/window dojo/topic dojo/keys dojo/has dojo/sniff xl/dijit-bootstrap/Button xl/util/stringUtils xl/player/controls/OnScreenKeyboard xl/util/eqEditorToolActions xl/player/controls/UIEqEditor xl/player/controls/_NeedsPlayerViewer".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x){return s("xl.player.dialogs.KeyboardDialog",[q,x],{osk:null,baseClass:"xlKeyboardDialog",_hostEditor:null,_cloneEditor:null,_editorDiv:null,_currentZoom:1,_lang:null,_initialized:!1,_toolButtonList:null,_moreToolButtonList:null,_defaultFontSize:null,_editorChangeEvent:null,liveEdit:!0,constructor:function(){this.contentString=""},setToolButtons:function(a){this.osk.toolButtonList!==a&&(this.osk.toolButtonList=a,this.invalidate())},setMoreToolButtons:function(a){this.osk.moreToolButtonList!==
a&&(this.osk.moreToolButtonList=a,this.invalidate())},setSiSemicolonDelimiter:function(a){a!==this.osk.siSemicolonDelimiter&&(this.osk.siSemicolonDelimiter=a,this.invalidate())},setShowToolButtons:function(a){a!==this.osk.showToolButtons&&(this.osk.showToolButtons=!0,this.invalidate())},_getHostParams:function(a){a=a.getEditor().initializationParameters;delete a.useOsk;delete a.id;a.isOSKEditor=!0;a.useVirtualClipboard=!0;a.bindKeyEvents=!1;return a},_createCloneEditor:function(a){a=new A(a);a.startup();
a.setDisableScrollIntoView(!0);this._editorChangeEvent=b(a,"eqeditor_change",f.hitch(this,this._editorChanged));return this._cloneEditor=a},_editorChanged:function(){this._checkSize();this.liveEdit&&this._hostEditor.replaceEqText(this._cloneEditor.getEqText())},_destroyCloneEditor:function(){this._editorChangeEvent&&(this._editorChangeEvent.remove(),this._editorChangeEvent=null);this._cloneEditor&&(this._cloneEditor.destroyRecursive(),this._cloneEditor=null)},setHost:function(a){this._hostEditor&&
this._hostEditor.domNode&&this._hostEditor.setOskFocused(!1);this._hostEditor=a;this._destroyCloneEditor();a=this._getHostParams(a);a=this._createCloneEditor(a);h.empty(this._editorDiv);h.place(a.domNode,this._editorDiv);this._defaultFontSize=n.get(a.domNode,"fontSize").replace("px","");this._setSizeFromZoom()},postCreate:function(){this.inherited(arguments);n.set(this.domNode,"width",this.width+"px");l.add(this.domNode,"dijitPopup hidden");this._editorDiv=h.create("div",{"class":"editor"},this.domNode);
this.osk=new B;h.place(this.osk.domNode,this.domNode);this.osk.startup();this.own(b(this.osk,"oskkey",f.hitch(this,this._oskKeyPressed)),b(this.osk,"oskcmd",f.hitch(this,this._oskCmdPressed)),b(this.domNode,"keypress",f.hitch(this,this._keyPressed)),b(this.domNode,"keydown",f.hitch(this,this._keyDown)));var c=this;a.subscribe("localizationChanged",function(){c.invalidate()})},invalidate:function(){this._initialized=!1},_keyDown:function(a){this._cloneEditor&&(this._cloneEditor.simulateKeyDownEvent(a),
this._cloneEditor.focus());a.keyCode===t.ENTER&&this._hostEditor&&this._hostEditor.simulateKeyDownEvent(a)},_keyPressed:function(a){if(u("ff")||u("opera"))if(a.ctrlKey||a.altKey||a.metaKey)return;a.charCode&&(this._oskKeyPressed({code:String.fromCharCode(a.charCode)}),a.preventDefault(),a.stopPropagation())},_delayedHide:function(a){a.stopPropagation();a.preventDefault();setTimeout(f.hitch(this,this.hide),100)},_oskKeyPressed:function(a){if(this._cloneEditor){var b=a.code;switch(a.code){case "Accept":this.liveEdit||
this._hostEditor.replaceEqText(this._cloneEditor.getEqText());this._delayedHide(a);break;case "Cancel":case "Hide":this._delayedHide(a);break;case "Enter":this._hostEditor.inputEntered&&this._hostEditor.inputEntered();break;case "Space":this._cloneEditorFocus(" ");break;default:this._cloneEditorFocus(b)}}},_cloneEditorFocus:function(a){this._cloneEditor.keyboardInput(a);this._cloneEditor.focus();this._cloneEditor.setFocused(!0)},_oskCmdPressed:function(a){if(this._cloneEditor){switch(a.cmd){case "magnifyglass":this._currentZoom=
a.data.zoomLevel;this._setSizeFromZoom(!0);this._checkSize();return;case "moretools":case "lesstools":this._checkSize();return;case "osksettings":(a=this.getViewer())&&a.playActions([{action:"changeuseosk"}]);return}F.action(a.cmd,this._cloneEditor);this._cloneEditor.focus();this._cloneEditor.setFocused(!0)}},_setSizeFromZoom:function(a){n.set(this._cloneEditor.domNode,"fontSize",this._defaultFontSize*(1===this._currentZoom?1.5:this._currentZoom)+"px");a&&this._cloneEditor.reLayout()},_checkSize:function(){var a=
k.getMarginBox(this.domNode);this._lastHeight!==a.h&&(this.emit("sizechanged",{height:a.h,lastHeight:this._lastHeight}),this._lastHeight=a.h)},show:function(){this._initialized||(this.osk.generateKeyboard(),this._initialized=!0);var a=this._hostEditor?this._hostEditor.getEqText():"";l.remove(this.domNode,"hidden");this.emit("show");this._cloneEditor&&(this._cloneEditor.setEqText(a),this._cloneEditor.setUndoSequence(this._hostEditor.getUndoSequence()));this._focusEditor()},hide:function(){l.add(this.domNode,
"hidden");this.emit("hide");this._hostEditor&&this._hostEditor.setOskFocused(!1);this._hostEditor=null},_focusEditor:function(){this._cloneEditor.focus();this._cloneEditor.setFocused(!0);this._hostEditor.setOskFocused(!0)},getHeight:function(){return k.getMarginBox(this.domNode).h},destroy:function(){this.inherited(arguments);this.osk&&this.osk.destroyRecursive();this._hostEditor=null;this._destroyCloneEditor()},getViewer:function(){this._playerViewer=null;return this.inherited(arguments)}})})},"xl/player/controls/OnScreenKeyboard":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/has dojo/on dijit/place dojo/dom-style dojo/io-query dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/event dojo/touch dojo/_base/config dojo/_base/xhr dijit/_TemplatedMixin dojo/text!./templates/OnScreenKeyboard.html xl/dijit-bootstrap/Button dijit/_WidgetsInTemplateMixin xl/util/eqEditorToolActions xl/util/mobileMethods xl/util/keyboardLoader xl/util/localization!html5player/player".split(" "),
function(s,q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H){return s("xl.player.controls.OnScreenKeyboard",[q,F,w],{baseClass:"xlOnScreenKeyboard",templateString:A,_alt:null,_shift:!1,_stickyKeys:null,_altKeys:null,maxZoom:3,_toolButtons:null,toolButtonList:null,moreToolButtonList:null,showToolButtons:!0,initialized:!1,_defaultOskActions:null,_keyboardLoader:null,constructor:function(){this._toolButtons=[];this._defaultOskActions=C.defaultActions.concat(["vcut","vcopy","vpaste","delete"]);this._keyboardLoader=
new J},postCreate:function(){this.inherited(arguments);E.preventDoubleTabZoom(this.domNode,this);E.preventDoubleTabZoom(this.defaultNode,this);E.preventDoubleTabZoom(this.moreNode,this)},generateKeyboard:function(){m.forEach(this._toolButtons,function(a){a.destroyRecursive()});this._shift=this._alt=null;this._createEditorActions();this._createKeyboard()},_createEditorActions:function(){l.empty(this.paletteNode);var a=l.create("div",{"class":"keyRow"},this.paletteNode);this._createCommand("magnifyglass",
a);if(this.showToolButtons&&this.toolButtonList&&(m.forEach(this.toolButtonList,function(b){this._createCommand(b,a)},this),this._createCommand("moretools",a),this._createCommand("osksettings",a),l.empty(this.morePaletteNode),this.moreToolButtonList)){var b=C.defaultMoreActions.concat(this.moreToolButtonList),c=l.create("div",{"class":"keyRow"});m.forEach(b,function(a){m.forEach(a,function(a){this._createCommand(a,c)},this)},this);this._createCommand("abctools",c);this._createKey({label:"",code:"Enter",
title:"osk.enterkey"},c);this._createKey({label:"",code:"Hide",title:"osk.hidekey"},c);l.place(c,this.morePaletteNode)}},_createPlaceholder:function(a){var b=new x({baseClass:"btn","class":"placeholder toolButton",innerHTML:"\x26nbsp;"});this._toolButtons.push(b);a.appendChild(b.domNode);b.startup()},_createCommand:function(a,b){"pair"==a&&this.siSemicolonDelimiter&&(a="pairalt");var c=C.getButtonInfo()[a];if(void 0!=c){var d="toolButton "+(c.className?c.className:"");switch(a){case "moretools":case "lesstools":case "abctools":case "osksettings":d+=
" toolHighlight";break;case "magnifyglass":d+=" icon1x"}var f=c.tip?c.tip:c.text?c.text:"",d=new x({baseClass:"btn","class":d,title:f,alt:f,innerHTML:c.text?c.text:"\x26nbsp;"});"magnifyglass"===a&&(d.domNode.zoom=1);d.domNode.cmd=c.cmd;b.appendChild(d.domNode);this._toolButtons.push(d);this.own(e(d,D.press,n.hitch(this,this._toolButtonClicked)));d.startup()}},_createKeyboard:function(){var a=this._keyboardLoader.getLayout();this._stickyKeys={};this._altKeys={};var b={};l.empty(this.keyboardNode);
var c=l.create("div",null,this.keyboardNode),d=l.create("div",{"class":"hidden"},this.keyboardNode),e=0;m.forEach(a.keys,function(a){var f=l.create("div",{"class":"keyRow"}),h=l.create("div",{"class":"keyRow"});m.forEach(a,function(a){var c=0<a.length?a[0]:"",d=1<a.length&&a[1]?a[1]:c,c=this._createKey(c,f),d=this._createKey(d,h);if(2<a.length&&a[2])for(var e in a[2]){b.hasOwnProperty(e)||(b[e]=[]);var k=a[2][e];0<k.length&&b[e].push({button:c,alt:k[0]});1<k.length&&b[e].push({button:d,alt:k[1]})}},
this);l.place(f,c);l.place(h,d);a=r.getMarginBox(f).w;a>e&&(e=a)},this);E.preventDoubleTabZoom(c,this);E.preventDoubleTabZoom(d,this);this.divKeys=c;this.divShiftKeys=d;this.altDefs=b},_createKey:function(a,b){if(null===a)return null;var c,d,f,h,k;"object"===typeof a?(c=a.label,d=a.code,f=a.isSticky,k=a.isAlt,h=a.title&&H[a.title]?H[a.title]:c?c:a.code):h=d=c=a;if(m.some(this._defaultOskActions,function(a){return a===d}))return this._createCommand(d,b),null;var q="";switch(d){case "Shift":case "AltGr":q=
"largeKey";break;case "Hide":case "Enter":q="largeKey toolHighlight"}q=new x({baseClass:"btn",innerHTML:c,title:h,alt:h,"class":"toolButton keyboard-"+d+" "+q});""===a&&(q.disabled=!0);q.domNode.code=d;"Hide"==d?this.own(e(q,D.release,n.hitch(this,this._buttonUp))):this.own(e(q,D.press,n.hitch(this,this._buttonClicked)));l.place(q.domNode,b);q.startup();if(f||"Shift"===d)this._stickyKeys.hasOwnProperty(d)||(this._stickyKeys[d]=[]),this._stickyKeys[d].push(q);if(k||"AltGr"===d)this._altKeys.hasOwnProperty(d)||
(this._altKeys[d]=[]),this._altKeys[d].push(q);this._toolButtons.push(q);return{node:q.domNode,label:c,code:d,title:h}},_buttonClicked:function(a){var b=a.currentTarget;b.blur();switch(b.code){case "Shift":this._shiftToggle();break;default:this.altDefs[b.code]?this._altToggle(b,b.code):(this._alt&&"Space"===b.code?this._emitKey(this._alt.code):this._emitKey(b.code),this._alt&&"AltGr"!==this._alt.code&&this._altToggle(this._alt.btn,this._alt.code))}a.preventDefault();a.stopPropagation()},_buttonUp:function(a){var b=
a.currentTarget;"Hide"==b.code&&(b.blur(),this._emitKey(b.code),a.preventDefault(),a.stopPropagation())},_toolToggle:function(){f.toggle(this.defaultNode,"hidden");f.toggle(this.moreNode,"hidden");this._toggleStickyClass("MoreTools")},_toolButtonClicked:function(a){var b=a.target.cmd?a.target.cmd:a.target.parentElement.cmd;a.target.blur();switch(b){case "moretools":case "lesstools":this._toolToggle();this._emitCommand(b);break;case "magnifyglass":var c=a.target.zoom,c=c+1>this.maxZoom?1:c+1;a.target.zoom=
c;f.remove(a.target,"icon1x icon2x icon3x");f.add(a.target,"icon"+c+"x");this._emitCommand(b,{zoomLevel:c});break;default:this._emitCommand(b)}a.preventDefault();a.stopPropagation()},_emitKey:function(a){this.emit("oskkey",{code:a})},_emitCommand:function(a,b){this.emit("oskcmd",{cmd:a,data:b})},_shiftToggle:function(){this._shift=!this._shift;f.toggle(this.divKeys,"hidden");f.toggle(this.divShiftKeys,"hidden");this._toggleStickyClass("Shift")},_altToggle:function(a,b){if(this._alt&&(m.forEach(this.altDefs[this._alt.code],
function(a){a.button.node.innerHTML=a.button.label;a.button.node.code=a.button.code;a.button.node.title=a.button.title;f.remove(a.button.node,"altKey")},this),this._toggleAltClass(this._alt.code),this._alt.code==b)){this._alt=null;return}m.forEach(this.altDefs[b],function(a){var b,c,d;"object"===typeof a.alt?(b=a.alt.label,c=a.alt.code,d=a.alt.title?a.alt.title:a.alt.code):d=c=b=a.alt;a=a.button.node;a.innerHTML=b;a.code=c;a.title=d;f.add(a,"altKey")},this);this._toggleAltClass(b);this._alt={btn:a,
code:b}},_toggleStickyClass:function(a){m.forEach(this._stickyKeys[a],function(a){f.toggle(a.domNode,"sticky")})},_toggleAltClass:function(a){m.forEach(this._altKeys[a],function(a){f.toggle(a.domNode,"altKey")})},siSemicolonDelimiter:!1,destroy:function(){this.inherited(arguments);m.forEach(this._toolButtons,function(a){a.destroyRecursive()})}})})},"xl/util/keyboardLoader":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/xhr dojo/_base/lang xl/util/logger dojo/_base/json xl/player/AssemblyInfo".split(" "),
function(s,q,l,h,n,f,m){return s("xl.util.keyboardLoader",null,{_defaultCulture:null,_loadedLayouts:null,_layoutMap:null,constructor:function(c){this._defaultCulture=c&&c.defaultCulture?c.defaultCulture:"en-us";this._loadedLayouts={};this._layoutMap={"en-us":"en-us","fr-fr":"fr-fr","de-de":"de-de","de-at":"de-de","fr-ca":"fr-ca","pt-br":"pt-br","en-gb":"en-gb","en-ie":"en-gb"}},_getHeaders:function(){return{"Content-Type":"application/json"}},_makeUrl:function(c){return q.keyboardLayoutsUrl+"/"+c+
".json"},_get:function(c){var e=null;if(!c)return null;c=c.toLowerCase();if(this._loadedLayouts[c])return this._loadedLayouts[c];var b=this;l.get({sync:!0,url:this._makeUrl(this._layoutMap[c]?this._layoutMap[c]:c),content:{clientVersion:m},handleAs:"json",headers:this._getHeaders()}).then(function(d){d&&(b._loadedLayouts[c]=d);e=d},function(b){console.log(b)});return e},getLayout:function(c){c||(c=q.culture);(c=this._get(c))||(c=this._get(this._defaultCulture));return c}})})},"url:xl/player/templates/PlayerViewer.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"offScreen" data-dojo-attach-point\x3d"commandAlert" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"mainPanel" data-dojo-type\x3d"dijit.layout.BorderContainer"\n         class\x3d"mainPanel" data-dojo-props\x3d"region:\'center\',liveSplitters:false, gutters:false"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"statusPanel" class\x3d"statusPanel" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'top\'"\x3e\n            \x3ctable class\x3d"nowrap valign-middle" role\x3d"presentation"\x3e\n                \x3ctr\x3e\n                    \x3ctd data-dojo-attach-point\x3d"statusTitleGroup" class\x3d"separatorRight"\x3e\n                        \x3cdiv class\x3d"statusTitleGroup"\x3e\n                            \x3cspan data-dojo-attach-point\x3d"iconResult" class\x3d"iconResult"\x3e\x3cspan class\x3d"offScreen" data-dojo-attach-point\x3d"accResult"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"statusTitle" data-dojo-attach-point\x3d"statusTitle"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                    \x3c/td\x3e\n                    \x3ctd\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"assignedMediaDropdown" data-dojo-type\x3d"xl.player.AssignedMediaDropdown" class\x3d"hidden" \x3e\x3c/div\x3e\n                    \x3c/td\x3e\n                    \x3ctd class\x3d"statusMenu" data-dojo-attach-point\x3d"menuHolder" style\x3d"display: none"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"menu" data-dojo-type\x3d"xl.player.PlayerMenu"\x3e\x3c/div\x3e\n                    \x3c/td\x3e\n                    \x3ctd data-dojo-attach-point\x3d"barMasteryGroup" style\x3d"display: none; padding-left: 10px;padding-right: 10px"\x3e\n                        \x3c!--div data-dojo-type\x3d"dijit.ProgressBar" data-dojo-attach-point\x3d"barMastery" data-dojo-props\x3d"maximum:1,value:0" style\x3d"width: 160px; padding-right: 10px; display: inline-block; vertical-align: middle" class\x3d"xlMasteryProgressBar"\x3e\x3c/div--\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"barMastery" class\x3d"xlSkillMeter"\x3e\x3c/div\x3e\n                        \x3cspan class\x3d"masteryMessage" data-dojo-attach-point\x3d"messageMastery" style\x3d"padding-left:10px"\x3e\x3c/span\x3e\n                    \x3c/td\x3e\n                    \x3ctd class\x3d"fullwidth" aria-hidden\x3d"true"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"gradePanel" style\x3d"display: none" data-dojo-type\x3d"xl.player.forms.GradePanel"\x3e\x3c/div\x3e\n                    \x3c/td\x3e\n                    \x3ctd\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"remediationButton" data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-attach-event\x3d"click:_onRemediationClick" class\x3d"hidden btnSkillBuilder"\x3e\x3c/button\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"connectToTutorButton" data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"hidden connectToTutorButton"\x3e\x3c/button\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"questionHelpMenu" data-dojo-type\x3d"xl.player.LearningAidMenu" style\x3d"display: none"\x3e\x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"itemPlayerSettings" data-dojo-type\x3d"xl.player.PlayerMenu" data-dojo-props\x3d"baseClass:\'xlPlayerOptions\'"\x3e\x3c/div\x3e\n                        \x3c!--div data-dojo-type\x3d"xl/dijit-bootstrap/Button" style\x3d"width: 100px;" data-dojo-attach-point\x3d"btnInputEntered" data-dojo-attach-event\x3d"click:inputEnteredButtonClick"\x3eInput\x3c/!--div--\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"externalPlayer" class\x3d"externalPlayer" data-dojo-type\x3d"xl.player.ExternalPlayer"\n            data-dojo-props\x3d"region:\'center\'" style\x3d"border: none"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"contentPanel" class\x3d"contentPanel" data-dojo-type\x3d"xl.player.ContentPanel"\n            data-dojo-props\x3d"region:\'center\'" style\x3d"border: none"\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"ariaContentHolder" class\x3d"hidden"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" class\x3d"palettePanel" data-dojo-attach-point\x3d"palettePanel"\n            data-dojo-props\x3d"region:\'bottom\',layoutPriority:3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"mathPalette" class\x3d"hidden" data-dojo-type\x3d"xl.player.controls.InlineMathPalette"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" class\x3d"messagePanel" data-dojo-props\x3d"region:\'bottom\',layoutPriority:2" data-dojo-attach-point\x3d"messagePanelContentPane"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"messagePanel"\x3e\x26nbsp;\x3c/div\x3e\n            \x3cbutton data-dojo-attach-point\x3d"helpButton" data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"questionIcon" data-dojo-props\x3d"baseClass:\'\'" data-dojo-attach-event\x3d"click:_onQuestionHelp" aria-label\x3d"Question Help" title\x3d"Question Help"\x3e\x26nbsp;\x3c/button\x3e\n        \x3c/div\x3e\n        \x3c!--\x3cdiv data-dojo-attach-point\x3d"controlPanel" class\x3d"controlPanel" data-dojo-type\x3d"xl.player.PlayerControlPanel" data-dojo-props\x3d"region:\'bottom\',layoutPriority:1"\n                 data-dojo-attach-event\x3d"onButtonClick:controlButtonClicked"\x3e\n        \x3c/div\x3e--\x3e\n        \x3cdiv data-dojo-attach-point\x3d"controlPanelContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \n    \x3c!--TODO - palettes should not be in template we should just create them in the code--\x3e\n    \x3c!--\x3cdiv data-dojo-attach-point\x3d"mathPalette" data-dojo-type\x3d"xl.player.controls.MathPalette" class\x3d"hidden" data-dojo-props\x3d"region:\'bottom\'"\x3e\x3c/div\x3e--\x3e\n\x3c/div\x3e\n',
"url:xl/player/dialogs/templates/FeedbackMessage.html":'\ufeff\x3cdiv class\x3d"dijitDialog feedbackDialog xlFocus" role\x3d"dialog" data-dojo-attach-point\x3d"dialogNode" aria-labelledby\x3d"${id}_title" aria-describedby\x3d"${id}_message" tabindex\x3d"-1"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"topTitleBar" class\x3d"topTitleBar"\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" role\x3d"button"\x3e\n            \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText"  role\x3d"button" tabindex\x3d"100" aria-hidden\x3d"true"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"titleBar"\x3e\n        \x3c!--\x3cspan class\x3d"titleIcon"\x3e\x3c/span\x3e--\x3e\n        \x3cspan data-dojo-attach-point\x3d"titleNode" id\x3d"${id}_title" tabindex\x3d"-1" role\x3d"heading" level\x3d"2" class\x3d"titleText"\x3e\x26nbsp;\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"messageHolder" style\x3d"display:none" id\x3d"${id}_message" class\x3d"messageHolder"\x3e\n        \x3cdiv class\x3d"messageBox framePanel" data-dojo-attach-point\x3d"containerNode"\x3e\n            \x3c!--put main content here--\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv style\x3d"text-align: center" data-dojo-attach-point\x3d"buttonBar" class\x3d"buttonBar" id\x3d"${id}_buttonBar"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"btnSimilar" class\x3d"hidden btn btn-default" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-props\x3d\'type:"button"\'\n                data-dojo-attach-event\x3d"onClick:similarClicked" tabindex\x3d"0"\x3e\n            Similar Exercise\n        \x3c/button\x3e\n        \x3cbutton data-dojo-attach-point\x3d"btnGuidedSolution" class\x3d"hidden btn btn-default btn-gs" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-props\x3d\'type:"button"\'\n                data-dojo-attach-event\x3d"onClick:gsClicked" tabindex\x3d"0"\x3e\n            GS\n        \x3c/button\x3e\n        \x3cbutton data-dojo-attach-point\x3d"btnSampleProblem" class\x3d"hidden btn btn-default btn-sp" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-props\x3d\'type:"button"\'\n                data-dojo-attach-event\x3d"onClick:spClicked" tabindex\x3d"0"\x3e\n            SP\n        \x3c/button\x3e\n        \x3cbutton data-dojo-attach-point\x3d"btnNextQuestion" class\x3d"hidden btn btn-primary" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-props\x3d\'type:"button"\'\n                data-dojo-attach-event\x3d"onClick:nextQuestionClicked" tabindex\x3d"0"\x3e\n            Next Question\n        \x3c/button\x3e\n        \x3cbutton data-dojo-attach-point\x3d"btnOk" class\x3d"btn btn-default" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-props\x3d\'type:"button"\'\n                data-dojo-attach-event\x3d"onClick:okClicked" tabindex\x3d"0"\x3e\n            OK\n        \x3c/button\x3e\n        \x3cbutton data-dojo-attach-point\x3d"btnRemediationQuestion" class\x3d"btn btn-default btnSkillBuilder" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-props\x3d\'type:"button"\'\n                data-dojo-attach-event\x3d"onClick:remediationQuestionClicked" tabindex\x3d"0"\x3e\n            OK\n        \x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${checkedChar}\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:xl/player/dialogs/templates/GraphPopup.html":"\ufeff","url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:xl/nonamd/ac/src/assessments-components.js":'/**\n *  PEARSON PROPRIETARY AND CONFIDENTIAL INFORMATION SUBJECT TO NDA\n *  Copyright \u00a9 2021 Pearson Education, Inc.\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains the property of\n * Pearson Education, Inc.  The intellectual and technical concepts contained\n * herein are proprietary to Pearson Education, Inc. and may be covered by U.S.\n * and Foreign Patents, patent applications, and are protected by trade secret\n * or copyright law.  Dissemination of this information, reproduction of this\n * material, and copying or distribution of this software is strictly forbidden\n * unless prior written permission is obtained from Pearson Education, Inc.\n* */\nvar AssessmentsComponents\x3dfunction(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i\x3d0;i\x3ce.length;i++){var n\x3de[i];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e\x26\x26i(t.prototype,e),n\x26\x26i(t,n),t}function r(t){return(r\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e,i){return(o\x3d"undefined"!\x3dtypeof Reflect\x26\x26Reflect.get?Reflect.get:function(t,e,i){var n\x3dfunction(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)\x26\x26null!\x3d\x3d(t\x3dr(t)););return t}(t,e);if(n){var o\x3dObject.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function s(t,e){return(s\x3dObject.setPrototypeOf||function(t,e){return t.__proto__\x3de,t})(t,e)}function a(t,e){if("function"!\x3dtypeof e\x26\x26null!\x3d\x3de)throw new TypeError("Super expression must either be null or a function");t.prototype\x3dObject.create(e\x26\x26e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e\x26\x26s(t,e)}function c(t){return(c\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(t){return typeof t}:function(t){return t\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26t.constructor\x3d\x3d\x3dSymbol\x26\x26t!\x3d\x3dSymbol.prototype?"symbol":typeof t})(t)}function u(t){if(void 0\x3d\x3d\x3dt)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}function l(t,e){return!e||"object"!\x3d\x3dc(e)\x26\x26"function"!\x3dtypeof e?u(t):e}function h(){return(h\x3dObject.assign||function(t){for(var e\x3d1;e\x3carguments.length;e++){var i\x3darguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)\x26\x26(t[n]\x3di[n])}return t}).apply(this,arguments)}var d\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(t){return typeof t}:function(t){return t\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26t.constructor\x3d\x3d\x3dSymbol\x26\x26t!\x3d\x3dSymbol.prototype?"symbol":typeof t},p\x3d"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof window?"undefined":d(window))\x26\x26"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof document?"undefined":d(document))\x26\x269\x3d\x3d\x3ddocument.nodeType;function f(t,e){t.prototype\x3dObject.create(e.prototype),t.prototype.constructor\x3dt,s(t,e)}var m\x3d{}.constructor;function g(t){if(null\x3d\x3dt||"object"!\x3dtypeof t)return t;if(Array.isArray(t))return t.map(g);if(t.constructor!\x3d\x3dm)return t;var e\x3d{};for(var i in t)e[i]\x3dg(t[i]);return e}function v(t,e,i){void 0\x3d\x3d\x3dt\x26\x26(t\x3d"unnamed");var n\x3di.jss,r\x3dg(e),o\x3dn.plugins.onCreateRule(t,r,i);return o||(t[0],null)}var y\x3dfunction(t,e){for(var i\x3d"",n\x3d0;n\x3ct.length\x26\x26"!important"!\x3d\x3dt[n];n++)i\x26\x26(i+\x3de),i+\x3dt[n];return i},x\x3dfunction(t,e){if(void 0\x3d\x3d\x3de\x26\x26(e\x3d!1),!Array.isArray(t))return t;var i\x3d"";if(Array.isArray(t[0]))for(var n\x3d0;n\x3ct.length\x26\x26"!important"!\x3d\x3dt[n];n++)i\x26\x26(i+\x3d", "),i+\x3dy(t[n]," ");else i\x3dy(t,", ");return e||"!important"!\x3d\x3dt[t.length-1]||(i+\x3d" !important"),i};function w(t){return t\x26\x26!1\x3d\x3d\x3dt.format?{linebreak:"",space:""}:{linebreak:"\\n",space:" "}}function C(t,e){for(var i\x3d"",n\x3d0;n\x3ce;n++)i+\x3d"  ";return i+t}function _(t,e,i){void 0\x3d\x3d\x3di\x26\x26(i\x3d{});var n\x3d"";if(!e)return n;var r\x3di.indent,o\x3dvoid 0\x3d\x3d\x3dr?0:r,s\x3de.fallbacks;!1\x3d\x3d\x3di.format\x26\x26(o\x3d-1/0);var a\x3dw(i),c\x3da.linebreak,u\x3da.space;if(t\x26\x26o++,s)if(Array.isArray(s))for(var l\x3d0;l\x3cs.length;l++){var h\x3ds[l];for(var d in h){var p\x3dh[d];null!\x3dp\x26\x26(n\x26\x26(n+\x3dc),n+\x3dC(d+":"+u+x(p)+";",o))}}else for(var f in s){var m\x3ds[f];null!\x3dm\x26\x26(n\x26\x26(n+\x3dc),n+\x3dC(f+":"+u+x(m)+";",o))}for(var g in e){var v\x3de[g];null!\x3dv\x26\x26"fallbacks"!\x3d\x3dg\x26\x26(n\x26\x26(n+\x3dc),n+\x3dC(g+":"+u+x(v)+";",o))}return(n||i.allowEmpty)\x26\x26t?(n\x26\x26(n\x3d""+c+n+c),C(""+t+u+"{"+n,--o)+C("}",o)):n}var E\x3d/([[\\].#*$\x3e\x3c+~\x3d|^:(),"\'`\\s])/g,b\x3d"undefined"!\x3dtypeof CSS\x26\x26CSS.escape,R\x3dfunction(t){return b?b(t):t.replace(E,"\\\\$1")},q\x3dfunction(){function t(t,e,i){this.type\x3d"style",this.isProcessed\x3d!1;var n\x3di.sheet,r\x3di.Renderer;this.key\x3dt,this.options\x3di,this.style\x3de,n?this.renderer\x3dn.renderer:r\x26\x26(this.renderer\x3dnew r)}return t.prototype.prop\x3dfunction(t,e,i){if(void 0\x3d\x3d\x3de)return this.style[t];var n\x3d!!i\x26\x26i.force;if(!n\x26\x26this.style[t]\x3d\x3d\x3de)return this;var r\x3de;i\x26\x26!1\x3d\x3d\x3di.process||(r\x3dthis.options.jss.plugins.onChangeValue(e,t,this));var o\x3dnull\x3d\x3dr||!1\x3d\x3d\x3dr,s\x3dt in this.style;if(o\x26\x26!s\x26\x26!n)return this;var a\x3do\x26\x26s;if(a?delete this.style[t]:this.style[t]\x3dr,this.renderable\x26\x26this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,r),this;var c\x3dthis.options.sheet;return c\x26\x26c.attached,this},t}(),k\x3dfunction(t){function e(e,i,n){var r;r\x3dt.call(this,e,i,n)||this;var o\x3dn.selector,s\x3dn.scoped,a\x3dn.sheet,c\x3dn.generateId;return o?r.selectorText\x3do:!1!\x3d\x3ds\x26\x26(r.id\x3dc(u(u(r)),a),r.selectorText\x3d"."+R(r.id)),r}f(e,t);var i\x3de.prototype;return i.applyTo\x3dfunction(t){var e\x3dthis.renderer;if(e){var i\x3dthis.toJSON();for(var n in i)e.setProperty(t,n,i[n])}return this},i.toJSON\x3dfunction(){var t\x3d{};for(var e in this.style){var i\x3dthis.style[e];"object"!\x3dtypeof i?t[e]\x3di:Array.isArray(i)\x26\x26(t[e]\x3dx(i))}return t},i.toString\x3dfunction(t){var e\x3dthis.options.sheet,i\x3d!!e\x26\x26e.options.link?h({},t,{allowEmpty:!0}):t;return _(this.selectorText,this.style,i)},n(e,[{key:"selector",set:function(t){if(t!\x3d\x3dthis.selectorText){this.selectorText\x3dt;var e\x3dthis.renderer,i\x3dthis.renderable;if(i\x26\x26e)e.setSelector(i,t)||e.replaceRule(i,this)}},get:function(){return this.selectorText}}]),e}(q),N\x3d{onCreateRule:function(t,e,i){return"@"\x3d\x3d\x3dt[0]||i.parent\x26\x26"keyframes"\x3d\x3d\x3di.parent.type?null:new k(t,e,i)}},T\x3d{indent:1,children:!0},S\x3d/@([\\w-]+)/,L\x3dfunction(){function t(t,e,i){this.type\x3d"conditional",this.isProcessed\x3d!1,this.key\x3dt;var n\x3dt.match(S);for(var r in this.at\x3dn?n[1]:"unknown",this.query\x3di.name||"@"+this.at,this.options\x3di,this.rules\x3dnew tt(h({},i,{parent:this})),e)this.rules.add(r,e[r]);this.rules.process()}var e\x3dt.prototype;return e.getRule\x3dfunction(t){return this.rules.get(t)},e.indexOf\x3dfunction(t){return this.rules.indexOf(t)},e.addRule\x3dfunction(t,e,i){var n\x3dthis.rules.add(t,e,i);return n?(this.options.jss.plugins.onProcessRule(n),n):null},e.toString\x3dfunction(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3dT);var e\x3dw(t).linebreak;if(null\x3d\x3dt.indent\x26\x26(t.indent\x3dT.indent),null\x3d\x3dt.children\x26\x26(t.children\x3dT.children),!1\x3d\x3d\x3dt.children)return this.query+" {}";var i\x3dthis.rules.toString(t);return i?this.query+" {"+e+i+e+"}":""},t}(),A\x3d/@media|@supports\\s+/,P\x3d{onCreateRule:function(t,e,i){return A.test(t)?new L(t,e,i):null}},D\x3d{indent:1,children:!0},B\x3d/@keyframes\\s+([\\w-]+)/,M\x3dfunction(){function t(t,e,i){this.type\x3d"keyframes",this.at\x3d"@keyframes",this.isProcessed\x3d!1;var n\x3dt.match(B);n\x26\x26n[1]?this.name\x3dn[1]:this.name\x3d"noname",this.key\x3dthis.type+"-"+this.name,this.options\x3di;var r\x3di.scoped,o\x3di.sheet,s\x3di.generateId;for(var a in this.id\x3d!1\x3d\x3d\x3dr?this.name:R(s(this,o)),this.rules\x3dnew tt(h({},i,{parent:this})),e)this.rules.add(a,e[a],h({},i,{parent:this}));this.rules.process()}return t.prototype.toString\x3dfunction(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3dD);var e\x3dw(t).linebreak;if(null\x3d\x3dt.indent\x26\x26(t.indent\x3dD.indent),null\x3d\x3dt.children\x26\x26(t.children\x3dD.children),!1\x3d\x3d\x3dt.children)return this.at+" "+this.id+" {}";var i\x3dthis.rules.toString(t);return i\x26\x26(i\x3d""+e+i+e),this.at+" "+this.id+" {"+i+"}"},t}(),O\x3d/@keyframes\\s+/,I\x3d/\\$([\\w-]+)/g,F\x3dfunction(t,e){return"string"\x3d\x3dtypeof t?t.replace(I,(function(t,i){return i in e?e[i]:t})):t},U\x3dfunction(t,e,i){var n\x3dt[e],r\x3dF(n,i);r!\x3d\x3dn\x26\x26(t[e]\x3dr)},V\x3d{onCreateRule:function(t,e,i){return"string"\x3d\x3dtypeof t\x26\x26O.test(t)?new M(t,e,i):null},onProcessStyle:function(t,e,i){return"style"\x3d\x3d\x3de.type\x26\x26i?("animation-name"in t\x26\x26U(t,"animation-name",i.keyframes),"animation"in t\x26\x26U(t,"animation",i.keyframes),t):t},onChangeValue:function(t,e,i){var n\x3di.options.sheet;if(!n)return t;switch(e){case"animation":case"animation-name":return F(t,n.keyframes);default:return t}}},H\x3dfunction(t){function e(){return t.apply(this,arguments)||this}return f(e,t),e.prototype.toString\x3dfunction(t){var e\x3dthis.options.sheet,i\x3d!!e\x26\x26e.options.link?h({},t,{allowEmpty:!0}):t;return _(this.key,this.style,i)},e}(q),j\x3d{onCreateRule:function(t,e,i){return i.parent\x26\x26"keyframes"\x3d\x3d\x3di.parent.type?new H(t,e,i):null}},W\x3dfunction(){function t(t,e,i){this.type\x3d"font-face",this.at\x3d"@font-face",this.isProcessed\x3d!1,this.key\x3dt,this.style\x3de,this.options\x3di}return t.prototype.toString\x3dfunction(t){var e\x3dw(t).linebreak;if(Array.isArray(this.style)){for(var i\x3d"",n\x3d0;n\x3cthis.style.length;n++)i+\x3d_(this.at,this.style[n]),this.style[n+1]\x26\x26(i+\x3de);return i}return _(this.at,this.style,t)},t}(),z\x3d/@font-face/,G\x3d{onCreateRule:function(t,e,i){return z.test(t)?new W(t,e,i):null}},X\x3dfunction(){function t(t,e,i){this.type\x3d"viewport",this.at\x3d"@viewport",this.isProcessed\x3d!1,this.key\x3dt,this.style\x3de,this.options\x3di}return t.prototype.toString\x3dfunction(t){return _(this.key,this.style,t)},t}(),Q\x3d{onCreateRule:function(t,e,i){return"@viewport"\x3d\x3d\x3dt||"@-ms-viewport"\x3d\x3d\x3dt?new X(t,e,i):null}},Y\x3dfunction(){function t(t,e,i){this.type\x3d"simple",this.isProcessed\x3d!1,this.key\x3dt,this.value\x3de,this.options\x3di}return t.prototype.toString\x3dfunction(t){if(Array.isArray(this.value)){for(var e\x3d"",i\x3d0;i\x3cthis.value.length;i++)e+\x3dthis.key+" "+this.value[i]+";",this.value[i+1]\x26\x26(e+\x3d"\\n");return e}return this.key+" "+this.value+";"},t}(),K\x3d{"@charset":!0,"@import":!0,"@namespace":!0},J\x3d[N,P,V,j,G,Q,{onCreateRule:function(t,e,i){return t in K?new Y(t,e,i):null}}],$\x3d{process:!0},Z\x3d{force:!0,process:!0},tt\x3dfunction(){function t(t){this.map\x3d{},this.raw\x3d{},this.index\x3d[],this.counter\x3d0,this.options\x3dt,this.classes\x3dt.classes,this.keyframes\x3dt.keyframes}var e\x3dt.prototype;return e.add\x3dfunction(t,e,i){var n\x3dthis.options,r\x3dn.parent,o\x3dn.sheet,s\x3dn.jss,a\x3dn.Renderer,c\x3dn.generateId,u\x3dn.scoped,l\x3dh({classes:this.classes,parent:r,sheet:o,jss:s,Renderer:a,generateId:c,scoped:u,name:t,keyframes:this.keyframes,selector:void 0},i),d\x3dt;t in this.raw\x26\x26(d\x3dt+"-d"+this.counter++),this.raw[d]\x3de,d in this.classes\x26\x26(l.selector\x3d"."+R(this.classes[d]));var p\x3dv(d,e,l);if(!p)return null;this.register(p);var f\x3dvoid 0\x3d\x3d\x3dl.index?this.index.length:l.index;return this.index.splice(f,0,p),p},e.get\x3dfunction(t){return this.map[t]},e.remove\x3dfunction(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf\x3dfunction(t){return this.index.indexOf(t)},e.process\x3dfunction(){var t\x3dthis.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register\x3dfunction(t){this.map[t.key]\x3dt,t instanceof k?(this.map[t.selector]\x3dt,t.id\x26\x26(this.classes[t.key]\x3dt.id)):t instanceof M\x26\x26this.keyframes\x26\x26(this.keyframes[t.name]\x3dt.id)},e.unregister\x3dfunction(t){delete this.map[t.key],t instanceof k?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof M\x26\x26delete this.keyframes[t.name]},e.update\x3dfunction(){var t,e,i;if("string"\x3d\x3dtypeof(arguments.length\x3c\x3d0?void 0:arguments[0])?(t\x3darguments.length\x3c\x3d0?void 0:arguments[0],e\x3darguments.length\x3c\x3d1?void 0:arguments[1],i\x3darguments.length\x3c\x3d2?void 0:arguments[2]):(e\x3darguments.length\x3c\x3d0?void 0:arguments[0],i\x3darguments.length\x3c\x3d1?void 0:arguments[1],t\x3dnull),t)this.updateOne(this.map[t],e,i);else for(var n\x3d0;n\x3cthis.index.length;n++)this.updateOne(this.index[n],e,i)},e.updateOne\x3dfunction(e,i,n){void 0\x3d\x3d\x3dn\x26\x26(n\x3d$);var r\x3dthis.options,o\x3dr.jss.plugins,s\x3dr.sheet;if(e.rules instanceof t)e.rules.update(i,n);else{var a\x3de.style;if(o.onUpdate(i,e,s,n),n.process\x26\x26a\x26\x26a!\x3d\x3de.style){for(var c in o.onProcessStyle(e.style,e,s),e.style){var u\x3de.style[c];u!\x3d\x3da[c]\x26\x26e.prop(c,u,Z)}for(var l in a){var h\x3de.style[l],d\x3da[l];null\x3d\x3dh\x26\x26h!\x3d\x3dd\x26\x26e.prop(l,null,Z)}}}},e.toString\x3dfunction(t){for(var e\x3d"",i\x3dthis.options.sheet,n\x3d!!i\x26\x26i.options.link,r\x3dw(t).linebreak,o\x3d0;o\x3cthis.index.length;o++){var s\x3dthis.index[o].toString(t);(s||n)\x26\x26(e\x26\x26(e+\x3dr),e+\x3ds)}return e},t}(),et\x3dfunction(){function t(t,e){for(var i in this.attached\x3d!1,this.deployed\x3d!1,this.classes\x3d{},this.keyframes\x3d{},this.options\x3dh({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer\x26\x26(this.renderer\x3dnew e.Renderer(this)),this.rules\x3dnew tt(this.options),t)this.rules.add(i,t[i]);this.rules.process()}var e\x3dt.prototype;return e.attach\x3dfunction(){return this.attached||(this.renderer\x26\x26this.renderer.attach(),this.attached\x3d!0,this.deployed||this.deploy()),this},e.detach\x3dfunction(){return this.attached?(this.renderer\x26\x26this.renderer.detach(),this.attached\x3d!1,this):this},e.addRule\x3dfunction(t,e,i){var n\x3dthis.queue;this.attached\x26\x26!n\x26\x26(this.queue\x3d[]);var r\x3dthis.rules.add(t,e,i);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(n?n.push(r):(this.insertRule(r),this.queue\x26\x26(this.queue.forEach(this.insertRule,this),this.queue\x3dvoid 0)),r):r:(this.deployed\x3d!1,r)):null},e.insertRule\x3dfunction(t){this.renderer\x26\x26this.renderer.insertRule(t)},e.addRules\x3dfunction(t,e){var i\x3d[];for(var n in t){var r\x3dthis.addRule(n,t[n],e);r\x26\x26i.push(r)}return i},e.getRule\x3dfunction(t){return this.rules.get(t)},e.deleteRule\x3dfunction(t){var e\x3d"object"\x3d\x3dtypeof t?t:this.rules.get(t);return!(!e||this.attached\x26\x26!e.renderable)\x26\x26(this.rules.remove(e),!(this.attached\x26\x26e.renderable\x26\x26this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf\x3dfunction(t){return this.rules.indexOf(t)},e.deploy\x3dfunction(){return this.renderer\x26\x26this.renderer.deploy(),this.deployed\x3d!0,this},e.update\x3dfunction(){var t;return(t\x3dthis.rules).update.apply(t,arguments),this},e.updateOne\x3dfunction(t,e,i){return this.rules.updateOne(t,e,i),this},e.toString\x3dfunction(t){return this.rules.toString(t)},t}(),it\x3dfunction(){function t(){this.plugins\x3d{internal:[],external:[]},this.registry\x3d{}}var e\x3dt.prototype;return e.onCreateRule\x3dfunction(t,e,i){for(var n\x3d0;n\x3cthis.registry.onCreateRule.length;n++){var r\x3dthis.registry.onCreateRule[n](t,e,i);if(r)return r}return null},e.onProcessRule\x3dfunction(t){if(!t.isProcessed){for(var e\x3dt.options.sheet,i\x3d0;i\x3cthis.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](t,e);t.style\x26\x26this.onProcessStyle(t.style,t,e),t.isProcessed\x3d!0}},e.onProcessStyle\x3dfunction(t,e,i){for(var n\x3d0;n\x3cthis.registry.onProcessStyle.length;n++)e.style\x3dthis.registry.onProcessStyle[n](e.style,e,i)},e.onProcessSheet\x3dfunction(t){for(var e\x3d0;e\x3cthis.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate\x3dfunction(t,e,i,n){for(var r\x3d0;r\x3cthis.registry.onUpdate.length;r++)this.registry.onUpdate[r](t,e,i,n)},e.onChangeValue\x3dfunction(t,e,i){for(var n\x3dt,r\x3d0;r\x3cthis.registry.onChangeValue.length;r++)n\x3dthis.registry.onChangeValue[r](n,e,i);return n},e.use\x3dfunction(t,e){void 0\x3d\x3d\x3de\x26\x26(e\x3d{queue:"external"});var i\x3dthis.plugins[e.queue];-1\x3d\x3d\x3di.indexOf(t)\x26\x26(i.push(t),this.registry\x3d[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var i in e)i in t\x26\x26t[i].push(e[i]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),nt\x3dnew(function(){function t(){this.registry\x3d[]}var e\x3dt.prototype;return e.add\x3dfunction(t){var e\x3dthis.registry,i\x3dt.options.index;if(-1\x3d\x3d\x3de.indexOf(t))if(0\x3d\x3d\x3de.length||i\x3e\x3dthis.index)e.push(t);else for(var n\x3d0;n\x3ce.length;n++)if(e[n].options.index\x3ei)return void e.splice(n,0,t)},e.reset\x3dfunction(){this.registry\x3d[]},e.remove\x3dfunction(t){var e\x3dthis.registry.indexOf(t);this.registry.splice(e,1)},e.toString\x3dfunction(t){for(var e\x3dvoid 0\x3d\x3d\x3dt?{}:t,i\x3de.attached,n\x3dfunction(t,e){if(null\x3d\x3dt)return{};var i,n,r\x3d{},o\x3dObject.keys(t);for(n\x3d0;n\x3co.length;n++)i\x3do[n],e.indexOf(i)\x3e\x3d0||(r[i]\x3dt[i]);return r}(e,["attached"]),r\x3dw(n).linebreak,o\x3d"",s\x3d0;s\x3cthis.registry.length;s++){var a\x3dthis.registry[s];null!\x3di\x26\x26a.attached!\x3d\x3di||(o\x26\x26(o+\x3dr),o+\x3da.toString(n))}return o},n(t,[{key:"index",get:function(){return 0\x3d\x3d\x3dthis.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),rt\x3d"undefined"!\x3dtypeof globalThis?globalThis:"undefined"!\x3dtypeof window\x26\x26window.Math\x3d\x3d\x3dMath?window:"undefined"!\x3dtypeof self\x26\x26self.Math\x3d\x3d\x3dMath?self:Function("return this")(),ot\x3d"2f1acc6c3a606b082e5eef5e54414ffb";null\x3d\x3drt[ot]\x26\x26(rt[ot]\x3d0);var st\x3drt[ot]++,at\x3dfunction(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3d{});var e\x3d0;return function(i,n){e+\x3d1;var r\x3d"",o\x3d"";return n\x26\x26(n.options.classNamePrefix\x26\x26(o\x3dn.options.classNamePrefix),null!\x3dn.options.jss.id\x26\x26(r\x3dString(n.options.jss.id))),t.minify?""+(o||"c")+st+r+e:o+i.key+"-"+st+(r?"-"+r:"")+"-"+e}},ct\x3dfunction(t){var e;return function(){return e||(e\x3dt()),e}},ut\x3dfunction(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(t){return""}},lt\x3dfunction(t,e,i){try{var n\x3di;if(Array.isArray(i)\x26\x26(n\x3dx(i,!0),"!important"\x3d\x3d\x3di[i.length-1]))return t.style.setProperty(e,n,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,n):t.style.setProperty(e,n)}catch(t){return!1}return!0},ht\x3dfunction(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(t){}},dt\x3dfunction(t,e){return t.selectorText\x3de,t.selectorText\x3d\x3d\x3de},pt\x3dct((function(){return document.querySelector("head")}));function ft(t){var e\x3dnt.registry;if(e.length\x3e0){var i\x3dfunction(t,e){for(var i\x3d0;i\x3ct.length;i++){var n\x3dt[i];if(n.attached\x26\x26n.options.index\x3ee.index\x26\x26n.options.insertionPoint\x3d\x3d\x3de.insertionPoint)return n}return null}(e,t);if(i\x26\x26i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element};if((i\x3dfunction(t,e){for(var i\x3dt.length-1;i\x3e\x3d0;i--){var n\x3dt[i];if(n.attached\x26\x26n.options.insertionPoint\x3d\x3d\x3de.insertionPoint)return n}return null}(e,t))\x26\x26i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element.nextSibling}}var n\x3dt.insertionPoint;if(n\x26\x26"string"\x3d\x3dtypeof n){var r\x3dfunction(t){for(var e\x3dpt(),i\x3d0;i\x3ce.childNodes.length;i++){var n\x3de.childNodes[i];if(8\x3d\x3d\x3dn.nodeType\x26\x26n.nodeValue.trim()\x3d\x3d\x3dt)return n}return null}(n);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var mt\x3dct((function(){var t\x3ddocument.querySelector(\'meta[property\x3d"csp-nonce"]\');return t?t.getAttribute("content"):null})),gt\x3dfunction(t,e,i){try{"insertRule"in t?t.insertRule(e,i):"appendRule"in t\x26\x26t.appendRule(e)}catch(t){return!1}return t.cssRules[i]},vt\x3dfunction(t,e){var i\x3dt.cssRules.length;return void 0\x3d\x3d\x3de||e\x3ei?i:e},yt\x3dfunction(){function t(t){this.getPropertyValue\x3dut,this.setProperty\x3dlt,this.removeProperty\x3dht,this.setSelector\x3ddt,this.hasInsertedRules\x3d!1,this.cssRules\x3d[],t\x26\x26nt.add(t),this.sheet\x3dt;var e\x3dthis.sheet?this.sheet.options:{},i\x3de.media,n\x3de.meta,r\x3de.element;this.element\x3dr||function(){var t\x3ddocument.createElement("style");return t.textContent\x3d"\\n",t}(),this.element.setAttribute("data-jss",""),i\x26\x26this.element.setAttribute("media",i),n\x26\x26this.element.setAttribute("data-meta",n);var o\x3dmt();o\x26\x26this.element.setAttribute("nonce",o)}var e\x3dt.prototype;return e.attach\x3dfunction(){if(!this.element.parentNode\x26\x26this.sheet){!function(t,e){var i\x3de.insertionPoint,n\x3dft(e);if(!1!\x3d\x3dn\x26\x26n.parent)n.parent.insertBefore(t,n.node);else if(i\x26\x26"number"\x3d\x3dtypeof i.nodeType){var r\x3di,o\x3dr.parentNode;o\x26\x26o.insertBefore(t,r.nextSibling)}else pt().appendChild(t)}(this.element,this.sheet.options);var t\x3dBoolean(this.sheet\x26\x26this.sheet.deployed);this.hasInsertedRules\x26\x26t\x26\x26(this.hasInsertedRules\x3d!1,this.deploy())}},e.detach\x3dfunction(){if(this.sheet){var t\x3dthis.element.parentNode;t\x26\x26t.removeChild(this.element),this.sheet.options.link\x26\x26(this.cssRules\x3d[],this.element.textContent\x3d"\\n")}},e.deploy\x3dfunction(){var t\x3dthis.sheet;t\x26\x26(t.options.link?this.insertRules(t.rules):this.element.textContent\x3d"\\n"+t.toString()+"\\n")},e.insertRules\x3dfunction(t,e){for(var i\x3d0;i\x3ct.index.length;i++)this.insertRule(t.index[i],i,e)},e.insertRule\x3dfunction(t,e,i){if(void 0\x3d\x3d\x3di\x26\x26(i\x3dthis.element.sheet),t.rules){var n\x3dt,r\x3di;if("conditional"\x3d\x3d\x3dt.type||"keyframes"\x3d\x3d\x3dt.type){var o\x3dvt(i,e);if(!1\x3d\x3d\x3d(r\x3dgt(i,n.toString({children:!1}),o)))return!1;this.refCssRule(t,o,r)}return this.insertRules(n.rules,r),r}var s\x3dt.toString();if(!s)return!1;var a\x3dvt(i,e),c\x3dgt(i,s,a);return!1!\x3d\x3dc\x26\x26(this.hasInsertedRules\x3d!0,this.refCssRule(t,a,c),c)},e.refCssRule\x3dfunction(t,e,i){t.renderable\x3di,t.options.parent instanceof et\x26\x26(this.cssRules[e]\x3di)},e.deleteRule\x3dfunction(t){var e\x3dthis.element.sheet,i\x3dthis.indexOf(t);return-1!\x3d\x3di\x26\x26(e.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf\x3dfunction(t){return this.cssRules.indexOf(t)},e.replaceRule\x3dfunction(t,e){var i\x3dthis.indexOf(t);return-1!\x3d\x3di\x26\x26(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(e,i))},e.getRules\x3dfunction(){return this.element.sheet.cssRules},t}(),xt\x3d0,wt\x3dfunction(){function t(t){this.id\x3dxt++,this.version\x3d"10.8.0",this.plugins\x3dnew it,this.options\x3d{id:{minify:!1},createGenerateId:at,Renderer:p?yt:null,plugins:[]},this.generateId\x3dat({minify:!1});for(var e\x3d0;e\x3cJ.length;e++)this.plugins.use(J[e],{queue:"internal"});this.setup(t)}var e\x3dt.prototype;return e.setup\x3dfunction(t){return void 0\x3d\x3d\x3dt\x26\x26(t\x3d{}),t.createGenerateId\x26\x26(this.options.createGenerateId\x3dt.createGenerateId),t.id\x26\x26(this.options.id\x3dh({},this.options.id,t.id)),(t.createGenerateId||t.id)\x26\x26(this.generateId\x3dthis.options.createGenerateId(this.options.id)),null!\x3dt.insertionPoint\x26\x26(this.options.insertionPoint\x3dt.insertionPoint),"Renderer"in t\x26\x26(this.options.Renderer\x3dt.Renderer),t.plugins\x26\x26this.use.apply(this,t.plugins),this},e.createStyleSheet\x3dfunction(t,e){void 0\x3d\x3d\x3de\x26\x26(e\x3d{});var i\x3de.index;"number"!\x3dtypeof i\x26\x26(i\x3d0\x3d\x3d\x3dnt.index?0:nt.index+1);var n\x3dnew et(t,h({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:i}));return this.plugins.onProcessSheet(n),n},e.removeStyleSheet\x3dfunction(t){return t.detach(),nt.remove(t),this},e.createRule\x3dfunction(t,e,i){if(void 0\x3d\x3d\x3de\x26\x26(e\x3d{}),void 0\x3d\x3d\x3di\x26\x26(i\x3d{}),"object"\x3d\x3dtypeof t)return this.createRule(void 0,t,e);var n\x3dh({},i,{name:t,jss:this,Renderer:this.options.Renderer});n.generateId||(n.generateId\x3dthis.generateId),n.classes||(n.classes\x3d{}),n.keyframes||(n.keyframes\x3d{});var r\x3dv(t,e,n);return r\x26\x26this.plugins.onProcessRule(r),r},e.use\x3dfunction(){for(var t\x3dthis,e\x3darguments.length,i\x3dnew Array(e),n\x3d0;n\x3ce;n++)i[n]\x3darguments[n];return i.forEach((function(e){t.plugins.use(e)})),this},t}(),Ct\x3dfunction(t){return new wt(t)},_t\x3d"object"\x3d\x3dtypeof CSS\x26\x26null!\x3dCSS\x26\x26"number"in CSS;\n/**\n   * A better abstraction over CSS.\n   *\n   * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n   * @website https://github.com/cssinjs/jss\n   * @license MIT\n   */\nCt();var Et\x3dDate.now(),bt\x3d"fnValues"+Et,Rt\x3d"fnStyle"+ ++Et;var qt\x3dfunction(t){var e,i\x3dt.Symbol;return"function"\x3d\x3dtypeof i?i.observable?e\x3di.observable:(e\x3di("observable"),i.observable\x3de):e\x3d"@@observable",e}("undefined"!\x3dtypeof self?self:"undefined"!\x3dtypeof window?window:"undefined"!\x3dtypeof global?global:"undefined"!\x3dtypeof module?module:Function("return this")()),kt\x3dfunction(t){return t\x26\x26t[qt]\x26\x26t\x3d\x3d\x3dt[qt]()},Nt\x3d/;\\n/,Tt\x3dfunction(t){"string"\x3d\x3dtypeof t.style\x26\x26(t.style\x3dfunction(t){for(var e\x3d{},i\x3dt.split(Nt),n\x3d0;n\x3ci.length;n++){var r\x3d(i[n]||"").trim();if(r){var o\x3dr.indexOf(":");if(-1!\x3d\x3do){var s\x3dr.substr(0,o).trim(),a\x3dr.substr(o+1).trim();e[s]\x3da}}}return e}(t.style))};var St\x3d"@global",Lt\x3dfunction(){function t(t,e,i){for(var n in this.type\x3d"global",this.at\x3dSt,this.isProcessed\x3d!1,this.key\x3dt,this.options\x3di,this.rules\x3dnew tt(h({},i,{parent:this})),e)this.rules.add(n,e[n]);this.rules.process()}var e\x3dt.prototype;return e.getRule\x3dfunction(t){return this.rules.get(t)},e.addRule\x3dfunction(t,e,i){var n\x3dthis.rules.add(t,e,i);return n\x26\x26this.options.jss.plugins.onProcessRule(n),n},e.indexOf\x3dfunction(t){return this.rules.indexOf(t)},e.toString\x3dfunction(){return this.rules.toString()},t}(),At\x3dfunction(){function t(t,e,i){this.type\x3d"global",this.at\x3dSt,this.isProcessed\x3d!1,this.key\x3dt,this.options\x3di;var n\x3dt.substr("@global ".length);this.rule\x3di.jss.createRule(n,e,h({},i,{parent:this}))}return t.prototype.toString\x3dfunction(t){return this.rule?this.rule.toString(t):""},t}(),Pt\x3d/\\s*,\\s*/g;function Dt(t,e){for(var i\x3dt.split(Pt),n\x3d"",r\x3d0;r\x3ci.length;r++)n+\x3de+" "+i[r].trim(),i[r+1]\x26\x26(n+\x3d", ");return n}function Bt(){return{onCreateRule:function(t,e,i){if(!t)return null;if(t\x3d\x3d\x3dSt)return new Lt(t,e,i);if("@"\x3d\x3d\x3dt[0]\x26\x26"@global "\x3d\x3d\x3dt.substr(0,"@global ".length))return new At(t,e,i);var n\x3di.parent;return n\x26\x26("global"\x3d\x3d\x3dn.type||n.options.parent\x26\x26"global"\x3d\x3d\x3dn.options.parent.type)\x26\x26(i.scoped\x3d!1),!1\x3d\x3d\x3di.scoped\x26\x26(i.selector\x3dt),null},onProcessRule:function(t,e){"style"\x3d\x3d\x3dt.type\x26\x26e\x26\x26(function(t,e){var i\x3dt.options,n\x3dt.style,r\x3dn?n[St]:null;if(r){for(var o in r)e.addRule(o,r[o],h({},i,{selector:Dt(o,t.selector)}));delete n[St]}}(t,e),function(t,e){var i\x3dt.options,n\x3dt.style;for(var r in n)if("@"\x3d\x3d\x3dr[0]\x26\x26r.substr(0,St.length)\x3d\x3d\x3dSt){var o\x3dDt(r.substr(St.length),t.selector);e.addRule(o,n[r],h({},i,{selector:o})),delete n[r]}}(t,e))}}}var Mt\x3dfunction(t){return t\x26\x26"object"\x3d\x3dtypeof t\x26\x26!Array.isArray(t)},Ot\x3d"extendCurrValue"+Date.now();function It(t,e,i,n){return void 0\x3d\x3d\x3dn\x26\x26(n\x3d{}),function(t,e,i,n){if("string"!\x3d\x3dtypeof t.extend)if(Array.isArray(t.extend))for(var r\x3d0;r\x3ct.extend.length;r++){var o\x3dt.extend[r];It("string"\x3d\x3dtypeof o?h({},t,{extend:o}):t.extend[r],e,i,n)}else for(var s in t.extend)"extend"!\x3d\x3ds?Mt(t.extend[s])?(s in n||(n[s]\x3d{}),It(t.extend[s],e,i,n[s])):n[s]\x3dt.extend[s]:It(t.extend.extend,e,i,n);else{if(!i)return;var a\x3di.getRule(t.extend);if(!a)return;if(a\x3d\x3d\x3de)return;var c\x3da.options.parent;c\x26\x26It(c.rules.raw[t.extend],e,i,n)}}(t,e,i,n),function(t,e,i,n){for(var r in t)"extend"!\x3d\x3dr\x26\x26(Mt(n[r])\x26\x26Mt(t[r])?It(t[r],e,i,n[r]):Mt(t[r])?n[r]\x3dIt(t[r],e,i):n[r]\x3dt[r])}(t,e,i,n),n}var Ft\x3d/\\s*,\\s*/g,Ut\x3d/\x26/g,Vt\x3d/\\$([\\w-]+)/g;function Ht(){function t(t,e){return function(i,n){var r\x3dt.getRule(n)||e\x26\x26e.getRule(n);return r?r.selector:n}}function e(t,e){for(var i\x3de.split(Ft),n\x3dt.split(Ft),r\x3d"",o\x3d0;o\x3ci.length;o++)for(var s\x3di[o],a\x3d0;a\x3cn.length;a++){var c\x3dn[a];r\x26\x26(r+\x3d", "),r+\x3d-1!\x3d\x3dc.indexOf("\x26")?c.replace(Ut,s):s+" "+c}return r}function i(t,e,i){if(i)return h({},i,{index:i.index+1});var n\x3dt.options.nestingLevel;n\x3dvoid 0\x3d\x3d\x3dn?1:n+1;var r\x3dh({},t.options,{nestingLevel:n,index:e.indexOf(t)+1});return delete r.name,r}return{onProcessStyle:function(n,r,o){if("style"!\x3d\x3dr.type)return n;var s,a,c\x3dr,u\x3dc.options.parent;for(var l in n){var d\x3d-1!\x3d\x3dl.indexOf("\x26"),p\x3d"@"\x3d\x3d\x3dl[0];if(d||p){if(s\x3di(c,u,s),d){var f\x3de(l,c.selector);a||(a\x3dt(u,o)),f\x3df.replace(Vt,a),u.addRule(f,n[l],h({},s,{selector:f}))}else p\x26\x26u.addRule(l,{},s).addRule(c.key,n[l],{selector:c.selector});delete n[l]}}return n}}}var jt\x3d/[A-Z]/g,Wt\x3d/^ms-/,zt\x3d{};function Gt(t){return"-"+t.toLowerCase()}function Xt(t){if(zt.hasOwnProperty(t))return zt[t];var e\x3dt.replace(jt,Gt);return zt[t]\x3dWt.test(e)?"-"+e:e}function Qt(t){var e\x3d{};for(var i in t){e[0\x3d\x3d\x3di.indexOf("--")?i:Xt(i)]\x3dt[i]}return t.fallbacks\x26\x26(Array.isArray(t.fallbacks)?e.fallbacks\x3dt.fallbacks.map(Qt):e.fallbacks\x3dQt(t.fallbacks)),e}var Yt\x3d_t\x26\x26CSS?CSS.px:"px",Kt\x3d_t\x26\x26CSS?CSS.ms:"ms",Jt\x3d_t\x26\x26CSS?CSS.percent:"%";function $t(t){var e\x3d/(-[a-z])/g,i\x3dfunction(t){return t[1].toUpperCase()},n\x3d{};for(var r in t)n[r]\x3dt[r],n[r.replace(e,i)]\x3dt[r];return n}var Zt\x3d$t({"animation-delay":Kt,"animation-duration":Kt,"background-position":Yt,"background-position-x":Yt,"background-position-y":Yt,"background-size":Yt,border:Yt,"border-bottom":Yt,"border-bottom-left-radius":Yt,"border-bottom-right-radius":Yt,"border-bottom-width":Yt,"border-left":Yt,"border-left-width":Yt,"border-radius":Yt,"border-right":Yt,"border-right-width":Yt,"border-top":Yt,"border-top-left-radius":Yt,"border-top-right-radius":Yt,"border-top-width":Yt,"border-width":Yt,"border-block":Yt,"border-block-end":Yt,"border-block-end-width":Yt,"border-block-start":Yt,"border-block-start-width":Yt,"border-block-width":Yt,"border-inline":Yt,"border-inline-end":Yt,"border-inline-end-width":Yt,"border-inline-start":Yt,"border-inline-start-width":Yt,"border-inline-width":Yt,"border-start-start-radius":Yt,"border-start-end-radius":Yt,"border-end-start-radius":Yt,"border-end-end-radius":Yt,margin:Yt,"margin-bottom":Yt,"margin-left":Yt,"margin-right":Yt,"margin-top":Yt,"margin-block":Yt,"margin-block-end":Yt,"margin-block-start":Yt,"margin-inline":Yt,"margin-inline-end":Yt,"margin-inline-start":Yt,padding:Yt,"padding-bottom":Yt,"padding-left":Yt,"padding-right":Yt,"padding-top":Yt,"padding-block":Yt,"padding-block-end":Yt,"padding-block-start":Yt,"padding-inline":Yt,"padding-inline-end":Yt,"padding-inline-start":Yt,"mask-position-x":Yt,"mask-position-y":Yt,"mask-size":Yt,height:Yt,width:Yt,"min-height":Yt,"max-height":Yt,"min-width":Yt,"max-width":Yt,bottom:Yt,left:Yt,top:Yt,right:Yt,inset:Yt,"inset-block":Yt,"inset-block-end":Yt,"inset-block-start":Yt,"inset-inline":Yt,"inset-inline-end":Yt,"inset-inline-start":Yt,"box-shadow":Yt,"text-shadow":Yt,"column-gap":Yt,"column-rule":Yt,"column-rule-width":Yt,"column-width":Yt,"font-size":Yt,"font-size-delta":Yt,"letter-spacing":Yt,"text-decoration-thickness":Yt,"text-indent":Yt,"text-stroke":Yt,"text-stroke-width":Yt,"word-spacing":Yt,motion:Yt,"motion-offset":Yt,outline:Yt,"outline-offset":Yt,"outline-width":Yt,perspective:Yt,"perspective-origin-x":Jt,"perspective-origin-y":Jt,"transform-origin":Jt,"transform-origin-x":Jt,"transform-origin-y":Jt,"transform-origin-z":Jt,"transition-delay":Kt,"transition-duration":Kt,"vertical-align":Yt,"flex-basis":Yt,"shape-margin":Yt,size:Yt,gap:Yt,grid:Yt,"grid-gap":Yt,"row-gap":Yt,"grid-row-gap":Yt,"grid-column-gap":Yt,"grid-template-rows":Yt,"grid-template-columns":Yt,"grid-auto-rows":Yt,"grid-auto-columns":Yt,"box-shadow-x":Yt,"box-shadow-y":Yt,"box-shadow-blur":Yt,"box-shadow-spread":Yt,"font-line-height":Yt,"text-shadow-x":Yt,"text-shadow-y":Yt,"text-shadow-blur":Yt});function te(t,e,i){if(null\x3d\x3de)return e;if(Array.isArray(e))for(var n\x3d0;n\x3ce.length;n++)e[n]\x3dte(t,e[n],i);else if("object"\x3d\x3dtypeof e)if("fallbacks"\x3d\x3d\x3dt)for(var r in e)e[r]\x3dte(r,e[r],i);else for(var o in e)e[o]\x3dte(t+"-"+o,e[o],i);else if("number"\x3d\x3dtypeof e\x26\x26!1\x3d\x3d\x3disNaN(e)){var s\x3di[t]||Zt[t];return!s||0\x3d\x3d\x3de\x26\x26s\x3d\x3d\x3dYt?e.toString():"function"\x3d\x3dtypeof s?s(e).toString():""+e+s}return e}function ee(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3d{});var e\x3d$t(t);return{onProcessStyle:function(t,i){if("style"!\x3d\x3di.type)return t;for(var n in t)t[n]\x3dte(n,t[n],e);return t},onChangeValue:function(t,i){return te(i,t,e)}}}var ie\x3d{"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},ne\x3d{position:!0,size:!0},re\x3d{padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},oe\x3d{border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function se(t,e,i,n){return null\x3d\x3di[e]?t:0\x3d\x3d\x3dt.length?[]:Array.isArray(t[0])?se(t[0],e,i,n):"object"\x3d\x3dtypeof t[0]?function(t,e,i){return t.map((function(t){return ae(t,e,i,!1,!0)}))}(t,e,n):[t]}function ae(t,e,i,n,r){if(!re[e]\x26\x26!oe[e])return[];var o\x3d[];if(oe[e]\x26\x26(t\x3dfunction(t,e,i,n){for(var r in i){var o\x3di[r];if(void 0!\x3d\x3dt[r]\x26\x26(n||!e.prop(o))){var s,a\x3dce((s\x3d{},s[o]\x3dt[r],s),e)[o];n?e.style.fallbacks[o]\x3da:e.style[o]\x3da}delete t[r]}return t}(t,i,oe[e],n)),Object.keys(t).length)for(var s in re[e])t[s]?Array.isArray(t[s])?o.push(null\x3d\x3d\x3dne[s]?t[s]:t[s].join(" ")):o.push(t[s]):null!\x3dre[e][s]\x26\x26o.push(re[e][s]);return!o.length||r?o:[o]}function ce(t,e,i){for(var n in t){var r\x3dt[n];if(Array.isArray(r)){if(!Array.isArray(r[0])){if("fallbacks"\x3d\x3d\x3dn){for(var o\x3d0;o\x3ct.fallbacks.length;o++)t.fallbacks[o]\x3dce(t.fallbacks[o],e,!0);continue}t[n]\x3dse(r,n,ie,e),t[n].length||delete t[n]}}else if("object"\x3d\x3dtypeof r){if("fallbacks"\x3d\x3d\x3dn){t.fallbacks\x3dce(t.fallbacks,e,!0);continue}t[n]\x3dae(r,n,e,i),t[n].length||delete t[n]}else""\x3d\x3d\x3dt[n]\x26\x26delete t[n]}return t}function ue(t,e){(null\x3d\x3de||e\x3et.length)\x26\x26(e\x3dt.length);for(var i\x3d0,n\x3dnew Array(e);i\x3ce;i++)n[i]\x3dt[i];return n}function le(t){return function(t){if(Array.isArray(t))return ue(t)}(t)||function(t){if("undefined"!\x3dtypeof Symbol\x26\x26null!\x3dt[Symbol.iterator]||null!\x3dt["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"\x3d\x3dtypeof t)return ue(t,e);var i\x3dObject.prototype.toString.call(t).slice(8,-1);return"Object"\x3d\x3d\x3di\x26\x26t.constructor\x26\x26(i\x3dt.constructor.name),"Map"\x3d\x3d\x3di||"Set"\x3d\x3d\x3di?Array.from(t):"Arguments"\x3d\x3d\x3di||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ue(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var he\x3d"",de\x3d"",pe\x3d"",fe\x3d"",me\x3dp\x26\x26"ontouchstart"in document.documentElement;if(p){var ge\x3d{Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ve\x3ddocument.createElement("p").style;for(var ye in ge)if(ye+"Transform"in ve){he\x3dye,de\x3dge[ye];break}"Webkit"\x3d\x3d\x3dhe\x26\x26"msHyphens"in ve\x26\x26(he\x3d"ms",de\x3dge.ms,fe\x3d"edge"),"Webkit"\x3d\x3d\x3dhe\x26\x26"-apple-trailing-word"in ve\x26\x26(pe\x3d"apple")}var xe\x3dhe,we\x3dde,Ce\x3dpe,_e\x3dfe,Ee\x3dme;var be\x3d{noPrefill:["appearance"],supportedProperty:function(t){return"appearance"\x3d\x3d\x3dt\x26\x26("ms"\x3d\x3d\x3dxe?"-webkit-"+t:we+t)}},Re\x3d{noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"\x3d\x3d\x3dt\x26\x26("Webkit"\x3d\x3d\x3dxe?we+"print-"+t:t)}},qe\x3d/[-\\s]+(.)?/g;function ke(t,e){return e?e.toUpperCase():""}function Ne(t){return t.replace(qe,ke)}function Te(t){return Ne("-"+t)}var Se,Le\x3d{noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"\x3d\x3d\x3dxe){if(Ne("mask-image")in e)return t;if(xe+Te("mask-image")in e)return we+t}return t}},Ae\x3d{noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"\x3d\x3d\x3dt\x26\x26("apple"!\x3d\x3dCe||Ee?t:we+t)}},Pe\x3d{noPrefill:["transform"],supportedProperty:function(t,e,i){return"transform"\x3d\x3d\x3dt\x26\x26(i.transform?t:we+t)}},De\x3d{noPrefill:["transition"],supportedProperty:function(t,e,i){return"transition"\x3d\x3d\x3dt\x26\x26(i.transition?t:we+t)}},Be\x3d{noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"\x3d\x3d\x3dt\x26\x26("Webkit"\x3d\x3d\x3dxe||"ms"\x3d\x3d\x3dxe\x26\x26"edge"!\x3d\x3d_e?we+t:t)}},Me\x3d{noPrefill:["user-select"],supportedProperty:function(t){return"user-select"\x3d\x3d\x3dt\x26\x26("Moz"\x3d\x3d\x3dxe||"ms"\x3d\x3d\x3dxe||"apple"\x3d\x3d\x3dCe?we+t:t)}},Oe\x3d{supportedProperty:function(t,e){return!!/^break-/.test(t)\x26\x26("Webkit"\x3d\x3d\x3dxe?"WebkitColumn"+Te(t)in e\x26\x26we+"column-"+t:"Moz"\x3d\x3d\x3dxe\x26\x26("page"+Te(t)in e\x26\x26"page-"+t))}},Ie\x3d{supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"\x3d\x3d\x3dxe)return t;var i\x3dt.replace("-inline","");return xe+Te(i)in e\x26\x26we+i}},Fe\x3d{supportedProperty:function(t,e){return Ne(t)in e\x26\x26t}},Ue\x3d{supportedProperty:function(t,e){var i\x3dTe(t);return"-"\x3d\x3d\x3dt[0]||"-"\x3d\x3d\x3dt[0]\x26\x26"-"\x3d\x3d\x3dt[1]?t:xe+i in e?we+t:"Webkit"!\x3d\x3dxe\x26\x26"Webkit"+i in e\x26\x26"-webkit-"+t}},Ve\x3d{supportedProperty:function(t){return"scroll-snap"\x3d\x3d\x3dt.substring(0,11)\x26\x26("ms"\x3d\x3d\x3dxe?""+we+t:t)}},He\x3d{supportedProperty:function(t){return"overscroll-behavior"\x3d\x3d\x3dt\x26\x26("ms"\x3d\x3d\x3dxe?we+"scroll-chaining":t)}},je\x3d{"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},We\x3d{supportedProperty:function(t,e){var i\x3dje[t];return!!i\x26\x26(xe+Te(i)in e\x26\x26we+i)}},ze\x3d{flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ge\x3dObject.keys(ze),Xe\x3dfunction(t){return we+t},Qe\x3d[be,Re,Le,Ae,Pe,De,Be,Me,Oe,Ie,Fe,Ue,Ve,He,We,{supportedProperty:function(t,e,i){var n\x3di.multiple;if(Ge.indexOf(t)\x3e-1){var r\x3dze[t];if(!Array.isArray(r))return xe+Te(r)in e\x26\x26we+r;if(!n)return!1;for(var o\x3d0;o\x3cr.length;o++)if(!(xe+Te(r[0])in e))return!1;return r.map(Xe)}return!1}}],Ye\x3dQe.filter((function(t){return t.supportedProperty})).map((function(t){return t.supportedProperty})),Ke\x3dQe.filter((function(t){return t.noPrefill})).reduce((function(t,e){return t.push.apply(t,le(e.noPrefill)),t}),[]),Je\x3d{};if(p){Se\x3ddocument.createElement("p");var $e\x3dwindow.getComputedStyle(document.documentElement,"");for(var Ze in $e)isNaN(Ze)||(Je[$e[Ze]]\x3d$e[Ze]);Ke.forEach((function(t){return delete Je[t]}))}function ti(t,e){if(void 0\x3d\x3d\x3de\x26\x26(e\x3d{}),!Se)return t;if(null!\x3dJe[t])return Je[t];"transition"!\x3d\x3dt\x26\x26"transform"!\x3d\x3dt||(e[t]\x3dt in Se.style);for(var i\x3d0;i\x3cYe.length\x26\x26(Je[t]\x3dYe[i](t,Se.style,e),!Je[t]);i++);try{Se.style[t]\x3d""}catch(t){return!1}return Je[t]}var ei,ii\x3d{},ni\x3d{transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ri\x3d/(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;function oi(t,e,i){if("var"\x3d\x3d\x3de)return"var";if("all"\x3d\x3d\x3de)return"all";if("all"\x3d\x3d\x3di)return", all";var n\x3de?ti(e):", "+ti(i);return n||(e||i)}function si(t,e){var i\x3de;if(!ei||"content"\x3d\x3d\x3dt)return e;if("string"!\x3dtypeof i||!isNaN(parseInt(i,10)))return i;var n\x3dt+i;if(null!\x3dii[n])return ii[n];try{ei.style[t]\x3di}catch(t){return ii[n]\x3d!1,!1}if(ni[t])i\x3di.replace(ri,oi);else if(""\x3d\x3d\x3dei.style[t]\x26\x26("-ms-flex"\x3d\x3d\x3d(i\x3dwe+i)\x26\x26(ei.style[t]\x3d"-ms-flexbox"),ei.style[t]\x3di,""\x3d\x3d\x3dei.style[t]))return ii[n]\x3d!1,!1;return ei.style[t]\x3d"",ii[n]\x3di,ii[n]}function ai(){function t(e){for(var i in e){var n\x3de[i];if("fallbacks"\x3d\x3d\x3di\x26\x26Array.isArray(n))e[i]\x3dn.map(t);else{var r\x3d!1,o\x3dti(i);o\x26\x26o!\x3d\x3di\x26\x26(r\x3d!0);var s\x3d!1,a\x3dsi(o,x(n));a\x26\x26a!\x3d\x3dn\x26\x26(s\x3d!0),(r||s)\x26\x26(r\x26\x26delete e[i],e[o||i]\x3da||n)}}return e}return{onProcessRule:function(t){if("keyframes"\x3d\x3d\x3dt.type){var e\x3dt;e.at\x3dfunction(t){return"-"\x3d\x3d\x3dt[1]||"ms"\x3d\x3d\x3dxe?t:"@"+we+"keyframes"+t.substr(10)}(e.at)}},onProcessStyle:function(e,i){return"style"!\x3d\x3di.type?e:t(e)},onChangeValue:function(t,e){return si(e,x(t))||t}}}p\x26\x26(ei\x3ddocument.createElement("p"));var ci,ui,li,hi\x3dCt();hi.setup((void 0\x3d\x3d\x3dci\x26\x26(ci\x3d{}),{plugins:[{onCreateRule:function(t,e,i){if("function"!\x3dtypeof e)return null;var n\x3dv(t,{},i);return n[Rt]\x3de,n},onProcessStyle:function(t,e){if(bt in e||Rt in e)return t;var i\x3d{};for(var n in t){var r\x3dt[n];"function"\x3d\x3dtypeof r\x26\x26(delete t[n],i[n]\x3dr)}return e[bt]\x3di,t},onUpdate:function(t,e,i,n){var r\x3de,o\x3dr[Rt];o\x26\x26(r.style\x3do(t)||{});var s\x3dr[bt];if(s)for(var a in s)r.prop(a,s[a](t),n)}},(li\x3dci.observable,{onCreateRule:function(t,e,i){if(!kt(e))return null;var n\x3de,r\x3dv(t,{},i);return n.subscribe((function(t){for(var e in t)r.prop(e,t[e],li)})),r},onProcessRule:function(t){if(!t||"style"\x3d\x3d\x3dt.type){var e\x3dt,i\x3de.style,n\x3dfunction(t){var n\x3di[t];if(!kt(n))return"continue";delete i[t],n.subscribe({next:function(i){e.prop(t,i,li)}})};for(var r in i)n(r)}}}),{onProcessRule:Tt},Bt(),{onProcessStyle:function(t,e,i){return"extend"in t?It(t,e,i):t},onChangeValue:function(t,e,i){if("extend"!\x3d\x3de)return t;if(null\x3d\x3dt||!1\x3d\x3d\x3dt){for(var n in i[Ot])i.prop(n,null);return i[Ot]\x3dnull,null}if("object"\x3d\x3dtypeof t){for(var r in t)i.prop(r,t[r]);i[Ot]\x3dt}return null}},Ht(),{onProcessStyle:function(t,e){return"composes"in t?(function t(e,i){if(!i)return!0;if(Array.isArray(i)){for(var n\x3d0;n\x3ci.length;n++)if(!t(e,i[n]))return!1;return!0}if(i.indexOf(" ")\x3e-1)return t(e,i.split(" "));var r\x3de.options.parent;if("$"\x3d\x3d\x3di[0]){var o\x3dr.getRule(i.substr(1));return!!o\x26\x26o!\x3d\x3de\x26\x26(r.classes[e.key]+\x3d" "+r.classes[o.key],!0)}return r.classes[e.key]+\x3d" "+i,!0}(e,t.composes),delete t.composes,t):t}},{onProcessStyle:function(t){if(Array.isArray(t)){for(var e\x3d0;e\x3ct.length;e++)t[e]\x3dQt(t[e]);return t}return Qt(t)},onChangeValue:function(t,e,i){if(0\x3d\x3d\x3de.indexOf("--"))return t;var n\x3dXt(e);return e\x3d\x3d\x3dn?t:(i.prop(n,t),null)}},ee(ci.defaultUnit),{onProcessStyle:function(t,e){if(!t||"style"!\x3d\x3de.type)return t;if(Array.isArray(t)){for(var i\x3d0;i\x3ct.length;i++)t[i]\x3dce(t[i],e);return t}return ce(t,e)}},ai(),(ui\x3dfunction(t,e){return t.length\x3d\x3d\x3de.length?t\x3ee?1:-1:t.length-e.length},{onProcessStyle:function(t,e){if("style"!\x3d\x3de.type)return t;for(var i\x3d{},n\x3dObject.keys(t).sort(ui),r\x3d0;r\x3cn.length;r++)i[n[r]]\x3dt[n[r]];return i}})]}));var di\x3d"https://acs-cdn.prd-prsn.com/tdxclient/assets/fonts",pi\x3d{"@font-face":[{fontFamily:"STIXGeneralAc",src:\'url(" \'.concat(di,\'/STIXGeneral-Regular.eot"), url(" \').concat(di,\'/STIXGeneral-Regular.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-Regular.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-Regular.ttf") format("truetype")\')},{fontFamily:"STIXGeneralAc",fontWeight:"bold",src:\'url(" \'.concat(di,\'/STIXGeneral-Bold.eot"), url(" \').concat(di,\'/STIXGeneral-Bold.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-Bold.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-Bold.ttf") format("truetype")\')},{fontFamily:"STIXGeneralAc",fontStyle:"italic",src:\'url(" \'.concat(di,\'/STIXGeneral-Italic.eot"), url(" \').concat(di,\'/STIXGeneral-Italic.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-Italic.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-Italic.ttf") format("truetype")\')},{fontFamily:"STIXGeneralAc",fontWeight:"bold",fontStyle:"italic",src:\'url(" \'.concat(di,\'/STIXGeneral-BoldItalic.eot"), url(" \').concat(di,\'/STIXGeneral-BoldItalic.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-BoldItalic.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-BoldItalic.ttf") format("truetype")\')},{fontFamily:"STIXIntegralsUpAc",src:\'url(" \'.concat(di,\'/STIXIntegralsUp-Regular.eot"), url(" \').concat(di,\'/STIXIntegralsUp-Regular.woff") format("woff")\')},{fontFamily:"STIXIntegralsUpAc",src:\'url(" \'.concat(di,\'/STIXIntegralsUp-Bold.eot"), url(" \').concat(di,\'/STIXIntegralsUp-Bold.woff") format("woff")\'),fontWeight:"bold",fontStyle:"normal"}],eqAccessibleAnnouncer:{position:"relative",border:"0px",color:"transparent",overflow:"hidden",height:"0px",width:"1px"},"assessments-components":h({"box-sizing":"border-box","\x26:before, \x26:after":{"box-sizing":"border-box"},"\x26 *, \x26 *:before, \x26 *:after":{"box-sizing":"border-box"}},{"\x26 [hidden]":{display:"none"},"\x26 b, \x26 strong":{fontWeight:"bold"},"\x26 dfn":{fontStyle:"italic"},"\x26 small":{fontSize:"80%"},"\x26 sub, \x26 sup":{fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},"\x26 sup":{top:"-0.5em"},"\x26 sub":{bottom:"-0.25em"},"\x26 img":{border:"0"},"\x26 svg:not(:root)":{overflow:"hidden"},"\x26 figure":{margin:"0"},"\x26 table":{borderCollapse:"collapse",borderSpacing:"0","\x26.nowrap td, \x26.nowrap th":{whiteSpace:"nowrap"},"\x26.valign-middle td, \x26.valign-middle th":{verticalAlign:"middle"}},"\x26 .nowrap":{whiteSpace:"nowrap"},"\x26 .valign-middle":{verticalAlign:"middle"},"\x26 .align-center":{textAlign:"center"},"\x26 .align-right":{textAlign:"right"},"\x26 .fullwidth":{width:"100%"}},{"\x26.eqEditor textarea":{backgroundColor:"blue"},"\x26.eqEditor .hiddenInputContainer":{background:"#f00",position:"absolute",zIndex:"3",overflow:"hidden",opacity:"0",filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d0)",msFilter:\'"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d0)"\',fallbacks:[{filter:"alpha(opacity\x3d0)"}]},"\x26.eqEditor .hiddenInputContainer .focusNode":{border:"none",outline:"0",position:"absolute",fontSize:"16px",top:"-30px",padding:"0px",margin:"0",width:"1px",display:"block",color:"red"},"\x26.eqEditor .hiddenInputContainer .focusNode.ios":{width:"1px",top:"-2px",left:"-2px",height:"1px",fontSize:"1px",color:"transparent"},"\x26.eqEditor .hiddenInputContainer .focusNode.android":{top:"0px",left:"-2px",height:"1px",width:"1px"},"\x26.eqEditor.disabled":{backgroundColor:"".concat("rgb(217,226,241)"," !important"),borderColor:"rgb(217,226,241)"},"\x26.eqEditor.disabled.incorrect .eqDocument:after":{content:\'""\',position:"absolute",borderTop:"6px solid ".concat("rgb(191,35,36)"),borderLeft:"6px solid transparent",width:"0px",height:"0px",right:"-3px",top:"-3px"},"\x26.eqEditor.inactive":{backgroundColor:"".concat("rgba(127,127,127,0.5)"," !important"),opacity:"0.5"},"div.eqLabel\x26":{position:"relative",backgroundColor:"transparent !important"},"span.eqLabel\x26":{backgroundColor:"transparent !important"},"\x26.eqLabel":{lineHeight:"0 !important",display:"inline-block"},"\x26 .eqDocument":{display:"inline-block",lineHeight:"0 !important",whiteSpace:"pre",paddingTop:"0px",paddingBottom:"0px",position:"relative",borderSpacing:"0"},"\x26 .eqDocument *":{borderColor:"black",margin:"0",padding:"0",paddingTop:"0px",lineHeight:"".concat("1.2"," !important")},"\x26 .eqDocument .eqRow":{lineHeight:"0 !important",fallbacks:[{lineHeight:"".concat("1.2"," !important")}],position:"relative"},"\x26 .eqDocument .eqRow.empty":{lineHeight:"".concat("1.2"," !important")},"\x26 .xlFillin span":{lineHeight:"normal !important"},"\x26 .xlFillin .eqDocument *":{lineHeight:"".concat("1.2"," !important")},"\x26 .eqAccessibleLabel":{position:"absolute !important",height:"1px !important",width:"1px !important",padding:"0 !important",clip:"rect(0 0 0 0) !important",clipPath:"inset(50%) !important",overflow:"hidden !important",whiteSpace:"nowrap !important"},"\x26 .eqDocument span, \x26 .eqDocument i, \x26 .eqDocument b":{display:"inline-block",webkitTouchCallout:"none",webkitUserSelect:"none",khtmlUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none"},"\x26 .eqDocument .eqRow \x3e span, \x26 .eqDocument .eqRow \x3e i, \x26 .eqDocument .eqRow \x3e b":{position:"relative"},"\x26 .eqDocument .eqMatrix":{display:"inline-table",verticalAlign:"middle",margin:"0.15em 0.1em 0.05em 0.1em",borderCollapse:"separate"},"\x26 .eqDocument .eqCheck":{display:"inline-table",verticalAlign:"middle",margin:"1px"},"\x26 .eqDocument .eqCheck \x3e tr \x3e td":{paddingRight:"0.1em",paddingLeft:"0.1em",verticalAlign:"baseline"},"\x26 .eqDocument .eqCheck \x3e tr:first-child":{borderBottom:"1px solid"},"\x26 .eqDocument .eqCheck \x3e tr \x3e td:first-child":{borderRight:"1px solid"},"\x26 .eqDocument .eqCheck \x3e tr:first-child \x3e td":{border:"none"},"\x26 .eqDocument .eqMatrix \x3e tr \x3e td":{padding:"0.33em"},"\x26 .eqDocument .eqRight":{textAlign:"right"},"\x26 .eqDocument .eqLeft":{textAlign:"left"},"\x26 .eqDocument .eqCenter":{textAlign:"center"},"\x26 .eqDocument .eqTab":{border:"1px solid"},"\x26 .eqDocument .eqTab \x3e tr:first-child \x3e td, \x26 .eqDocument .eqTab \x3e tr:first-child \x3e th":{borderBottom:"1px solid"},"\x26 .eqDocument .eqTab \x3e tr \x3e td":{borderRight:"1px solid"},"\x26 .eqDocument .eqTab \x3e tr \x3e td:last-child":{borderRight:"none"},"\x26 .eqDocument .eqColumn \x3e tr:first-child \x3e td":{borderBottom:"1px solid"},"\x26 .eqDocument .eqColumn \x3e tr \x3e td":{borderRight:"1px solid"},"\x26 .eqDocument .eqColumn \x3e tr \x3e td:last-child":{borderRight:"none"},"\x26 .eqDocument .eqTableRow \x3e tr \x3e td":{borderBottom:"1px solid"},"\x26 .eqDocument .eqTableRow \x3e tr:last-child \x3e td":{borderBottom:"none"},"\x26 .eqDocument .eqTableRow \x3e tr \x3e td:first-child":{borderRight:"1px solid"},"\x26 .eqDocument .eqTable \x3e tr:first-child \x3e td, \x26 .eqDocument .eqTable \x3e tr:first-child \x3e th":{borderBottom:"1px solid"},"\x26 .eqDocument .eqTable \x3e tr \x3e td:first-child":{borderRight:"1px solid"},"\x26 .eqDocument .eqLeq":{borderLeft:"1px solid",borderBottom:"1px solid"},"\x26 .eqDocument .eqDetx":{borderLeft:"1px solid",borderRight:"1px solid"},"\x26 .eqDocument .eqMatx th:first-child":{borderLeft:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",padding:"2px"},"\x26 .eqDocument .eqMatx th:last-child":{borderRight:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",padding:"2px"},"\x26 .eqDocument .eqAbs":{marginTop:"2px"},"\x26 .eqDocument .eqAbs .eqAbsRow":{marginTop:"-2px"},"\x26 .eqDocument .eqNorm":{marginTop:"2px"},"\x26 .eqDocument .eqNorm .eqNormBody":{display:"inline-block"},"\x26 .eqDocument .eqNorm .eqNormBody \x3e .eqRow":{marginTop:"-2px"},"\x26 .eqDocument .eqAugment \x3e tr \x3e td:last-child":{borderLeft:"1px solid"},"\x26 .eqDocument .nonItalicRoman span":{"font-style":"normal"},"\x26 .eqDocument .eqTab table.eqMatrix \x3e tr \x3e td, \x26 .eqDocument .eqColumn table.eqMatrix \x3e tr \x3e td, \x26 .eqDocument .eqTable table.eqMatrix \x3e tr \x3e td, \x26 .eqDocument .eqTableRow table.eqMatrix \x3e tr \x3e td":{borderRight:"none",borderBottom:"none"},"\x26.eqEditor":{display:"inline-block",border:"solid ".concat("rgb(51,102,204)"," 1px"),padding:"1px 2px 1px 2px",margin:"1px 1px 1px 1px",lineHeight:"1.25 !important",msTouchAction:"none",position:"relative"},"\x26 .eqDocument .eqEditor":{margin:"0px"},"\x26 .eqOverUnder .eqEditor":{margin:"0 2px"},"\x26.eqEditor.focused":{boxShadow:"0 0 2px 1px ".concat("rgb(51,102,204)"),outline:"none"},"\x26.eqEditor.focused .eqDocument .current":{backgroundColor:"#BFE0FF"},"\x26.eqEditor .eqDocument .eqRow.allspaces":{backgroundColor:"#BFE0FF"},"\x26.eqEditor.focused .eqDocument .selected":{backgroundColor:"#6090FF"},"\x26.eqEditor.oskFocused":{boxShadow:"0 0 2px 1px ".concat("rgb(51,102,204)"),outline:"none"},"\x26.eqEditor.inlineEditor":{border:"none"},"\x26.eqEditor.inlineEditor.eqEmpty":{border:"solid ".concat("rgb(51,102,204)"," 1px")},"\x26.eqEditor.inlineEditor.focused":{border:"thin ".concat("rgb(51,102,204)"),backgroundColor:"lightyellow",outline:"thin",outlineColor:"rgb(51,102,204)"},"\x26.eqEditor .eqCaret":{visibility:"hidden",display:"inline-block",borderLeft:"1px solid ".concat("rgb(50,100,220)"),marginRight:"-1px",position:"relative",width:"0px",zIndex:"1"},"\x26.eqEditor.transformEditor":{border:"none"},"\x26.eqEditor.transformEditor.focused":{boxShadow:"none",outline:"none"},"\x26.eqEditor.caretVisible .eqCaret":{visibility:"visible"},"\x26.eqEditor.caretVisible .eqCaret.blink":{visibility:"hidden"},"\x26.eqEditor .empty, \x26 .showEmptyBoxes .empty, \x26 .showEmptyBoxes .allspaces":{background:"none repeat scroll 0 0 ".concat("#BFE0FF")},"\x26.eqEditor .empty:after, \x26 .showEmptyBoxes .empty:after":{content:\'"m"\',visibility:"hidden"},"\x26 .eqDocument .eqSpace":{width:"0.30em"},"\x26.eqEditor .empty.eqPrompt:after":{content:"attr(data-prompt)",visibility:"visible",color:"#999",fontStyle:"italic"},"\x26.eqEditor .empty.eqPromptAcs:after":{content:"attr(data-prompt)",visibility:"visible",color:"#999"},"\x26.eqEditor .eqDocument.empty":{backgroundColor:"transparent"},"\x26 .eqDocument .eqPlaceHolder .placeholder-text":{color:"red"},"\x26 .eqDocument .eqDivide":{padding:"0.1em 0.1em 0 0.1em",textAlign:"center",verticalAlign:"-0.5em"},"\x26 .eqDocument .eqDivide.small":{fontSize:"85%"},"\x26 .eqDocument .eqDivide .eqNumerator, \x26 .eqDocument .eqDivide .eqDenominator":{display:"table",marginLeft:"auto",marginRight:"auto",borderCollapse:"separate"},"\x26 .eqDocument .eqDivide .eqNumerator":{paddingBottom:"0.2em",paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .eqDocument .eqDivide .eqDenominator":{paddingBottom:"0.1em",paddingTop:"0.1em",paddingLeft:"0.1em",paddingRight:"0.1em",borderTop:"1px solid",float:"right",width:"100%"},"\x26.eqEditor .eqNumerator.empty, \x26.eqEditor .eqDenominator.empty":{display:"table",marginLeft:"auto",marginRight:"auto"},"\x26 .eqDocument .eqOverUnder":{textAlign:"center"},"\x26 .eqDocument .eqOver, \x26 .eqDocument .eqUnder":{fontSize:"85%",whiteSpace:"nowrap"},"\x26 .eqDocument .eqOverUnderBase":{whiteSpace:"nowrap",marginBottom:"0.1em"},"\x26 .eqDocument .eqUnder":{float:"right"},"\x26 .eqDocument .eqBar":{display:"inline-block",position:"relative"},"\x26 .eqDocument .eqBar svg":{pointerEvents:"none"},"\x26 .eqDocument .eqBar.eqBarMargin":{marginLeft:"1px",marginRight:"1px"},"\x26 .eqDocument .eqBar.eqBarMargin \x3e .eqRow":{marginLeft:"-1px",marginRight:"-1px"},"\x26 .eqDocument .eqCis":{position:"relative"},"\x26 .eqDocument .eqLDiv":{position:"relative",marginLeft:"0.15em",marginRight:"0.15em"},"\x26 .eqDocument .eqLDivContent":{position:"relative",paddingLeft:"0.3em",paddingTop:"0.15em"},"\x26 .eqDocument .eqLDivSymbol":{position:"absolute",top:"0px",left:"0px"},"\x26 .eqDocument .eqInt":{textAlign:"center",position:"relative"},"\x26 .eqDocument .eqSum":{textAlign:"center",position:"relative"},"\x26 .eqDocument .eqProductBase, \x26 .eqDocument .eqSumBase":{fontFamily:"STIXGeneralAc",fontSize:"140%",marginRight:"0.1em",marginBottom:"0.1em"},"\x26 .eqDocument .eqIntBase":{fontSize:"200%",fontFamily:"STIXIntegralsUp",marginBottom:"-0.1em",marginTop:"-0.1em",marginRight:"0.075em",lineHeight:"normal !important"},"\x26 .eqDocument .eqIntUpper, \x26 .eqDocument .eqIntLower":{fontSize:"85%",position:"absolute",left:"0px",paddingLeft:"0.2em",paddingRight:"0.25em"},"\x26 .eqDocument .eqIntUpper":{top:"0px"},"\x26 .eqDocument .eqIntLower":{bottom:"0px",marginTop:"0.1em"},"\x26 .eqDocument .eqConj":{fontWeight:"bold"},"\x26 .eqDocument .eqConj .eqConjAst":{verticalAlign:"top"},"\x26 .eqDocument .eqPhasor":{position:"relative"},"\x26 .eqDocument .eqPhasor \x3e .eqRow":{position:"relative",zIndex:"1"},"\x26 .eqDocument .eqPhasor .eqPhasorSymbol":{verticalAlign:"bottom",position:"absolute"},"\x26 .eqDocument .eqOp":{paddingLeft:"0.2em",paddingRight:"0.2em"},"\x26 .eqDocument .opDivide":{paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .eqDocument .eqSuperscript, \x26 .eqDocument .eqSubscript":{fontSize:"85%",marginLeft:"0px",marginRight:"0.1em"},"\x26 .eqDocument .eqSupSub \x3e .eqSubscript":{margin:"1px 0px 0px 0px",paddingRight:"0.1em"},"\x26 .eqDocument .eqSupSub \x3e .eqSuperscript":{margin:"0px 0px 1px 0px",paddingRight:"0.1em"},"\x26 .adjustScripts \x3e .eqSuperscript":{verticalAlign:"0px !important"},"\x26 .eqDocument .eqSuperscript":{verticalAlign:"0.5em","\x26 .eqOp:first-child":{paddingLeft:"0"},"\x26 .eqOp:last-child":{paddingRight:"0"}},"\x26 .eqDocument .eqSubscript":{verticalAlign:"-0.4em",paddingBottom:"0.1em"},"\x26 .eqDocument .eqSupContent":{verticalAlign:"text-bottom"},"\x26 .eqDocument .eqSubContent":{verticalAlign:"text-top"},"\x26 .eqDocument .eqSupSubStack":{paddingRight:"0.2em",paddingLeft:"0.2em",position:"relative"},"\x26 .eqDocument .eqSupSubStack \x3e .eqSubscript":{position:"absolute",verticalAlign:"-0.6em",padding:"0px !important"},"\x26 .eqDocument .eqSupSubStack \x3e .eqSuperscript":{position:"relative"},"\x26.eqEditor .eqDocument .eqParen":{marginBottom:"0.1em"},"\x26 .eqDocument .eqParenSvg":{position:"relative",verticalAlign:"top"},"\x26 .eqDocument .eqParenSvg.left":{marginLeft:"2px"},"\x26 .eqDocument .eqParenSvg.right":{marginRight:"2px"},"\x26 .eqDocument .eqParenUnmatched":{color:"#ff0000"},"\x26 .eqDocument .eqSqrt":{padding:"0px 1px 1px 1px"},"\x26 .eqDocument .eqSqrt .radical-symbol":{position:"absolute",textAlign:"left"},"\x26 .eqDocument .eqSqrt .radicand-holder":{display:"inline-block"},"\x26 .eqDocument .eqSqrt .eqRadicand.empty:after":{content:\'"d"\',visibility:"hidden"},"\x26 .eqDocument .eqSqrt .eqRadicand":{marginTop:"3px",marginRight:"0.1em",marginLeft:"0.75em",position:"relative"},"\x26 .eqDocument .eqSqrt .eqRoot":{fontSize:"85%",verticalAlign:"text-bottom",marginRight:"-0.375em",marginBottom:"0.75em"},"\x26 .eqDocument .txtFunc":{fontWeight:"bold",paddingRight:"0.2em",paddingLeft:"0.2em"},"\x26 .eqDocument .txtFunc:first-child":{paddingLeft:"0em"},"\x26 .eqDocument .txtFunc:last-child":{paddingRight:"0em"},"\x26 .eqDocument .txtFunc.italic":{fontStyle:"italic"},"\x26 .eqDocument .txtFunc.nobold":{fontWeight:"normal"},"\x26 .eqDocument .italic":{fontStyle:"italic"},"\x26 .eqDocument .noitalic":{fontStyle:"normal"},"\x26 .eqDocument .italic.padLeft":{paddingLeft:"0.2em"},"\x26 .eqDocument .italic.padRight":{paddingRight:"0.2em"},"\x26 .eqDocument .nobold":{fontWeight:"normal"},"\x26 .eqDocument .txtNum":{},"\x26 .eqDocument .opPlus":{},"\x26 .eqDocument .eqUnicode":{fontFamily:\'"Lucida Sans Unicode", sans-serif\'},"\x26 .eqDocument .eqMathBB":{fontFamily:"STIXGeneralAc",fontSize:"1.1em",marginTop:"-0.1em"},"\x26 body.mce-content-body span.eqDocument span.eqMathBB":{marginTop:"-0.2em",marginBottom:"-0.2em"},"\x26 .swObject span.eqDocument span.eqMathBB":{marginTop:"-0.2em",marginBottom:"-0.2em"},"\x26 .xlFigure .eqDocument .eqMathBB":{fontSize:"1em",marginTop:"0"},"\x26 .xlFigure .eqDocument .eqMathBB.eqOp":{paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .xlFigure .eqDocument .eqOp":{paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .eqDocument .onePtFive":{fontSize:"1.5em",marginTop:"-0.5em"},"\x26 .eqDocument .onePtThree":{fontSize:"1.3em",marginTop:"-0.3em"},"\x26 .eqDocument .onePtTwo":{fontSize:"1.2em",marginTop:"-0.2em"},"\x26 .eqDocument .onePtOneNine":{fontSize:"1.19em",marginTop:"-0.19em"},"\x26 .eqDocument .prime":{fontSize:"1.2em",position:"relative",top:"0.05em"},"\x26 .eqDocument .multiplicationCross":{fontSize:"0.9em",bottom:"0.1em",position:"relative"},"\x26 .eqDocument .pushUpPt25":{bottom:"0.25em",position:"relative"},"\x26 .eqDocument .nodescent":{},"\x26 .eqDocument .eqCurveArrowLeft":{margin:"0 2px 0 -1px"},"\x26.eqEditor .eqEditorOverlay":{width:"100%",height:"100%",position:"absolute",cursor:"pointer"},"\x26 .eqObject":{fontWeight:"normal",fontStyle:"normal"},"\x26 .eqLabel \x3e .eqDocument \x3e .eqObject .eqEditor":{marginTop:"2px"},"\x26 .eqLabel \x3e .eqDocument \x3e .eqCBrace \x3e .eqRow \x3e .eqObject .eqEditor":{marginTop:"2px"},"\x26 .eqUnderBar span":{"text-decoration":"underline"},"\x26 .eqOverBar span":{"text-decoration":"overline"}})},fi\x3dhi.createStyleSheet(pi);fi.attach();var mi\x3d!1,gi\x3dfunction(){mi||(console.log("Assessments Components Version: ".concat("1.2.6")),mi\x3d!0)},vi\x3dfunction(){return"1.2.6"};gi();var yi\x3dfunction(t){return 1\x3d\x3dt.nodeType?window.getComputedStyle(t):{}},xi\x3d{left:!0,top:!0,margin:!0,padding:!0,width:!0,height:!0,max:!0,min:!0,offset:!0},wi\x3d/(^[A-Z])/g,Ci\x3dfunction(t){return t.replace(wi,"l$1")},_i\x3dyi,Ei\x3dfunction(t,e,i){if(void 0!\x3d\x3di)return t.style[Ci(e)]\x3di;for(var n in e)t.style[Ci(n)]\x3de[n];return yi(t)},bi\x3dfunction(t,e){var i\x3dyi(t);return e?function(t,e){return xi[t]?parseFloat(e)||0:e}(e,i[e]||t.style[e]):i},Ri\x3dfunction(t){return parseFloat(t)||0},qi\x3d{class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},ki\x3d{innerHTML:1,className:1,value:1};var Ni\x3d{set:function t(e,i,n){if(!n\x26\x26"string"!\x3dtypeof i){for(var r in i)t(e,r,i[r]);return e}var o\x3di.toLowerCase(),s\x3dqi[o]||i;return"style"\x3d\x3d\x3ds\x26\x26"string"!\x3dtypeof n?(Ei(e,n),e):ki[s]?(e[s]\x3dn,e):(e.setAttribute(s,n),e)},get:function(t,e){var i\x3de.toLowerCase();return t[qi[i]||e]},has:function(t,e){var i\x3de.toLowerCase();return function(t,e){return t.hasAttribute(e)}(t,qi[i]||e)}},Ti\x3d"undefined"!\x3dtypeof window\x26\x26"undefined"!\x3dtypeof location\x26\x26"undefined"!\x3dtypeof document\x26\x26window.location\x3d\x3dlocation\x26\x26window.document\x3d\x3ddocument,Si\x3d{"host-browser":Ti,dom:Ti},Li\x3dfunction(t){return Si[t]};if(Li.add\x3dfunction(t,e){Si[t]\x3de},Ti){Si["dom-addeventlistener"]\x3d!!document.addEventListener,Si.touch\x3d"ontouchstart"in document||window.navigator.msMaxTouchPoints\x3e0;var Ai\x3dnavigator,Pi\x3dAi.userAgent,Di\x3dAi.appVersion,Bi\x3dparseFloat(Di);if(Li.add("air",Pi.indexOf("AdobeAIR")\x3e\x3d0),Li.add("msapp",parseFloat(Pi.split("MSAppHost/")[1])||void 0),Li.add("khtml",Di.indexOf("Konqueror")\x3e\x3d0?Bi:void 0),Li.add("webkit",parseFloat(Pi.split("WebKit/")[1])||void 0),Li.add("chrome",parseFloat(Pi.split("Chrome/")[1])||void 0),Li.add("safari",Di.indexOf("Safari")\x3e\x3d0\x26\x26!Li("chrome")?parseFloat(Di.split("Version/")[1]):void 0),Li.add("mac",Di.indexOf("Macintosh")\x3e\x3d0),Li.add("edge",parseFloat(Pi.split("Edg/")[1])||void 0),Pi.match(/(iPhone|iPod|iPad)/)){var Mi\x3dRegExp.$1.replace(/P/,"p"),Oi\x3dPi.match(/OS ([\\d_]+)/)?RegExp.$1:"1",Ii\x3dparseFloat(Oi.replace(/_/,".").replace(/_/g,""));Li.add(Mi,Ii),Li.add("ios",Ii)}if(Li.add("android",parseFloat(Pi.split("Android ")[1])||void 0),Li.add("bb",(Pi.indexOf("BlackBerry")\x3e\x3d0||Pi.indexOf("BB10")\x3e\x3d0)\x26\x26parseFloat(Pi.split("Version/")[1])||void 0),Li.add("trident",parseFloat(Di.split("Trident/")[1])||void 0),Li.add("svg","undefined"!\x3dtypeof SVGAngle),!Li("webkit")\x26\x26(Pi.indexOf("Opera")\x3e\x3d0\x26\x26Li.add("opera",Bi\x3e\x3d9.8\x26\x26parseFloat(Pi.split("Version/")[1])||Bi),Pi.indexOf("Gecko")\x3e\x3d0\x26\x26!Li("khtml")\x26\x26!Li("webkit")\x26\x26!Li("trident")\x26\x26Li.add("mozilla",Bi),Li("mozilla")\x26\x26Li.add("ff",parseFloat(Pi.split("Firefox/")[1]||Pi.split("Minefield/")[1])||void 0),document.documentMode)){var Fi\x3dparseFloat(Di.split("MSIE ")[1])||void 0,Ui\x3ddocument.documentMode;Ui\x26\x265!\x3dUi\x26\x26Math.floor(Fi)!\x3dUi\x26\x26(Fi\x3dUi),Li.add("ie",Fi)}}var Vi\x3dfunction(t,e,i){if("number"\x3d\x3dtypeof i){var n\x3de.childNodes;!n.length||n.length\x3c\x3di?e.appendChild(t):Wi(t,n[i\x3c0?0:i])}else switch(i){case"before":Wi(t,e);break;case"after":!function(t,e){var i\x3de.parentNode;i\x26\x26(i.lastChild\x3d\x3d\x3de?i.appendChild(t):i.insertBefore(t,e.nextSibling))}(t,e);break;case"replace":e.parentNode.replaceChild(t,e);break;case"only":Hi(e),e.appendChild(t);break;case"first":if(e.firstChild){Wi(t,e.firstChild);break}default:e.appendChild(t)}return t},Hi\x3dfunction(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},ji\x3dfunction(t){var e\x3ddocument.createElement("div");if(e.innerHTML\x3dt,1\x3d\x3de.childNodes.length)return e.removeChild(e.firstChild);for(var i\x3ddocument.createDocumentFragment(),n\x3dnull;n\x3de.firstChild;)i.appendChild(n);return i};function Wi(t,e){var i\x3de.parentNode;i\x26\x26i.insertBefore(t,e)}var zi\x3d{create:function(t,e,i,n){var r\x3dnull,o\x3dnull,s\x3dwindow.document;return o\x3d"string"\x3d\x3dtypeof i?s.getElementById(i):i,r\x3d"string"\x3d\x3dtypeof t?s.createElement(t):t,e\x26\x26Ni.set(r,e),o\x26\x26Vi(r,o,n),r},place:Vi,destroy:function(t){t\x26\x26t.parentNode\x26\x26t.parentNode.removeChild(t)},empty:Hi,toDom:function(t){if(Li("ie"))return ji(t);var e\x3ddocument.createElement("template");return e.innerHTML\x3dt.trim(),e.content.firstChild}},Gi\x3d8,Xi\x3d9,Qi\x3d13,Yi\x3d35,Ki\x3d36,Ji\x3d37,$i\x3d38,Zi\x3d39,tn\x3d40,en\x3d46,nn\x3dfunction(t,e,i){t.addEventListener||(t\x3dt.domNode);var n\x3dnull,r\x3d!1;return t\x26\x26e\x26\x26i\x26\x26((n\x3de.split(/\\s*,\\s*/)).forEach((function(e){return t.addEventListener(e,i)})),r\x3d!0),{clear:function(){r\x26\x26t\x26\x26n.forEach((function(e){return t.removeEventListener(e,i)}))}}},rn\x3dfunction(t){return"string"\x3d\x3dtypeof t||t instanceof String},on\x3dfunction(t,e){var i\x3de;return rn(i)\x26\x26(i\x3dt[e]),i.bind(t)},sn\x3dfunction(t){t||(t\x3d{});for(var e\x3d0,i\x3darguments.length\x3c\x3d1?0:arguments.length-1;e\x3ci;e++)h(t,(e+1\x3c1||arguments.length\x3c\x3de+1?void 0:arguments[e+1])||{});return t},an\x3dfunction(t){return t\x26\x26(t instanceof Array||"array"\x3d\x3dtypeof t)},cn\x3dfunction(t,e){if(t){var i\x3d-1;return t.some((function(t,n){if(t\x3d\x3de)return i\x3dn,!0})),i}},un\x3dfunction(t,e){if(t)if(t.forEach)t.forEach(e);else if(t.length)for(var i\x3d0;i\x3ct.length;i++)e(t[i],i,t)},ln\x3dfunction(t,e){if(t)return t.find(e)},hn\x3dfunction(t,e){if(t\x26\x26t.classList\x26\x26e){var i\x3dan(e)?e:e.split(" ");un(i,(function(e){e\x26\x26t.classList.add(e)}))}},dn\x3dfunction(t,e){if(t\x26\x26t.classList\x26\x26e){var i\x3dan(e)?e:e.split(" ");un(i,(function(e){e\x26\x26t.classList.remove(e)}))}},pn\x3dfunction(t,e){return t\x26\x26t.classList\x26\x26e\x26\x26t.classList.contains(e)},fn\x3dhn,mn\x3ddn,gn\x3dfunction(t,e,i){t\x26\x26t.classList\x26\x26i\x26\x26e\x26\x26(dn(t,i),hn(t,e))},vn\x3dpn,yn\x3dfunction(t,e){pn(t,e)?dn(t,e):hn(t,e)},xn\x3dfunction(t){t\x26\x26(t.preventDefault\x26\x26t.preventDefault(),t.stopPropagation\x26\x26t.stopPropagation())},wn\x3dfunction(t,e){var i\x3de||_i(t),n\x3dRi,r\x3dn(i.marginLeft),o\x3dn(i.marginTop),s\x3dn(i.marginRight),a\x3dn(i.marginBottom);return{l:r,t:o,r:s,b:a,w:r+s,h:o+a}},Cn\x3dfunction(t,e){var i\x3dRi,n\x3de||_i(t),r\x3d"none"!\x3d\x3dn.borderLeftStyle?i(t,n.borderLeftWidth):0,o\x3d"none"!\x3d\x3dn.borderTopStyle?i(t,n.borderTopWidth):0,s\x3d"none"!\x3d\x3dn.borderRightStyle?i(t,n.borderRightWidth):0,a\x3d"none"!\x3d\x3dn.borderBottomStyle?i(t,n.borderBottomWidth):0;return{l:r,t:o,r:s,b:a,w:r+s,h:o+a}},_n\x3dfunction(t,e){var i\x3de||_i(t),n\x3dRi,r\x3dn(t,i.paddingLeft),o\x3dn(t,i.paddingTop),s\x3dn(t,i.paddingRight),a\x3dn(t,i.paddingBottom);return{l:r,t:o,r:s,b:a,w:r+s,h:o+a}},En\x3d{position:function(t,e){var i\x3dt.getBoundingClientRect(),n\x3d{x:i.left,y:i.top,w:i.right-i.left,h:i.bottom-i.top};if(e){var r\x3d{x:window.pageXOffset,y:window.pageYOffset};n.x+\x3dr.x,n.y+\x3dr.y}return n},getBorderExtents:Cn,getContentBox:function(t,e){var i,n\x3de||_i(t),r\x3dt.clientWidth,o\x3d_n(t,n),s\x3dCn(t,n);return r?(i\x3dt.clientHeight,s.w\x3ds.h\x3d0):(r\x3dt.offsetWidth,i\x3dt.offsetHeight),{l:o.l,t:o.t,w:r-o.w-s.w,h:i-o.h-s.h}},getMarginBox:function(t,e){var i\x3de||_i(t),n\x3dwn(t,i);return{l:t.offsetLeft-n.l,t:t.offsetTop-n.t,w:t.offsetWidth+n.w,h:t.offsetHeight+n.h}},getMarginExtents:wn,getPadExtents:_n,getPadBorderExtents:function(t,e){var i\x3de||_i(t),n\x3d_n(t,i),r\x3dCn(t,i);return{l:n.l+r.l,t:n.t+r.t,r:n.r+r.r,b:n.b+r.b,w:n.w+r.w,h:n.h+r.h}}};function bn(t){throw new TypeError(\'"\'+t+\'" is read-only\')}var Rn\x3dfunction(t){switch(t.nodeName.toLowerCase()){case"a":return Ni.has(t,"href");case"area":case"button":case"input":case"object":case"select":case"textarea":return!0;case"iframe":var e,i\x3dt.contentDocument;return"designMode"in i\x26\x26"on"\x3d\x3d\x3di.designMode||(e\x3di.body)\x26\x26("true"\x3d\x3d\x3de.contentEditable||e.firstChild\x26\x26"true"\x3d\x3d\x3de.firstChild.contentEditable);default:return"true"\x3d\x3d\x3dt.contentEditable}},qn\x3dfunction(t){if(!Ni.get(t,"disabled"))return Ni.has(t,"tabIndex")?+Ni.get(t,"tabIndex"):Rn(t)?0:void 0},kn\x3dfunction(t){return qn(t)\x3e\x3d-1},Nn\x3d{},Tn\x3d{},Sn\x3dfunction(t){var e;t in Tn||(Tn[t]\x3d0);do{e\x3d"".concat(t,"_").concat(++Tn[t])}while(Nn[e]);return"".concat("assessmentComponents","_").concat(e)},Ln\x3dfunction(t){if(Nn[t.id])throw new Error("Cannot register components with the duplicate id: ".concat(t.id));Nn[t.id]\x3dt},An\x3dfunction(t){Nn[t]\x26\x26delete Nn[t]},Pn\x3dfunction(t){return Nn[t]},Dn\x3dfunction(){},Bn\x3dnew(function(){function t(){e(this,t),this.activeStack\x3d[],this._justMouseDowned\x3d!1}return n(t,[{key:"_onBlurNode",value:function(){var t\x3dthis;this._clearFocusTimer\x26\x26clearTimeout(this._clearFocusTimer),this._clearFocusTimer\x3dsetTimeout((function(){t.prevNode\x3dt.curNode,t.curNode\x3dnull}),0),this._justMouseDowned||(this._clearActiveComponentsTimer\x26\x26clearTimeout(this._clearActiveComponentsTimer),this._clearActiveComponentsTimer\x3dsetTimeout((function(){delete t._clearActiveComponentsTimer,t._setStack([])}),0))}},{key:"_onTouchNode",value:function(t,e){this._clearActiveComponentsTimer\x26\x26(clearTimeout(this._clearActiveComponentsTimer),delete this._clearActiveComponentsTimer);var i\x3d[];try{for(;t;){var n\x3dt.getAttribute\x26\x26t.getAttribute("assessmentsComponentId"),r\x3dn\x26\x26Pn(n);!r||"mouse"\x3d\x3de\x26\x26r.disabled||i.unshift(n),t\x3dt.parentNode}}catch(t){}this._setStack(i,e)}},{key:"_onFocusNode",value:function(t){t\x26\x269!\x3dt.nodeType\x26\x26(this._clearFocusTimer\x26\x26(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(t),t!\x3d\x3dthis.curNode\x26\x26(this.prevNode\x3dthis.curNode,this.curNode\x3dt))}},{key:"_setStack",value:function(t,e){var i\x3dthis.activeStack,n\x3di.length-1,r\x3dt.length-1;if(t[r]!\x3di[n]){var o,s;for(this.activeStack\x3dt,s\x3dn;s\x3e\x3d0\x26\x26i[s]!\x3d\x3dt[s];s--)(o\x3dPn(i[s]))\x26\x26(o._hasBeenBlurred\x3d!0,o.focused\x3d!1,o._focusManager\x3d\x3d\x3dthis\x26\x26o._onBlur(e),o.emit("component-blur",{by:e,component:o}));for(s++;s\x3c\x3dr;s++)(o\x3dPn(t[s]))\x26\x26(o.focused\x3d!0,o._focusManager\x3d\x3d\x3dthis\x26\x26o._onFocus(e),o.emit("component-focus",{by:e,component:o}))}}},{key:"register",value:function(t,e){var i\x3dthis,n\x3dt.document\x26\x26t.document.body;if(n){var r\x3dnn(t.document,"mousedown, touchstart",(function(t){i._justMouseDowned\x3d!0,setTimeout((function(){i._justMouseDowned\x3d!1}),0),i._onTouchNode(e||t.target,"mouse")})),o\x3dnn(n,"focusin",(function(t){kn(t.target)\x26\x26i._onFocusNode(e||t.target)})),s\x3dnn(n,"focusout",(function(t){i._onBlurNode(e||t.target)}));return{clear:function(){try{r.clear(),o.clear(),s.clear(),bn("body")}catch(t){}}}}}},{key:"focus",value:function(t){if(t)try{t.focus()}catch(t){}}}]),t}()),Mn\x3d!1,On\x3dfunction(){Mn\x3d!0;var t\x3dBn.register(window);window.addEventListener("unload",(function(){t\x26\x26t.clear()}))},In\x3dfunction(){return"interactive"\x3d\x3d\x3ddocument.readyState||"complete"\x3d\x3d\x3ddocument.readyState};In()?On():document.addEventListener("readystatechange",(function t(){Mn||(In()\x26\x26document.removeEventListener("readystatechange",t),On())}));for(var Fn\x3dfunction(t,e){t\x26\x26(t.innerHTML\x3de)},Un\x3dwindow;Un.parent!\x3d\x3dUn;)Un\x3dUn.parent;var Vn\x3dfunction(t){return(t\x3dt||Un.document).body||t.getElementsByTagName("body")[0]},Hn\x3dfunction(t,e,i){try{var n\x3dt.ownerDocument,r\x3dVn(n),o\x3dn.documentElement||r.parentNode,s\x3dLi("ie"),a\x3dLi("webkit");if(t\x3d\x3dr||t\x3d\x3do)return;if(!(Li("mozilla")||s||a||Li("opera")||Li("trident"))\x26\x26"scrollIntoView"in t)return void t.scrollIntoView(!1);var c,u\x3d"BackCompat"\x3d\x3dn.compatMode,l\x3dMath.min(r.clientWidth||o.clientWidth,o.clientWidth||r.clientWidth),h\x3dMath.min(r.clientHeight||o.clientHeight,o.clientHeight||r.clientHeight),d\x3da||u?r:o,p\x3de||En.position(t),f\x3dfunction(t){return!(s\x3c\x3d6||7\x3d\x3ds\x26\x26u)\x26\x26"fixed"\x3d\x3d\x3dbi(t,"position").toLowerCase()},m\x3dt.parentNode;if(i\x26\x26(c\x3dEn.position(i)),f(t))return;for(;m;){m\x3d\x3dr\x26\x26(m\x3dd);var g\x3dEn.position(m),v\x3df(m),y\x3d"rtl"\x3d\x3d_i(m).direction.toLowerCase();if(m\x3d\x3dd)g.w\x3dl,g.h\x3dh,d\x3d\x3do\x26\x26s\x26\x26y\x26\x26(g.x+\x3dd.offsetWidth-g.w),(g.x\x3c0||!s||s\x3e\x3d9)\x26\x26(g.x\x3d0),(g.y\x3c0||!s||s\x3e\x3d9)\x26\x26(g.y\x3d0);else{var x\x3dEn.getPadBorderExtents(m);g.w-\x3dx.w,g.h-\x3dx.h,g.x+\x3dx.l,g.y+\x3dx.t;var w\x3dm.clientWidth,C\x3dg.w-w;w\x3e0\x26\x26C\x3e0\x26\x26(y\x26\x26Li("rtl-adjust-position-for-verticalScrollBar")\x26\x26(g.x+\x3dC),g.w\x3dw),w\x3dm.clientHeight,C\x3dg.h-w,w\x3e0\x26\x26C\x3e0\x26\x26(g.h\x3dw)}v\x26\x26(g.y\x3c0\x26\x26(g.h+\x3dg.y,g.y\x3d0),g.x\x3c0\x26\x26(g.w+\x3dg.x,g.x\x3d0),g.y+g.h\x3eh\x26\x26(g.h\x3dh-g.y),g.x+g.w\x3el\x26\x26(g.w\x3dl-g.x));var _,E,b,R\x3dp.x-g.x,q\x3dp.y-g.y,k\x3dR+p.w-g.w,N\x3dq+p.h-g.h;c\x26\x26(_\x3dc.y-g.y),k*R\x3e0\x26\x26(m.scrollLeft||m\x3d\x3dd||m.scrollWidth\x3em.offsetHeight)\x26\x26(E\x3dMath[R\x3c0?"max":"min"](R,k),y\x26\x26(8\x3d\x3ds\x26\x26!u||s\x3e\x3d9)\x26\x26(E\x3d-E),b\x3dm.scrollLeft,m.scrollLeft+\x3dE,E\x3dm.scrollLeft-b,p.x-\x3dE),N\x3e0\x26\x26(m.scrollTop||m\x3d\x3dd||m.scrollHeight\x3em.offsetHeight)\x26\x26(E\x3dMath.ceil(N),b\x3dm.scrollTop,_\x3e\x3d0\x26\x26(E\x3dMath.min(_,E)),m.scrollTop+\x3dE,E\x3dm.scrollTop-b,p.y-\x3dE,c\x26\x26(c.y-\x3dE)),m\x3dm!\x3dd\x26\x26!v\x26\x26m.parentNode}}catch(e){console.error("scrollIntoView: ".concat(e)),t.scrollIntoView(!1)}},jn\x3d{NONE:"",UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",HOME:"home",END:"end",TABFORWARD:"tab",TABBACK:"tabback"},Wn\x3dfunction(t,e,i){if(i){e\x3de||{};var n\x3di.ownerDocument.createEvent("HTMLEvents");for(var r in n.initEvent(t,!!e.bubbles,!!e.cancelable),e)r in n||(n[r]\x3de[r]);return i.dispatchEvent(n)\x26\x26n}},zn\x3dfunction(t){var e\x3dnull;if(Li("mozilla")){var i\x3d_i(t);e\x3d{left:NaN,top:NaN,marginTop:i.marginTop,marginLeft:i.marginLeft,marginRight:i.marginRight,marginBottom:i.marginBottom}}return En.getMarginBox(t,e)};function Gn(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Xn\x3dfunction(t){a(r,t);var i\x3dGn(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).initFields(),t}return n(r,[{key:"initFields",value:function(){this.domNode\x3dnull,this.baseClass\x3d"",this.parent\x3dnull,this._invalidating\x3d!1,this._eqDocument\x3dnull,this._validated\x3d!1}},{key:"isEqPart",value:function(){return!0}},{key:"getDomNode",value:function(){return this.domNode}},{key:"invalidate",value:function(t){if(!this._invalidating){this._invalidating\x3d!0;try{if(this._validated\x3d!1,this.parent\x26\x26this.parent.invalidate\x26\x26this.parent.invalidate(),t\x26\x26this.children)for(var e\x3d0;e\x3cthis.children.length;e++){this.children[e].invalidate(!0)}}finally{this._invalidating\x3d!1}}}},{key:"getInvalidating",value:function(){return this._invalidating}},{key:"invalidateEq",value:function(){}},{key:"preRender",value:function(){}},{key:"_initDom",value:function(){null\x3d\x3dthis.domNode\x26\x26(this.domNode\x3dthis.createDom(),this.domNode\x26\x26(this.baseClass\x26\x26fn(this.domNode,this.baseClass),this.domNode._eqPart\x3dthis))}},{key:"render",value:function(){this._initDom(),this._validated||this.updateDom()}},{key:"updateDom",value:function(){}},{key:"postRender",value:function(){}},{key:"validate",value:function(){this._validated\x3d!0}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"isInsideRoman",value:function(){return!!this.parent\x26\x26(!!this.parent.isEqRoman()||this.parent.isInsideRoman())}},{key:"shouldInterpretFunctions",value:function(){return this.getEqDocument().interpretFunctions\x26\x26!this.isInsideRoman()}},{key:"parentRow",value:function(){if(this.parent){if(this.parent.isEqRow())return this.parent;if(this.parent.isEqPart())return this.parent.parentRow()}return null}},{key:"getPreviousSibling",value:function(t,e,i){var n\x3dthis.parentRow();return n?n.getPreviousEq(this,t,e,i):null}},{key:"getNextSibling",value:function(t,e){var i\x3dthis.parentRow();return i?i.getNextEq(this,t,e):null}},{key:"gotoPrevRow",value:function(t,e){this.parent\x26\x26this.parent.gotoPrevRow(this,e)}},{key:"gotoNextRow",value:function(t,e){this.parent\x26\x26this.parent.gotoNextRow(this,e)}},{key:"getLastRow",value:function(){return null}},{key:"getFirstRow",value:function(){return null}},{key:"getEqDocument",value:function(){return null\x3d\x3dthis._eqDocument\x26\x26this.parent\x26\x26(this.parent.isEqDocument()?this._eqDocument\x3dthis.parent:this._eqDocument\x3dthis.parent.getEqDocument()),this._eqDocument}},{key:"createDom",value:function(){return null}},{key:"destroyDom",value:function(){var t\x3dthis.domNode;t\x26\x26(t.parentNode\x26\x26t.parentNode.removeChild(t),t._eqPart\x3dnull,this.domNode\x3dnull)}},{key:"destroy",value:function(){this.parent\x26\x26this.parent.removeChild(this)}},{key:"placeCaret",value:function(t,e){this.domNode\x26\x26(0\x3d\x3de?zi.place(t,this.domNode,"before"):zi.place(t,this.domNode,"after"))}},{key:"insertEq",value:function(t,e){var i\x3dthis.parent.getChildIndex(this);return 0\x3d\x3de?this.parent.addChildBefore(t,i):this.parent.addChildAfter(t,i),t[0]}},{key:"deleteCharacter",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"extractEqs",value:function(){return null}},{key:"hasDomNode",value:function(){return null!\x3dthis.domNode}},{key:"updateSelection",value:function(){this.hasDomNode()\x26\x26fn(this.getDomNode(),"selected")}},{key:"resetSelection",value:function(){this.hasDomNode()\x26\x26mn(this.getDomNode(),"selected")}},{key:"mouseDown",value:function(){}},{key:"getCaretPositionFromEvent",value:function(t){var e\x3dEn.position(this.getDomNode());return t.pageX-e.x\x3c.55*e.w?0:1}},{key:"getCaretLocation",value:function(t,e){var i\x3dEn.position(this.domNode),n\x3dthis.getLocalPos(e,{x:i.x,y:i.y}),r\x3d{top:n.y,left:n.x,bottom:n.y+i.h,right:n.x+i.w};return t\x3e0\x26\x26(r.left\x3dr.right),r}},{key:"getLocalPos",value:function(t,e){e||(e\x3dEn.position(this.getDomNode()));var i\x3dt||this.parent,n\x3di.isEqPart()?i.getDomNode():i,r\x3dEn.position(n);return e.x\x3de.x-r.x,e.y\x3de.y-r.y,e}},{key:"getParentPos",value:function(t,e){e||(e\x3dEn.position(this.getDomNode()));var i\x3dt||this.parent,n\x3di.isEqPart()?i.getDomNode():i,r\x3dEn.position(n),o\x3dEn.position(this.getDomNode());return e.x\x3do.x-r.x+e.x,e.y\x3do.y-r.y+e.y,e}},{key:"getCaretPositionAt",value:function(t){return t\x3cthis.getLocalPos().w/2?0:1}},{key:"getFocusRow",value:function(){for(var t\x3dthis.parent;t\x26\x26!t.isEqRow();)t\x3dt.parent;return t||this.getEqDocument()}},{key:"getTreeLabel",value:function(){return"???"}},{key:"getNodeSize",value:function(t){return zn(t||this.getDomNode())}},{key:"getNodeBorderExtents",value:function(t){return En.getBorderExtents(t||this.getDomNode())}},{key:"getParenBox",value:function(){return zn(this.getDomNode())}},{key:"hasNodeClass",value:function(t){return this instanceof t}},{key:"initCaret",value:function(t){if(this.parent.isEqRow()){t.row\x3dthis.parent;var e\x3dt.row.getChildIndex(this);t.position\x3dt.row.getFocusPosition(e)+this.getLastCaretPosition()}}},{key:"getMathML",value:function(){return""}},{key:"getEqText",value:function(){return""}},{key:"getLatex",value:function(){return""}},{key:"getAccessibleName",value:function(){return""}},{key:"getAccessiblePlainText",value:function(){return this.getEqText()}},{key:"getAccessiblePosition",value:function(t){return t?"after ":"before "}},{key:"clear",value:function(){this.invalidate()}},{key:"rowsFilled",value:function(){return!0}},{key:"checkParens",value:function(){return!0}},{key:"getJSText",value:function(){return""}},{key:"forceParenExpand",value:function(){return!1}},{key:"setEqDocument",value:function(t){this._eqDocument\x3dt}}]),r}(function(){function t(){e(this,t)}return n(t,[{key:"isEqRow",value:function(){return!1}},{key:"isEqSubscript",value:function(){return!1}},{key:"isEqSuperscript",value:function(){return!1}},{key:"isEqPart",value:function(){return!1}},{key:"isEqDocument",value:function(){return!1}},{key:"isEqText",value:function(){return!1}},{key:"isEqTextBase",value:function(){return!1}},{key:"isEqComposite",value:function(){return!1}},{key:"isEqObject",value:function(){return!1}},{key:"isEqStack",value:function(){return!1}},{key:"isEqDummyRow",value:function(){return!1}},{key:"isEqParen",value:function(){return!1}},{key:"isEqOp",value:function(){return!1}},{key:"isEqDivide",value:function(){return!1}},{key:"isEqBar",value:function(){return!1}},{key:"isEqContainer",value:function(){return!1}},{key:"isEqIntegral",value:function(){return!1}},{key:"isEqCursorMarker",value:function(){return!1}},{key:"isEqCBrace",value:function(){return!1}},{key:"isEqSupSub",value:function(){return!1}},{key:"isEqSymbol",value:function(){return!1}},{key:"isEqMat",value:function(){return!1}},{key:"isEqEditor",value:function(){return!1}},{key:"isEqSqrt",value:function(){return!1}},{key:"isEqRoman",value:function(){return!1}},{key:"isEqConj",value:function(){return!1}}]),t}());function Qn(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Yn\x3dfunction(t){a(s,t);var i\x3dQn(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._characterNodes\x3dnull,n._text\x3d"","string"\x3d\x3dtypeof t?n._text\x3dt:t\x26\x26(n._text\x3dt.text),n}return n(s,[{key:"isEqTextBase",value:function(){return!0}},{key:"getText",value:function(){return this._text}},{key:"setText",value:function(t){this.invalidate(),this.destroyDom(),this._text\x3dt}},{key:"isEmpty",value:function(){return 0\x3d\x3d\x3dthis._text.length}},{key:"createEqText",value:function(){}},{key:"createDom",value:function(){return zi.create("span")}},{key:"updateDom",value:function(){o(r(s.prototype),"updateDom",this).apply(this,arguments),this.renderCharacters(this.domNode)}},{key:"destroyDom",value:function(){o(r(s.prototype),"destroyDom",this).apply(this,arguments),this._characterNodes\x3dnull}},{key:"renderCharacters",value:function(t){var e\x3dthis._text.split(""),i\x3dthis._characterNodes\x3d[];zi.empty(t),un(e,(function(e,n){var r\x3d"";" "\x3d\x3de\x26\x26(e\x3d"\x26nbsp;",r\x3d"eqSpace");var o\x3dzi.create("span",{innerHTML:e,className:r},t);o.childIndex\x3dn,i.push(o)}))}},{key:"getLastCaretPosition",value:function(){return this._text.length}},{key:"getCaretPositionFromEvent",value:function(t){var e\x3dt.target.childIndex||0,i\x3dEn.position(t.target);return e+\x3dt.pageX-i.x\x3c.55*i.w?0:1}},{key:"placeCaret",value:function(t,e){this._characterNodes?e\x3cthis._text.length?zi.place(t,this._characterNodes[e],"before"):zi.place(t,this._characterNodes[this._characterNodes.length-1],"after"):o(r(s.prototype),"placeCaret",this).apply(this,arguments)}},{key:"insertEq",value:function(t,e){var i\x3dthis.parent;if(0\x3d\x3de)i.addChildBefore(t,i.getChildIndex(this));else if(e\x3e\x3dthis._text.length)i.addChildAfter(t,i.getChildIndex(this));else{var n\x3dthis.createEqText(this._text.substring(0,e));this.setText(this.getText().substring(e)),i.addChildBefore(t,i.getChildIndex(this)),i.addChildBefore(n,i.getChildIndex(an(t)?t[0]:t)),this.invalidateEq()}return t}},{key:"deleteCharacter",value:function(t){var e\x3dthis.getText().length,i\x3dMath.min(t.position,t.positionStart),n\x3dMath.max(t.position,t.positionStart);if(!(i\x3c0||n\x3ethis.getLastCaretPosition())\x26\x26e\x3e0){i\x3d\x3dn\x26\x26n++;var r\x3dthis.getText().slice(0,i),o\x3dthis.getText().slice(n);this.setText(r+o),this.invalidateEq(),t.characterDeleted\x3d!0}}},{key:"updateSelection",value:function(t,e){var i\x3dthis._characterNodes;if(i)for(var n\x3d0;n\x3ci.length;n++)n\x3e\x3dt\x26\x26n\x3ce\x26\x26t!\x3de?fn(i[n],"selected"):mn(i[n],"selected");else o(r(s.prototype),"updateSelection",this).apply(this,arguments)}},{key:"resetSelection",value:function(){o(r(s.prototype),"resetSelection",this).apply(this,arguments),this._characterNodes\x26\x26un(this._characterNodes,(function(t){mn(t,"selected")}))}},{key:"getCaretLocation",value:function(t,e){var i;t\x3cthis._characterNodes.length?i\x3dEn.position(this._characterNodes[t]):(i\x3dEn.position(this._characterNodes[this._characterNodes.length-1])).x+\x3di.w;var n\x3dthis.getLocalPos(e,{x:i.x,y:i.y});return{top:n.y,left:n.x,bottom:n.y+i.h,right:n.x+2,width:2,height:i.h}}},{key:"getCaretPositionAt",value:function(t){if(null\x3d\x3dthis._characterNodes)return o(r(s.prototype),"getCaretPositionAt",this).apply(this,arguments);for(var e\x3dEn.position(this.getDomNode()),i\x3d0;i\x3cthis._characterNodes.length;i++){var n\x3dthis._characterNodes[i],a\x3dEn.position(n);if(a.x-\x3de.x,a.y-\x3de.y,t\x3ca.x+a.w)return t\x3e\x3da.x+a.w/2?Math.min(i+1,this.getLastCaretPosition()):i}return this._characterNodes.length}},{key:"getTreeLabel",value:function(){return this._text}},{key:"isSeparator",value:function(){var t\x3dthis._text.trim();return""\x3d\x3dt||","\x3d\x3dt||";"\x3d\x3dt}},{key:"extractEqs",value:function(t,e,i){var n,r\x3d[];if(t\x3e\x3d0\x26\x26e\x3c\x3dthis._text.length-1\x26\x26((n\x3dthis.createEqText(this._text.substring(t,e)))._eqDocument\x3dthis.getEqDocument(),r.push(n)),!i){var o\x3dthis._text;t\x3e0\x26\x26this.setText(o.substring(0,t)),e\x3c\x3do.length-1\x26\x26(n\x3dthis.createEqText(o.substr(e)),this.parent.addChildAfter(n,this.parent.getChildIndex(this)))}return r}},{key:"getEqText",value:function(){return this.getText()}},{key:"getLatex",value:function(){return this.getText()}},{key:"getAccessibleName",value:function(t){return t\x3e\x3d0\x26\x26t\x3cthis._text.length?this._text.substr(t,1):this.getText()}},{key:"getAccessiblePlainText",value:function(){return this.getText()}},{key:"getAccessiblePosition",value:function(t){return o(r(s.prototype),"getAccessiblePosition",this).call(this,this.getText().length\x3d\x3d\x3dt)}}]),s}(Xn),Kn\x3dfunction(){function t(){e(this,t),this.initFields()}return n(t,[{key:"initFields",value:function(){this._position\x3d0,this._text\x3dnull,this.shortcutList\x3dnull,this.onVarExists\x3dnull,this.functionList\x3dnull,this.tokenValue\x3dnull,this.numberValue\x3dnull,this.caseSensitive\x3d!1,this.allowCommaNumbers\x3d!1,this.interpretFunctions\x3d!1,this.allowDollarNumbers\x3d!1,this.allowSpaceAfterCurrencyChar\x3d!1,this.allowSpaceAfterNegParen\x3d!1,this.allowSpaceAfterMinus\x3d!1,this.allowNegParens\x3d!1,this.allowMinus\x3d!1,this.allowPlus\x3d!1,this.currencyChar\x3d"$",this.allowEntities\x3d!1,this.siCommaChar\x3d",",this.siCommaDecimal\x3d!1,this.zeroOptional\x3d!1,this.isShortCut\x3dnull,this.getShortCutEq\x3dnull}},{key:"setText",value:function(t){this._text\x3dt,this._position\x3d0,this.tokenValue\x3d"",this.numberValue\x3dNaN}},{key:"getText",value:function(){return this._text}},{key:"moreTokens",value:function(){return this._position\x3cthis.getText().length}},{key:"nextToken",value:function(){var e,i\x3dt.EqTextParserToken.NONE;return this._position\x3e\x3dthis._text.length||((e\x3dthis._text.charAt(this._position))\x3e\x3d"0"\x26\x26e\x3c\x3d"9"||e\x3d\x3dthis.getDecimalChar()\x26\x26this.zeroOptional||this.allowDollarNumbers\x26\x26e\x3d\x3dthis.currencyChar||this.allowMinus\x26\x26"-"\x3d\x3de||this.allowPlus\x26\x26"+"\x3d\x3de?i\x3dthis.parseNumber():this.allowNegParens\x26\x26"("\x3d\x3de?i\x3dthis.parseNegParens():e\x3d\x3dthis.getCommaChar()?(i\x3dt.EqTextParserToken.COMMA,this.tokenValue\x3de,this._position++):i\x3d"~"\x3d\x3de\x26\x26null!\x3dthis.onVarExists?this.parseVariable():this.parseShortCut(),i\x3d\x3dt.EqTextParserToken.NONE\x26\x26(i\x3dthis.parseFunction()),this.allowEntities\x26\x26i\x3d\x3dt.EqTextParserToken.NONE\x26\x26"\x26"\x3d\x3de\x26\x26(i\x3dthis.parseEntity()),i\x3d\x3dt.EqTextParserToken.NONE\x26\x26(i\x3dt.EqTextParserToken.TEXT,this.tokenValue\x3dthis._text.charAt(this._position),this._position++)),i}},{key:"compareStrings",value:function(t,e,i){return 1\x3d\x3di\x26\x26(t\x3dt.toLowerCase(),e\x3de.toLowerCase()),t\x3d\x3de?0:t\x3ee?1:-1}},{key:"parseShortCut",value:function(){var e\x3dt.EqTextParserToken.NONE;if(this.shortcutList){var i\x3dthis.shortcutList.findLargestKey(this._text.substr(this._position));i\x26\x26i.length\x3e0\x26\x26(this._position+\x3di.length,this.tokenValue\x3di,e\x3dt.EqTextParserToken.SHORTCUT)}return e}},{key:"parseFunction",value:function(){var e,i,n,r,o,s,a\x3dt.EqTextParserToken.NONE;if(!this.functionList||0\x3d\x3dthis.functionList.length)return a;e\x3d0,this.tokenValue\x3d"",o\x3d-1,n\x3dthis._text.length,i\x3d0;try{do{for(;i+this._position\x3cn\x26\x26e\x3cthis.functionList.length;){if((s\x3dthis.compareStrings(this._text.substr(this._position,i+1),this.functionList[e].toString().substr(0,i+1),this.caseSensitive))\x3c0)return a;if(!(this.functionList[e].toString().length\x3c\x3di||s\x3e0))break;e++}if(e\x3e\x3dthis.functionList.length)return a;r\x3dthis._text.substr(this._position,i+1),0\x3d\x3d(["e","i","g"].indexOf(this.functionList[e].toString())\x3e\x3d0?this.compareStrings(r,this.functionList[e].toString(),!0):this.compareStrings(r,this.functionList[e].toString(),this.caseSensitive))\x26\x26(this.tokenValue\x3dr,o\x3dthis._position+i,a\x3dt.EqTextParserToken.FUNCTION),i++}while(i+this._position\x3cn)}finally{o\x3e\x3d0\x26\x26(this._position\x3do+1)}return a}},{key:"isDigit",value:function(t){return t\x3e\x3d"0"\x26\x26t\x3c\x3d"9"}},{key:"parseNegParens",value:function(){var e\x3d!1,i\x3dt.EqTextParserToken.NONE,n\x3dthis._position;for(this._position++;this._position\x3cthis._text.length;){var r\x3dthis._text.charAt(this._position);if(" "\x3d\x3dr)this._position++;else if(")"\x3d\x3dr){if(e)return this._position++,this.tokenValue\x3dthis._text.substring(n,this._position),this.numberValue\x3d-this.numberValue,i;this._position++}else{if((i\x3dthis.parseNumber())!\x3dt.EqTextParserToken.FLOAT\x26\x26i!\x3dt.EqTextParserToken.INTEGER)return this._position\x3dn+1,this.tokenValue\x3dthis._text.substring(n,this._position),t.EqTextParserToken.TEXT;e\x3d!0}}return this.tokenValue\x3dthis._text.substr(n,1),this._position\x3dn+1,t.EqTextParserToken.TEXT}},{key:"parseNumber",value:function(){var e,i,n,r,o,s,a,c\x3dt.EqTextParserToken.NONE;for(this.numberValue\x3d0,i\x3d!1,n\x3d!1,0,r\x3d!1,o\x3d!1,a\x3d!1,this.tokenValue\x3d"",s\x3d"",e\x3d!1;this._position\x3cthis._text.length;){var u\x3dthis._text.charAt(this._position);if(u!\x3dthis.currencyChar||!this.allowDollarNumbers||r||a)if(this.allowSpaceAfterCurrencyChar\x26\x26" "\x3d\x3du\x26\x26r\x26\x26!o)this._position++;else if(this.allowSpaceAfterMinus\x26\x26" "\x3d\x3du\x26\x26i\x26\x26!o)this._position++;else if(u\x3d\x3dthis.getCommaChar()){if(!this.allowCommaNumbers)break;if(e)break;if(!o)break;if(!a\x26\x26s.length\x3e3)break;if(this._text.length-1\x3cthis._position+3)break;if(!(this.isDigit(this._text.charAt(this._position+1))\x26\x26this.isDigit(this._text.charAt(this._position+2))\x26\x26this.isDigit(this._text.charAt(this._position+3))))break;if(this._text.length\x3ethis._position+4\x26\x26this.isDigit(this._text.charAt(this._position+4)))break;a\x3d!0,this.tokenValue\x3dthis.tokenValue+this._text.substr(this._position,4),s+\x3dthis._text.substr(this._position+1,3),this._position+\x3d4}else if(u\x3d\x3dthis.getDecimalChar()){if(e)break;a\x3d!1,e\x3d!0,this.tokenValue\x3dthis.tokenValue+u,s\x3d"".concat(s,"."),this._position++}else if(this.isDigit(u)){if(a)break;o\x3d!0,this.tokenValue\x3dthis.tokenValue+u,s+\x3du,this._position++}else{if(a)break;if(this.allowPlus\x26\x26"+"\x3d\x3du){if(n||o||e)break;n\x3d!0,this._position++}else if(this.allowMinus\x26\x26"-"\x3d\x3du){if(i||o||e)break;i\x3d!0,this.tokenValue\x3dthis.tokenValue+u,this._position++}else{if(!r||!this.allowNegParens||"("!\x3du)break;var l\x3dthis.tokenValue;this.parseNegParens(),this.tokenValue\x3dl+this.tokenValue}}else r\x3d!0,this.tokenValue\x3dthis.tokenValue+this.currencyChar,this._position++}return this.tokenValue.length\x3e0?(s.length\x3e0\x26\x26(this.numberValue\x3dparseFloat(s),isNaN(this.numberValue)||i\x26\x26(this.numberValue\x3d-this.numberValue)),c\x3de?t.EqTextParserToken.FLOAT:t.EqTextParserToken.INTEGER):c\x3dt.EqTextParserToken.NONE,c}},{key:"parseVariable",value:function(){}},{key:"parseEntity",value:function(){for(var e\x3dthis._position+1;e\x3cthis._text.length;){if(";"\x3d\x3dthis._text.charAt(e))return this.tokenValue\x3dthis._text.substring(this._position,e+1),this._position\x3de+1,t.EqTextParserToken.ENTITY;e++}return t.EqTextParserToken.NONE}},{key:"getCommaChar",value:function(){return this.siCommaChar}},{key:"getDecimalChar",value:function(){return this.siCommaDecimal?",":"."}}]),t}();function Jn(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Kn.EqTextParserToken\x3d{NONE:0,TEXT:1,INTEGER:2,FLOAT:3,FUNCTION:4,COMMA:5,VARIABLE:6,SHORTCUT:7,ENTITY:8};var $n\x3dfunction(t){a(s,t);var i\x3dJn(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"isEqCursorMarker",value:function(){return!0}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"getEqText",value:function(){return"@CURSOR{}"}},{key:"getCaretLocation",value:function(t,e){return t\x3e0\x26\x26(t\x3d0),o(r(s.prototype),"getCaretLocation",this).call(this,t,e)}}]),s}(Xn),Zn\x3d{init:function(){for(var t\x3dwindow.document.documentElement.style,e\x3d0,i\x3d["WebkitT","MozT","OT","msT","t"];e\x3ci.length;e++)void 0!\x3d\x3dt["".concat(i[e],"ransform")]\x26\x26(this.transformName\x3d"".concat(i[e],"ransform"))},set:function(t,e){if(!this.transformName)throw new Error("Unable to determine css command for transform");domStyle.set(t,this.transformName,e)},get:function(t){if(!this.transformName)throw new Error("Unable to determine css command for transform");domStyle.set(t,this.transformName)}};Zn.init();var tr\x3d{Operators:["+","-","/","*","\x3d","\x3c","\x3e"],Parens:["(",")","[","]","{","}"],OpenParens:["(","[","{"],scale:function(t,e,i){Zn.set(t,"scale(".concat(e,",").concat(i,")"))},isOperator:function(t){return this.Operators.indexOf(t)\x3e\x3d0},isParen:function(t){return this.Parens.indexOf(t)\x3e\x3d0},isOpenParen:function(t){return this.OpenParens.indexOf(t)\x3e\x3d0},encodeText:function(t){return t.replace(/([\\\\\x26{}@^_;])/gi,"\\\\$1")},addText:function(t,e){t.appendChild(t.ownerDocument.createTextNode(e))},getRowBaseline:function(t){var e\x3dzi.create("span",{style:{display:"inline-block",width:"1px",height:"0px",verticalAlign:"baseline"}});try{zi.place(e,t);var i\x3dEn.position(e).y-En.position(t).y}finally{zi.destroy(e)}return i},decodeHtml:function(t){var e\x3dnew RegExp("(\x26amp;)","g"),i\x3d{"\x26amp;":"\x26"};return t\x3dt.replace(e,(function(t){return i[t]}))},getTextContent:function(t){return t.textContent||t.innerText},setTextContent:function(t,e){void 0\x3d\x3d\x3dt.textContent?t.innerText\x3de:t.textContent\x3de},getNearestAnnouncementAncestor:function(t){if(t){if(t.getAccessibleAnnouncement)return t;if(t.parent)return this.getNearestAnnouncementAncestor(t.parent)}return null}},er\x3dfunction(){function t(){e(this,t)}return n(t,null,[{key:"trim",value:function(t){return t.trim()}},{key:"substitute",value:function(t){if(null\x3d\x3dt)return"";for(var e\x3darguments.length,i\x3dnew Array(e\x3e1?e-1:0),n\x3d1;n\x3ce;n++)i[n-1]\x3darguments[n];var r,o\x3di.length;r\x3d1\x3d\x3do\x26\x26i[0]instanceof Array?i[0]:i.slice(0);for(var s\x3d0;s\x3cr.length;s++)t\x3dt.replace(new RegExp("\\\\{".concat(s,"\\\\}"),"gi"),r[s]);return t}},{key:"sameText",value:function(t,e){return t.toLowerCase()\x3d\x3de.toLowerCase()}},{key:"padString",value:function(t,e,i){return i||(i\x3d" "),!e||e\x3c\x3dt.length?t:new Array(e-t.length+1).join(i)+t}},{key:"endsWith",value:function(t,e){return!(!t||!e)\x26\x26-1!\x3d\x3dt.indexOf(e,t.length-e.length)}}]),t}(),ir\x3d{};function nr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}ir._functionNames\x3d{sin:"sine",cos:"cosine",tan:"tangent",sec:"secant",csc:"cosecant",cot:"cotangent",arcsin:"arcsine",arccos:"arccosine",arctan:"arctangent",arcsec:"arcsecant",arccsc:"arccosecant",arccot:"arccotangent",sinh:"hyperbolic sine",cosh:"hyperbolic cosine",tanh:"hyperbolic tangent",sech:"hyperbolic secant",csch:"hyperbolic cosecant",coth:"hyperbolic cotangent"},ir.getFunctionAccName\x3dfunction(t){var e\x3dir._functionNames[t];return e||t},ir._modifierNames\x3d{hat:"ModifyingAbove {0} with caret",rayr:"ModifyingAbove {0} with right arrow",rayl:"ModifyingAbove {0} with left arrow",raydb:"ModifyingAbove {0} with left right arrow",umlaut:"ModifyingAbove {0} with two dots",arc:"ModifyingAbove {0} with arc",accent:"ModifyingAbove {0} with accent",overbrc:"ModifyingAbove {0} with brace",sidot:"ModifyingAbove {0} with dot",prime2:"{0} double prime",prime3:"{0} triple prime",tilde:"ModifyingAbove {0} with tilde",ovdbbar:"{0} double overbar",slash:"CrossOut {0} EndCrossOut",arrowl:"ModifyingBelow {0} with left arrow",arrowr:"ModifyingBelow {0} with right arrow",arrowdb:"ModifyingBelow {0} with left right arrow",undrbar:"Modifying {0} with underline",undbbar:"Modifying {0} with double underline",undrbrc:"ModifyingBelow {0} with brace",hline:"ModifyingAbove and below {0} with horizontal line",dhline:"ModifyingAbove and below {0} with doybe horizontal line",hbrace:"ModifyingAbove and below {0} with brackets",hbracet:"ModifyingAbove {0} with bracket",hbraceb:"ModifyingBelow {0} with bracket"},ir.getModifierNames\x3dfunction(t,e){var i\x3dt.toLowerCase(),n\x3dir._modifierNames[i];return n?er.substitute(n,e):"".concat(e.join(" ")," ").concat(i)},ir._eqBraceNames\x3d{cbrace:"StartSet {0} EndSet",cbracel:"left brace {0}",cbracer:"{0} right brace",paren:"left parenthesis {0} right parenthesis",parenl:"left parenthesis {0}",parenr:"{0} right parenthesis",brace:"left bracket {0} right bracket",bracel:"left bracket {0}",bracer:"{0} right bracket",vector:"left angle {0} right angle",vectorl:"left angle {0}",vectorr:"{0} right angle",grint:"left double bracket {0} right double bracket",dbracel:"left double bracket {0}",dbracer:"{0} right double bracket",ceil:"Start ceiling {0} End ceiling",floor:"Start floor {0} End floor"},ir.getEqBraceNames\x3dfunction(t,e){var i\x3dir._eqBraceNames[t];return i?er.substitute(i,e):null},ir.divNumerators\x3d["zero","one","two","three","four","five","six","seven","eight","nine"],ir.divDenominators\x3d["","whole","half","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eightteenth","nineteenth"],ir.divDenominators_plural\x3d["","wholes","halves","thirds","fourths","fifths","sixths","sevenths","eighths","ninths","tenths","elevenths","twelfths","thirteenths","fourteenths","fifteenths","sixteenths","seventeenths","eightteenths","nineteenths"],ir.getNthString\x3dfunction(t){var e\x3dt.toString();switch(t){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"st")}};var rr\x3dfunction(t){a(s,t);var i\x3dnr(s);function s(t,n){var r;return e(this,s),(r\x3di.apply(this,arguments)).initFields(),n||(n\x3ds.EqTextType.TEXT),r._textType\x3dn,r}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._textType\x3ds.EqTextType.TEXT,this.isItalic\x3d!1,this.baseClass\x3d"eqText"}},{key:"isEqText",value:function(){return!0}},{key:"createDom",value:function(){var t\x3do(r(s.prototype),"createDom",this).apply(this,arguments),e\x3d"",i\x3dthis.getEqDocument();switch(this._textType){case s.EqTextType.FUNCTION:e\x3d!i.eiItalic||"e"!\x3dthis._text\x26\x26"i"!\x3dthis._text?"g"\x3d\x3dthis._text?i.supportGravityConstant||i.getItalicizeVariables()?"italic":"":"l"\x3d\x3d\x3dthis._text?"":i.latexSpecialFunctions\x26\x26i.isLatexFunction(this._text)?"txtFunc nobold":i.boldFunctions?"txtFunc":"txtFunc nobold":"italic eqMathBB";break;case s.EqTextType.FLOAT:case s.EqTextType.INTEGER:e\x3d"txtNum";break;case s.EqTextType.ENTITY:e\x3d"txtEnt";break;default:i.getItalicizeVariables()\x26\x26(e\x3d"italic",this.isItalic\x3d!0)}return gn(t,e,"txtFunc txtNum txtEnt"),t}},{key:"isDescending",value:function(t){for(var e\x3d0;e\x3ct.length;e++){var i\x3dt.charAt(e);if(i\x3c"."||i\x3e"z"||"gjpqyQ".indexOf(i)\x3e\x3d0)return!0}return!1}},{key:"renderCharacters",value:function(t){if("l"\x3d\x3d\x3dthis._text\x26\x26this.shouldInterpretFunctions()\x26\x26this.getEqDocument().convertLScript){var e\x3dthis._characterNodes\x3d[];zi.empty(t);var i\x3dzi.create("span",{innerHTML:"\x26#x2113;"},t);i.childIndex\x3d0,e.push(i)}else o(r(s.prototype),"renderCharacters",this).apply(this,arguments)}},{key:"postRender",value:function(){if(o(r(s.prototype),"postRender",this).apply(this,arguments),mn(this.domNode,"padLeft padRight"),this.isItalic){if(!this._text||0\x3d\x3dthis._text.length)return;"j"!\x3dthis._text[0]\x26\x26"f"!\x3dthis._text[0]||(fn(this.domNode,"padLeft"),"j"\x3d\x3dthis._text[0]\x26\x26this.parent.isEqRow()\x26\x26this.parent.parent\x26\x26this.parent.parent.isEqBar()\x26\x26fn(this.domNode,"padRight")),"f"\x3d\x3dthis._text[this._text.length-1]\x26\x26fn(this.domNode,"padRight")}}},{key:"getTextType",value:function(){return this._textType}},{key:"isNumber",value:function(){return this._textType\x3d\x3ds.EqTextType.INTEGER||this._textType\x3d\x3ds.EqTextType.FLOAT}},{key:"isInteger",value:function(){return this._textType\x3d\x3ds.EqTextType.INTEGER}},{key:"isFunction",value:function(){return this._textType\x3d\x3ds.EqTextType.FUNCTION}},{key:"isEntity",value:function(){return this._textType\x3d\x3ds.EqTextType.ENTITY}},{key:"_fixDecimal",value:function(t){var e;if(this.getEqDocument().siCommaDecimal){e\x3dt.replace(/[,]/g,".")}else e\x3dt;return e}},{key:"getEqText",value:function(){var t\x3dthis._text,e\x3dthis.getEqDocument();if(e.simpleEqText)return this._text;if(this.isNumber()){if(e.allowNegParens\x26\x26e.allowDollarNumbers\x26\x26this._text.indexOf(e.currencyChar)\x3e\x3d0\x26\x26-1\x3d\x3dthis._text.indexOf(e.siCommaChar))return"@CURR{".concat(this._text.replace(new RegExp("\\\\".concat(e.currencyChar),"g"),""),"}");if(e.allowCommaNumbers\x26\x26this._text.indexOf(e.siCommaChar)\x3e\x3d0)return"@CNUM{".concat(this._text.replace(new RegExp("\\\\".concat(e.siCommaChar),"g"),""),"}");if(e.allowDollarNumbers\x26\x26this._text.indexOf(e.currencyChar)\x3e\x3d0)return"@CURR{".concat(this._text.replace(new RegExp("\\\\".concat(e.currencyChar),"g"),""),"}");if(e.allowNegParens\x26\x26"("\x3d\x3dthis._text.substr(0,1)\x26\x26")"\x3d\x3dthis._text.substr(-1,1))return"@NEGP{".concat(this._text.substr(1,this._text.length-2),"}");t\x3dthis._text}else if(this.isEntity())return this._text;return tr.encodeText(t)}},{key:"tokenToTextType",value:function(t){switch(t){case Kn.EqTextParserToken.INTEGER:return s.EqTextType.INTEGER;case Kn.EqTextParserToken.FLOAT:return s.EqTextType.FLOAT;case Kn.EqTextParserToken.FUNCTION:return s.EqTextType.FUNCTION;case Kn.EqTextParserToken.VARIABLE:return s.EqTextType.VARIABLE;case Kn.EqTextParserToken.ENTITY:return s.EqTextType.ENTITY;default:return s.EqTextType.TEXT}}},{key:"parseText",value:function(t,e){var i,n,r;for(t.setText(this.getText()),n\x3d"",r\x3d[];t.moreTokens();)if((i\x3dt.nextToken())\x3d\x3dKn.EqTextParserToken.TEXT)n+\x3dt.tokenValue;else if(i\x3d\x3dKn.EqTextParserToken.SHORTCUT){var o\x3dthis.getEqDocument().getShortcutList().find(t.tokenValue);if(null!\x3do){n.length\x3e0\x26\x26(r.push(new s(n)),n\x3d"");var a\x3dthis.getEqDocument().parseNodes(o.toString(),e);r\x3dr.concat(a),e\x26\x26!e.eqCursorMarker\x26\x26(e.eqCursorMarker\x3dnew $n,this.getEqDocument().setEqCursorMarker(e.eqCursorMarker),r.push(e.eqCursorMarker))}else n+\x3dt.tokenValue}else{n.length\x3e0\x26\x26(r.push(new s(n)),n\x3d"");var c\x3dnew s(t.tokenValue);c._textType\x3dthis.tokenToTextType(i),r.push(c)}n.length\x3e0\x26\x26r.push(new s(n)),r.length\x3e0\x26\x26(r[0].isEqText()?(this._textType\x3dr[0].getTextType(),this.setText(r[0].getText()),r.length\x3e1\x26\x26this.parent.addChildAfter(r.slice(1,r.length),this.parent.getChildIndex(this))):(this.parent.addChildAfter(r,this.parent.getChildIndex(this)),this.parent.removeChild(this)))}},{key:"mergeText",value:function(t){this.setText(this._text+t.getText())}},{key:"getLatex",value:function(){return this.getTextType()\x3d\x3ds.EqTextType.FUNCTION?this.getEqDocument().latexSpecialFunctions\x26\x26this.getEqDocument().isLatexFunction(this._text)?this.getEqDocument().getLatexFunction(this._text):"{\\\\".concat(this._text,"}"):this._text}},{key:"getJSText",value:function(){return"e"\x3d\x3dthis._text||"E"\x3d\x3dthis._text?"Math.E":"pi"\x3d\x3dthis._text||"PI"\x3d\x3dthis._text?"Math.PI":this._text}},{key:"getAccessibleName",value:function(t){if(this._textType\x3d\x3ds.EqTextType.FUNCTION)return ir.getFunctionAccName(this._text);if(t\x3e\x3d0||this._textType!\x3d\x3ds.EqTextType.TEXT)return o(r(s.prototype),"getAccessibleName",this).apply(this,arguments);if(","\x3d\x3dthis._text)return"comma";for(var e,i\x3dthis._text.split(" "),n\x3d0;n\x3ci.length;n++){for(var a\x3di[n],c\x3d"";a.length\x3e0\x26\x26("\\r"\x3d\x3da.charAt(0)||"\\n"\x3d\x3da.charAt(0));)c+\x3da.charAt(0),a\x3da.substr(1);1\x3d\x3da.length\x26\x26a\x3e\x3d"A"\x26\x26a\x3c\x3d"Z"?i[n]\x3d"".concat(c,"Upper ").concat(a):a.indexOf("!")\x3e\x3d0?(e\x3da.split("!"),i[n]\x3dc+e.join(" exclamation mark ")):a.indexOf("?")\x3e\x3d0\x26\x26(e\x3da.split("?"),i[n]\x3dc+e.join(" question mark "))}return i.join(" ")}},{key:"createEqText",value:function(t){return new s(t)}}]),s}(Yn);function or(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}rr.EqTextType\x3d{TEXT:0,FUNCTION:1,FLOAT:2,INTEGER:3,VARIALE:4,ENTITY:5};var sr\x3dfunction(t){a(s,t);var i\x3dor(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._opType\x3dt,n._opInfo\x3ds._OpInfo[n._opType],n._text\x3dn._opInfo.text,n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._opType\x3dnull,this._opInfo\x3dnull,this.baseClass\x3d"eqOp"}},{key:"isEqOp",value:function(){return!0}},{key:"getOpType",value:function(){return this._opType}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"createDom",value:function(){var t\x3do(r(s.prototype),"createDom",this).apply(this,arguments);return this._opInfo.className\x26\x26fn(t,this._opInfo.className),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domNode)}},{key:"getTreeLabel",value:function(){return"op:".concat(this._text)}},{key:"getLatex",value:function(){var t\x3dthis._opInfo.latex;return"\\\\"\x3d\x3d\x3dt.charAt(0)\x26\x26(t\x3d"{".concat(t,"}")),t}},{key:"getEqText",value:function(){return this._opType}},{key:"getJSText",value:function(){return this._opInfo\x26\x26this._opInfo.js?this._opInfo.js:""}},{key:"getAccessibleName",value:function(){if(this._opType\x3d\x3d\x3ds.OpTypes.MINUS\x26\x26this.parent\x26\x26this.parent.isEqRow()){var t\x3dthis.parent.getPreviousEq(this),e\x3dthis.parent.getNextEq(this);if(!t\x26\x26e||t\x26\x26t.isEqTextBase()\x26\x26"-,;\x3d".indexOf(t.getText())\x3e\x3d0||t\x26\x26t.isEqOp()\x26\x26"-\x3d".indexOf(t._opType)\x3e\x3d0||t\x26\x26t.isEqParen()\x26\x26t.isOpenParen())return"negative"}return this._opInfo.accName}},{key:"extractEqs",value:function(){return null}},{key:"createEqText",value:function(t){return new rr(t)}}]),s}(Yn);sr.OpTypes\x3d{EMPTY:"\x26emptyop;",SPACE:" ",PLUS:"+",MINUS:"-",MULTIPLY:"*",DIVIDE:"/",EQUALS:"\x3d",POWER:"^",LT:"\x26lt;",GT:"\x26gt;",LE:"\x26le;",GE:"\x26ge;",NE:"\x26ne;",DIV:"\x26div;",TIMES:"\x26times;",STAR:"\x26star;",APPROX:"\x26approx;",CONG:"\x26cong;",PLUSMINUS:"\x26plusminus;",COMPFN:"\x26compfn;",PRECEDES:"\x26precedes;",FOLLOWS:"\x26follows;",ESTIMATES:"\x26estimates;",MINUSPLUS:"\x26minusplus;",LTEQ:"\x26lteq;",GTEQ:"\x26gteq;",DOTPRODUCT:"\x26dotproduct;"};var ar\x3dsr.OpTypes;sr._OpChars\x3d{" ":ar.SPACE,"+":ar.PLUS,"-":ar.MINUS,"\u2212":ar.MINUS,"*":ar.MULTIPLY,"/":ar.DIVIDE,"\x3d":ar.EQUALS,"^":ar.POWER,"\x3c":ar.LT,"\x3e":ar.GT,"\u2264":ar.LE,"\u2265":ar.GE,"\u2260":ar.NE,"\u00f7":ar.DIV,"\u2022":ar.MULTIPLY,"\u00d7":ar.TIMES,"\u2248":ar.APPROX,"\u2245":ar.CONG,"\u00b1":ar.PLUSMINUS,"\u25e6":ar.COMPFN,"\u227a":ar.PRECEDES,"\u227b":ar.FOLLOWS,"\u2259":ar.ESTIMATES,"\u2213":ar.MINUSPLUS,"\u2266":ar.LTEQ,"\u2267":ar.GTEQ,"\u2299":ar.DOTPRODUCT};var cr\x3d{};cr[ar.EMPTY]\x3d{text:"\\0",latex:"",accName:"",mma:""},cr[ar.SPACE]\x3d{text:" ",latex:"",accName:"",mma:""},cr[ar.PLUS]\x3d{text:"+",latex:"+",accName:"plus",className:"opPlus",mma:"RawPlus",js:"+"},cr[ar.MINUS]\x3d{text:"\u2212",latex:"-",accName:"minus",mma:"RawMinus",className:"",js:"-"},cr[ar.MULTIPLY]\x3d{text:"\u2022",latex:"\\\\cdot",accName:" times ",mma:"RawStar",className:"",js:"*"},cr[ar.DIVIDE]\x3d{text:"/",latex:"/",accName:" divided by ",mma:"RawSlash",className:"eqMathBB opDivide",js:"/"},cr[ar.EQUALS]\x3d{text:"\x3d",latex:"\x3d",accName:"equals",mma:"Equal"},cr[ar.POWER]\x3d{text:"^",latex:"\\\\wedge",accName:"caret",mma:"RawWedge"},cr[ar.LT]\x3d{text:"\x3c",latex:"\x3c",accName:"less than",mma:"RawLess"},cr[ar.GT]\x3d{text:"\x3e",latex:"\x3e",accName:"greater than",mma:"RawGreater"},cr[ar.LE]\x3d{text:"\u2264",latex:"\\\\le",accName:"less than or equals",mma:"LessEqual"},cr[ar.GE]\x3d{text:"\u2265",latex:"\\\\ge",accName:"greater than or equals",mma:"GreaterEqual"},cr[ar.NE]\x3d{text:"\u2260",latex:"\\\\ne",accName:"not equals",mma:"NotEqual"},cr[ar.DIV]\x3d{text:"\u00f7",latex:"\\\\div",accName:" divided by ",mma:"Divide"},cr[ar.TIMES]\x3d{text:"\u00d7",latex:"\\\\times",accName:" times ",mma:"Cross",className:"eqMathBB multiplicationCross"},cr[ar.STAR]\x3d{text:"*",latex:"\\\\ast",accName:"star",mma:"Star",className:"eqMathBB"},cr[ar.APPROX]\x3d{text:"\u2248",latex:"\\\\approx",accName:"almost equals",mma:"TildeTilde",className:"eqMathBB"},cr[ar.CONG]\x3d{text:"\u2245",latex:"\\\\cong",accName:"congruent",mma:"TildeEqual",className:"eqMathBB"},cr[ar.PLUSMINUS]\x3d{text:"\u00b1",latex:"\\\\pm",accName:"plus or minus",mma:"PlusMinus"},cr[ar.COMPFN]\x3d{text:"\u25e6",latex:"\\\\circ",accName:"circle",mma:"SmallCircle",className:"eqMathBB"},cr[ar.PRECEDES]\x3d{text:"\u227a",latex:"\\\\prec",accName:"precedes",mma:"Precedes"},cr[ar.FOLLOWS]\x3d{text:"\u227b",latex:"\\\\succ",accName:"follows",mma:"Follows"},cr[ar.ESTIMATES]\x3d{text:"\u2259",latex:"\\\\estimates",accName:"estimates",mma:"Estimates"},cr[ar.MINUSPLUS]\x3d{text:"\u2213",latex:"\\\\minusplus",accName:"minus plus",mma:"MinusPlus"},cr[ar.LTEQ]\x3d{text:"\u2266",latex:"\\\\lteq",accName:"less than over equal",mma:"LessThenOverEqual",className:"eqMathBB"},cr[ar.GTEQ]\x3d{text:"\u2267",latex:"\\\\gteq",accName:"greater than over equal",mma:"GreaterthenOverEqual",className:"eqMathBB"},cr[ar.DOTPRODUCT]\x3d{text:"\u2299",latex:"\\\\dotproduct",accName:"dot product",mma:"DotProduct",className:"eqMathBB onePtFive"},sr._OpInfo\x3dcr,sr.getEqOp\x3dfunction(t){for(var e in sr.OpTypes)if(sr.OpTypes.hasOwnProperty(e)\x26\x26t\x3d\x3d\x3dsr.OpTypes[e])return new sr(t);return null},sr.getEqOpFromChar\x3dfunction(t){var e\x3dsr._OpChars[t];return e?new sr(e):null},sr.getEqOpNameFromMma\x3dfunction(t){for(var e in cr)if(cr.hasOwnProperty(e)\x26\x26t\x3d\x3d\x3dcr[e].mma)return e;return null},sr.isOpChar\x3dfunction(t){return!!sr._OpChars[t]},sr.isEqOpLatex\x3dfunction(t){return null!\x3dsr._getEqOpTypeFromLatex(t)},sr._getEqOpTypeFromLatex\x3dfunction(t){for(var e in cr)if(cr.hasOwnProperty(e)\x26\x26cr[e].latex.indexOf(t)\x3e-1)return e;return null},sr.getEqOpLatex\x3dfunction(t){var e\x3dsr._getEqOpTypeFromLatex(t);return null\x3d\x3de?null:new sr(e)};var ur\x3d{drawLeftBrace:function(t,e,i){var n\x3de/2,r\x3de\x3e20?2.5:1.5,o\x3d[];o.push(\'\x3csvg height\x3d"\'),o.push(e),o.push(\'" width\x3d"6"\x3e\'),o.push(\'\x3cpath d\x3d"M6,0 L3 4 L3 \'),o.push(n-r),o.push(" L0 "),o.push(n),o.push(" L3 "),o.push(n+r),o.push(" L3 "),o.push(e-3),o.push(" L6 "),o.push(e),o.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3do.join("")},drawRightBrace:function(t,e,i){var n\x3de/2,r\x3de\x3e20?2.5:1.5,o\x3d[];o.push(\'\x3csvg height\x3d"\'),o.push(e),o.push(\'" width\x3d"6"\x3e\'),o.push(\'\x3cpath d\x3d"M0,0 L3 4 L3 \'),o.push(n-r),o.push(" L6 "),o.push(n),o.push(" L3 "),o.push(n+r),o.push(" L3 "),o.push(e-3),o.push(" L0 "),o.push(e),o.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3do.join("")},drawLeftParen:function(t,e,i){var n\x3d[];e\x3dMath.floor(e)+.5,n.push(\'\x3csvg height\x3d"\'),n.push(e),n.push(\'" width\x3d"6.5"\x3e\'),n.push(\'\x3cpath d\x3d"M5.5,0.5 A 4,8 0 0 0 1.5,8.5 L1.5 \'),n.push(e-8.5),n.push(" A 4,8 0 0 0 5.5 "),n.push(e-1),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawRightParen:function(t,e,i){var n\x3d[];e\x3dMath.floor(e)+.5,n.push(\'\x3csvg height\x3d"\'),n.push(e),n.push(\'" width\x3d"6.5"\x3e\'),n.push(\'\x3cpath d\x3d"M0.5,0.5 A 4,8 0 0 1 4.5,8.5 L4.5 \'),n.push(e-8.5),n.push(" A 4,8 0 0 1 0.5 "),n.push(e-1),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawLeftBracket:function(t,e,i){var n\x3d[];e\x3dMath.floor(e)-.5;var r\x3dMath.ceil(e);n.push(\'\x3csvg height\x3d"\'),n.push(r),n.push(\'" width\x3d"5"\x3e\'),n.push(\'\x3cpath d\x3d"M4.5 0.5 h-4 V0.5 \'),n.push(e),n.push(" h4"),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawRightBracket:function(t,e,i){var n\x3d[],r\x3dMath.ceil(e);e\x3dMath.floor(e)-.5,n.push(\'\x3csvg height\x3d"\'),n.push(r),n.push(\'" width\x3d"5"\x3e\'),n.push(\'\x3cpath d\x3d"M0.5 0.5 h4 V\'),n.push(e),n.push(" h-4"),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawPipe:function(t,e,i){var n\x3d[],r\x3dMath.ceil(e);e\x3dMath.floor(e)-.5,n.push(\'\x3csvg height\x3d"\'),n.push(r),n.push(\'" width\x3d"2"\x3e\'),n.push(\'\x3cpath d\x3d"M0.5 0.5 V\'),n.push(e),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},addBox:function(t,e){if(null\x3d\x3dt)return h({},e);var i\x3dh({},t),n\x3dt.t+t.h,r\x3de.t+e.h;return e.t\x3ct.t\x26\x26(i.t\x3de.t),r\x3en\x26\x26(n\x3dr),i.h\x3dn-i.t,i}},lr\x3dfunction(){function t(){e(this,t)}return n(t,null,[{key:"toHexString",value:function(t){var e\x3dt.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);if(null\x3d\x3de)return t;var i\x3dparseInt(e[1],10),n\x3dparseInt(e[2],10),r\x3dparseInt(e[3],10);return"#".concat(er.padString(i.toString(16),2,"0")).concat(er.padString(n.toString(16),2,"0")).concat(er.padString(r.toString(16),2,"0"))}}]),t}();function hr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var dr\x3dfunction(t){a(s,t);var i\x3dhr(s);function s(t,n){var r;return e(this,s),(r\x3di.apply(this,arguments)).initFields(),r._parenChar\x3dt,r._parenType\x3dn,r}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._matchedParen\x3dnull,this._parenChar\x3dnull,this._parenType\x3dnull,this.baseClass\x3d"eqParen",this.disableCharParens\x3d!1}},{key:"isEqParen",value:function(){return!0}},{key:"getMathML",value:function(){return null}},{key:"getLatex",value:function(){var t\x3d"";return"{"!\x3dthis.getParenChar()\x26\x26"}"!\x3dthis.getParenChar()||(t\x3d"\\\\"),this.isCloseParen()?"\\\\right".concat(t).concat(this._parenChar):"\\\\left".concat(t).concat(this._parenChar)}},{key:"setParenBox",value:function(t){var e,i\x3dthis.getDomNode(),n\x3dthis.getEqDocument();if(!this.checkParens()\x26\x26!n.disabled\x26\x26!n.disableParenMatching)fn(this.domNode,"eqParenUnmatched"),e\x3dn.getParenColor(!0);else{mn(this.domNode,"eqParenUnmatched");var r\x3dbi(this.domNode,"color");e\x3d""\x3d\x3dr?"#000":lr.toHexString(r)}var o\x3ds.ParenInfo[this._parenChar];s.calcParenNode(i,t,o,e)}},{key:"setMatchedParen",value:function(t){t!\x3dthis._matchedParen\x26\x26(this._matchedParen\x3dt,this.invalidate())}},{key:"getMatchedParen",value:function(){return this._matchedParen}},{key:"isOpenParen",value:function(){return this._parenType?this._parenType\x3d\x3ds.EqParenType.OPEN:s.OPENPARENS.indexOf(this._parenChar)\x3e\x3d0}},{key:"isCloseParen",value:function(){return this._parenType?this._parenType\x3d\x3ds.EqParenType.CLOSE:s.CLOSEPARENS.indexOf(this._parenChar)\x3e\x3d0}},{key:"isUnknownParen",value:function(){return this._parenType\x3d\x3ds.EqParenType.UNKNOWN||"|"\x3d\x3dthis._parenChar}},{key:"canClose",value:function(t){return this.isOpenParen()\x26\x26t.isCloseParen()}},{key:"setParenChar",value:function(t){this._parenChar!\x3dt\x26\x26(this._parenChar\x3dt,this.invalidate())}},{key:"getParenChar",value:function(){return this._parenChar}},{key:"getMatchingCloseParenChar",value:function(t){var e;return(e\x3ds.OPENPARENS.indexOf(t))\x3e\x3d0?s.CLOSEPARENS.charAt(e):t}},{key:"getMatchingOpenParenChar",value:function(t){var e;return(e\x3dthis.CLOSEPARENS.indexOf(t))\x3e\x3d0?this.OPENPARENS.charAt(e):t}},{key:"getMatchingParenChar",value:function(){return this.isOpenParen()?this.getMatchingCloseParenChar(this._parenChar):this.getMatchingOpenParenChar(this._parenChar)}},{key:"getIsEmpty",value:function(){return 0\x3d\x3dthis._parenChar.length}},{key:"deleteCharacter",value:function(t){this._parenChar\x3d"",t.characterDeleted\x3d!0}},{key:"isEmpty",value:function(){return 0\x3d\x3d\x3dthis._parenChar.length}},{key:"getEqText",value:function(){var t\x3ds.ParenInfo[this._parenChar];return t?t.text:this._parenChar}},{key:"getAccessibleName",value:function(){if("{"\x3d\x3dthis._parenChar)return"StartSet";if("}"\x3d\x3dthis._parenChar)return"EndSet";var t\x3dthis.isOpenParen()?"left ":"right ";return"["\x3d\x3dthis._parenChar||"]"\x3d\x3dthis._parenChar?t+\x3d"bracket":t+\x3d"parenthesis",t}},{key:"getAccessiblePlainText",value:function(){return this._parenChar}},{key:"getParenType",value:function(){return this._parenType}},{key:"setParenType",value:function(t){this._parenType\x3dt}},{key:"checkParens",value:function(){var t\x3d!1,e\x3dthis.getMatchedParen();return e\x26\x26(t\x3dthis.isOpenParen()?s.CLOSINGPAREN[this._parenChar]\x3d\x3d\x3de._parenChar:s.CLOSINGPAREN[e._parenChar]\x3d\x3d\x3dthis._parenChar),t||!(this.shouldInterpretFunctions()||this.getEqDocument().markUnmatchedParens)}},{key:"createDom",value:function(){return zi.create("span",{innerHTML:this._parenChar})}},{key:"postRender",value:function(){}},{key:"getTreeLabel",value:function(){return"paren: ".concat(this._parenChar)}}]),s}(Xn);dr.CLOSINGPAREN\x3d{"{":"}","(":")","[":"]","|":"|"},dr.OPENPARENS\x3d"([{|",dr.CLOSEPARENS\x3d")]}|",dr.LBRACKET\x3d"\x26lbracket;",dr.RBRACKET\x3d"\x26rbracket;",dr.LBRACE\x3d"\x26lbrace;",dr.RBRACE\x3d"\x26rbrace;",dr.EqParenType\x3d{OPEN:"open",CLOSE:"close",UNKNOWN:"unknown"};var pr\x3d{};pr["("]\x3d{text:"("},pr[")"]\x3d{text:")"},pr["["]\x3d{text:dr.LBRACKET,chr:"["},pr["]"]\x3d{text:dr.RBRACKET,chr:"]"},pr["{"]\x3d{text:dr.LBRACE,chr:"{"},pr["}"]\x3d{text:dr.RBRACE,chr:"}"},pr["|"]\x3d{text:"|"},dr.ParenInfo\x3dpr,dr.getEqParenFromEntity\x3dfunction(t){return t\x3d\x3ddr.LBRACKET?new dr("[",dr.EqParenType.OPEN):t\x3d\x3ddr.RBRACKET?new dr("]",dr.EqParenType.CLOSE):t\x3d\x3ddr.LBRACE?new dr("{",dr.EqParenType.OPEN):t\x3d\x3ddr.RBRACE?new dr("}",dr.EqParenType.CLOSE):null},dr.resetParenNode\x3dfunction(t){Ei(t,{fontSize:"inherit",marginLeft:"",marginRight:"",marginTop:"",marginBottom:"",height:"",width:""}),mn(t,"eqParenSvg"),t.parenBox\x3dnull},dr.calcParenNode\x3dfunction(t,e,i,n){if(dr.resetParenNode(t),t.innerHTML\x3di.chr?i.chr:i.text,!e.forceParenExpand){var r\x3dEn.getMarginBox(t);if(0\x3d\x3d\x3de.h||e.h\x3c\x3dr.h)return}switch(zi.empty(t),i.text){case dr.RBRACE:ur.drawRightBrace(t,e.h,n),fn(t,"right");break;case dr.LBRACE:ur.drawLeftBrace(t,e.h,n),fn(t,"left");break;case"(":ur.drawLeftParen(t,e.h,n),fn(t,"left");break;case")":ur.drawRightParen(t,e.h,n),fn(t,"right");break;case dr.LBRACKET:ur.drawLeftBracket(t,e.h,n),fn(t,"left");break;case dr.RBRACKET:ur.drawRightBracket(t,e.h,n),fn(t,"right");break;case"|":ur.drawPipe(t,e.h,n)}var o\x3dt.parentNode,s\x3dEn.getPadExtents(o),a\x3de.t-s.t,c\x3de.h;(Li("ie")||Li("trident"))\x26\x26(c\x3d0),fn(t,"eqParenSvg"),Ei(t,{height:"".concat(c,"px"),marginTop:"".concat(a,"px")}),t.parenBox\x3d{t:a,h:c}};var fr\x3dsetTimeout;function mr(t){return Boolean(t\x26\x26void 0!\x3d\x3dt.length)}function gr(){}function vr(t){if(!(this instanceof vr))throw new TypeError("Promises must be constructed via new");if("function"!\x3dtypeof t)throw new TypeError("not a function");this._state\x3d0,this._handled\x3d!1,this._value\x3dvoid 0,this._deferreds\x3d[],Er(t,this)}function yr(t,e){for(;3\x3d\x3d\x3dt._state;)t\x3dt._value;0!\x3d\x3dt._state?(t._handled\x3d!0,vr._immediateFn((function(){var i\x3d1\x3d\x3d\x3dt._state?e.onFulfilled:e.onRejected;if(null!\x3d\x3di){var n;try{n\x3di(t._value)}catch(t){return void wr(e.promise,t)}xr(e.promise,n)}else(1\x3d\x3d\x3dt._state?xr:wr)(e.promise,t._value)}))):t._deferreds.push(e)}function xr(t,e){try{if(e\x3d\x3d\x3dt)throw new TypeError("A promise cannot be resolved with itself.");if(e\x26\x26("object"\x3d\x3dtypeof e||"function"\x3d\x3dtypeof e)){var i\x3de.then;if(e instanceof vr)return t._state\x3d3,t._value\x3de,void Cr(t);if("function"\x3d\x3dtypeof i)return void Er((n\x3di,r\x3de,function(){n.apply(r,arguments)}),t)}t._state\x3d1,t._value\x3de,Cr(t)}catch(e){wr(t,e)}var n,r}function wr(t,e){t._state\x3d2,t._value\x3de,Cr(t)}function Cr(t){2\x3d\x3d\x3dt._state\x26\x260\x3d\x3d\x3dt._deferreds.length\x26\x26vr._immediateFn((function(){t._handled||vr._unhandledRejectionFn(t._value)}));for(var e\x3d0,i\x3dt._deferreds.length;e\x3ci;e++)yr(t,t._deferreds[e]);t._deferreds\x3dnull}function _r(t,e,i){this.onFulfilled\x3d"function"\x3d\x3dtypeof t?t:null,this.onRejected\x3d"function"\x3d\x3dtypeof e?e:null,this.promise\x3di}function Er(t,e){var i\x3d!1;try{t((function(t){i||(i\x3d!0,xr(e,t))}),(function(t){i||(i\x3d!0,wr(e,t))}))}catch(t){if(i)return;i\x3d!0,wr(e,t)}}vr.prototype.catch\x3dfunction(t){return this.then(null,t)},vr.prototype.then\x3dfunction(t,e){var i\x3dnew this.constructor(gr);return yr(this,new _r(t,e,i)),i},vr.prototype.finally\x3dfunction(t){var e\x3dthis.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){return e.reject(i)}))}))},vr.all\x3dfunction(t){return new vr((function(e,i){if(!mr(t))return i(new TypeError("Promise.all accepts an array"));var n\x3dArray.prototype.slice.call(t);if(0\x3d\x3d\x3dn.length)return e([]);var r\x3dn.length;function o(t,s){try{if(s\x26\x26("object"\x3d\x3dtypeof s||"function"\x3d\x3dtypeof s)){var a\x3ds.then;if("function"\x3d\x3dtypeof a)return void a.call(s,(function(e){o(t,e)}),i)}n[t]\x3ds,0\x3d\x3d--r\x26\x26e(n)}catch(t){i(t)}}for(var s\x3d0;s\x3cn.length;s++)o(s,n[s])}))},vr.allSettled\x3dfunction(t){return new this((function(e,i){if(!t||void 0\x3d\x3d\x3dt.length)return i(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n\x3dArray.prototype.slice.call(t);if(0\x3d\x3d\x3dn.length)return e([]);var r\x3dn.length;function o(t,i){if(i\x26\x26("object"\x3d\x3dtypeof i||"function"\x3d\x3dtypeof i)){var s\x3di.then;if("function"\x3d\x3dtypeof s)return void s.call(i,(function(e){o(t,e)}),(function(i){n[t]\x3d{status:"rejected",reason:i},0\x3d\x3d--r\x26\x26e(n)}))}n[t]\x3d{status:"fulfilled",value:i},0\x3d\x3d--r\x26\x26e(n)}for(var s\x3d0;s\x3cn.length;s++)o(s,n[s])}))},vr.resolve\x3dfunction(t){return t\x26\x26"object"\x3d\x3dtypeof t\x26\x26t.constructor\x3d\x3d\x3dvr?t:new vr((function(e){e(t)}))},vr.reject\x3dfunction(t){return new vr((function(e,i){i(t)}))},vr.race\x3dfunction(t){return new vr((function(e,i){if(!mr(t))return i(new TypeError("Promise.race accepts an array"));for(var n\x3d0,r\x3dt.length;n\x3cr;n++)vr.resolve(t[n]).then(e,i)}))},vr._immediateFn\x3d"function"\x3d\x3dtypeof setImmediate\x26\x26function(t){setImmediate(t)}||function(t){fr(t,0)},vr._unhandledRejectionFn\x3dfunction(t){"undefined"!\x3dtypeof console\x26\x26console\x26\x26console.warn("Possible Unhandled Promise Rejection:",t)};var br\x3dfunction(t){return Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"\x3d").concat(encodeURIComponent(t[e]))})).join("\x26")},Rr\x3d{},qr\x3dfunction(t){return Rr[t]},kr\x3dqr,Nr\x3dfunction(t){return new vr((function(e){var i\x3d[];if(un(t.families,(function(t){qr(t)||i.push(t)})),0!\x3di.length){t.families\x3di;var n\x3d{custom:{},loading:function(){},active:function(){e("active")},inactive:function(){e("inactive")},fontloading:function(){},fontactive:function(t,e){Rr["".concat(t,":").concat(e)]\x3d"active"},fontinactive:function(t,e){Rr["".concat(t,":").concat(e)]\x3d"inactive"}};sn(n.custom,t),function(t,e,i,n){var r;if("script"\x3d\x3d\x3dt)(r\x3ddocument.createElement("script")).type\x3d"text/javascript",r.src\x3de;else{if("style"!\x3d\x3dt)return void(n\x26\x26n());(r\x3ddocument.createElement("link")).rel\x3d"stylesheet",r.href\x3de}i\x26\x26(r.onreadystatechange\x3di,r.onload\x3di),n\x26\x26(r.onerror\x3dn);var o\x3ddocument.getElementsByTagName("head")[0];if("style"\x3d\x3d\x3dt){var s\x3do.getElementsByTagName("style");if(s.length)return void o.insertBefore(r,s[0])}o.appendChild(r)}("script","https://acs-cdn.prd-prsn.com/tdxclient/webFont.js",(function(){return window.WebFont.load(n)}))}else e("alreadyloaded")}))},Tr\x3dfunction(t){var e\x3dbi(t,"fontWeight"),i\x3dbi(t,"fontFamily"),n\x3d"";switch(bi(t,"fontStyle")){case"normal":case"":n\x3d"n";break;case"italic":n\x3d"i";break;case"oblique":n\x3d"o";break;default:n\x3d"n"}switch(e){case"400":case"normal":case"":n+\x3d"4";break;case"bold":n+\x3d"7";break;default:parseInt(e)\x26\x26(n+\x3de.substring(0,1))}return{name:"".concat(i,":").concat(n),family:i,fvd:n}},Sr\x3d{STIXIntegralsUpAc:"\u222b\u222e",STIXGeneralAc:"+-*/\x3d\x3c\x3e"},Lr\x3dfunction(){function t(i){e(this,t),this._fontsNeedLoading\x3dnull,this._eqDocument\x3di}return n(t,[{key:"clearFonts",value:function(){this._fontsNeedLoading\x3d{}}},{key:"_addFontToList",value:function(t,e){var i\x3dthis._fontsNeedLoading[t.name];i||(i\x3d{fontInfo:t,eqNodes:[]},this._fontsNeedLoading[t.name]\x3di),i.eqNodes.push(e)}},{key:"registerFont",value:function(t,e){var i\x3dTr(e);if(Sr[i.family]){if(kr(i.name))return;this._addFontToList(i,t)}}},{key:"processFonts",value:function(){var t\x3d[],e\x3d{},i\x3d[];for(var n in this._fontsNeedLoading){var r\x3dthis._fontsNeedLoading[n];t.push(n),e[r.fontInfo.family]\x3dSr[r.fontInfo.family],i\x3di.concat(r.eqNodes)}if(0!\x3dt.length){var o\x3dthis;Nr({families:t,testStrings:e}).then((function(t){if("active"\x3d\x3dt)try{un(i,(function(t){try{t.invalidate()}catch(t){}})),o._eqDocument.doLayout()}catch(t){}}))}}}]),t}();function Ar(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Pr\x3dfunction(t){a(s,t);var i\x3dAr(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._name\x3dt.name,n._info\x3ds._sInfo[n._name],n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._name\x3dnull,this._info\x3dnull,this._empty\x3d!1,this._defaultCSS\x3d"eqMathBB",this._sInfo\x3dnull,this.stopOverWriteItalic\x3d!1}},{key:"isEqSymbol",value:function(){return!0}},{key:"getText",value:function(){if(this._info){if(this._info.html)return"\x26".concat(this._info.html,";");if(this._info.sym)return this._info.sym}return"\x26".concat(this._name,";")}},{key:"getAccessibleName",value:function(){return this._info\x26\x26this._info.acc?this._info.acc:this._name}},{key:"getCSS",value:function(){return this._info\x26\x26this._info.css?this._info.css:this._defaultCSS}},{key:"getPadding",value:function(){return this._info\x26\x26this._info.padding?this._info.padding:null}},{key:"getUseItalics",value:function(){var t\x3dthis.getEqDocument();return t\x26\x26t.getItalicizeVariables()\x26\x26!this.isInsideRoman()}},{key:"getAllowItalics",value:function(){return this._info\x26\x26this._info.allowItalic}},{key:"createDom",value:function(){var t\x3dzi.create("span",{innerHTML:this.getText()}),e\x3dthis.getCSS();e\x26\x26fn(t,e),this.getAllowItalics()?this.getUseItalics()\x26\x26fn(t,"italic"):fn(t,"noitalic");var i\x3dthis.getPadding();return i\x26\x26(i.top\x26\x26Ei(t,"paddingTop",i.top),i.bottom\x26\x26Ei(t,"paddingBottom",i.bottom),i.left\x26\x26Ei(t,"paddingLeft",i.left),i.right\x26\x26Ei(t,"paddingRight",i.right)),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.isInsideRoman()\x26\x26(mn(this.domNode,"italic"),fn(this.domNode,"noitalic")),this.getEqDocument().registerFont(this,this.domNode)}},{key:"deleteCharacter",value:function(t){this._empty\x3d!0,t.characterDeleted\x3d!0}},{key:"isEmpty",value:function(){return this._empty}},{key:"getEqText",value:function(){return"\x26".concat(this._name,";")}},{key:"getLatex",value:function(){return this._info.latexSpaces?" \\\\".concat(this._info.latex," "):"{\\\\".concat(this._info.latex,"}")}},{key:"isOperator",value:function(){return!(!this._info||!this._info.isOp)}},{key:"getJSText",value:function(){return this._info\x26\x26this._info.js?this._info.js:""}}]),s}(Xn),Dr\x3d{null:{sym:"\x26#x0000;",html:"",mml:"",acc:"",mma:"",latex:""},nbsp:{sym:"\x26#x0160;",html:"nbsp",latex:"",css:"eqSpace"},alpha:{sym:"\x26#x03B1;",html:"alpha",mma:"alpha",latex:"alpha",acc:"alpha",unicode:"\u03b1",allowItalic:!0},beta:{sym:"\x26#x03B2;",html:"beta",mma:"beta",latex:"beta",acc:"beta",unicode:"\u03b2",allowItalic:!0},gamma:{sym:"\x26#x03B3;",html:"gamma",mma:"gamma",latex:"gamma",acc:"gamma",unicode:"\u03b3",allowItalic:!0},delta:{sym:"\x26#x03B4;",html:"delta",mma:"delta",latex:"delta",acc:"delta",unicode:"\u03b4",allowItalic:!0},epsi:{sym:"\x26#x03B5;",html:"epsilon",mma:"epsilon",latex:"epsilon",acc:"epsilon",unicode:"\u03b5",allowItalic:!0},zeta:{sym:"\x26#x03B6;",html:"zeta",mma:"Zeta",latex:"zeta",unicode:"\u03b6",allowItalic:!0},eta:{sym:"\x26#x03B7;",html:"eta",mma:"Eta",latex:"eta",unicode:"\u03b7",allowItalic:!0},theta:{sym:"\x26#x03B8;",html:"theta",mma:"Theta",latex:"theta",unicode:"\u03b8",allowItalic:!0},iota:{sym:"\x26#x03B9;",html:"iota",mma:"Iota",latex:"iota",unicode:"\u03b9",allowItalic:!0},kappa:{sym:"\x26#x03BA;",html:"kappa",mma:"Kappa",latex:"kappa",unicode:"\u03ba",allowItalic:!0},lambda:{sym:"\x26#x03BB;",html:"lambda",mma:"Lambda",latex:"lambda",unicode:"\u03bb",allowItalic:!0},mu:{sym:"\x26#x03BC;",html:"mu",mma:"Mu",latex:"mu",unicode:"\u03bc",allowItalic:!0},nu:{sym:"\x26#x03BD;",html:"nu",mma:"Nu",latex:"nu",unicode:"\u03bd",allowItalic:!0},xi:{sym:"\x26#x03BE;",html:"xi",mma:"Xi",latex:"xi",unicode:"\u03be",allowItalic:!0},omicron:{sym:"\x26#x03BF;",html:"omicron",mma:"Omicron",latex:"omicron",unicode:"\u03bf",allowItalic:!0},pi:{sym:"\x26#x03C0;",html:"pi",mma:"Pi",latex:"pi",js:"Math.PI",unicode:"\u03c0",allowItalic:!0},rho:{sym:"\x26#x03C1;",html:"rho",mma:"Rho",latex:"rho",unicode:"\u03c1",allowItalic:!0},sigma:{sym:"\x26#x03C3;",html:"sigma",mma:"Sigma",latex:"sigma",unicode:"\u03c3",allowItalic:!0},tau:{sym:"\x26#x03C4;",html:"tau",mma:"Tau",latex:"tau",unicode:"\u03c4",allowItalic:!0},cale:{sym:"\x26#x0190;",mma:"CalligraphicE",latex:"cal{E}",acc:"Calligraphic E",unicode:"\u0190",allowItalic:!0},upsi:{sym:"\x26#x03c5;",html:"upsilon",mma:"Upsilon",latex:"upsilon",acc:"upsilon",unicode:"\u03c5",allowItalic:!0},phi:{sym:"\x26#x03D5;",htmlx:"phi",mma:"Phi",latex:"phi",acc:"variant phi",unicode:"\u03d5",allowItalic:!0},chi:{sym:"\x26#x03C7;",html:"chi",mma:"Chi",latex:"chi",unicode:"\u03c7",allowItalic:!0},psi:{sym:"\x26#x03C8;",html:"psi",mma:"Psi",latex:"psi",unicode:"\u03c8",allowItalic:!0},omega:{sym:"\x26#x03C9;",html:"omega",mma:"Omega",latex:"omega",unicode:"\u03c9",allowItalic:!0},infin:{sym:"\x26#x221E;",html:"infin",mma:"Infinity",latex:"infty",acc:"infinity"},cap:{sym:"\x26#x2229;",html:"cap",mma:"Cap",latex:"cap",isOp:!0,acc:"intersect",css:"eqMathBB onePtTwo",unicode:"\u2229"},cup:{sym:"\x26#x222A;",html:"cup",mma:"Cup",latex:"cup",isOp:!0,acc:"union",css:"eqMathBB onePtTwo",unicode:"\u222a"},and:{sym:"\x26#x2227;",html:"and",mma:"And",latex:"and",isOp:!0,acc:"logical and",unicode:"\u2227"},or:{sym:"\x26#x2228;",html:"or",mma:"Or",latex:"or",isOp:!0,acc:"logical or",unicode:"\u2228"},notin:{sym:"\x26#x2209;",html:"notin",mma:"NotElement",latex:"noteelement",isOp:!0,acc:"is not an element of",css:"eqMathBB onePtTwo",unicode:"\u2209"},in:{sym:"\x26#x2208;",html:"isin",mma:"Element",latex:"element",isOp:!0,acc:"is an element of",css:"eqMathBB onePtTwo",unicode:"\u2208"},deg:{sym:"\x26#x00B0;",html:"deg",mma:"Degree",latex:"degree",acc:"degrees",css:"onePtThree",unicode:"\u00b0"},deg2:{sym:"\x26#x00B0;",html:"deg",mma:"deg",latex:"deg",acc:"deg",css:"onePtThree"},angstrom:{sym:"\x26#x00C5;",html:"Aring",mma:"Angstrom",latex:"AA",padding:{top:"0.4em"},unicode:"\u00c5"},cent:{sym:"\x26#x00A2;",html:"cent",mma:"Cent",latex:"cent",acc:"cents",unicode:"\u00a2"},rangle:{sym:"\x26#x232A;",mma:"RightAngleBracket",latex:"rightanglebracket",acc:"right angle",css:"eqMathBB onePtTwo",unicode:"\u232a"},inf:{sym:"\x26#x221E;",html:"infin",mma:"Infinity",latex:"infty_",acc:"infinity",unicode:"\u221e"},empty:{sym:"\x26#x2205;",html:"empty",mma:"EmptySet",latex:"emptyset",acc:"empty set",unicode:"\u2205"},uparrow:{sym:"\x26#x2191;",html:"uarr",mma:"UpArrow",latex:"uparrow",acc:"up arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2191"},downarrow:{sym:"\x26#x2193;",html:"darr",mma:"DownArrow",latex:"downarrow",acc:"down arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2193"},leftarrow:{sym:"\x26#x2190;",html:"larr",mma:"LeftArrow",latex:"leftarrow",isOp:!0,acc:"left arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2190"},rightarrow:{sym:"\x26#x2192;",html:"rarr",mma:"RightArrow",latex:"rightarrow",isOp:!0,acc:"right arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2192"},leftrightarrow:{sym:"\x26#x2194;",html:"harr",mma:"LeftRightArrow",latex:"leftrightarrow",isOp:!0,acc:"left right arrow",css:"eqMathBB onePtTwo",unicode:"\u2194"},dleftrightarrow:{sym:"\x26#x21D4;",html:"hArr",mma:"LeftRightArrow",latex:"dleftrightarrow",isOp:!0,acc:"double left right arrow",unicode:"\u21d4"},langle:{sym:"\x26#x2329;",mma:"LeftAngleBracket",latex:"leftanglebracket",acc:"left angle",css:"eqMathBB onePtTwo",unicode:"\u2329"},angle:{sym:"\x26#x2220;",html:"ang",mma:"Angle",latex:"C I S",css:"eqMathBB onePtFive",unicode:"\u2220"},sqrt:{sym:"\x26#x221A;",html:"radic",mma:"Sqrt",latex:"",acc:"square root",unicode:"\u221a"},dbharpoon:{sym:"\x26#x21cc;",mma:"rightarrowleftarrow",latex:"rightleftharpoons",acc:"right left harpoons",latexSpaces:!0,unicode:"\u21cc"},cdelta:{sym:"\x26#x0394;",html:"Delta",mma:"CapitalDelta",latex:"Delta",acc:"Upper Delta",unicode:"\u0394"},lognot:{sym:"\x26#x00AC;",mma:"Not",latex:"not",acc:"logical not",unicode:"\u00ac"},propsubset:{sym:"\x26#x2282;",html:"sub",mma:"Subset",latex:"subset",isOp:!0,acc:"is a proper subset of",css:"eqMathBB onePtTwo",unicode:"\u2282"},notpropsubset:{sym:"\x26#x2284;",html:"nsub",mma:"NotSubset",latex:"notsubset",isOp:!0,acc:"is not a proper subset of",css:"eqMathBB onePtTwo",unicode:"\u2284"},subset:{sym:"\x26#x2286;",html:"sube",mma:"SubsetEqual",latex:"subsetequal",isOp:!0,acc:"is a subset of",css:"eqMathBB onePtTwo",unicode:"\u2286"},sube:{sym:"\x26#x2286;",html:"sube",mma:"SubsetEqual",latex:"subsetequal",isOp:!0,acc:"subset equals",css:"eqMathBB onePtTwo"},notsubset:{sym:"\x26#x2288;",mma:"NotSubsetEqual",latex:"notsubsetequal",isOp:!0,acc:"is not a subset of",css:"eqMathBB onePtTwo",unicode:"\u2288"},supset:{sym:"\x26#x2283;",html:"sup",mma:"Superset",latex:"superset",isOp:!0,acc:"is a proper superset of",css:"eqMathBB onePtTwo",unicode:"\u2283"},notpropsupset:{sym:"\x26#x2285;",mma:"NotSuperset",latex:"notsuperset",isOp:!0,acc:"not proper superset",css:"eqMathBB onePtTwo",unicode:"\u2285"},supseteq:{sym:"\x26#x2287;",html:"supe",mma:"SupersetEqual",latex:"supersetequal",isOp:!0,acc:"is a superset of",css:"eqMathBB onePtTwo",unicode:"\u2287"},notsupset:{sym:"\x26#x2289;",mma:"NotSupersetEqual",latex:"notsupersetequal",isOp:!0,acc:"not superset equals",css:"eqMathBB onePtTwo",unicode:"\u2289"},cgamma:{sym:"\x26#x0393;",html:"Gamma",mma:"CapitalGamma",latex:"Gamma",acc:"Upper Gamma",unicode:"\u0393"},clambda:{sym:"\x26#x039B;",html:"Lambda",mma:"CapitalLambda",latex:"Lambda",acc:"Upper Lambda",unicode:"\u039b"},comega:{sym:"\x26#x03A9;",html:"Omega",mma:"CapitalOmega",latex:"Omega",acc:"Upper Omega",unicode:"\u03a9"},cphi:{sym:"\x26#x03A6;",html:"Phi",mma:"CapitalPhi",latex:"Phi",acc:"Upper Phi",unicode:"\u03a6"},phiv:{sym:"\x26#x03C6;",html:"phi",mma:"CurlyPhi",latex:"curlyphi",acc:"phi",unicode:"\u03c6"},cpi:{sym:"\x26#x03A0;",html:"Pi",mma:"CapitalPi",latex:"Pi",acc:"Upper Pi",unicode:"\u03a0"},piv:{sym:"\x26#x03D6;",html:"piv",mma:"CurlyPi",latex:"curlypi",acc:"variant pi",unicode:"\u03d6"},cpsi:{sym:"\x26#x03A8;",html:"Psi",mma:"CapitalPsi",latex:"Psi",acc:"Upper Psi",unicode:"\u03a8"},csigma:{sym:"\x26#x03A3;",html:"Sigma",mma:"CapitalSigma",latex:"Sigma",acc:"Upper Sigma",unicode:"\u03a3"},sigmav:{sym:"\x26#x03C2;",html:"sigmaf",mma:"FinalSigma",latex:"finalsigma",acc:"variant sigma",unicode:"\u03c2"},ctheta:{sym:"\x26#x0398;",html:"Theta",mma:"CapitalTheta",latex:"Theta",acc:"Upper Theta",unicode:"\u0398"},thetav:{sym:"\x26#x03D1;",html:"thetasym",mma:"CurlyTheta",latex:"curlytheta",acc:"script theta",unicode:"\u03d1"},cupsi:{sym:"\x26#x03d2;",mma:"CapitalUpsilon",latex:"Upsilon",acc:"Upper Upsilon",unicode:"\u03d2"},cxi:{sym:"\x26#x039E;",html:"Xi",mma:"CapitalXi",latex:"Xi",acc:"Upper Xi",unicode:"\u039e"},prime:{sym:"\x26#x2032;",html:"prime",mma:"Prime",latex:"prime",css:"eqMathBB prime",unicode:"\u2032"},prime2:{sym:"\x26#x2032;\x26#x2032;",mma:"DoublePrime",latex:"doubleprime",acc:"double prime",css:"eqMathBB prime",unicode:"\u2032\u2032"},prime3:{sym:"\x26#x2032;\x26#x2032;\x26#x2032;",mma:"TriplePrime",latex:"tripleprime",acc:"triple prime",css:"eqMathBB prime",unicode:"\u2032\u2032\u2032"},tilde:{sym:"~",mma:"~",latex:"Tilde",acc:"tilde",unicode:"~",isOp:!0,css:"eqOp"},otimes:{sym:"\x26#x2297;",html:"otimes",mma:"CircleTimes",latex:"circletimes",isOp:!0,acc:"product",css:"eqMathBB onePtTwo",unicode:"\u2297"},oplus:{sym:"\x26#x2295;",html:"oplus",mma:"CirclePlus",latex:"circleplus",isOp:!0,acc:"exclusive or",css:"eqMathBB onePtTwo",unicode:"\u2295"},forall:{sym:"\x26#x2200;",html:"forall",mma:"ForAll",latex:"forall",unicode:"\u2200"},exists:{sym:"\x26#x2203;",mma:"Exists",latex:"exists",css:"eqMathBB onePtTwo",unicode:"\u2203"},compfn:{sym:"\x26#x25E6;",html:"emptysmallcircle",mma:"EmptySmallCircle",latex:"emptysmallcircle",isOp:!0,unicode:"\u25e6"},hyphen:{sym:"-",mma:"Dash",latex:"dash",acc:"dash"},pound:{sym:"\x26#x00A3;",html:"",mma:"",latex:"pound",unicode:"\u00a3"},yen:{sym:"\x26#x00A5;",html:"yen",mma:"Yen",latex:"yen",unicode:"\u00a5"},euro:{sym:"\x26#x20AC;",html:"",mma:"",latex:"euro",unicode:"\u20ac"},mdash:{sym:"\x26#x2014;",html:"mdash",mma:"LongDash",latex:"longdash",acc:"long dash",css:"onePtOneNine",unicode:"\u2014"},grad:{sym:"\x26#x2207;",html:"nabla",mma:"Del",latex:"del",acc:"gradient",unicode:"\u2207"},partiald:{sym:"\x26#x2202;",html:"part",mma:"PartialD",latex:"partiald",acc:"partial derivative",unicode:"\u2202"},equiv:{sym:"\x26#x2261;",html:"",mma:"",latex:"equiv",isOp:!0,acc:"equivalent",unicode:"\u2261"},plus:{sym:"\x26#x002B;",mma:"+",latex:"plus",isOp:!0,js:"+",unicode:"+",css:"opPlus"},minus:{sym:"\x26#x002D;",mma:"-",latex:"minus",isOp:!0,js:"-",unicode:"-",css:" "},plusminus:{sym:"\x26#x00B1;",html:"PlusMinus",mma:"PlusMinus",latex:"plusminus",isOp:!0,acc:"plus or minus",unicode:"\u00b1"},minusplus:{sym:"\x26#x2213;",html:"MinusPlus",mma:"MinusPlus",latex:"minusplus",isOp:!0,acc:"minus or plus",unicode:"\u2213"},mult:{sym:"\x26#x00D7;",html:"Mult",mma:"Mult",latex:"mult",isOp:!0,acc:"multiply",css:"eqMathBB multiplicationCross",unicode:"\u00d7"},dot:{sym:"\x26#x2022;",html:"bull",mma:"Dot",latex:"dot",isOp:!0,css:"eqOp"},divide:{sym:"\x26#x00F7;",html:"divide",mma:"Divide",latex:"divide",isOp:!0,unicode:"\u00f7"},"/":{sym:"\x26#x002F;",mma:"/",latex:"slash",isOp:!0,unicode:"/"},gt:{sym:"\x26#x003E;",mma:"gt",latex:"gt",isOp:!0,acc:"greater than",unicode:"\x3e",css:" "},lt:{sym:"\x26#x003C;",html:"lt",mma:"\x3c",latex:"lt",isOp:!0,acc:"less than",unicode:"\x3c",css:" "},ge:{sym:"\x26#x2265;",html:"ge",mma:"GreaterEqual",latex:"geq",isOp:!0,acc:"greater than or equals",unicode:"\u2265"},le:{sym:"\x26#x2264;",html:"le",mma:"LessEqual",latex:"leq",isOp:!0,acc:"less than or equals",unicode:"\u2264"},eq:{sym:"\x26#x003D;",latex:"eq",isOp:!0,acc:"equals",unicode:"\x3d",css:" "},ne:{sym:"\x26#x2260;",html:"ne",mma:"NotEqual",latex:"noteq",isOp:!0,acc:"not equals",unicode:"\u2260"},approx:{sym:"\x26#x2248;",html:"asymp",mma:"Approx",latex:"approx",isOp:!0,acc:"approximate",unicode:"\u2248"},approxequal:{sym:"\x26#x2245;",html:"cong",mma:"ApproxEqual",latex:"aproxeq",isOp:!0,acc:"almost equals",unicode:"\u2245"},hbar:{sym:"\x26#x0127;",mma:"HBar",latex:"hbar",unicode:"\u0127"},sum:{sym:"\x26#x2211;",html:"sum",mma:"Sum",latex:"sum",acc:"summation",unicode:"\u2211"},integral:{sym:"\x26#x222B;",mma:"Integral",latex:"Integral",acc:"indefinite integral",unicode:"\u222b"},contourintegral:{sym:"\x26#x222E;",mma:"ContourIntegral",latex:"ContourIntegral",acc:"contour integral",unicode:"\u222e"},ndash:{sym:"\x26#x2013;",mma:"Dash",latex:"dash",acc:"dash",unicode:"\u2013"},bull:{sym:"\x26#x2022;",mma:"Bullet",latex:"item",acc:"bullet",css:"onePtTwo"},ldquo:{sym:"\x26#x201C;",mma:"OpenCurlyDoubleQuote",latex:"ldquo",acc:"open double quote",unicode:"\u201c"},rdquo:{sym:"\x26#x201D;",mma:"CloseCurlyDoubleQuote",latex:"rdquo",acc:"close double quote",unicode:"\u201d"},complex:{symnew:"\x26#x1D53A;",sym:"\x26#x02102;",symb:"\x26#x0043",mma:"DoubleStruckCapitalC",latex:"mathbb{C}",acc:"set of complex numbers C",unicode:"\u2102"},domain:{sym:"\x26#x1D53B;",symb:"\x26#x0044;",mma:"DoubleStruckCapitalD",latex:"mathbb{D}",acc:"domain D",unicode:"\ud835\udd3b"},plane:{sym:"\x26#x1D53C;",symb:"\x26#x0045;",mma:"DoubleStruckCapitalE",latex:"mathbb{E}",acc:"set of points of a plane E",unicode:"\ud835\udd3c"},basis:{sym:"\x26#x1D53E;",symb:"\x26#x0047;",mma:"DoubleStruckCapitalG",latex:"mathbb{G}",acc:"basis set G",unicode:"\ud835\udd3e"},halfplane:{symnew:"\x26#x1D53F;",sym:"\x26#x0210D;",symb:"\x26#x0048;",mma:"DoubleStruckCapitalE",latex:"mathbb{E}",acc:"set of points of a half plane H",unicode:"\u210d"},irrational:{sym:"\x26#x1D540;",symb:"\x26#x0049;",mma:"DoubleStruckCapitalI",latex:"mathbb{I}",acc:"set of irrational numbers I",unicode:"\ud835\udd40",allowItalic:!0},solution:{sym:"\x26#x1D543;",symb:"\x26#x004C;",mma:"DoubleStruckCapitalL",latex:"mathbb{L}",acc:"solution set L",unicode:"\ud835\udd43"},natural:{symnew:"\x26#x1D545;",sym:"\x26#x02115;",symb:"\x26#x004E;",mma:"DoubleStruckCapitalN",latex:"mathbb{N}",acc:"set of natural numbers N",unicode:"\u2115"},primes:{symnew:"\x26#x1D547",sym:"\x26#x02119;",symb:"\x26#x0050;",mma:"DoubleStruckCapitalP",latex:"mathbb{P}",acc:"set of prime numbers P",unicode:"\u2119"},rational:{symnew:"\x26#x1D548",sym:"\x26#x0211A;",symb:"\x26#x0051;",mma:"DoubleStruckCapitalQ",latex:"mathbb{Q}",acc:"set of rational numbers Q",unicode:"\u211a"},real:{symnew:"\x26#x1D549",sym:"\x26#x0211D;",symb:"\x26#x0052;",mma:"DoubleStruckCapitalR",latex:"mathbb{R}",acc:"set of real numbers R",unicode:"\u211d"},divisors:{sym:"\x26#x1D54B",symb:"\x26#x0054;",mma:"DoubleStruckCapitalT",latex:"mathbb{T}",acc:"set of divisors T",unicode:"\ud835\udd4b"},odds:{sym:"\x26#x1D54C;",symb:"\x26#x0055;",mma:"DoubleStruckCapitalU",latex:"mathbb{U}",acc:"set of odd numbers U",unicode:"\ud835\udd4c"},multipliers:{sym:"\x26#x1D54D;",symb:"\x26#x0056;",mma:"DoubleStruckCapitalV",latex:"mathbb{V}",acc:"set of multipliers V",unicode:"\ud835\udd4d"},whole:{sym:"\x26#x1D54E;",symb:"\x26#x0057;",mma:"DoubleStruckCapitalW",latex:"mathbb{W}",acc:"set of whole numbers W",unicode:"\ud835\udd4e"},integer:{symnew:"\x26#x1D551;",sym:"\x26#x2124;",symb:"\x26#x005A;",mma:"DoubleStruckCapitalZ",latex:"mathbb{Z}",acc:"set of integer numbers Z",unicode:"\u2124"},aleph:{sym:"\x26#x2135;",html:"alefsym",mma:"aleph",latex:"aleph",acc:"aleph",unicode:"\u2135"},dleftarrow:{sym:"\x26#x21D0;",html:"lArr",mma:"DoubleLeftArrow",latex:"dleftarrow",isOp:!0,acc:"double left arrow",unicode:"\u21d0"},duparrow:{sym:"\x26#x21D1;",html:"uArr",mma:"DoubleUpArrow",latex:"duparrow",isOp:!0,acc:"double up arrow",unicode:"\u21d1"},drightarrow:{sym:"\x26#x21D2;",html:"rArr",mma:"DoubleRightArrow",latex:"drightarrow",isOp:!0,acc:"double right arrow",css:"eqMathBB onePtTwo",unicode:"\u21d2"},ddownarrow:{sym:"\x26#x21D3;",html:"dArr",mma:"DoubleDownArrow",latex:"ddownarrow",isOp:!0,acc:"double down arrow",unicode:"\u21d3"},dupdownarrow:{sym:"\x26#x21D5;",mma:"DoubleUpDownArrow",latex:"dupdownarrow",isOp:!0,acc:"double up down arrow",unicode:"\u21d5"},orthogonal:{sym:"\x26#x22A5;",html:"perp",mma:"Orthogonal",latex:"othogonal",acc:"orthogonal",unicode:"\u22a5"},sphangle:{sym:"\x26#x2222;",mma:"SphericalAngle",latex:"sphericalangle",acc:"angle",unicode:"\u2222"},mapsto:{sym:"\x26#x21A6;",html:"",mma:"MapsTo",latex:"mapsto",acc:"maps to",unicode:"\u21a6"},smscriptl:{sym:"\x26#x2113;",mma:"SmallScriptl",latex:"smscriptl",acc:"small script letter l",css:" ",unicode:"\u2113"},divides:{sym:"\x26#x2223;",mma:"Divides",latex:"divides",acc:"vertical line",unicode:"\u2223"},doesnotdivide:{sym:"\x26#x2224;",mma:"DoesNotDivide",latex:"doesnotdivide",acc:"slashed vertical line",unicode:"\u2224"},parallelto:{sym:"\x26#x2225;",mma:"ParallelTo",latex:"parallelto",acc:"double vertical line",unicode:"\u2225"},notparallelto:{sym:"\x26#x2226;",mma:"NotParallelTo",latex:"notparalelto",acc:"slashed double vertical line",unicode:"\u2226"},triangleup:{sym:"\x26#x25B3;",mma:"triangle",latex:"UpPointingTriangle",acc:"triangle symbol",unicode:"\u25b3"},hellip:{sym:"\x26#x2026;",html:"hellip",mma:"hellip",latex:"ldots",acc:"horizontal ellipsis",unicode:"\u2026"},mellip:{sym:"\x26#x22EF;",mma:"mellip",latex:"cdots",acc:"midline ellipsis",unicode:"\u22ef",css:"eqMathBB"},laplace:{sym:"\x26#x2112;",mma:"laplace",latex:"mathcal{L}",acc:"laplace transform",unicode:"\u2112",css:"eqUnicode"},oslash:{sym:"\x26#x00F8;",mma:"OSlash",latex:"o",acc:"oslash",unicode:"\u00f8"},muchlessthan:{sym:"\x26#x226A",mma:"LessLess",latex:"ll",acc:"mush less-than",isOp:!0,css:"eqOp"},muchgreaterthan:{sym:"\x26#x226B",mma:"GreaterGreater",latex:"gg",acc:"much greater-than",isOp:!0,css:"eqOp"},uptee:{sym:"\x26#x22A5",mma:"UpTee",latex:"bot",acc:"up tack",css:"eqMathBB pushUpPt25"},downtee:{sym:"\x26#x22A4",mma:"DownTee",latex:"top",acc:"down tack",css:"eqMathBB pushUpPt25"},longleftrightarrow:{sym:"\x26#x27f7",mma:"LongLeftRightArrow",latex:"longleftrightarrow",acc:"long left-right arrow"}};Pr._sInfo\x3dDr,Pr.getMMASymbolInfo\x3dfunction(t){return ln(Dr,(function(e){return e.mma\x3d\x3dt}))},Pr.getLatexSymbolInfo\x3dfunction(t){for(var e in Dr)if(Dr[e].latex\x26\x26Dr[e].latex\x3d\x3dt)return e;return null},Pr.getUnicodeSymbolInfo\x3dfunction(t){for(var e in Dr)if(Dr[e].unicode\x26\x26Dr[e].unicode\x3d\x3d\x3dt)return e;return null};var Br\x3dfunction(){function t(){e(this,t),this._needsSorting\x3d!1,this._caseSensitive\x3d!1,this._stringsSorted\x3d[],this._stringsLookup\x3d{}}return n(t,[{key:"setCaseSensitive",value:function(t){this._caseSensitive!\x3dt\x26\x26(this._caseSensitive\x3dt,this._needsSorting\x3d!0)}},{key:"getCaseSensitive",value:function(){return this._caseSensitive}},{key:"_newNode",value:function(t,e){return{key:t,value:e}}},{key:"add",value:function(t,e){var i\x3dthis._newNode(t,e);this._stringsSorted.push(i),this._needsSorting\x3d!0,this._stringsLookup[t]\x3di}},{key:"exists",value:function(t){return null!\x3dthis.find(t)}},{key:"find",value:function(t){if(this._stringsLookup){var e\x3dthis._stringsLookup[t];if(e)return e.value}return null}},{key:"remove",value:function(t){var e\x3dthis._stringsSorted.indexOf(this._stringsLookup[t]);delete this._stringsLookup[t],e\x3e\x3d0\x26\x26this._stringsSorted.splice(e,1)}},{key:"sortList",value:function(){var t\x3dthis;this._stringsSorted.sort((function(e,i){return t.compareStrings(e.key,i.key)}))}},{key:"compareStrings",value:function(t,e){return 0\x3d\x3dthis._caseSensitive\x26\x26(t\x3dt.toLowerCase(),e\x3de.toLowerCase()),t\x3d\x3de?0:t\x3ee?1:-1}},{key:"getCount",value:function(){return this._stringsSorted.length}},{key:"findLargestKey",value:function(t){this._needsSorting\x26\x26this.sortList();var e\x3dnull,i\x3d0,n\x3d0,r\x3dt.length;do{for(;n\x3cr\x26\x26i\x3cthis._stringsSorted.length;){var o\x3dthis.compareStrings(t.substr(0,n+1),this._stringsSorted[i].key.substr(0,n+1));if(o\x3c0)return e;if(!(this._stringsSorted[i].key.length\x3c\x3dn||o\x3e0))break;i++}if(i\x3e\x3dthis._stringsSorted.length)return e;var s\x3dt.substr(0,n+1);0\x3d\x3dthis.compareStrings(s,this._stringsSorted[i].key)\x26\x26(e\x3ds),n++}while(n\x3cr);return e}}]),t}(),Mr\x3d{EqEditorEvent:{MOVE:"Move"},MoveDirection:{MOVE_RIGHT:"MOVE_RIGHT",MOVE_LEFT:"MOVE_LEFT"},EqRowEvent:{PROCESS_ROW:"Process Row"}};function Or(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ir\x3dfunction(t){a(s,t);var i\x3dOr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.children\x3d[]}},{key:"isEqContainer",value:function(){return!0}},{key:"_addChild",value:function(t,e){"string"\x3d\x3dtypeof t\x26\x26(t\x3dnew rr(t)),t.parent\x26\x26t.parent._removeChild\x26\x26t.parent._removeChild(t),void 0\x3d\x3d\x3de?this.children.push(t):this.children.splice(e,0,t),t.parent\x3dthis,this.invalidate()}},{key:"_removeChild",value:function(t){var e\x3dcn(this.children,t);e\x3e\x3d0\x26\x26(t.parent\x3dnull,t.destroyDom(),this.children.splice(e,1),t.invalidate(),this.invalidate())}},{key:"removeChildAt",value:function(t){var e\x3dthis.children[t];return e.parent\x3dnull,e.destroyDom(),this.children.splice(t,1),e.invalidate(),this.invalidate(),e}},{key:"removeChild",value:function(t){this._removeChild(t)}},{key:"addChild",value:function(t){var e\x3dthis;return an(t)?un(t,(function(t){e._addChild(t)})):e._addChild(t),this}},{key:"addChildBefore",value:function(t,e){var i\x3dthis;an(t)?un(t,(function(t){i._addChild(t,e++)})):i._addChild(t,e)}},{key:"addChildAt",value:function(t,e){this.addChildBefore(t,e)}},{key:"addChildAfter",value:function(t,e){var i\x3dthis;an(t)?un(t,(function(t){i._addChild(t,++e)})):i._addChild(t,++e)}},{key:"getChild",value:function(t){return this.children[t]}},{key:"getChildIndex",value:function(t){return cn(this.children,t)}},{key:"getNumChildren",value:function(){return this.children.length}},{key:"getChildCount",value:function(){return this.children.length}},{key:"forEach",value:function(t,e,i){i\x3di||this,un(this.children,(function(n,r){on(i,t)(n,r),e\x26\x26n.isEqContainer()\x26\x26n.forEach(t,e,i)}))}},{key:"preRenderChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.preRender()}}},{key:"preRender",value:function(){this.preRenderChildren(),o(r(s.prototype),"preRender",this).apply(this,arguments)}},{key:"renderChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.render()}}},{key:"render",value:function(){this.renderChildren(),o(r(s.prototype),"render",this).apply(this,arguments)}},{key:"postRenderChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.postRender()}}},{key:"postRender",value:function(){this.postRenderChildren(),o(r(s.prototype),"postRender",this).apply(this,arguments)}},{key:"validateChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.validate()}}},{key:"validate",value:function(){this.validateChildren(),o(r(s.prototype),"validate",this).apply(this,arguments)}},{key:"gotoPrevRow",value:function(t,e){var i,n;i\x3d-1,t\x26\x26(i\x3dthis.getChildIndex(t)),i\x3c0\x26\x26(i\x3dthis.getNumChildren()),--i\x3e\x3d0\x26\x26null!\x3d(n\x3dthis.getChild(i).getLastRow())?(e.row\x3dn,e.position\x3dn.getLastCaretPosition()):o(r(s.prototype),"gotoPrevRow",this).apply(this,arguments)}},{key:"gotoNextRow",value:function(t,e){var i,n;i\x3d-1,null!\x3dt\x26\x26(i\x3dthis.getChildIndex(t)),++i\x3cthis.getNumChildren()\x26\x26null!\x3d(n\x3dthis.getChild(i).getFirstRow())?(e.row\x3dn,e.position\x3d0):o(r(s.prototype),"gotoNextRow",this).apply(this,arguments)}},{key:"hasNodeClass",value:function(t){var e\x3dthis instanceof t;e||(e\x3dnull!\x3dln(this.children,(function(e){return e.hasNodeClass(t)})));return e}},{key:"getEqText",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e.getEqText())})),t.join("")}},{key:"getAccessibleName",value:function(){var t\x3d[],e\x3dnull;return this.forEach((function(i){e\x26\x26(e.isEqSubscript()||e.isEqSuperscript())\x26\x26!e.getSimpleName()\x26\x26(this.parent\x26\x26this.parent.isEqSuperscript()?t.push("Superscript"):this.parent\x26\x26this.parent.isEqSubscript()?t.push("Subscript"):t.push("Baseline")),t.push(i.getAccessibleName()),e\x3di})),t.length\x3e0?t.join(" "):"nothing"}},{key:"getLatex",value:function(){var t\x3d[];this.forEach((function(e){t.push(e.getLatex())}));for(var e\x3d0;e\x3ct.length;e++){var i\x3dt[e];if("\\\\"\x3d\x3d\x3di[0]\x26\x26this._isLatexChar(i[i.length-1])\x26\x26e+1\x3ct.length){var n\x3dt[e+1];this._isLatexChar(n[0])\x26\x26(t[e]\x3d"{".concat(i,"}"))}}return t.join("")}},{key:"_isLatexChar",value:function(t){return t\x3e\x3d"a"\x26\x26t\x3c\x3d"z"||t\x3e\x3d"A"\x26\x26t\x3c\x3d"Z"}},{key:"getAccessiblePlainText",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e.getAccessiblePlainText())})),t.join("")}},{key:"clear",value:function(){for(;this.getNumChildren()\x3e0;)this.removeChildAt(0);this.invalidate()}},{key:"checkParens",value:function(){for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.getChild(t).checkParens())return!1;return!0}},{key:"isAncestorOf",value:function(t){return!!t.parent\x26\x26(t.parent\x3d\x3d\x3dthis||this.isAncestorOf(t.parent))}}]),s}(Xn);function Fr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ur\x3dfunction(t){a(s,t);var i\x3dFr(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"isEqComposite",value:function(){return!0}},{key:"createDom",value:function(){throw Error("need to implement createDom")}},{key:"addRows",value:function(t){for(var e\x3d[],i\x3d0;i\x3ct;i++){var n\x3dnew Qr;this.addChild(n),e.push(n)}return e}},{key:"getEqRow",value:function(t){return this.children[t]}},{key:"getEqName",value:function(){return"@UNKOWN"}},{key:"getLatexName",value:function(){return"\\\\unknown"}},{key:"getLastRow",value:function(){var t,e;for(e\x3dthis.getNumChildren()-1;e\x3e\x3d0;e--)if((t\x3dthis.getChild(e)).isEqRow())return t.getLastRow();return null}},{key:"getFirstRow",value:function(){var t,e;for(e\x3d0;e\x3cthis.getNumChildren();e++)if((t\x3dthis.getChild(e)).isEqRow())return t;return null}},{key:"deleteCharacter",value:function(t){t.extendSelection\x3d!0}},{key:"addEqs",value:function(t){this.getEqRow(0).addChild(t)}},{key:"initCaret",value:function(t){var e,i;if(this.getNumChildren()\x3e0){for(e\x3dnull,i\x3d0;i\x3cthis.getNumChildren();i++)if(this.getEqRow(i)\x26\x260\x3d\x3dthis.getEqRow(i).getNumChildren()){e\x3dthis.getEqRow(i);break}if(null\x3d\x3de\x26\x26(e\x3dthis.getFirstRow()),null\x3d\x3de)return void o(r(s.prototype),"initCaret",this).apply(this,arguments);t.row\x3de,e.getNumChildren()\x3e0?t.position\x3de.getLastCaretPosition():t.position\x3d0}else o(r(s.prototype),"initCaret",this).apply(this,arguments)}},{key:"getTreeLabel",value:function(){return this.getEqName()}},{key:"getEqTextContents",value:function(){var t\x3d[];return this.forEach((function(e){t.push(this.getEqTextContentsOfChildStrippingLoneScripts(e))})),t.join(";")}},{key:"getEqTextContentsOfChildStrippingLoneScripts",value:function(t){if(this.getEqDocument()\x26\x26this.getEqDocument().ignoreScriptsInAllComposites\x26\x261\x3d\x3d\x3dt.getNumChildren()){var e\x3dt.getChild(0);if(e.isEqSubscript()||e.isEqSuperscript())return e.getEqTextContents()}return t.getEqText()}},{key:"getEqText",value:function(){var t\x3dthis.getEqTextContents();if(this.getEqDocument()\x26\x26this.getEqDocument().adjustCommas){var e\x3dt.replace(/(\\s+$)/g,""),i\x3de.length;if(","\x3d\x3d\x3de.charAt(i-1))return"".concat(this.getEqName(),"{").concat(t.substr(0,i-1),"}")+","}return"".concat(this.getEqName(),"{").concat(t,"}")}},{key:"getLatex",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e.getLatex())})),"".concat(this.getLatexName(),"{").concat(t.join("}{"),"}")}},{key:"rowsFilled",value:function(){if(0\x3d\x3dthis.getNumChildren())return!0;for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.getChild(t).rowsFilled())return!1;return!0}}]),s}(Ir);function Vr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Hr\x3dfunction(t){a(s,t);var i\x3dVr(s);function s(t,n,r){var o;return e(this,s),(o\x3di.apply(this,arguments)).initFields(),o.addRows(1),""!\x3dt\x26\x26(o._ftext\x3dnew rr(t,rr.EqTextType.FUNCTION),o.addChild(o._ftext)),n||(n\x3d"("),r||(r\x3d")"),o._openP\x3dnew dr(n,dr.EqParenType.OPEN),o._closeP\x3dnew dr(r,dr.EqParenType.CLOSE),o._openP.setMatchedParen(o._closeP),o._closeP.setMatchedParen(o._openP),o.addChild(o._openP),o.addChild(o._closeP),o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._ftext\x3dnull,this._openP\x3dnull,this._closeP\x3dnull,this._domNode\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this._domNode\x3dt,this._ftext\x26\x26zi.place(this._ftext.getDomNode(),this._domNode),zi.place(this._openP.getDomNode(),this._domNode),zi.place(this.getEqRow(0).getDomNode(),this._domNode),zi.place(this._closeP.getDomNode(),this._domNode),t}},{key:"postRender",value:function(){this.resizeParens(),o(r(s.prototype),"postRender",this).apply(this,arguments)}},{key:"resizeParens",value:function(){var t\x3dthis.getEqRow(0),e\x3dthis._closeP,i\x3dthis._openP,n\x3dt.getNodeSize();e.setContentTop({node:t.getDomNode(),top:n.t});var r\x3de.getContentTop().top;r+e.getContentHeight()\x3c\x3dn.t+n.h\x26\x26e.setContentHeight(n.h+n.t-r),i.setContentHeight(e.getContentHeight()),i.setContentTop(e.getContentTop())}},{key:"adjustParen",value:function(){}},{key:"getLatex",value:function(){var t\x3d"";return this._ftext\x26\x26this._ftext.length\x3e0\x26\x26(t\x3d"{\\\\".concat(this._ftext,"}")),t+\x3dthis._openP.getLatex(),t+\x3dthis.getEqRow(0).getLatex(),t+\x3dthis._closeP.getLatex()}},{key:"getEqName",value:function(){return"@function_".concat(this._ftext?this._ftext:"").concat(this._openP.getParenChar()).concat(this._closeP.getParenChar())}}]),s}(Ur);function jr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Wr\x3dfunction(t){a(r,t);var i\x3djr(r);function r(){return e(this,r),i.apply(this,arguments)}return n(r,[{key:"isEqStack",value:function(){return!0}},{key:"getRowAbove",value:function(t){var e,i,n,r,o,s;for(o\x3dthis.getEqRow(t),e\x3dEn.position(o.domNode).y,0,n\x3dnull,i\x3d0;i\x3cthis.getNumChildren();i++)i!\x3dt\x26\x26(o\x3dthis.getEqRow(i),(s\x3dEn.position(o.domNode)).y\x3ce\x26\x26s.y\x3e\x3d0\x26\x26(null\x3d\x3dn||null\x3d\x3dr||n\x26\x26s.y\x3er.y)\x26\x26(n\x3do,r\x3dEn.position(n.domNode)));return n}},{key:"getRowBelow",value:function(t){var e,i,n,r,o,s,a;e\x3dEn.position(this.getEqRow(t).domNode).y;var c\x3dEn.position(this.domNode);for(i\x3dc.h+c.y,r\x3dnull,n\x3d0;n\x3cthis.getNumChildren();n++)n!\x3dt\x26\x26(s\x3dthis.getEqRow(n),(a\x3dEn.position(s.domNode)).y\x3ee\x26\x26a.y\x3c\x3di\x26\x26(null\x3d\x3dr||null\x3d\x3do||r\x26\x26a.y\x3co.y)\x26\x26(r\x3ds,o\x3dEn.position(r.domNode)));return r}}]),r}(Ur);function zr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Gr\x3dfunction(t){a(s,t);var i\x3dzr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(3),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domSup\x3dnull,this.domSub\x3dnull,this.baseClass\x3d"eqSupSub"}},{key:"isEqSupSub",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0).getDomNode(),i\x3dthis.getEqRow(1),n\x3di.getDomNode();fn(n,"eqSupContent");var r\x3dzi.create("span");fn(r,"eqSuperscript"),i\x26\x26Ei(r,{padding:0,margin:0,verticalAlign:0}),zi.place(n,r);var o\x3dthis.getEqRow(2),s\x3do.getDomNode();fn(s,"eqSubContent");var a\x3dzi.create("span");return fn(a,"eqSubscript"),o.isEmpty()\x26\x26Ei(a,{padding:0,verticalAlign:0}),zi.place(s,a),zi.place(e,t),zi.place(r,t),zi.place(a,t),this.dopNode\x3dt,this.domBase\x3de,this.domSup\x3dr,this.domSub\x3da,t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),Ei(this.domBase,"marginRight","0px"),Ei(this.domNode,"marginRight","0px"),Ei(this.domSub,{left:"",position:"default"}),zn(this.domNode),zn(this.domBase);var t\x3dzn(this.domSup),e\x3dzn(this.domSub),i\x3d1,n\x3dMath.min(t.w,e.w);Ei(this.domSub,{left:"".concat(-t.w,"px"),position:"relative",top:"1px"}),Ei(this.domBase,"marginRight","".concat(i,"px")),Ei(this.domNode,"marginRight","".concat(-n+i,"px"))}},{key:"getEqName",value:function(){return"@SUPSUB"}},{key:"getAccessibleName",value:function(){var t\x3d[],e\x3dthis.getEqRow(0),i\x3dthis.getEqRow(1),n\x3dthis.getEqRow(2);return e.isEmpty()||t.push(e.getAccessibleName()),n.isEmpty()||(t.push("Subscript"),t.push(n.getAccessibleName())),i.isEmpty()||(t.push("Superscript"),t.push(i.getAccessibleName())),this.parent\x26\x26this.parent.isEqRow()\x26\x26this.parent.getNextEq(this)\x26\x26t.push("Baseline"),t.join(" ")}}]),s}(Wr);function Xr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Qr\x3dfunction(t){a(s,t);var i\x3dXr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._focusPositions\x3dnull,this._lastFocusedElement\x3d0,this._isCurrent\x3d!1,this._focused\x3d!1,this.minSupOverhang\x3d4,this.minSubOverhang\x3d3}},{key:"isEqRow",value:function(){return!0}},{key:"setIsCurrent",value:function(t){this._isCurrent!\x3dt\x26\x26(this._isCurrent\x3dt),t||this.resetSelection(),this.updateCurrent()}},{key:"isCurrent",value:function(){return this._isCurrent}},{key:"updateCurrent",value:function(){this.domNode\x26\x26(this._isCurrent?fn(this.domNode,"current"):mn(this.domNode,"current"))}},{key:"getFocusPosition",value:function(t){return this.validateFocusPositions(),t\x3c0?0:this._focusPositions[t]}},{key:"getFocusPositionCount",value:function(){return this.validateFocusPositions(),this._focusPositions.length}},{key:"extractEqs",value:function(t,e,i){var n,r,o,s,a,c,u,l\x3dnull;e\x3ct\x26\x26(a\x3de,e\x3dt,t\x3da),t\x3c0\x26\x26(t\x3d0),e\x3c0\x26\x26(e\x3d0),this._disableTextMerge\x3d!0,l\x3d[];var h\x3d[];try{for(n\x3dthis.getFocusElementIndex(t),r\x3dthis.getFocusElementIndex(e),s\x3dn;s\x3c\x3dr;s++)if(void 0!\x3d\x3d(o\x3dthis.getChild(s)))if(u\x3d(c\x3dthis.getFocusPosition(s))+o.getLastCaretPosition(),c\x3e\x3dt\x26\x26u\x3c\x3de)l.push(o),h.push(o);else{var d\x3do.extractEqs(Math.max(t-c,0),Math.min(e-c,o.getLastCaretPosition()),i);un(d,(function(t){l.push(t),h.push(o)}))}i||un(h,on(this,(function(t){this.removeChild(t)})))}finally{this._disableTextMerge\x3d!1}return l}},{key:"insertEqRange",value:function(t,e,i,n){var r,o,s,a\x3dnull;r\x3dthis.extractEqs(e,i),n\x3dn||0,this._disableTextMerge\x3d!0;try{s\x3dMath.min(e,i),(o\x3dthis.getFocusElementIndex(s))\x3c0?this.addChildBefore(t,0):this.getFocusPosition(o)\x3d\x3ds?this.addChildBefore(t,o):this.addChildAfter(t,o),t[n].isEqRow()?(this.addChildBefore(r,this.getChildIndex(t[n])),this.removeChild(t[n]),a\x3dt.length\x3en+1?t[n+1]:o\x3e\x3d0?this.getChild(o):this.getChild[0]):t[n].isEqComposite()\x26\x26t[n].addEqs(r)}finally{this._disableTextMerge\x3d!1}return a||(a\x3dt[n]),a}},{key:"getFocusElementIndex",value:function(t){var e,i;if(0\x3d\x3dthis.children.length)return-1;if(0\x3d\x3d(e\x3dthis.getFocusPositionCount()))return-1;if(this._lastFocusedElement\x3e\x3de-1\x26\x26(this._lastFocusedElement\x3d0),t\x3cthis._focusPositions[this._lastFocusedElement]){for(i\x3dthis._lastFocusedElement;i\x3e0;)if(i--,this._focusPositions[i]\x3c\x3dt\x26\x26this.getChild(i).getLastCaretPosition()\x3e0){this._lastFocusedElement\x3di;break}}else for(i\x3dMath.max(this._lastFocusedElement,0);i\x3ce-1\x26\x26this._focusPositions[i]\x3c\x3dt;)this.getChild(i).getLastCaretPosition()\x3e0\x26\x26(this._lastFocusedElement\x3di),i++;return this._lastFocusedElement}},{key:"gotoPrevRow",value:function(t,e){var i;if(i\x3dthis.getChildIndex(t),e.extendSelection)return e.position\x3dMath.max(this.getFocusPosition(i),0),e.positionStart\x3dMath.max(this.getFocusPosition(i+1),0),void(e.row\x3dthis);--i\x3e\x3d0?this.getChild(i).isEqRow()?(e.row\x3dthis.getChild(i),e.position\x3d0):(e.row\x3dthis,e.position\x3dthis.getFocusPosition(i+1)):(e.row\x3dthis,e.position\x3d0)}},{key:"gotoNextRow",value:function(t,e){var i;if(i\x3dthis.getChildIndex(t),e.extendSelection)return e.position\x3dMath.max(this.getFocusPosition(i)+1,0),e.positionStart\x3dMath.max(this.getFocusPosition(i),0),void(e.row\x3dthis);++i\x3d\x3dthis.getNumChildren()?(e.row\x3dthis,e.position\x3dthis.getLastCaretPosition()):i\x3cthis.getNumChildren()?this.getChild(i).isEqRow()?(e.row\x3dthis.getChild(i),e.position\x3d0):t.isEqRow()\x26\x26this.getChild(i).isEqComposite()?(e.row\x3dthis.getChild(i).getFirstRow(),e.position\x3d0):(e.row\x3dthis,e.position\x3dthis.getFocusPosition(i)):this.parent\x26\x26this.parent.gotoNextRow(this,e)}},{key:"getLastRow",value:function(){return this}},{key:"getFirstRow",value:function(){return this}},{key:"getCaretPositionFromPart",value:function(t,e){for(var i\x3dt;i.isEqPart()\x26\x26null!\x3di.parent\x26\x26i.parent!\x3d\x3dthis;)i\x3di.parent;if(i.isEqPart()\x26\x26i.parent\x3d\x3dthis){var n\x3dthis.getChildIndex(i);if(n\x3e\x3d0)return this.getFocusPosition(n)+i.getCaretPositionFromEvent(e)}return-1}},{key:"preRender",value:function(){this.processRow(),o(r(s.prototype),"preRender",this).apply(this,arguments)}},{key:"createDom",value:function(){var t\x3dzi.create("span");return fn(t,"eqRow"),t}},{key:"updateDom",value:function(){o(r(s.prototype),"updateDom",this).apply(this,arguments);var t\x3dthis;un(this.children,(function(e,i){var n\x3de.getDomNode();n\x26\x26zi.place(n,t.domNode,i)})),this.domNode\x26\x26(this.isAllSpace()?fn(this.domNode,"allspaces"):mn(this.domNode,"allspaces")),this.calcFocusPositions()}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.resetScripts(),this.adjustScriptsInsideParens();var t\x3dthis.adjustScripts();this.adjustDivides(),t\x26\x26this.resizeParens(),0\x3d\x3d\x3dthis.getChildCount()?fn(this.domNode,"empty"):mn(this.domNode,"empty"),this.updateCurrent()}},{key:"add",value:function(t){return this.addChild(t),this.parent?this.parent:this}},{key:"invalidateEq",value:function(){this.invalidating||(this._focusPositions\x3dnull,o(r(s.prototype),"invalidateEq",this).apply(this,arguments))}},{key:"invalidate",value:function(){o(r(s.prototype),"invalidate",this).apply(this,arguments),this._focusPositions\x3dnull}},{key:"validateFocusPositions",value:function(){null\x3d\x3dthis._focusPosition\x26\x26this.calcFocusPositions()}},{key:"calcFocusPositions",value:function(){this._focusPositions\x3d[];var t\x3dthis.getNumChildren();if(t\x3e0){this._focusPositions.push(0);for(var e\x3d0,i\x3d0;i\x3ct;i++){e+\x3dthis.getChild(i).getLastCaretPosition(),this._focusPositions.push(e)}}}},{key:"getLastCaretPosition",value:function(){return 0\x3d\x3dthis.children.length?1:this.getFocusPosition(this.getFocusPositionCount()-1)}},{key:"moveCaret",value:function(t){switch(t.direction){case jn.LEFT:this.moveLeft(t);break;case jn.RIGHT:this.moveRight(t);break;case jn.UP:this.moveUp(t);break;case jn.DOWN:this.moveDown(t);break;case jn.HOME:this.moveHome(t);break;case jn.END:this.moveEnd(t);break;case jn.TABFORWARD:this.tabForward(t);break;case jn.TABBACK:this.tabBack(t);break;default:t.row\x3dnull}}},{key:"tabForward",value:function(t){var e,i,n;if((e\x3dt.position)\x3e\x3dthis.getLastCaretPosition()||0\x3d\x3dthis.children.length)null!\x3dthis.parent?this.parent.gotoNextRow(this,t):t.extendSelection||(t.moveRight\x3d!0);else if(i\x3dthis.getFocusElementIndex(e),e\x3d\x3dthis.getFocusPosition(i)){if(null!\x3d(n\x3dthis.getChild(i).getFirstRow()))return t.row\x3dn,void(t.position\x3d0);t.position\x3dthis._focusPositions[i+1]}else t.position\x3dthis._focusPositions[i+1]}},{key:"tabBack",value:function(t){var e,i,n,r;if((e\x3dt.position)\x3c\x3d0||0\x3d\x3dthis.children.length)null!\x3dthis.parent?this.parent.gotoPrevRow(this,t):t.extendSelection||(t.moveLeft\x3d!0);else if(n\x3dthis.getFocusElementIndex(e),e\x3d\x3d(i\x3dthis.getFocusPosition(n))||e\x3d\x3dthis.getLastCaretPosition()){if(e!\x3dthis.getLastCaretPosition()\x26\x26n--,n\x3e\x3d0){if(null!\x3d(r\x3dthis.getChild(n).getLastRow()))return t.row\x3dr,void(t.position\x3dr.getLastCaretPosition());t.position\x3dthis._focusPositions[n]}}else t.position\x3di}},{key:"moveDown",value:function(t){var e,i,n,r,o,s,a,c;for(n\x3dthis.getCaretLocation(t.position,this),i\x3dnull,o\x3d1e5,a\x3d0;a\x3cthis.getNumChildren();a++){var u\x3dthis.getChild(a);u.isEqSubscript()\x26\x26(c\x3dEn.position(u.domNode),(s\x3dn.left\x3c\x3dc.x?c.x-n.left:n.right\x3e\x3dc.x+c.w?n.right-(c.x+c.w):1e5)\x3co\x26\x26(i\x3du.getFirstRow(),o\x3ds))}if(!i\x26\x26this.parent\x26\x26this.parent.isEqStack()\x26\x26(e\x3dthis.parent.getChildIndex(this),i\x3dthis.parent.getRowBelow(e)),i){n\x3dthis.getCaretLocation(t.position,this);var l\x3dthis.getParentPos(i,{x:n.left,y:n.top});r\x3di.getCaretPositionAt(l.x,l.y),t.row\x3di,t.position\x3dr}}},{key:"moveUp",value:function(t){var e,i,n,r,o,s,a,c;for(n\x3dthis.getCaretLocation(t.position,this),i\x3dnull,o\x3d1e5,a\x3d0;a\x3cthis.getNumChildren();a++){var u\x3dthis.getChild(a);u.isEqSuperscript()\x26\x26(c\x3dEn.position(u.domNode),(s\x3dn.left\x3c\x3dc.x?c.x-n.left:n.right\x3e\x3dc.x+c.w?n.right-(c.x+c.w):1e5)\x3co\x26\x26(i\x3du.getFirstRow(),o\x3ds))}if(!i\x26\x26this.parent\x26\x26this.parent.isEqStack()\x26\x26(e\x3dthis.parent.getChildIndex(this),i\x3dthis.parent.getRowAbove(e)),i){n\x3dthis.getCaretLocation(t.position,i);var l\x3dEn.position(i.domNode);r\x3di.getCaretPositionAt(n.left,l.y),t.row\x3di,t.position\x3dr}}},{key:"getCaretLocation",value:function(t,e){var i,n\x3dEn.position(e.domNode),r\x3dEn.position(this.domNode),o\x3d{top:0,left:0,bottom:0,right:0},s\x3dthis.getNumChildren();if(0\x3d\x3ds||1\x3d\x3ds\x26\x260\x3d\x3dt\x26\x26(this.getChild(0).isEqSuperscript()||this.getChild(0).isEqSubscript()))return i\x3dthis.getLocalPos(e,{x:0,y:0}),o.top\x3di.y,o.left\x3di.x,o.bottom\x3dr.h,o.right\x3di.x+1,o.width\x3d1,o;if(t\x3d\x3dthis.getLastCaretPosition())return i\x3d{x:r.w,y:0},o.top\x3di.y,o.left\x3di.x,o.bottom\x3dn.h+i.y,o.right\x3di.x+1,o.width\x3d1,o;var a\x3dthis.getFocusElementIndex(t);if(a\x3e\x3d0){var c\x3dthis.getChild(a);this.getFocusPosition(a)\x3d\x3dt?a\x3e0\x26\x26!this.getChild(a-1).isEqComposite()\x26\x26!this.getChild(a-1).isEqRow()?o\x3dthis.getChild(a-1).getCaretLocation(t-this.getFocusPosition(a-1),e):c.getCaretLocation\x26\x26(o\x3dc.getCaretLocation(0,e)):o\x3dc.getCaretLocation(t-this.getFocusPosition(a),e)}return o}},{key:"moveLeft",value:function(t){var e,i,n;if(e\x3dt.position,t.extendSelection\x26\x26e\x3e0)t.position\x3de-1;else if(e\x3c\x3d0||0\x3d\x3dthis.children.length)this.parent?this.parent.gotoPrevRow(this,t):t.extendSelection||(t.moveLeft\x3d!0);else{if(i\x3dthis.getFocusElementIndex(e),(e\x3d\x3dthis.getFocusPosition(i)||e\x3d\x3dthis.getLastCaretPosition())\x26\x26(e!\x3dthis.getLastCaretPosition()\x26\x26i--,i\x3e\x3d0\x26\x26null!\x3d(n\x3dthis.getChild(i).getLastRow())))return t.row\x3dn,void(t.position\x3dn.getLastCaretPosition());t.position\x3de-1}}},{key:"moveRight",value:function(t){var e,i,n;if(e\x3dt.position,t.extendSelection\x26\x26e\x3cthis.getLastCaretPosition()\x26\x26this.children.length\x3e0)t.position\x3de+1;else if(e\x3e\x3dthis.getLastCaretPosition()||0\x3d\x3dthis.children.length)null!\x3dthis.parent?this.parent.gotoNextRow(this,t):t.extendSelection||(t.moveRight\x3d!0);else{if(i\x3dthis.getFocusElementIndex(e),e\x3d\x3dthis.getFocusPosition(i)\x26\x26null!\x3d(n\x3dthis.getChild(i).getFirstRow()))return t.row\x3dn,void(t.position\x3d0);t.position\x3de+1}}},{key:"moveHome",value:function(t){t.position\x3e0?t.position\x3d0:this.parent\x26\x26(this.parent.gotoPrevRow(this,t),t.position\x3d0)}},{key:"moveEnd",value:function(t){t.position\x3cthis.getLastCaretPosition()?t.position\x3dthis.getLastCaretPosition():this.parent\x26\x26(this.parent.gotoNextRow(this,t),t.position\x3dt.row.getLastCaretPosition())}},{key:"placeCaret",value:function(t,e){var i\x3d0,n\x3dthis;if(0\x3d\x3dthis.getNumChildren())return this.domNode\x26\x26zi.place(t,this.domNode),{eq:n,location:i};var r\x3dthis.getFocusElementIndex(e);return r\x3e\x3d0?(n\x3dthis.getChild(r),i\x3de-this.getFocusPosition(r),n\x26\x26n.placeCaret(t,i),{eq:n,location:i}):void 0}},{key:"insertEq",value:function(t,e){return 0\x3d\x3dthis.getNumChildren()?(this.addChild(t),this.getChild(0)):(i\x3dthis.getFocusElementIndex(e),n\x3dthis.getChild(i),e-(r\x3dthis.getFocusPosition(i))\x3d\x3d0?this.addChildBefore(t,i):n.insertEq(t,e-r),an(t)?t[0]:t);var i,n,r}},{key:"insertCharacter",value:function(t){var e;if(null!\x3d(e\x3dthis.getEqDocument().createNode(t.chr))){if(0\x3d\x3dthis.getNumChildren()){if(this.parent\x26\x26this.parent.isEqRow()){t.row\x3dthis.parent;var i\x3dt.row.getChildIndex(this);t.position\x3dt.row.getFocusPosition(i)+1}else t.position++;return this.insertEq(e,0),void(t.ignore||this.processRow(t))}var n,r\x3dthis.getFocusElementIndex(t.position),o\x3dthis.getChild(r);o.isEqDummyRow()?(this.insertEq(e,t.position),t.position+\x3de.getLastCaretPosition()):o.isEqRow()?(n\x3dt.position-this.getFocusPosition(r-1),(o\x3dthis.getChild(r-1)).insertEq(e,n),t.position++):(n\x3dt.position-this.getFocusPosition(r),o.insertEq(e,n),t.position++),t.ignore||this.processRow(t)}else t.ignore\x3d!0}},{key:"getNodeList",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e)})),t}},{key:"removeNonEmptyDummyRows",value:function(){var t\x3dthis.getNodeList(),e\x3dthis;un(t,(function(t){if(t.isEqDummyRow()){var i\x3dt;if(t.getNumChildren()\x3e0\x26\x26!i.getChild(0).isEqCursorMarker()){var n\x3di.getNodeList();e.addChildBefore(n,e.getChildIndex(i)),e.removeChild(i)}}}))}},{key:"mergeTextFields",value:function(){var t,e;e\x3dnull,t\x3dthis.getNodeList();var i\x3dthis;un(t,(function(t){t.isEqText()?e?(e.mergeText(t),i.removeChild(t)):e\x3dt:e\x3dnull}))}},{key:"parseTextFields",value:function(t){var e,i;i\x3dnew Kn;var n\x3dthis.getEqDocument();i.interpretFunctions\x3dthis.shouldInterpretFunctions(),i.allowCommaNumbers\x3dn.allowCommaNumbers,i.allowDollarNumbers\x3dn.allowDollarNumbers,i.siCommaChar\x3dn.siCommaChar,i.siCommaDecimal\x3dn.siCommaDecimal,i.allowNegParens\x3dn.allowNegParens,i.allowSpaceAfterNegParen\x3dn.allowNegParens,i.allowMinus\x3d!1,i.currencyChar\x3dn.currencyChar,i.shortcutList\x3dn.getShortcutList(),i.onVarExists\x3dn.onVarExists,i.allowEntities\x3dn.getAccessible()\x26\x26n.showAccessibleSymbolNames,i.interpretFunctions\x26\x26(i.functionList\x3dn.getFunctionList()),e\x3dthis.getNodeList(),un(e,(function(e){e.isEqText()\x26\x26e.parseText(i,t)}))}},{key:"processRow",value:function(t){this.getNumChildren()\x3e0\x26\x26(this.removeNonEmptyDummyRows(),this._disableTextMerge||this.mergeTextFields(),this.parseTextFields(t),this.replaceSpecialShortcuts(),this.matchParens(),this.getEqDocument().useTemplateFunctions\x26\x26this.templateParens(t),this.getEqDocument().emit(Mr.EqRowEvent.PROCESS_ROW,{event:t}))}},{key:"replaceSpecialShortcuts",value:function(){this.getEqDocument().diffEqMode\x26\x26this._handleEulerNotation()}},{key:"_handleEulerNotation",value:function(){var t\x3dthis.getNumChildren();if(!(t\x3c2))for(var e,i\x3d0;i\x3ct;)if(e\x3dthis.getChild(i)){if(e.isEqText()\x26\x26e.getTextType()\x3d\x3d\x3drr.EqTextType.TEXT\x26\x26er.endsWith(e.getText(),"D")){var n\x3dthis.getChild(i+1);if(!n){i++;continue}var r\x3dn.isEqSuperscript(),o\x3dn.isEqSubscript();if(r||o){var s\x3dn.getEqRow(0);if(s\x26\x26s.getNumChildren()\x3e0){var a\x3ds.getChild(s.getNumChildren()-1);if(!(a\x26\x26(r\x26\x26a.isEqSubscript()||o\x26\x26a.isEqSuperscript()))){i++;continue}var c\x3dnew Gr;c.getEqRow(0).addChild("D"),s.removeChild(a),c.getEqRow(r?1:2).addChild(s.children),"D"\x3d\x3d\x3de.getText()?this.removeChild(e):e.setText(e.getText().substring(0,e.getText().length-1)),this.removeChild(n),this.addChild(c),this.getEqDocument().emit("newCurrentRow",{row:c.getEqRow(r?2:1),pos:0});break}}}i++}else i++}},{key:"templateParens",value:function(t){var e,i,n,r,o,s,a;e\x3d0;for(var c\x3dthis.getNumChildren();e\x3cc;)if(o\x3dthis.getChild(e)){if(o.isEqText()\x26\x26o.getTextType()\x3d\x3drr.EqTextType.FUNCTION)(e\x3d\x3dc-1||e\x3cc-1\x26\x26!this.getChild(e+1).isEqParen())\x26\x26(this.removeChildAt(e),s\x3dnew Hr(o.getText()),this.addChildAt(s,e),t\x26\x26(t.row\x3ds.getEqRow(0),t.position\x3d0));else if(o.isEqParen()\x26\x26o.isOpenParen())if(o.getMatchedParen()){n\x3de,r\x3dthis.getChildIndex(o.getMatchedParen());var u\x3d[];for(i\x3d0;i\x3cr-n+1;i++)u.push(this.getChild(n)),this.removeChildAt(n);var l\x3d"";for(e\x3e0\x26\x26(a\x3dthis.getChild(e-1)).isEqText()\x26\x26a.getTextType()\x3d\x3drr.EqTextType.FUNCTION\x26\x26(l\x3da.getText(),this.removeChildAt(e-1),n--,r--,e--),s\x3dnew Hr(l,o.getParenChar(),o.getMatchedParen().getParenChar()),this.addChildAt(s,n),i\x3d1;i\x3cu.length-1;i++){s.getEqRow(0).addChild(u[i])}e\x3dr}else this.removeChildAt(e),s\x3dnew Hr("",o.getParenChar(),o.getMatchingParenChar()),this.addChildAt(s,e),t\x26\x26(t.row\x3ds.getEqRow(0),t.position\x3d0);e++}else e++}},{key:"resizeParens",value:function(t){for(var e\x3dt||this.children,i\x3de.length,n\x3d0;n\x3ci;n++){var r\x3de[n];if(r.isEqParen()\x26\x26r.hasDomNode())if(r.isCloseParen())this._processCloseParen(r);else{for(var o\x3d!1,s\x3dnull,a\x3dr.getMatchedParen(),c\x3dn;++c\x3ci;){var u\x3de[c];if(u\x3d\x3d\x3da)break;u.hasDomNode()\x26\x26!u.isEqParen()\x26\x26(o\x3do||u.forceParenExpand(),s\x3dur.addBox(s,u.getParenBox()))}var l\x3dthis._getFontSize();null\x3d\x3ds\x26\x26(s\x3d{t:0,h:l});var h\x3dMath.round(.15*l);if(s.t+\x3dh,s.h-\x3dh,s.forceParenExpand\x3do,r.setParenBox(s),!a)continue;a.setParenBox(s)}}}},{key:"_getFontSize",value:function(){return bi(this.domNode,"fontSize").slice(0,-2)}},{key:"_processCloseParen",value:function(t){t.getMatchedParen()||(dr.resetParenNode(this.getDomNode()),t.setParenBox({t:0,h:this._getFontSize()}))}},{key:"matchParens",value:function(){var t,e,i,n\x3d[],r\x3d0;for(t\x3d0;t\x3cthis.getNumChildren();t++){var o\x3dthis.getChild(t);if(o.isEqParen()){var s\x3do;s.setMatchedParen(null),s.parenLevel\x3dr;var a\x3d!1;if(s.isUnknownParen()){for(e\x3dn.length-1;e\x3e\x3d0;e--)if((i\x3dn[e]).isUnknownParen()\x26\x26i.getParenChar()\x3d\x3ds.getParenChar()\x26\x26i.parenLevel\x3d\x3ds.parenLevel){for(a\x3d!0;n.length\x3ee;)n.pop();s.setMatchedParen(i),i.setMatchedParen(s),s.setParenType(dr.EqParenType.CLOSE),i.setParenType(dr.EqParenType.OPEN)}a||n.push(s)}else if(s.isOpenParen())n.push(s),r++;else if(s.isCloseParen()){for(;n.length\x3e0;)if((i\x3dn.pop()).canClose(s)){a\x3d!0,s.setMatchedParen(i),i.setMatchedParen(s);break}r--}}}}},{key:"resetScripts",value:function(){un(this.children,(function(t){(t.isEqSuperscript()||t.isEqSupSub()||t.isEqSubscript())\x26\x26(t.scriptProcessed\x3d!1)}))}},{key:"adjustScriptsInsideParens",value:function(){var t,e,i,n,r;for(t\x3dthis.children.length;t\x3e\x3d0;){if((r\x3dthis.getChild(t))\x26\x26r.isEqParen()\x26\x26r.isOpenParen()\x26\x26r.getMatchedParen()){i\x3dt,n\x3dthis.getChildIndex(r.getMatchedParen());var o\x3d[];for(e\x3di;e\x3c\x3dn;e++)o.push(this.getChild(e));this.adjustScripts(o)}t--}}},{key:"adjustScripts",value:function(t){var e\x3d!1;this.fontSize||(this.fontSize\x3dthis._getFontSize(),this.minSupOverhang\x3dMath.round(.25*this.fontSize),this.minSubOverhang\x3dMath.round(.2*this.fontSize)),t||(t\x3dthis.children),this._resetSuperScriptsVerticalAlignment(t),this.resizeParens(t);for(var i\x3d[],n\x3d0;n\x3ct.length;n++){var r\x3dt[n];r.scriptProcessed||((r.isEqSuperscript()||r.isEqSupSub())\x26\x26this._adjustSuperScript(r,i)\x26\x26(e\x3d!0),(r.isEqSubscript()||r.isEqSupSub())\x26\x26(e\x3dthis._adjustSubScript(r)||e))}return un(i,(function(t){Ei(t.node,{verticalAlign:t.vapx})})),e}},{key:"_resetSuperScriptsVerticalAlignment",value:function(t){for(var e\x3d0;e\x3ct.length;e++){var i\x3dt[e];i.scriptProcessed||!i.isEqSuperscript()\x26\x26!i.isEqSupSub()||(i.isEqSupSub()?Ei(i.domSup,"verticalAlign","0px"):Ei(i.domNode,"verticalAlign","0px"))}}},{key:"_adjustSuperScript",value:function(t,e){var i,n,r,o,s,a,c\x3dt.getPreviousSibling(!1,!1);t.isEqSupSub()\x26\x26(c\x3dnull);var u\x3d!1,l\x3d!1;return c\x26\x26(c.isEqParen()||c.isEqCBrace())?(i\x3dc,u\x3d!0):c\x26\x26c.isEqSuperscript()?(i\x3dc,l\x3d!0):i\x3dt.getPreviousSibling(!1,!0,!0),t.isEqSupSub()?(i\x3dt.getEqRow(0),n\x3dt.domSup):n\x3dt.domNode,i?(r\x3di.isEqIntegral()||i.isEqRow()\x26\x26i.getNumChildren()\x3e0\x26\x26i.getChild(i.getNumChildren()-1).isEqIntegral()?1.5:1,o\x3dthis._getSuperScriptPreviousSiblingSize(i,u)):(r\x3d1,o\x3d{t:0}),a\x3d(s\x3dthis._getSuperScriptNodeSize(n,l,e,i)).t+s.h-o.t-r*this.minSupOverhang-.45*this.fontSize,t.scriptProcessed\x3d!0,e.push({node:n,va:a,vapx:"".concat(a,"px")}),!0}},{key:"_adjustSubScript",value:function(t){var e,i,n,r,o,s,a,c,u\x3d!1;return e\x3dt.getPreviousSibling(!1,!0,!0),t.isEqSupSub()?(e\x3dt.getEqRow(0),i\x3dt.domSub):i\x3dt.domNode,Ei(i,{verticalAlign:""}),e\x26\x26(c\x3d(a\x3dbi(i,"verticalAlign")).substr(0,a.length-2),o\x3dt.getNodeSize(i),r\x3de.getNodeSize(),n\x3de.isEqIntegral()||e.isEqRow()\x26\x26e.getNumChildren()\x3e0\x26\x26e.getChild(e.getNumChildren()-1).isEqIntegral()?1.5:1,(s\x3do.t+o.h-r.t-r.h-n*this.minSubOverhang)\x3c0\x26\x26(s\x3dnew Number(c)+s,Ei(i,{verticalAlign:"".concat(s,"px")}),u\x3dMath.round(c)-Math.round(s)!\x3d0),t.scriptProcessed\x3d!0),u}},{key:"_getSuperScriptNodeSize",value:function(t,e,i,n){var r\x3dthis.getNodeSize(t);if(e\x26\x26i.length\x3e0){var o\x3di[i.length-1];o.node\x3d\x3d\x3dn.domNode\x26\x26(r.t+\x3do.va)}return r}},{key:"_getSuperScriptPreviousSiblingSize",value:function(t,e){var i\x3dt.getNodeSize();if(e\x26\x26t.domNode.parenBox){var n\x3dt.domNode.parenBox;i.t+\x3di.h-n.h}return i}},{key:"adjustDivides",value:function(){for(var t\x3d0,e\x3d0,i\x3d0;i\x3cthis.getNumChildren();i++){if((r\x3dthis.getChild(i)).isEqDivide()){e++,Ei(r.bottom.getDomNode(),{paddingTop:""});var n\x3dtr.getRowBaseline(r.bottom.getDomNode());n\x3c20?(r.bottom.myBaseline\x3dn,t\x3dMath.max(t,n)):r.bottom.myBaseline\x3dvoid 0}}if(e\x3e1)for(i\x3d0;i\x3cthis.getNumChildren();i++){var r;if((r\x3dthis.getChild(i)).isEqDivide()\x26\x26r.bottom.myBaseline){var o\x3d_i(r.bottom.getDomNode()).paddingTop.slice(0,-2),s\x3dt-r.bottom.myBaseline;s\x3e0\x26\x26(s+\x3dNumber(o),Ei(r.bottom.getDomNode(),{paddingTop:"".concat(s,"px")}))}}}},{key:"deleteSingleCharacter",value:function(t){var e,i,n,r,o,s;if(!(t.position\x3e\x3dthis.getLastCaretPosition()))if(t.position\x3c0){for(s\x3dthis;s\x26\x26s.parent\x26\x26!s.parent.isEqRow();)s\x3ds.parent;s\x26\x26s.parent\x26\x26s.parent.isEqRow()\x26\x26(t.row\x3ds.parent,t.positionStart\x3dMath.max(t.row.getFocusPosition(t.row.getChildIndex(s)),0),t.position\x3dt.positionStart+1,t.extendSelection\x3d!0)}else 0!\x3dthis.getNumChildren()?(e\x3dthis.getFocusElementIndex(t.position))\x3e\x3d0\x26\x26(i\x3dthis.getChild(e),n\x3dthis.getFocusPosition(e),r\x3dt.position,o\x3dt.positionStart,t.position\x3dMath.max(r-n,0),t.positionStart\x3dMath.max(o-n,0),i.deleteCharacter(t),t.position\x3dr,t.positionStart\x3do,i.isEmpty()\x26\x26(this.removeChild(i),t.row\x3d\x3dthis\x26\x26(t.position\x3dr,t.positionStart\x3do)),t.extendSelection\x26\x26(t.position\x3dr,r\x3cthis.getLastCaretPosition()\x26\x26(t.position\x3dr+1))):this.parent\x26\x26this.parent.isEqComposite()\x26\x26(t.extendSelection\x3d!0,this.parent.gotoNextRow(this,t))}},{key:"deleteCharacter",value:function(t){var e,i,n,r,o,s,a,c;if(s\x3dMath.min(t.position,t.positionStart),a\x3dMath.max(t.position,t.positionStart),this.parent\x26\x26this.parent.isEqRow())return t.row\x3dthis.parent,t.positionStart\x3dt.row.getFocusPosition(t.row.getChildIndex(this)),t.position\x3dt.positionStart+1,void(t.extendSelection\x3d!0);if(s!\x3da){if(s\x3c0){for(r\x3dthis;r.parent\x26\x26!r.parent.isEqRow();)r\x3dr.parent;r.parent.isEqRow()\x26\x26(t.row\x3dr.parent,t.positionStart\x3dMath.max(t.row.getFocusPosition(t.row.getChildIndex(r)),0),t.position\x3dt.positionStart+1,t.extendSelection\x3d!0)}else if(e\x3dthis.getFocusElementIndex(s),i\x3dthis.getFocusElementIndex(a),!(e\x3c0||i\x3c0)){for(o\x3dnew Array,c\x3dnew Array(this.getFocusPositionCount()),n\x3d0;n\x3cthis.getFocusPositionCount();n++)c[n]\x3dthis.getFocusPosition(n);try{for(n\x3de;n\x3c\x3di;n++)r\x3dthis.getChild(n),e!\x3di||s\x3d\x3dc[n]\x26\x26a\x3d\x3dc[n+1]?n\x3d\x3de\x26\x26this.getFocusPosition(n)\x3cs?(t.position\x3dc[n+1]-c[n],t.positionStart\x3ds-c[n],r.deleteCharacter(t),r.isEmpty()\x26\x26o.push(r)):n\x3d\x3di\x26\x26c[n+1]\x3ea?a\x3ec[n]\x26\x26(t.position\x3da-c[n],t.positionStart\x3d0,r.deleteCharacter(t),r.isEmpty()\x26\x26o.push(r)):o.push(r):(t.position\x3da-c[n],t.positionStart\x3ds-c[n],r.deleteCharacter(t),r.isEmpty()\x26\x26o.push(r))}finally{for(n\x3d0;n\x3co.length;n++)this.removeChild(o[n]);t.position\x3ds,t.positionStart\x3ds}}}else this.deleteSingleCharacter(t)}},{key:"updateSelection",value:function(t,e){if(null!\x3dthis.domNode){var i,n,r\x3dthis.getNumChildren();0\x3d\x3dr\x26\x26fn(this.getDomNode(),"selected"),mn(this.getDomNode(),"selected"),t\x3ee\x26\x26(i\x3dt,t\x3de,e\x3di);var o\x3dthis.getFocusElementIndex(t),s\x3dthis.getFocusElementIndex(e);for(n\x3d0;n\x3cr;n++){var a\x3dthis.getChild(n);n\x3e\x3do\x26\x26n\x3c\x3ds?o\x3d\x3ds?a.updateSelection(t-this.getFocusPosition(n),e-this.getFocusPosition(n)):n\x3d\x3do\x26\x26this.getFocusPosition(n)!\x3dt?a.updateSelection(t-this.getFocusPosition(n),a.getLastCaretPosition()):n\x3d\x3ds?this.getFocusPosition(n)\x3d\x3de?a.resetSelection():a.updateSelection(0,e-this.getFocusPosition(n)):a.updateSelection(0,a.getLastCaretPosition()):a.resetSelection()}}}},{key:"resetSelection",value:function(){null!\x3dthis.domNode\x26\x26un(this.children,(function(t){t.resetSelection()}))}},{key:"getCaretPositionAt",value:function(t,e){var i,n,r,o,s,a,c\x3dthis.getNumChildren();if(0\x3d\x3dc)return 0;if(s\x3dnull,t\x3cthis.getChild(0).getLocalPos().x)s\x3dthis.getChild(0);else if(t\x3ethis.getChild(c-1).getLocalPos().x+this.getChild(c-1).getLocalPos().w)s\x3dthis.getChild(c-1);else for(n\x3d0;n\x3cc;n++)if(t\x3e\x3d(a\x3d(i\x3dthis.getChild(n)).getLocalPos()).x\x26\x26t\x3c\x3da.x+a.w){s\x3di;break}return s?(r\x3dthis.getChildIndex(s),a\x3ds.getLocalPos(),o\x3ds.getCaretPositionAt(t-a.x,e-a.y),this.getFocusPosition(r)+o):-1}},{key:"getTreeLabel",value:function(){return"row"}},{key:"initCaret",value:function(t){t.row\x3dthis,t.position\x3d0}},{key:"isCurrentRow",value:function(){return this.getEqDocument()\x26\x26this.getEqDocument().getCurrentRow()\x3d\x3dthis}},{key:"getFocusRow",value:function(){return this}},{key:"isEmpty",value:function(t){if(!t)return 0\x3d\x3dthis.getNumChildren();for(var e\x3d0;e\x3cthis.getNumChildren();e++){if(!this.getChild(e).isEqCursorMarker())return!1}return!0}},{key:"isEqSpace",value:function(t){var e\x3dthis.getChild(t);return e.isEqOp()\x26\x26" "\x3d\x3de.getEqText()||e.isEqText()\x26\x26""\x3d\x3der.trim(e.getEqText())}},{key:"isAllSpace",value:function(){if(this.isEmpty())return!1;for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.isEqSpace(t))return!1;return!0}},{key:"isEqInteger",value:function(t){var e\x3dthis.getChild(t);return e.isEqText()\x26\x26e.isInteger()}},{key:"isEqSlash",value:function(t){var e\x3dthis.getChild(t);return e.isEqOp()\x26\x26"/"\x3d\x3de.getEqText()}},{key:"getEqText",value:function(){var t,e,i,n,r,o\x3dthis,s\x3dthis.getNumChildren(),a\x3dthis.getEqDocument(),c\x3dfunction(){for(;t+i\x3cs\x26\x26(o.isEqSpace(t+i)||a.ignoreEmptyBoxes\x26\x26o.getChild(t+i).isEqDummyRow());)i++};for(r\x3d"",t\x3d0;t\x3cs;){if(t\x3cs-1){if(a\x26\x26!a.authoring\x26\x26this.getChild(t).isEqText()\x26\x26this.getChild(t).isInteger()\x26\x26(i\x3d1,c(),t+i\x3cs))if(this.getChild(t+i).isEqDivide()){if((e\x3dthis.getChild(t+i)).isIntDiv()){r\x3d"".concat(r,"@MNUM{").concat(this.getChild(t).getEqText(),";").concat(e.getEqRow(0).getEqText(),";").concat(e.getEqRow(1).getEqText(),"}"),t+\x3di+1;continue}}else if(this.isEqInteger(t+i)){var u,l;if(u\x3dthis.getChild(t+i).getEqText(),i++,c(),t+i\x3cs\x26\x26this.isEqSlash(t+i)\x26\x26(i++,c(),t+i\x3cs\x26\x26this.isEqInteger(t+i))){l\x3dthis.getChild(t+i).getEqText(),r\x3d"".concat(r,"@MNUM{").concat(this.getChild(t).getEqText(),";").concat(u,";").concat(l,"}"),t+\x3di+1;continue}}if(t+1\x3cs){var h\x3dthis.getChild(t),d\x3dthis.getChild(t+1);if(h.isEqOp()\x26\x26d.isEqOp()){var p\x3dnull;switch(h.getOpType()+d.getOpType()){case sr.OpTypes.GT+sr.OpTypes.EQUALS:p\x3dsr.OpTypes.GE;break;case sr.OpTypes.LT+sr.OpTypes.EQUALS:p\x3dsr.OpTypes.LE;break;case sr.OpTypes.LT+sr.OpTypes.GT:p\x3dsr.OpTypes.NE}if(p){r+\x3dp,t+\x3d2;continue}}}}if(n\x3dthis.getChild(t).getEqText(),t+1\x3cs){var f\x3dthis.getChild(t),m\x3dthis.getChild(t+1);f.isEqText()\x26\x26m.isEqText()\x26\x26(f.getTextType()\x3d\x3drr.EqTextType.FUNCTION\x26\x26m.getTextType()\x3d\x3drr.EqTextType.TEXT\x26\x26er.sameText(n,"log")\x26\x26er.sameText(er.trim(m.getEqText()),"x")\x26\x26(n+\x3d" "),"_"\x3d\x3dn.substr(n.length-1,1)\x26\x26(n+\x3d"{".concat(m.getEqText(),"}"),t++))}r+\x3dn,t++}return r}},{key:"isNumber",value:function(){var t,e\x3d0;for(t\x3d0;t\x3cthis.getNumChildren();t++){var i\x3dthis.getChild(t);if(i.isEqOp()\x26\x26" "\x3d\x3di.getEqText());else if(i.isEqText()\x26\x26""\x3d\x3der.trim(i.getEqText()));else{if(!i.isEqText()||!i.isNumber())return!1;e++}}return 1\x3d\x3de}},{key:"isInteger",value:function(){var t,e\x3d0;for(t\x3d0;t\x3cthis.getNumChildren();t++){var i\x3dthis.getChild(t);if(i.isEqOp()\x26\x26" "\x3d\x3di.getEqText());else if(i.isEqText()\x26\x26""\x3d\x3der.trim(i.getEqText()));else{if(!i.isEqText()||!i.isInteger())return!1;e++}}return 1\x3d\x3de}},{key:"rowsFilled",value:function(){if(0\x3d\x3dthis.getNumChildren())return!1;if(this.isAllSpace()\x26\x26this.getEqDocument().suppressEmptyHiding)return!1;for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.getChild(t).rowsFilled())return!1;return!0}},{key:"getJSText",value:function(){var t\x3d"",e\x3d"",i\x3d!1,n\x3d"",r\x3dnull,o\x3d!1;this.mergeTextFields(),this.parseTextFields();for(var s\x3d0;s\x3cthis.getNumChildren();s++){var a\x3di,c\x3dn,u\x3dr,l\x3do;i\x3d(r\x3dthis.getChild(s)).isEqOp(),o\x3d"."\x3d\x3d(n\x3dr.getJSText()),!n||!c||a||i||o||l||(t+\x3d"*"),u\x26\x26u.isEqText()\x26\x26u.isInteger()\x26\x26r.isEqDivide()\x26\x26r.isIntDiv()?t\x3d"".concat(e,"(").concat(c,"+").concat(n,")"):t+\x3dn,i\x26\x26(e\x3dt)}return t}},{key:"getPreviousEq",value:function(t,e,i,n){void 0\x3d\x3d\x3de\x26\x26(e\x3d!0);for(var r\x3dthis.getChildIndex(t);r\x3e0;){r--;var o\x3dthis.getChild(r);if(!(e\x26\x26o\x26\x26o.isEqText()\x26\x26" "\x3d\x3do.getText())\x26\x26!(i\x26\x26o.isEqParen()||n\x26\x26(o.isEqSubscript()||o.isEqSuperscript())))return o}}},{key:"getNextEq",value:function(t,e,i){void 0\x3d\x3d\x3de\x26\x26(e\x3d!0);for(var n\x3dthis.getChildIndex(t)+1;n\x3cthis.getNumChildren();){var r\x3dthis.getChild(n);if(n++,!(e\x26\x26r\x26\x26r.isEqText()\x26\x26" "\x3d\x3dr.getText()||i\x26\x26r.isEqParen()))return r}}},{key:"forceParenExpand",value:function(){for(var t\x3d0;t\x3cthis.getNumChildren();t++){if(this.getChild(t).forceParenExpand())return!0}return!1}}]),s}(Ir);function Yr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]\x3di,t}function Kr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Jr\x3dfunction(t){a(s,t);var i\x3dKr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).baseClass\x3d"eqSuperscript",t.addRows(1),t}return n(s,[{key:"isEqSuperscript",value:function(){return!0}},{key:"add",value:function(t){return this.getEqRow(0).add(t)}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0),i\x3de.getDomNode();return fn(i,"eqSupContent"),zi.place(i,t),e.getAccessibleAnnouncement\x3dfunction(){return"Superscript"},t}},{key:"getTreeLabel",value:function(){return"sup"}},{key:"getEqName",value:function(){return"@Sup"}},{key:"getLatexName",value:function(){return"^"}},{key:"getLatex",value:function(){if(!this.parent)return o(r(s.prototype),"getLatex",this).apply(this,arguments);var t\x3dthis.parent.getChildIndex(this)-1;return t\x3e\x3d0\x26\x26t\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(t).isEqSubscript()?"{".concat(this.getMergedSuperLatex(),"}"):this.getMergedSuperLatex()}},{key:"getMergedSuperLatex",value:function(){var t;if(!this.parent)return o(r(s.prototype),"getMergedSuperLatex",this).apply(this,arguments);var e\x3dthis.parent.getChildIndex(this)-1;if(e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(e).isEqSuperscript())return"";var i\x3dthis.getEqRow(0).getLatex();for(e\x3dthis.parent.getChildIndex(this),e++;e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26(t\x3dthis.parent.getChild(e)).isEqSuperscript();)i+\x3dt.getEqRow(0).getLatex(),e++;return"^{".concat(i,"}")}},{key:"getSimpleName",value:function(){var t\x3dthis.getEqRow(0);if(t.isInteger()){var e\x3dt.getEqText(),i\x3dparseInt(e);if(2\x3d\x3di)return"squared";if(3\x3d\x3di)return"cubed"}return null}},{key:"getSuperSubPrefix",value:function(){var t;if(this.parent\x26\x26this.parent.parent){t\x3dthis.parent.parent;for(var e\x3d[];t;)t.isEqSuperscript()?e.push("Super"):t.isEqSubscript()\x26\x26e.push("Sub"),t\x3dt.parent;if(e.length\x3e0)return e.join(" ")}return null}},{key:"getAccessibleName",value:function(){var t\x3dthis.getSimpleName();if(t)return t;var e\x3d"Superscript ".concat(this.getEqRow(0).getAccessibleName()),i\x3dthis.getSuperSubPrefix();return i\x26\x26(e\x3d"".concat(i," ").concat(e)),e}},{key:"getRowAbove",value:function(){return null}},{key:"getRowBelow",value:function(){return this.getFocusRow()}},{key:"getEqText",value:function(){var t,e\x3dthis.getEqDocument(),i\x3dthis.getEqRow(0);return e.ignoreEmptyBoxes\x26\x26""\x3d\x3der.trim(i.getEqText())?"":e.ignoreSubscriptInSuperscript\x26\x261\x3d\x3di.getNumChildren()\x26\x26(t\x3di.getChild(0)).isEqSubscript()?"".concat(this.getEqName(),"{").concat(t.getEqTextContents(),"}"):o(r(s.prototype),"getEqText",this).apply(this,arguments)}}]),s}(Wr),$r\x3d{};function Zr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}$r.OVERBAR\x3d0,$r.UNDRBAR\x3d1,$r.OVDBBAR\x3d2,$r.UNDBBAR\x3d3,$r.ARROWL\x3d4,$r.ARROWR\x3d5,$r.ARROWDB\x3d6,$r.RAYL\x3d7,$r.RAYR\x3d8,$r.RAYDB\x3d9,$r.OVERBRC\x3d10,$r.UNDRBRC\x3d11,$r.ARC\x3d12,$r.SLASH\x3d13,$r.HAT\x3d14,$r.TILDE\x3d15,$r.ACCENT\x3d16,$r.UMLAUT\x3d17,$r.PRIME\x3d18,$r.PRIME2\x3d19,$r.PRIME3\x3d20,$r.REP\x3d21,$r.HLINE\x3d22,$r.DHLINE\x3d23,$r.SIDOT\x3d24,$r.EVEC\x3d25,$r.HBRACE\x3d26,$r.HBRACET\x3d27,$r.HBRACEB\x3d28,$r.EqName\x3d["OVERBAR","UNDRBAR","OVDBBAR","UNDBBAR","ARROWL","ARROWR","ARROWDB","RAYL","RAYR","RAYDB","OVERBRC","UNDRBRC","ARC","SLASH","HAT","TILDE","ACCENT","UMLAUT","PRIME","PRIME2","PRIME3","REP","HLINE","DHLINE","SIDOT","EVEC","HBRACE","HBRACET","HBRACEB"];var to\x3dfunction(t){a(s,t);var i\x3dZr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).baseClass\x3d"eqSubscript",t.addRows(1),t}return n(s,[{key:"isEqSubscript",value:function(){return!0}},{key:"add",value:function(t){return this.getEqRow(0).add(t)}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0),i\x3de.getDomNode();return fn(i,"eqSubContent"),zi.place(i,t),this.getEqRow(0).isEmpty()\x26\x26Ei(t,{padding:0,verticalAlign:0}),e.getAccessibleAnnouncement\x3dfunction(){return"Subscript"},t}},{key:"getTreeLabel",value:function(){return"sub"}},{key:"getEqName",value:function(){return"@Sub"}},{key:"getLatexName",value:function(){return"_"}},{key:"getSuperSubPrefix",value:function(){var t;if(this.parent\x26\x26this.parent.parent){t\x3dthis.parent.parent;for(var e\x3d[];t;)t.isEqSuperscript()?e.push("Super"):t.isEqSubscript()\x26\x26e.push("Sub"),t\x3dt.parent;if(e.length\x3e0)return e.join(" ")}return null}},{key:"getSimpleName",value:function(){var t\x3dthis.getPreviousSibling();if(t\x26\x26t.isEqText()\x26\x26(t.isNumber()||t._textType\x3d\x3drr.EqTextType.FUNCTION))return null;var e\x3dthis.getEqRow(0),i\x3de.getAccessibleName();return e.isNumber()?i:null}},{key:"getAccessibleName",value:function(){var t\x3dthis.getSimpleName();if(t)return t;var e\x3dthis.getEqRow(0).getAccessibleName(),i\x3d"Subscript ".concat(e),n\x3dthis.getSuperSubPrefix();return n\x26\x26(i\x3d"".concat(n," ").concat(i)),i}},{key:"normLatex",value:function(){if(!this.parent)return _EqComposite.prototype.getLatex.apply(this);var t\x3dthis.parent.getChildIndex(this)-1;return t\x3e\x3d0\x26\x26t\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(t).isEqSuperscript()?"{".concat(this.getMergedSubLatex(),"}"):this.getMergedSubLatex()}},{key:"getMergedSubLatex",value:function(){var t;if(!this.parent)return _EqComposite.prototype.getLatex.apply(this);var e\x3dthis.parent.getChildIndex(this)-1;if(e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(e).isEqSubscript())return"";var i\x3dthis.getEqRow(0).getLatex();for(e\x3dthis.parent.getChildIndex(this),e++;e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26(t\x3dthis.parent.getChild(e)).isEqSubscript();)i+\x3dt.getEqRow(0).getLatex(),e++;return"_{".concat(i,"}")}},{key:"getLatex",value:function(t){if(t)return o(r(s.prototype),"getLatex",this).apply(this,arguments);if(this.getEqDocument().fixLatexVector){var e\x3dthis.parent;if(!e||!e.isEqRow())return this.normLatex();var i\x3de.getChildIndex(this)-1;return i\x3e\x3d0\x26\x26i\x3ce.getNumChildren()\x26\x26e.getChild(i).isEqBar()\x26\x26(e.getChild(i).barType\x3d\x3d$r.RAYR||e.getChild(i).barType\x3d\x3d$r.EVEC)?"":this.normLatex()}return this.normLatex()}},{key:"getLatexRaw",value:function(){return this.getLatex(!0)}},{key:"getEqText",value:function(){return this.getEqDocument().ignoreEmptyBoxes\x26\x26""\x3d\x3der.trim(this.getEqRow(0).getEqText())?"":o(r(s.prototype),"getEqText",this).apply(this,arguments)}},{key:"getRowAbove",value:function(t){return this.getFocusRow()}},{key:"getRowBelow",value:function(t){return null}}]),s}(Wr);function eo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var io\x3dfunction(t){a(s,t);var i\x3deo(s);function s(t){var n;e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqDivide",n._type\x3ds.DIV,n.addRows(2),n.top\x3dn.getEqRow(0),n.top.baseClass\x3d"eqNumerator",n.bottom\x3dn.getEqRow(1),n.bottom.baseClass\x3d"eqDenominator";var r\x3dfunction(){return"eqNumerator"\x3d\x3d\x3dthis.baseClass?"Fraction Numerator":"eqDenominator"\x3d\x3d\x3dthis.baseClass?"Fraction Denominator":null};return n.top.getAccessibleAnnouncement\x3dr,n.bottom.getAccessibleAnnouncement\x3dr,t\x26\x26(n._type\x3dt.divType||s.DIV),n._type\x3d\x3ds.DIVSM\x26\x26(n.baseClass\x3d"eqDivide small"),n}return n(s,[{key:"isEqDivide",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");return zi.place(this.top.getDomNode(),t),zi.place(this.bottom.getDomNode(),t),zi.create("span",{style:{display:"inline-block",width:0}},t),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().suppressEmptyHiding||this.getEqRow(0).rowsFilled()\x26\x26this.getEqRow(1).rowsFilled()||Ei(this.domNode,{display:"none"})}},{key:"getEqName",value:function(){return this._type\x3d\x3d\x3ds.DIVSM?"@DIVSM":"@DIV"}},{key:"getLatexName",value:function(){return"\\\\frac"}},{key:"getJSText",value:function(){return"(".concat(this.top.getJSText(),")/(").concat(this.bottom.getJSText(),")")}},{key:"isIntDiv",value:function(){return this.getEqRow(0).isInteger()\x26\x26this.getEqRow(1).isInteger()}},{key:"_getNumericalName",value:function(){try{if(this.isIntDiv()){var t\x3dparseInt(this.getEqRow(0).getEqText()),e\x3dparseInt(this.getEqRow(1).getEqText());if(t\x3e\x3d1\x26\x26t\x3c\x3d9\x26\x26e\x3e1\x26\x26e\x3c\x3d19){var i,n\x3dir.divNumerators[t];if(i\x3d1\x3d\x3dt?ir.divDenominators[e]:ir.divDenominators_plural[e],this.parent\x26\x26this.parent.isEqRow()){var r\x3dthis.parent.getPreviousEq(this);r\x26\x26r.isEqText()\x26\x26r.isInteger()\x26\x26(n\x3d"and ".concat(n))}return"".concat(n," ").concat(i)}}}catch(t){}return null}},{key:"_calculateNesting",value:function(t){var e,i\x3dthis.getEqRow(0),n\x3dthis.getEqRow(1),r\x3dt,o\x3dt;for(e\x3d0;e\x3ci.getNumChildren();e++){var s\x3di.getChild(e);s.isEqDivide()\x26\x26!s._getNumericalName()\x26\x26(r\x3dMath.max(r,s._calculateNesting(t+1)))}for(e\x3d0;e\x3cn.getNumChildren();e++){var a\x3dn.getChild(e);a.isEqDivide()\x26\x26!a._getNumericalName()\x26\x26(o\x3dMath.max(o,a._calculateNesting(t+1)))}return Math.max(r,o)}},{key:"getAccessibleName",value:function(t){var e\x3d"Start",i\x3d"Over",n\x3d"End";if(0\x3d\x3d\x3dt)return"".concat(e).concat("Fraction");if(1\x3d\x3d\x3dt)return"".concat(n).concat("Fraction");var r\x3dthis._getNumericalName();if(r)return r;for(var o\x3dthis._calculateNesting(0),s\x3d0;s\x3co;s++)e+\x3d"Start",i+\x3d"Over",n+\x3d"End";return"".concat(e).concat("Fraction"," ").concat(this.getEqRow(0).getAccessibleName()," ").concat(i," ").concat(this.getEqRow(1).getAccessibleName()," ").concat(n).concat("Fraction")}},{key:"getAccessiblePlainText",value:function(){var t\x3d[];return t.push(this.top.getAccessiblePlainText()),t.push(this.bottom.getAccessiblePlainText())," ".concat(t.join("/")," ")}},{key:"getAccessiblePosition",value:function(t){return o(r(s.prototype),"getAccessiblePosition",this).call(this,1\x3d\x3d\x3dt)}}]),s}(Wr);io.DIV\x3d1,io.DIVSM\x3d2;var no\x3d{};no.create\x3dfunction(t,e,i){var n\x3ddocument.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e){var o\x3de[r];switch(r){case"textNode":n.appendChild(document.createTextNode(o));break;default:n.setAttributeNS("xlink:href"\x3d\x3dr?"http://www.w3.org/1999/xlink":null,r,o)}}return i\x26\x26i.appendChild(n),n};var ro\x3dfunction(){function t(){e(this,t),this._list\x3d[]}return n(t,[{key:"moveTo",value:function(t,e){return this._xy("M",t,e),this}},{key:"lineTo",value:function(t,e){return this._xy("L",t,e),this}},{key:"moveToRel",value:function(t,e){return this._xy("m",t,e),this}},{key:"lineToRel",value:function(t,e){return this._xy("l",t,e),this}},{key:"_xy",value:function(t,e,i){this._list.push(t.concat(e,",",i))}},{key:"toString",value:function(){return this._list.join(" ")}}]),t}();function oo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}no.path\x3dfunction(){return new ro};var so\x3dfunction(t){a(s,t);var i\x3doo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(1),t.radicand\x3dt.getEqRow(0),t.radicand.baseClass\x3d"eqRadicand",t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.radicand\x3dnull,this.radicalSymbol\x3dnull,this.radicandHolder\x3dnull,this.rootRow\x3dnull,this.baseClass\x3d"eqSqrt"}},{key:"isEqSqrt",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");this.getNumChildren()\x3e1?(this.rootRow\x3dthis.getEqRow(1),fn(this.rootRow.getDomNode(),"eqRoot"),zi.place(this.rootRow.getDomNode(),t)):this.rootRow\x26\x26(this.rootRow.destroy(),this.rootRow\x3dnull),this.radicandHolder\x3dzi.create("span",{class:"radicand-holder"},t),this.radicalSymbol\x3dzi.create("span",{class:"radical-symbol"},this.radicandHolder),zi.place(this.radicand.getDomNode(),this.radicandHolder);var e\x3dfunction(){return"eqRadicand"\x3d\x3d\x3dthis.baseClass?"Root Radicand":"Root Radical"};return this.radicand.getAccessibleAnnouncement\x3de,this.rootRow\x26\x26(this.rootRow.getAccessibleAnnouncement\x3de),t}},{key:"postCreate",value:function(){o(r(s.prototype),"postCreate",this).apply(this,arguments)}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dfunction(t){return Math.floor(t)+.5};if(this.radicalSymbol){var e\x3dthis.radicand.getDomNode(),i\x3d_i(e),n\x3dEn.getMarginExtents(e,i),a\x3dEn.getMarginBox(e,i),c\x3dbi(e,"color"),u\x3dlr.toHexString(c),l\x3dn.t,h\x3dl/2,d\x3da.w,p\x3da.h,f\x3dt(0),m\x3dt(p-.7*n.l),g\x3dh+.5,v\x3dt(n.l/2),y\x3dt(p-h),x\x3dt(n.l-h),w\x3dt(l-1);zi.empty(this.radicalSymbol);var C\x3dno.create("svg",{height:p,width:d},this.radicalSymbol);no.create("path",{style:"none",stroke:u,"stroke-width":1,fill:"none",d:no.path().moveTo(f,m).lineToRel(g,-g).lineTo(v,y).lineTo(x,w).lineTo(t(d),w)},C)}}},{key:"getTreeLabel",value:function(){return"sqrt"}},{key:"getAccessibleName",value:function(t){return 0\x3d\x3d\x3dt?"StartRoot":1\x3d\x3d\x3dt?"EndRoot":1\x3d\x3d\x3dthis.getNumChildren()?"StartRoot ".concat(this.getEqRow(0).getAccessibleName()," EndRoot"):"RootIndex ".concat(this.getEqRow(1).getAccessibleName()," StartRoot ").concat(this.getEqRow(0).getAccessibleName()," EndRoot")}},{key:"getLastRow",value:function(){return this.getEqRow(0)}},{key:"getFirstRow",value:function(){return this.getEqRow(this.getNumChildren()-1)}},{key:"getEqName",value:function(){return"@RT"}},{key:"getLatexName",value:function(){return"\\\\sqrt"}},{key:"getLatex",value:function(){var t\x3dthis.getLatexName();return this.getNumChildren()\x3e1\x26\x26(t+\x3d"[".concat(this.getEqRow(1).getLatex(),"]")),"".concat(t,"{").concat(this.getEqRow(0).getLatex(),"}")}},{key:"gotoNextRow",value:function(t,e){var i\x3dthis.getNumChildren()\x3e1;if(i\x26\x26t\x3d\x3dthis.getChild(1))return e.row\x3dthis.getEqRow(0),void(e.position\x3d0);var n\x3dt;i\x26\x26t\x3d\x3dthis.getChild(0)\x26\x26(n\x3dthis.getEqRow(1)),o(r(s.prototype),"gotoNextRow",this).call(this,n,e)}},{key:"gotoPrevRow",value:function(t,e){var i\x3dthis.getNumChildren()\x3e1;if(i\x26\x26t\x3d\x3dthis.getChild(0))return e.row\x3dthis.getEqRow(1),void(e.position\x3d0);var n\x3dt;i\x26\x26t\x3d\x3dthis.getChild(1)\x26\x26(n\x3dthis.getEqRow(0)),o(r(s.prototype),"gotoPrevRow",this).call(this,n,e)}},{key:"getEqText",value:function(){return this.getEqDocument().ignoreEmptyBoxes\x26\x262\x3d\x3dthis.getNumChildren()\x26\x26""\x3d\x3der.trim(this.getEqRow(1).getEqText())?"".concat(this.getEqName(),"{").concat(this.getEqRow(0).getEqText(),"}"):o(r(s.prototype),"getEqText",this).apply(this,arguments)}},{key:"forceParenExpand",value:function(){return!0}},{key:"getAccessiblePosition",value:function(t){return o(r(s.prototype),"getAccessiblePosition",this).call(this,1\x3d\x3d\x3dt)}}]),s}(Wr);function ao(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var co\x3dfunction(t){a(s,t);var i\x3dao(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"isEqDummyRow",value:function(){return!0}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"getEqText",value:function(){var t\x3do(r(s.prototype),"getEqText",this).apply(this,arguments);return this.getEqDocument().ignoreEmptyBoxes\x26\x26""\x3d\x3der.trim(t)?"":"@DUMMY{".concat(t,"}")}},{key:"getTreeLabel",value:function(){return"dummyRow"}},{key:"extractEqs",value:function(){return null}}]),s}(Qr);function uo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var lo\x3dfunction(t){a(r,t);var i\x3duo(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("b");return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@B"}},{key:"getAccessibleName",value:function(){return"Bold ".concat(this.getEqRow(0).getAccessibleName())}}]),r}(Ur);function ho(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var po\x3dfunction(t){a(r,t);var i\x3dho(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("i");return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@I"}}]),r}(Ur);function fo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var mo\x3dfunction(t){a(r,t);var i\x3dfo(r);function r(t){var n;return e(this,r),(n\x3di.apply(this,arguments)).baseClass\x3d"eqPlaceHolder",n._name\x3dt.name,n}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span");return zi.create("span",{class:"placeholder-text",innerHTML:"".concat(this.getEqName(),"{")},t),this.forEach((function(e,i){i\x3e0\x26\x26zi.create("span",{class:"placeholder-text",innerHTML:";"},t),zi.place(e.getDomNode(),t)})),zi.create("span",{class:"placeholder-text",innerHTML:"}"},t),t}},{key:"getEqName",value:function(){return"@".concat(this._name)}},{key:"getTreeLabel",value:function(){return this.getEqName()}}]),r}(Ur);function go(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var vo\x3dfunction(t){a(r,t);var i\x3dgo(r);function r(t){var n;return e(this,r),(n\x3di.apply(this,arguments)).baseClass\x3d"",n.addRows(1),n._points\x3dt.points||1,n}return n(r,[{key:"createDom",value:function(){var t\x3dMath.max(.1,1+.1*this._points),e\x3dzi.create("span",{style:{fontSize:"".concat(t,"em")}});return zi.place(this.getEqRow(0).getDomNode(),e),e}},{key:"getEqName",value:function(){return"@SIZE"}},{key:"getEqText",value:function(){return"".concat(this.getEqName(),"{").concat(this.getEqRow(0).getEqText(),";").concat(this._points.toString(),"}")}},{key:"getAccessibleName",value:function(){return this._points\x3e0?" font size increased by ".concat(this._points.toString()," ").concat(this.getEqRow(0).getAccessibleName()):this._points\x3c0?" font size decreased by ".concat((-this._points).toString()," ").concat(this.getEqRow(0).getAccessibleName()):" font size normal ".concat(this.getEqRow(0).getAccessibleName())}},{key:"getPoints",value:function(){return this._points}},{key:"setPoints",value:function(t){this._points\x3dt}}]),r}(mo);function yo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var xo\x3dfunction(t){a(s,t);var i\x3dyo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._name\x3dt.name,n._orderNo\x3dt.orderNo,n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._name\x3d"",this._orderNo\x3d0,this._needsStartup\x3d!1,this.baseClass\x3d"eqObject",this.focusInput\x3dnull,this._eqHtml\x3dnull,this._changedHandler\x3dnull,this.lastEqText\x3dnull}},{key:"isEqObject",value:function(){return!0}},{key:"_detachHandlers",value:function(){this._changedHandler\x26\x26(this._changedHandler.remove(),this._changedHandler\x3dnull)}},{key:"createDom",value:function(){this._eqHtml\x3dnull,this._needsStartup\x3d!1,this._detachHandlers();var t\x3dthis.getEqDocument(),e\x3d{};if(t){var i\x3dt.getDomNode();if(i)e\x3d{fontSize:bi(i,"font-size")}}var n\x3dzi.create("span",{style:e});if(t\x26\x26t.inputs){this._needsStartup\x3d!0;for(var r\x3dthis._name.toLowerCase();this._orderNo-- \x3e0;)r+\x3d"x";this._eqHtml\x3dt.inputs[r]}return n}},{key:"postRender",value:function(){if(this._needsStartup){var t\x3dthis.getEqDocument();t.instantiateInput\x26\x26t.instantiateInput(this.domNode,this._eqHtml),this._eqHtml\x3dnull,this._needsStartup\x3d!1,this._detachHandlers(),this._changedHandler\x3dthis.domNode.addEventListener("eqeditor_change",on(this,this.editorChanged))}}},{key:"editorChanged",value:function(t){var e\x3dt.eqEditor;if(e\x26\x26e.getEqText){var i\x3de.getEqText();if(this.lastEqText!\x3di){this.focusInput\x3de.focusNode,this.lastEqText\x3di,this.lastAccessibleName\x3de.getAccessibleName(),this.invalidate();var n\x3dthis.getEqDocument();if(n.parentObject?n.parentObject.doLayout():n.doLayout(),!e.isClearing\x26\x26this.focusInput){var r\x3dthis;setTimeout((function(){r.focusInput.focus()}),10)}}}}},{key:"getEqName",value:function(){return"@INPUT"}},{key:"getEqText",value:function(){return"".concat(this.getEqName(),"{").concat(this._name,"}")}},{key:"destroyDom",value:function(){o(r(s.prototype),"destroyDom",this).apply(this,arguments),this._detachHandlers()}},{key:"getAccessibleName",value:function(){return this.lastAccessibleName||o(r(s.prototype),"getAccessibleName",this).call(this)}}]),s}(Ur);function wo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Co\x3dfunction(t){a(s,t);var i\x3dwo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._barType\x3dt,n.addRows(1),n.eqBase\x3dn.getEqRow(0),n.domBase\x3dnull,n.domNode\x3dnull,n.domTop\x3dnull,n.domBottom\x3dnull,n._color\x3dnull,n}return n(s,[{key:"isEqBar",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.baseClass\x3d"eqBar",this.needsMargin()\x26\x26(this.baseClass\x3d"".concat(this.baseClass," eqBarMargin")),this.domNode\x3dt,this.domBase\x3dthis.eqBase.getDomNode(),zi.place(this.domBase,this.domNode),this._barType\x3d\x3d\x3d$r.EVEC\x26\x26fn(t,"evec"),t}},{key:"updateDom",value:function(){o(r(s.prototype),"updateDom",this).apply(this,arguments)}},{key:"_getColor",value:function(){var t\x3dbi(this.domNode,"color");return lr.toHexString(t)}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t,e,i\x3dEn.getContentBox(this.domBase),n\x3dbi(this.domNode,"fontSize").slice(0,-2),a\x3d1;if(this._color\x3dthis._getColor(),this.isOverBorder()?(this.createOverBorder(),Ei(this.domNode,"marginTop","1px")):this.isOverDraw()\x26\x26(this.domTop\x26\x26zi.destroy(this.domTop),t\x3dthis.createBar(n,i.w,i.h),this.domTop\x3dt.Node,Ei(this.domTop,"position","absolute"),Ei(this.domTop,"top","1px"),Ei(this.domBase,"marginTop","".concat(t.h+a,"px")),zi.place(this.domTop,this.domNode,0)),this.isUnderBorder()\x26\x26(this.createUnderBorder(),Ei(this.domNode,"marginBottom","1px"),Ei(this.domNode,"paddingBottom","2px")),this.isUnderDraw()\x26\x26(this.domBottom\x26\x26zi.destroy(this.domBottom),t\x3dthis.createBar(n,i.w,i.h,!0),this.domBottom\x3dt.Node,Ei(this.domBase,"marginBottom","".concat(t.h+a,"px")),Ei(this.domBottom,"position","absolute"),t.nonSvg||Ei(this.domBottom,"left","0px"),Ei(this.domBottom,"bottom","0.5px"),zi.place(this.domBottom,this.domNode)),this._barType\x3d\x3d\x3d$r.SLASH\x26\x26(e\x3d!0,this.domTop\x26\x26zi.destroy(this.domTop),t\x3dthis.createBar(n,i.w,i.h),this.domTop\x3dt.Node,Ei(this.domTop,"position","absolute"),Ei(this.domTop,"left","0px"),zi.place(this.domTop,this.domNode)),this.isPrime())return this.domTop\x26\x26zi.destroy(this.domTop),t\x3dthis.createBar(n,i.w,i.h),this.domTop\x3dt.Node,Ei(this.domTop,{verticalAlign:"top",top:0}),e\x3d!0,void zi.place(this.domTop,this.domNode);t\x26\x26(e||Ei(this.domNode,"width","".concat(t.w,"px")),this._barType!\x3d\x3d$r.RAYR\x26\x26i.w\x3ct.w\x26\x26Ei(this.domBase,"marginLeft","".concat(Math.floor((t.w-i.w)/2),"px")))}},{key:"createBar",value:function(t,e,i,n){var r\x3d{},o\x3dMath.max(Math.round(t/15),2),s\x3d2*o+1,a\x3de,c\x3dMath.max(e,12);this.isDoubleArrow()\x26\x26(c\x3dMath.max(a,16));var u\x3dMath.max(Math.round(.15*t),2),l\x3dMath.max(Math.round(.3*t),u),h\x3dMath.max(Math.floor(.1*t),1);switch(this._barType){case $r.RAYR:case $r.ARROWR:a\x3dc,r.Node\x3dthis.createArrow(o,a,!1,!0);break;case $r.RAYL:case $r.ARROWL:a\x3dc,r.Node\x3dthis.createArrow(o,a,!0,!1);break;case $r.RAYDB:case $r.ARROWDB:a\x3dc,r.Node\x3dthis.createArrow(o,a,!0,!0);break;case $r.OVERBAR:case $r.UNDRBAR:case $r.REP:case $r.HLINE:r.Node\x3dthis.createOverBar(a),s\x3d1;break;case $r.OVDBBAR:case $r.UNDBBAR:case $r.DHLINE:r.Node\x3dthis.createDbBar(a),s\x3d4;break;case $r.HBRACE:case $r.HBRACEB:case $r.HBRACET:s\x3dMath.max(Math.floor(.33*t),4)+1,r.Node\x3dthis.createHBrace(a,s,n),r.nonSvg\x3d!0;break;case $r.OVERBRC:a\x3dMath.max(e,16),r.Node\x3dthis.createOverBrace(a),a+\x3d1,s\x3d10;break;case $r.UNDRBRC:a\x3dMath.max(e-1,16),r.Node\x3dthis.createUnderBrace(a),a+\x3d1,s\x3d10;break;case $r.ARC:s\x3dMath.max(Math.round(.33*t),3),r.Node\x3dthis.createArc(a,s);break;case $r.SLASH:s\x3di,r.Node\x3dthis.createSlash(a,s);break;case $r.HAT:if((s\x3dMath.max(Math.round(.33*t),3))/a\x3c.1\x26\x26(s\x3d.1*a),s\x3dMath.min(s,2*t),r.Node\x3dthis.createHat(Math.max(a,6),s),a\x3c6){var d\x3d(a-6)/2;Ei(r.Node,"left","".concat(d,"px"))}return r.w\x3da,r.h\x3ds,zi.create(r.Node,{width:"".concat(Math.max(a,6),"px"),height:"".concat(r.h,"px")}),r;case $r.TILDE:var p\x3dMath.round(.67*t);a\x3dMath.max(p,a),s\x3dMath.max(Math.round(.3*t),5),r.Node\x3dthis.createTilde(a,s,p);break;case $r.PRIME:r.Node\x3dthis.createPrime(u,l,1),r.nonSvg\x3d!0;break;case $r.PRIME2:r.Node\x3dthis.createPrime(u,l,2),r.nonSvg\x3d!0;break;case $r.PRIME3:r.Node\x3dthis.createPrime(u,l,3),r.nonSvg\x3d!0;break;case $r.ACCENT:a\x3dMath.max(u,a),s\x3dl,r.Node\x3dthis.createAccent(a,u,l);break;case $r.SIDOT:h*\x3d1.25,r.Node\x3dthis.createSiDot(a,h),s\x3d2*h;break;case $r.UMLAUT:a\x3dMath.max(7,a),r.Node\x3dthis.createUmlaut(a,h),s\x3d2*h}return r.w\x3da,r.h\x3ds,r.Node\x26\x26!r.nonSvg\x26\x26zi.create(r.Node,{width:"".concat(r.w,"px"),height:"".concat(r.h,"px")}),r}},{key:"createOverBar",value:function(t){var e;return e\x3d\'\x3csvg viewBox\x3d"0 0 \'.concat(t,\' 1" preserveAspectRatio\x3d"none"\x3e\'),e+\x3d"".concat(\'\x3cg\x3e\x3cpath d\x3d" M 0 0 h\').concat(t," v1 h-").concat(t,\' Z "/\x3e\')+"\x3c/g\x3e",e+\x3d"\x3c/svg\x3e",zi.toDom(e)}},{key:"createDbBar",value:function(t){var e;return t-\x3d1,e\x3d"\x3csvg\x3e",e+\x3d\'\x3cg stroke\x3d"\'.concat(this._color,\'" fill\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"butt" \x3e\'),e+\x3d\'\x3cline  x1\x3d"1" y1\x3d"0.5" x2\x3d"\'.concat(t,\'" y2\x3d"0.5" /\x3e\'),e+\x3d\'\x3cline  x1\x3d"1" y1\x3d"3.5" x2\x3d"\'.concat(t,\'" y2\x3d"3.5" /\x3e\'),e+\x3d"\x3c/g\x3e",e+\x3d"\x3c/svg\x3e",zi.toDom(e)}},{key:"createHBrace",value:function(t,e,i){var n;return i?(n\x3dzi.create("span"),Ei(n,{height:"".concat(e-1,"px"),width:"".concat(t-2,"px"),left:"1px",borderBottom:"solid 1px",borderLeft:"solid 1px",borderRight:"solid 1px"}),n):(n\x3dzi.create("span"),Ei(n,{height:"".concat(e-1,"px"),width:"".concat(t-2,"px"),left:"1px",borderTop:"solid 1px",borderLeft:"solid 1px",borderRight:"solid 1px"}),n)}},{key:"createArc",value:function(t,e){var i\x3de,n\x3d-.5*e,r\x3d(t-\x3d2)/2,o\x3d"\x3csvg\x3e";return o+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),o+\x3d\'\x3cpath d\x3d"\',o+\x3d"M1 ".concat(i," "),o+\x3d"Q".concat(r," ").concat(n," ").concat(t," ").concat(i),o+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(o)}},{key:"createHat",value:function(t,e){var i\x3de,n\x3dt/2,r\x3d"\x3csvg\x3e";return r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),r+\x3d\'\x3cpath d\x3d"\',r+\x3d"M1 ".concat(i," "),r+\x3d"L".concat(n," 1 ").concat(t-1," ").concat(i),r+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(r)}},{key:"createTilde",value:function(t,e,i){var n\x3de,r\x3dt/2,o\x3d"\x3csvg\x3e";o+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),o+\x3d\'\x3cpath d\x3d"\';var s\x3dn-e/2,a\x3dr-i/2;return o+\x3d" M".concat(a," ").concat(s),o+\x3d" Q".concat(a+i/4," ").concat(s-e/2," ").concat(r," ").concat(s),o+\x3d" Q".concat(r+i/4," ").concat(s+e/2," ").concat(a+i," ").concat(s),o+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(o)}},{key:"createSiDot",value:function(t,e){var i\x3de,n\x3dt/2,r\x3d"\x3csvg\x3e";return r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),r+\x3d\'\x3ccircle cx\x3d"\'.concat(n,\'" cy\x3d"\').concat(i,\'" r\x3d"\').concat(e,\'" /\x3e\'),r+\x3d"\x3c/g\x3e\x3c/svg\x3e",zi.toDom(r)}},{key:"createUmlaut",value:function(t,e){var i\x3de,n\x3dt/2,r\x3d"\x3csvg\x3e";return r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),r+\x3d\'\x3ccircle cx\x3d"\'.concat(n+2*e,\'" cy\x3d"\').concat(i,\'" r\x3d"\').concat(e,\'" /\x3e\'),r+\x3d\'\x3ccircle cx\x3d"\'.concat(n-2*e,\'" cy\x3d"\').concat(i,\'" r\x3d"\').concat(e,\'" /\x3e\'),r+\x3d"\x3c/g\x3e\x3c/svg\x3e",zi.toDom(r)}},{key:"createSlash",value:function(t,e){var i\x3d"\x3csvg\x3e";return i+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),i+\x3d\'\x3cpath d\x3d"\',i+\x3d"M1 ".concat(e," "),i+\x3d"L".concat(t-1," 0"),i+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(i)}},{key:"createPrime",value:function(t,e,i){var n\x3d"";do{n+\x3d"\x26#x2032;",i--}while(i\x3e0);return zi.create("span",{class:"eqMathBB prime",innerHTML:n})}},{key:"createAccent",value:function(t,e,i){var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),n+\x3d\'\x3cpath d\x3d"\';var r\x3dt/2+e/2;return n+\x3d"M ".concat(r," ").concat(0," "),n+\x3d"L".concat(r-e," ").concat(0+i," "),n+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(n)}},{key:"createOverBrace",value:function(t){var e\x3dMath.floor(t/2)+.5,i\x3d"\x3csvg\x3e";return i+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),i+\x3d\'\x3cpath d\x3d"\',i+\x3d"M0 ".concat(10," "),i+\x3d"Q0 ".concat(5," 4 ").concat(5," "),i+\x3d"L".concat(e-4," ").concat(5," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e," ").concat(0," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e+4," ").concat(5," "),i+\x3d"L".concat(t-4," ").concat(5," "),i+\x3d"Q".concat(t," ").concat(5," ").concat(t," ").concat(10," "),i+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(i)}},{key:"createUnderBrace",value:function(t){var e\x3dMath.floor(t/2)+.5,i\x3d"\x3csvg\x3e";return i+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),i+\x3d\'\x3cpath d\x3d"\',i+\x3d"M0 ".concat(0," "),i+\x3d"Q0 ".concat(5," 4 ").concat(5," "),i+\x3d"L".concat(e-4," ").concat(5," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e," ").concat(10," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e+4," ").concat(5," "),i+\x3d"L".concat(t-4," ").concat(5," "),i+\x3d"Q".concat(t," ").concat(5," ").concat(t," ").concat(0," "),i+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(i)}},{key:"createArrow",value:function(t,e,i,n){e-\x3d2;var r,o\x3dMath.round(3*t),s\x3d2*t+1,a\x3de-o,c\x3dt+.25;r\x3d\'\x3csvg viewBox\x3d"0 0 \'.concat(e+2," ").concat(s,\'" preserveAspectRatio\x3d"none" \x3e\'),r+\x3d\'\x3cg fill\x3d"\'.concat(this._color,\'" stroke\x3d"\').concat(this._color,\'"\x3e\x3cpath d\x3d"\');var u\x3d"v-".concat(t," l").concat(o," ").concat(t," -").concat(o," ").concat(t," V").concat(c),l\x3d"v".concat(t," l-").concat(o," -").concat(t," ").concat(o," -").concat(t," V").concat(c);return i\x26\x26n?(a-\x3do,r+\x3d"M".concat(o+1," ").concat(c).concat(l," h").concat(a).concat(u," z")):n?r+\x3d"M1 ".concat(c," h").concat(a).concat(u," h-").concat(a," z"):i\x26\x26(r+\x3d"M".concat(e+1," ").concat(c," h-").concat(a).concat(l," h").concat(a," z")),r+\x3d\'"/\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(r)}},{key:"getEqName",value:function(){return"@".concat($r.EqName[this._barType])}},{key:"isDoubleArrow",value:function(){return this._barType\x3d\x3d\x3d$r.RAYDB||this._barType\x3d\x3d\x3d$r.ARROWDB}},{key:"_enableDoubleBorder",value:function(){return!1}},{key:"createOverBorder",value:function(){this.isDouble()?(Ei(this.domNode,"borderTop","double"),Ei(this.domNode,"borderTopWidth","4px")):(Ei(this.domNode,"borderTop","solid"),Ei(this.domNode,"borderTopWidth","1px"))}},{key:"createUnderBorder",value:function(){this.isDouble()?(Ei(this.domNode,"borderBottom","double"),Ei(this.domNode,"borderBottomWidth","4px")):(Ei(this.domNode,"borderBottom","solid"),Ei(this.domNode,"borderBottomWidth","1px"))}},{key:"isDouble",value:function(){return this._barType\x3d\x3d\x3d$r.OVDBBAR||this._barType\x3d\x3d\x3d$r.DHLINE||this._barType\x3d\x3d\x3d$r.UNDBBAR||this._barType\x3d\x3d\x3d$r.DHLINE}},{key:"isOverBorder",value:function(){return this._barType\x3d\x3d\x3d$r.OVERBAR||this._barType\x3d\x3d\x3d$r.OVDBBAR\x26\x26this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HLINE||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26this._enableDoubleBorder()}},{key:"isUnderBorder",value:function(){return this._barType\x3d\x3d\x3d$r.UNDRBAR||this._barType\x3d\x3d\x3d$r.UNDBBAR\x26\x26this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HLINE||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26this._enableDoubleBorder()}},{key:"isOverDraw",value:function(){return this._barType\x3d\x3d\x3d$r.RAYDB||this._barType\x3d\x3d\x3d$r.RAYR||this._barType\x3d\x3d\x3d$r.RAYL||this._barType\x3d\x3d\x3d$r.OVERBRC||this._barType\x3d\x3d\x3d$r.ARC||this._barType\x3d\x3d\x3d$r.HAT||this._barType\x3d\x3d\x3d$r.TILDE||this._barType\x3d\x3d\x3d$r.ACCENT||this._barType\x3d\x3d\x3d$r.REP||this._barType\x3d\x3d\x3d$r.UMLAUT||this._barType\x3d\x3d\x3d$r.SIDOT||this._barType\x3d\x3d\x3d$r.OVDBBAR\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HBRACE||this._barType\x3d\x3d\x3d$r.HBRACET}},{key:"isUnderDraw",value:function(){return this._barType\x3d\x3d\x3d$r.ARROWDB||this._barType\x3d\x3d\x3d$r.ARROWR||this._barType\x3d\x3d\x3d$r.ARROWL||this._barType\x3d\x3d\x3d$r.UNDRBRC||this._barType\x3d\x3d\x3d$r.UNDBBAR\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HBRACE||this._barType\x3d\x3d\x3d$r.HBRACEB}},{key:"isPrime",value:function(){return this._barType\x3d\x3d\x3d$r.PRIME||this._barType\x3d\x3d\x3d$r.PRIME2||this._barType\x3d\x3d\x3d$r.PRIME3}},{key:"isTopBottom",value:function(){return this._barType\x3d\x3d\x3d$r.HLINE||this._barType\x3d\x3d\x3d$r.DHLINE}},{key:"needsMargin",value:function(){return this.isOverBorder()||this.isUnderBorder()}},{key:"getAccessibleName",value:function(){var t\x3dthis._barType;return ir.getModifierNames($r.EqName[t],[this.getEqRow(0).getAccessibleName()])}},{key:"getLatexName",value:function(){switch(this._barType){case $r.OVERBAR:return"\\\\bar";case $r.RAYDB:case $r.RAYL:return"\\\\unknownbar";case $r.RAYR:return"\\\\vec";case $r.HAT:return"\\\\hat";case $r.EVEC:return"\\\\evec";default:return"\\\\unknownbar"}}},{key:"getLatex",value:function(){if(!this.getEqDocument().fixLatexVector||this._barType!\x3d\x3d$r.RAYR\x26\x26this._barType!\x3d\x3d$r.EVEC)return o(r(s.prototype),"getLatex",this).apply(this,arguments);var t\x3dthis.parent;if(!t||!t.isEqRow())return o(r(s.prototype),"getLatex",this).apply(this,arguments);var e\x3dt.getChildIndex(this)+1;if(e\x3e\x3d0\x26\x26e\x3ct.getNumChildren()\x26\x26t.getChild(e).isEqSubscript()){var i\x3dt.getChild(e).getLatexRaw();return"".concat(this.getLatexName(),"{").concat(this.getEqRow(0).getLatex()).concat(i,"}")}return o(r(s.prototype),"getLatex",this).apply(this,arguments)}},{key:"forceParenExpand",value:function(){return!0}}]),s}(Ur);function _o(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Eo\x3dfunction(t){a(s,t);var i\x3d_o(s);function s(t){var n;switch(e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._type\x3dt,n._type){case s.OVERUNDER:n.addRows(3),n.base\x3dn.getEqRow(0),n.over\x3dn.getEqRow(1),n.under\x3dn.getEqRow(2);break;case s.OVER:n.addRows(2),n.base\x3dn.getEqRow(0),n.over\x3dn.getEqRow(1);break;case s.UNDER:n.addRows(2),n.base\x3dn.getEqRow(0),n.under\x3dn.getEqRow(1)}return n.baseClass\x3d"eqOverUnder",n.over\x26\x26(n.over.baseClass\x3d"eqOver"),n.under\x26\x26(n.under.baseClass\x3d"eqUnder"),n.base\x26\x26(n.base.baseClass\x3d"eqOverUnderBase"),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._type\x3ds.OVERUNDER,this.base\x3dnull,this.over\x3dnull,this.under\x3dnull,this.domNode\x3dnull,this.domOver\x3dnull,this.domUnder\x3dnull,this.domBase\x3dnull,this.domBase1\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");switch(this.base\x26\x26(this.domBase\x3dthis.base.getDomNode()),this.over\x26\x26(this.domOver\x3dthis.over.getDomNode()),this.under\x26\x26(this.domUnder\x3dthis.under.getDomNode()),this._type){case s.OVER:zi.place(this.domOver,t),zi.place(this.domBase,t);break;case s.UNDER:zi.place(this.domBase,t),zi.place(this.domUnder,t);break;case s.OVERUNDER:var e\x3dzi.create("span");fn(e,"eqOverUnder"),zi.place(this.domOver,e),zi.place(this.domBase,e),zi.place(e,t),zi.place(this.domUnder,t),this.domBase1\x3de}return this.domNode\x3dt,t}},{key:"postRender",value:function(){switch(o(r(s.prototype),"postRender",this).apply(this,arguments),this._type){case s.OVER:this.updateOver(this.domNode,this.domBase,this.domOver);break;case s.UNDER:this.updateUnder(this.domNode,this.domBase,this.domUnder);break;case s.OVERUNDER:this.updateOver(this.domBase1,this.domBase,this.domOver),this.updateUnder(this.domNode,this.domBase1,this.domUnder)}}},{key:"updateOver",value:function(t,e,i){var n\x3dEn.getMarginBox(i),r\x3dEn.getMarginBox(e),o\x3dMath.max(n.w,r.w);Ei(t,"width","".concat(o,"px")),Ei(i,"width","".concat(o,"px")),Ei(i,"display","block")}},{key:"updateUnder",value:function(t,e,i){var n\x3dEn.getMarginBox(i),r\x3dEn.getMarginBox(e),o\x3dMath.max(n.w,r.w);Ei(t,"width","".concat(o,"px")),Ei(i,"width","".concat(o,"px"))}},{key:"getEqName",value:function(){switch(this._type){case 1:return"@OVERUNDER";case 2:return"@OVER";case 3:return"@UNDER";default:return""}}},{key:"getAccessibleName",value:function(){switch(this._type){case s.OVERUNDER:return"ModifyingAbove ModifyingBelow ".concat(this.getEqRow(0).getAccessibleName()," With ").concat(this.getEqRow(1).getAccessibleName()," width ").concat(this.getEqRow(2).getAccessibleName());case s.OVER:return"ModifyingAbove ".concat(this.getEqRow(0).getAccessibleName()," With ").concat(this.getEqRow(1).getAccessibleName());case s.UNDER:return"ModifyingBelow ".concat(this.getEqRow(0).getAccessibleName()," With ").concat(this.getEqRow(1).getAccessibleName());default:return""}}}]),s}(Wr);function bo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Eo.OVERUNDER\x3d1,Eo.OVER\x3d2,Eo.UNDER\x3d3;var Ro\x3dfunction(t){a(s,t);var i\x3dbo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqAbs",n.domNode\x3dnull,n.domBase\x3dnull,n.domLeft\x3dnull,n.domRight\x3dnull,n._type\x3d1,t\x26\x26(n._type\x3dt),n.addRows(1),n}return n(s,[{key:"createDom",value:function(){var t\x3dzi.create("span");this.domNode\x3dt;var e\x3dthis.getEqRow(0);return this.domBase\x3de.getDomNode(),fn(this.domBase,"eqAbsRow"),zi.place(this.domBase,this.domNode),e.getAccessibleAnnouncement\x3dfunction(){return"Absolute value"},t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),En.getContentBox(this.domBase);var t\x3dbi(this.domNode,"fontSize").slice(0,-2),e\x3dMath.max(Math.round(t/15*2),2),i\x3dMath.max(Math.round(t/15*2),2),n\x3d1;this._type!\x3ds.ABSR\x26\x26(Ei(this.domNode,"marginLeft","".concat(e,"px")),Ei(this.domBase,"marginLeft","".concat(i,"px")),this._type\x3d\x3ds.ABSL\x26\x26Ei(this.domNode,"marginRight","".concat(n,"px")),Ei(this.domNode,"borderLeft","solid 1px")),this._type!\x3ds.ABSL\x26\x26(Ei(this.domNode,"marginRight","".concat(e,"px")),Ei(this.domBase,"marginRight","".concat(i,"px")),this._type\x3d\x3ds.ABSR\x26\x26Ei(this.domNode,"marginLeft","".concat(n,"px")),Ei(this.domNode,"borderRight","solid 1px"))}},{key:"createPipe",value:function(t){var e\x3d"\x3csvg\x3e";e+\x3d\'\x3cg fill\x3d"none" stroke\x3d"black" shape-rendering\x3d"crispEdges" \x3e\',e+\x3d\'\x3cpath d\x3d"\';var i\x3d.5;e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"L".concat(i," ").concat(0+t," "),e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"L".concat(i," ").concat(0+t," "),e+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var n\x3dzi.toDom(e);return zi.create(n,{width:"1px",height:"".concat(t,"px")}),n}},{key:"getEqName",value:function(){switch(this._type){case s.ABS:return"@ABS";case s.ABSL:return"@ABSL";case s.ABSR:return"@ABSR";default:return"@ABS"}}},{key:"getLatexName",value:function(){return this.getEqDocument().parseLatexPipesAsABS\x26\x261\x3d\x3dthis._type?"":o(r(s.prototype),"getLatexName",this).apply(this,arguments)}},{key:"getLatex",value:function(){return this.getEqDocument().parseLatexPipesAsABS\x26\x261\x3d\x3dthis._type?"\\\\left|".concat(this.getEqRow(0).getLatex(),"\\\\right|"):o(r(s.prototype),"getLatex",this).apply(this,arguments)}},{key:"getAccessibleName",value:function(){switch(this._type){case s.ABSL:return"vertical line ".concat(this.getEqRow(0).getAccessibleName());case s.ABSR:return"".concat(this.getEqRow(0).getAccessibleName()," vertical line");case s.ABS:default:return"StartAbsoluteValue ".concat(this.getEqRow(0).getAccessibleName()," EndAbsoluteValue")}}}]),s}(Ur);function qo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Ro.ABS\x3d1,Ro.ABSL\x3d2,Ro.ABSR\x3d3;var ko\x3dfunction(t){a(s,t);var i\x3dqo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).addRows(1),n._type\x3dt,n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqNorm",this.domNode\x3dnull,this.domBase\x3dnull,this.domLeft\x3dnull,this.domRight\x3dnull,this.domHolder\x3dnull,this._type\x3ds.Norm}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.domHolder\x3dzi.create("span",{class:"eqNormBody"},t),this.domBase\x3dthis.getEqRow(0).getDomNode(),zi.place(this.domBase,this.domHolder),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dbi(this.domNode,"fontSize").slice(0,-2),e\x3dMath.max(Math.round(t/15*2),2),i\x3dMath.max(Math.round(t/15*2),2),n\x3d1;this._type!\x3ds.NORMR\x26\x26(Ei(this.domNode,"marginLeft","".concat(e,"px")),Ei(this.domNode,"paddingLeft","1px"),Ei(this.domNode,"borderLeft","solid 1px"),Ei(this.domHolder,"paddingLeft","".concat(i,"px")),Ei(this.domHolder,"borderLeft","solid 1px"),this._type\x3d\x3ds.NORML\x26\x26Ei(this.domNode,"marginRight","".concat(n,"px"))),this._type!\x3ds.NORML\x26\x26(Ei(this.domNode,"marginRight","".concat(e,"px")),Ei(this.domNode,"paddingRight","1px"),Ei(this.domNode,"borderRight","solid 1px"),Ei(this.domHolder,"paddingRight","".concat(i,"px")),Ei(this.domHolder,"borderRight","solid 1px"),this._type\x3d\x3ds.NORMR\x26\x26Ei(this.domNode,"marginLeft","".concat(n,"px")))}},{key:"createPipe",value:function(t){var e\x3d"\x3csvg\x3e";e+\x3d\'\x3cg fill\x3d"none" stroke\x3d"black" shape-rendering\x3d"crispEdges" \x3e\',e+\x3d\'\x3cpath d\x3d"\';var i\x3d.6;e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d"M ".concat(i\x3d2.4," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var n\x3dzi.toDom(e);return zi.create(n,{width:"3px",height:"".concat(t,"px")}),n}},{key:"getEqName",value:function(){switch(this._type){case s.Norm:return"@Norm";case s.NormL:return"@NormL";case s.NormR:return"@NormR";default:return"@Norm"}}},{key:"getAccessibleName",value:function(){var t\x3dthis.getEqRow(0).getAccessibleName();switch(this._type){case 2:return"left double vertical line ".concat(t);case 3:return"".concat(t," right double vertical line");default:return"left norm ".concat(t," right norm")}}}]),s}(Ur);function No(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}ko.NORM\x3d1,ko.NORML\x3d2,ko.NORMR\x3d3;var To\x3dfunction(t){a(s,t);var i\x3dNo(s);function s(t,n,r){var o,a;e(this,s),(o\x3di.apply(this,arguments)).initFields(),o._type\x3dr,o._rowIndex\x3d[],o.addRows(t*n);for(var c\x3d0;c\x3ct;c++)a\x3dc*n,o._rowIndex.push(a);return o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqMatrix",this.domNode\x3dnull,this.domBase\x3dnull,this.domSup\x3dnull,this.domSub\x3dnull,this._currentRow\x3dnull,this._type\x3ds.Mat,this._rowIndex\x3dnull,this._dimensionChanged\x3d!1}},{key:"isEqMat",value:function(){return!0}},{key:"_createNewEqRow",value:function(){return new Qr}},{key:"updateDom",value:function(){this._createMatrix()}},{key:"createDom",value:function(){var t\x3dzi.create("table");return this.isLeft()?fn(t,"eqLeft"):this.isRight()?fn(t,"eqRight"):this.isCenter()\x26\x26fn(t,"eqCenter"),this.isTab()?fn(t,"eqTab"):this.isColumn()?fn(t,"eqColumn"):this.isRow()?fn(t,"eqTableRow"):this.isTable()?fn(t,"eqTable"):this.isLeq()?fn(t,"eqLeq"):this.isAugment()?fn(t,"eqAugment"):this.isDetx()?fn(t,"eqDetx"):this.isMatx()\x26\x26fn(t,"eqMatx"),this.domNode\x3dt,this._dimensionChanged\x3d!0,t}},{key:"_createMatrix",value:function(){if(this._dimensionChanged){for(var t\x3dzi.create("table"),e\x3d0;e\x3cthis.getMatRowCount();e++){var i\x3dzi.create("tr");if(this.isMatx()\x26\x260\x3d\x3de){var n\x3dzi.create("th",{rowspan:this.getMatRowCount()});zi.place(n,i)}for(var r\x3d0;r\x3cthis.getMatColCount();r++){var o\x3dzi.create("td");zi.place(this.getMatEqRow(e,r).getDomNode(),o),zi.place(o,i)}if(this.isMatx()\x26\x260\x3d\x3de){var s\x3dzi.create("th",{rowspan:this.getMatRowCount()});zi.place(s,i)}zi.place(i,t)}zi.empty(this.domNode);for(var a\x3dthis.domNode;t.children.length\x3e0;){var c\x3dt.children[0];zi.place(c,a)}this._dimensionChanged\x3d!1}}},{key:"getEqName",value:function(){var t;switch(this._type){case s.MAT:t\x3d"MAT";break;case s.MATL:t\x3d"MATL";break;case s.MATR:t\x3d"MATR";break;case s.AUGMENT:t\x3d"AUGMENT";break;case s.AUGMENTL:t\x3d"AUGMENTL";break;case s.AUGMENTR:t\x3d"AUGMENTR";break;case s.ROW:t\x3d"ROW";break;case s.ROWL:t\x3d"ROWL";break;case s.ROWR:t\x3d"ROWR";break;case s.COLUMN:t\x3d"COLUMN";break;case s.COLUMNL:t\x3d"COLUMNL";break;case s.COLUMNR:t\x3d"COLUMNR";break;case s.TAB:t\x3d"TAB";break;case s.TABL:t\x3d"TABL";break;case s.TABR:t\x3d"TABR";break;case s.TABLE:t\x3d"TABLE";break;case s.TABLEL:t\x3d"TABLEL";break;case s.TABLER:t\x3d"TABLER";break;case s.MATX:t\x3d"MATX";break;case s.DETX:t\x3d"DETX";break;case s.LEQ:t\x3d"LEQ";break;case s.LEQL:t\x3d"LEQL";break;case s.LEQR:t\x3d"LEQR";break;default:t\x3d"MAT"}return t}},{key:"getMatColCount",value:function(){var t,e,i;for(e\x3d0,t\x3d0;t\x3cthis._rowIndex.length;t++)i\x3dt\x3cthis._rowIndex.length-1?this._rowIndex[t+1]:this.getNumChildren(),e\x3dMath.max(e,i-this._rowIndex[t]);return e}},{key:"setMatColCount",value:function(t){if(t!\x3dthis.getMatColCount()){for(;this.getMatColCount()\x3ct;)this.addCol();for(;this.getMatColCount()\x3et;)this.removeCol();this.invalidate()}}},{key:"getMatRowCount",value:function(){return this._rowIndex.length}},{key:"setMatRowCount",value:function(t){if(t!\x3dthis.getMatRowCount()){for(;this.getMatRowCount()\x3ct;)this.addRow();for(;this.getMatRowCount()\x3et;)this.removeRow();this.invalidate()}}},{key:"addRow",value:function(t){var e\x3dthis.getMatColCount();(isNaN(t)||t\x3c0||t\x3ethis.getMatRowCount())\x26\x26(t\x3dthis.getMatRowCount());var i\x3dt*e;this._rowIndex.splice(t,0,i);for(var n\x3d0;n\x3ce;n++){var r\x3di+n;r\x3cthis.getNumChildren()?this.addChildAt(this._createNewEqRow(),r):this.addChild(this._createNewEqRow())}for(n\x3dt+1;n\x3cthis.getMatRowCount();n++)this._rowIndex[n]\x3dthis._rowIndex[n]+e;this._dimensionChanged\x3d!0,this.invalidate()}},{key:"removeRow",value:function(t){var e\x3dthis.getMatColCount();(isNaN(t)||t\x3c0||t\x3e\x3dthis.getMatRowCount())\x26\x26(t\x3dthis.getMatRowCount()-1);var i\x3dthis._rowIndex[t];this._rowIndex.splice(t,1);for(var n\x3d0;n\x3ce;n++)this.removeChildAt(i);for(n\x3dt;n\x3cthis.getMatRowCount();n++)this._rowIndex[n]\x3dthis._rowIndex[n]-e;this._dimensionChanged\x3d!0,this.invalidate()}},{key:"addCol",value:function(t){(isNaN(t)||t\x3c0||t\x3ethis.getMatColCount())\x26\x26(t\x3dthis.getMatColCount());for(var e\x3d0;e\x3cthis.getMatRowCount();e++){if(e\x3e0)for(var i\x3de;i\x3cthis.getMatRowCount();i++)this._rowIndex[i]\x3dthis._rowIndex[i]+1;var n\x3dthis._rowIndex[e]+t;n\x3cthis.getNumChildren()?this.addChildAt(this._createNewEqRow(),n):this.addChild(this._createNewEqRow())}this._dimensionChanged\x3d!0,this.invalidate()}},{key:"removeCol",value:function(t){(isNaN(t)||t\x3c0||t\x3ethis.getMatColCount())\x26\x26(t\x3dthis.getMatColCount()-1);for(var e\x3d0;e\x3cthis.getMatRowCount();e++){if(e\x3e0)for(var i\x3de;i\x3cthis.getMatRowCount();i++)this._rowIndex[i]\x3dthis._rowIndex[i]-1;var n\x3dthis._rowIndex[e]+t;this.removeChildAt(n)}this._dimensionChanged\x3d!0,this.invalidate()}},{key:"getMatEqRow",value:function(t,e){var i;return(i\x3dthis._rowIndex[t]+e)\x3ethis.getNumChildren()-1?null:t\x3d\x3dthis._rowIndex.length-1\x26\x26i\x3cthis.getNumChildren()?this.getEqRow(i):i\x3e\x3dthis._rowIndex[t+1]?null:this.getEqRow(i)}},{key:"addEqRow",value:function(t){var e;return this.addChild(this._createNewEqRow()),t\x26\x26(e\x3dthis.getNumChildren()-1,this._rowIndex.push(e)),this.getEqRow(this.getNumChildren()-1)}},{key:"getEqText",value:function(){var t,e,i,n,r,o;for(o\x3d"@".concat(this.getEqName(),"{"),i\x3dthis.getMatRowCount(),n\x3dthis.getMatColCount(),t\x3d0;t\x3ci;t++){for(t\x3e0\x26\x26(o\x3d"".concat(o,";")),o\x3d"".concat(o,"{"),e\x3d0;e\x3cn;e++)e\x3e0\x26\x26(o\x3d"".concat(o,";")),(r\x3dthis.getMatEqRow(t,e))\x26\x26(o+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(r));o\x3d"".concat(o,"}")}return o\x3d"".concat(o,"}")}},{key:"getRowAbove",value:function(t){var e,i,n,r,o;for(r\x3d!1,i\x3d-1,o\x3dnull,n\x3dthis.getEqRow(t),e\x3d0;e\x3cthis.getMatRowCount();e++){for(i\x3d0;i\x3cthis.getMatColCount();i++)if(this.getMatEqRow(e,i)\x3d\x3dn){r\x3d!0;break}if(r)break}return r\x26\x26e\x3e0\x26\x26(o\x3dthis.getMatEqRow(e-1,i)),o}},{key:"getRowBelow",value:function(t){var e,i,n,r,o;for(r\x3d!1,i\x3d-1,o\x3dnull,n\x3dthis.getEqRow(t),e\x3d0;e\x3cthis.getMatRowCount();e++){for(i\x3d0;i\x3cthis.getMatColCount();i++)if(this.getMatEqRow(e,i)\x3d\x3dn){r\x3d!0;break}if(r)break}return r\x26\x26e\x3cthis.getMatRowCount()-1\x26\x26(o\x3dthis.getMatEqRow(e+1,i)),o}},{key:"getAccessibleName",value:function(){var t,e,i\x3d[],n\x3dthis.getMatRowCount(),r\x3dthis.getMatColCount();t\x3dthis._type\x3c\x3d3?"Matrix":"Table",i.push("Start"),i.push(n.toString()),i.push("By"),i.push(r.toString()),i.push(t);for(var o\x3d0;o\x3cn;o++){i.push(ir.getNthString(o+1)),i.push("Row");for(var s\x3d0;s\x3cr;s++)i.push(ir.getNthString(s+1)),i.push("Column"),(e\x3dthis.getMatEqRow(o,s))\x26\x26i.push(e.getAccessibleName())}return i.push("End".concat(t)),i.join(" ")}},{key:"isMatRowEmpty",value:function(t){for(var e\x3d0;e\x3cthis.getMatColCount();e++)if(!this.getMatEqRow(t,e).isEmpty())return!1;return!0}},{key:"isMatColEmpty",value:function(t){for(var e\x3d0;e\x3cthis.getMatRowCount();e++)if(!this.getMatEqRow(e,t).isEmpty())return!1;return!0}},{key:"isLeft",value:function(){return this._type%3\x3d\x3d2}},{key:"isRight",value:function(){return this._type%3\x3d\x3d0}},{key:"isCenter",value:function(){return this._type%3\x3d\x3d1}},{key:"isMat",value:function(){return this._type\x3d\x3ds.MAT||this._type\x3d\x3ds.MATL||this._type\x3d\x3ds.MATR}},{key:"isAugment",value:function(){return this._type\x3d\x3ds.AUGMENT||this._type\x3d\x3ds.AUGMENTL||this._type\x3d\x3ds.AUGMENTR}},{key:"isRow",value:function(){return this._type\x3d\x3ds.ROW||this._type\x3d\x3ds.ROWL||this._type\x3d\x3ds.ROWR}},{key:"isColumn",value:function(){return this._type\x3d\x3ds.COLUMN||this._type\x3d\x3ds.COLUMNL||this._type\x3d\x3ds.COLUMNR}},{key:"isTab",value:function(){return this._type\x3d\x3ds.TAB||this._type\x3d\x3ds.TABL||this._type\x3d\x3ds.TABR}},{key:"isTable",value:function(){return this._type\x3d\x3ds.TABLE||this._type\x3d\x3ds.TABLEL||this._type\x3d\x3ds.TABLER}},{key:"isMatx",value:function(){return this._type\x3d\x3ds.MATX}},{key:"isDetx",value:function(){return this._type\x3d\x3ds.DETX}},{key:"isLeq",value:function(){return this._type\x3d\x3ds.LEQ||this._type\x3d\x3ds.LEQL||this._type\x3d\x3ds.LEQR}}]),s}(Wr);function So(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}To.MAT\x3d1,To.MATL\x3d2,To.MATR\x3d3,To.AUGMENT\x3d4,To.AUGMENTL\x3d5,To.AUGMENTR\x3d6,To.ROW\x3d7,To.ROWL\x3d8,To.ROWR\x3d9,To.COLUMN\x3d10,To.COLUMNL\x3d11,To.COLUMNR\x3d12,To.TAB\x3d13,To.TABL\x3d14,To.TABR\x3d15,To.TABLE\x3d16,To.TABLEL\x3d17,To.TABLER\x3d18,To.MATX\x3d24,To.DETX\x3d27,To.LEQ\x3d19,To.LEQL\x3d20,To.LEQR\x3d21;var Lo\x3dfunction(t){a(s,t);var i\x3dSo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqCBrace",n.domNode\x3dnull,n.domBase\x3dnull,n.domLeft\x3dnull,n.domRight\x3dnull,n.domLeftDraw\x3dnull,n.domRightDraw\x3dnull,n._type\x3dt,n.addRows(1),n}return n(s,[{key:"isEqCBrace",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");this.domNode\x3dt,this.domBase\x3dthis.getEqRow(0).getDomNode(),zi.place(this.domBase,this.domNode);var e\x3dthis.getLeftChar();(""!\x3de||this.isLeftDraw())\x26\x26(this.domLeft\x3dzi.create("span",{innerHTML:e}),zi.place(this.domLeft,this.domNode,0));var i\x3dthis.getRightChar();return(""!\x3di||this.isRightDraw())\x26\x26(this.domRight\x3dzi.create("span",{innerHTML:i}),zi.place(this.domRight,this.domNode)),t}},{key:"getLeftChar",value:function(){switch(this._type){case s.CBRACE:case s.CBRACEL:return"{";case s.PAREN:case s.PARENL:return"(";case s.BRACE:case s.BRACEL:return"[";default:return""}}},{key:"getRightChar",value:function(){switch(this._type){case s.CBRACE:case s.CBRACER:return"}";case s.PAREN:case s.PARENR:return")";case s.BRACE:case s.BRACER:return"]";default:return""}}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dthis.getEqRow(0),e\x3dbi(this.domNode,"fontSize").slice(0,-2),i\x3dMath.round(.33*e);i\x3dMath.max(i,4);var n\x3dt.getParenBox();n.t\x3d0,n.forceParenExpand\x3dt.forceParenExpand();var a\x3dMath.round(.15*e);n.t+\x3da,n.h-\x3da;var c,u\x3dbi(this.domNode,"color"),l\x3dlr.toHexString(u),h\x3d0!\x3dn.h?n.h:e,d\x3dfunction(t,e){var i\x3de.h;(Li("ie")||Li("trident"))\x26\x26(i\x3d0),fn(t,"eqParenSvg"),Ei(t,{height:"".concat(i,"px"),marginTop:"".concat(e.t,"px")})};this.domLeft\x26\x26(this.isLeftDraw()?(dr.resetParenNode(this.domLeft),zi.empty(this.domLeft),c\x3dthis.createLeftDraw(i,h,l),zi.place(c.node,this.domLeft),fn(this.domLeft,"left"),d(this.domLeft,n)):dr.calcParenNode(this.domLeft,n,dr.ParenInfo[this.getLeftChar()],l)),this.domRight\x26\x26(this.isRightDraw()?(dr.resetParenNode(this.domRight),zi.empty(this.domRight),c\x3dthis.createRightDraw(i,h,l),zi.place(c.node,this.domRight),fn(this.domRight,"right"),d(this.domRight,n)):dr.calcParenNode(this.domRight,n,dr.ParenInfo[this.getRightChar()],l)),this.domNode.parenBox\x3dn}},{key:"isLeftDraw",value:function(){return this._type\x3d\x3ds.VECTOR||this._type\x3d\x3ds.VECTORL||this._type\x3d\x3ds.GRINT||this._type\x3d\x3ds.DBRACEL||this._type\x3d\x3ds.FLOOR||this._type\x3d\x3ds.CEIL}},{key:"isRightDraw",value:function(){return this._type\x3d\x3ds.VECTOR||this._type\x3d\x3ds.VECTORR||this._type\x3d\x3ds.GRINT||this._type\x3d\x3ds.DBRACER||this._type\x3d\x3ds.FLOOR||this._type\x3d\x3ds.CEIL}},{key:"createLeftDraw",value:function(t,e,i){switch(this._type){case s.VECTOR:case s.VECTORL:return this.createLeftVector(t,e,i);case s.GRINT:case s.DBRACEL:return this.createLeftDBrace(t,e,i);case s.FLOOR:return this.createLeftFloor(t,e,i);case s.CEIL:return this.createLeftCeil(t,e,i);default:return null}}},{key:"createRightDraw",value:function(t,e,i){switch(this._type){case s.VECTOR:case s.VECTORR:return this.createRightVector(t,e,i);case s.GRINT:case s.DBRACER:return this.createRightDBrace(t,e,i);case s.FLOOR:return this.createRightFloor(t,e,i);case s.CEIL:return this.createRightCeil(t,e,i);default:return null}}},{key:"createLeftVector",value:function(t,e,i){var n\x3d.5*e,r\x3d"\x3csvg\x3e";r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'"\x3e\'),r+\x3d\'\x3cpath d\x3d"\',r+\x3d"M".concat(t," ").concat(e),r+\x3d" L1 ".concat(n," "),r+\x3d"L".concat(t," 0"),r+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var o\x3dzi.toDom(r);zi.create(o,{width:"".concat(t+1,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt+1,s.h\x3de,s}},{key:"createRightVector",value:function(t,e,i){var n\x3d.5*e,r\x3d"\x3csvg\x3e";r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'"\x3e\'),r+\x3d\'\x3cpath d\x3d"\',r+\x3d" M0 ".concat(e),r+\x3d" L".concat(t-1," ").concat(n),r+\x3d" L0 0",r+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var o\x3dzi.toDom(r);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createLeftDBrace",value:function(t,e,i){var n\x3d.5+Math.round(.5*t),r\x3d(t+\x3d2)-1+.5,o\x3de-1+.5,s\x3d"\x3csvg\x3e";s+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var a\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';a+\x3d" M".concat(r," ").concat(o),a+\x3d" L".concat(.5," ").concat(o),a+\x3d" L".concat(.5," ").concat(.6),a+\x3d" L".concat(r," ").concat(.6),a+\x3d" M".concat(n," ").concat(o),a+\x3d" L".concat(n," ").concat(.6),s+\x3da+\x3d\'"\x3c/path\x3e\',s+\x3d"\x3c/g\x3e\x3c/svg\x3e";var c\x3dzi.toDom(s);zi.create(c,{width:"".concat(t,"px"),height:"".concat(e,"px")});var u\x3d{};return u.node\x3dc,u.w\x3dt,u.h\x3de,u}},{key:"createRightDBrace",value:function(t,e,i){var n\x3dt-Math.round(.5*t)-1+.5;n+\x3d2;var r\x3d(t+\x3d2)-1+.5,o\x3de-1+.5,s\x3d"\x3csvg\x3e";s+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var a\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';a+\x3d"M ".concat(.5," ").concat(o),a+\x3d" L".concat(r," ").concat(o),a+\x3d" L".concat(r," ").concat(.6),a+\x3d" L".concat(.5," ").concat(.6),a+\x3d" M".concat(n," ").concat(o),a+\x3d" L".concat(n," ").concat(.6),s+\x3da+\x3d\'"\x3c/path\x3e\',s+\x3d"\x3c/g\x3e\x3c/svg\x3e";var c\x3dzi.toDom(s);zi.create(c,{width:"".concat(t,"px"),height:"".concat(e,"px")});var u\x3d{};return u.node\x3dc,u.w\x3dt,u.h\x3de,u}},{key:"createLeftFloor",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d"M".concat(t-.5," ").concat(e-.5),r+\x3d" L0.5 ".concat(e-.5),r+\x3d" L0.5 0.5",n+\x3dr+\x3d\'"\x3c/path\x3e\',n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createRightFloor",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d"M0.5 ".concat(e-.5),r+\x3d" L".concat(t-.5," ").concat(e-.5),r+\x3d" L".concat(t-.5," 0.5"),n+\x3dr+\x3d\'"\x3c/path\x3e\',n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createLeftCeil",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges"  \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d" M0.5 ".concat(e-.5),r+\x3d" L0.5 0.6",r+\x3d" L".concat(t-.5," 0.6"),n+\x3dr+\x3d\'"\x3c/path\x3e\',n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createRightCeil",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges"  \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d" M".concat(t-.5," ").concat(e-.5),r+\x3d" L".concat(t-.5," 0.6"),r+\x3d" L0.5 0.6",n+\x3d(r+\x3d\'"\x3c/path\x3e\')+r,n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"_getBraceName",value:function(){var t\x3d"";return this._type\x3d\x3ds.CBRACE?t\x3d"CBRACE":this._type\x3d\x3ds.CBRACEL?t\x3d"CBRACEL":this._type\x3d\x3ds.CBRACER?t\x3d"CBRACER":this._type\x3d\x3ds.PAREN?t\x3d"PAREN":this._type\x3d\x3ds.PARENL?t\x3d"PARENL":this._type\x3d\x3ds.PARENR?t\x3d"PARENR":this._type\x3d\x3ds.BRACE?t\x3d"BRACE":this._type\x3d\x3ds.BRACEL?t\x3d"BRACEL":this._type\x3d\x3ds.BRACER?t\x3d"BRACER":this._type\x3d\x3ds.VECTOR?t\x3d"VECTOR":this._type\x3d\x3ds.VECTORL?t\x3d"VECTORL":this._type\x3d\x3ds.VECTORR?t\x3d"VECTORR":this._type\x3d\x3ds.GRINT?t\x3d"GRINT":this._type\x3d\x3ds.DBRACEL?t\x3d"DBRACEL":this._type\x3d\x3ds.DBRACER?t\x3d"DBRACER":this._type\x3d\x3ds.FLOOR?t\x3d"FLOOR":this._type\x3d\x3ds.CEIL\x26\x26(t\x3d"CEIL"),t}},{key:"getEqName",value:function(){var t\x3dthis._getBraceName();return"@".concat(t)}},{key:"getAccessibleName",value:function(){var t\x3dthis.getEqRow(0).getAccessibleName();return ir.getEqBraceNames(this._getBraceName().toLowerCase(),[t])||t}},{key:"forceParenExpand",value:function(){return this.getEqRow(0).forceParenExpand()}}]),s}(Ur);function Ao(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Lo.CBRACE\x3d1,Lo.CBRACEL\x3d2,Lo.CBRACER\x3d3,Lo.PAREN\x3d4,Lo.PARENL\x3d5,Lo.PARENR\x3d6,Lo.BRACE\x3d7,Lo.BRACEL\x3d8,Lo.BRACER\x3d9,Lo.VECTOR\x3d10,Lo.VECTORL\x3d11,Lo.VECTORR\x3d12,Lo.GRINT\x3d13,Lo.DBRACEL\x3d14,Lo.DBRACER\x3d15,Lo.FLOOR\x3d19,Lo.CEIL\x3d20;var Po\x3dfunction(t){a(s,t);var i\x3dAo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqCis",n.domNode\x3dnull,n.domLeft\x3dnull,n.domRight\x3dnull,n.domMiddle\x3dnull,n._stroke\x3dnull,n._type\x3dt,n.addRows(2),n}return n(s,[{key:"createDom",value:function(){var t\x3dzi.create("span");this.domNode\x3dt;var e\x3d0,i\x3d1;return this._type\x3d\x3ds.SYNDIV\x26\x26(e\x3d1,i\x3d0),this.domLeft\x3dthis.getEqRow(e).getDomNode(),this.domRight\x3dthis.getEqRow(i).getDomNode(),zi.place(this.domLeft,this.domNode),zi.place(this.domRight,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getMarginBox(this.domLeft),e\x3dEn.getMarginBox(this.domRight),i\x3dbi(this.domNode,"fontSize").slice(0,-2),n\x3dMath.max(Math.round(i/15*2),2),a\x3dMath.max(Math.round(.1*i),5),c\x3dMath.max(Math.round(i/15*2),1),u\x3dMath.max(t.t+t.h,e.t+e.h);Ei(this.domLeft,{paddingBottom:"".concat(u-t.t-t.h+c,"px"),paddingRight:"".concat(n,"px")}),Ei(this.domRight,{paddingBottom:"".concat(u-e.t-e.h+c,"px"),borderBottom:"solid 1px",paddingLeft:"".concat(n,"px")});var l\x3dbi(this.domNode,"color");switch(this._stroke\x3dlr.toHexString(l),this.domMiddle\x26\x26zi.destroy(this.domMiddle),this._type){case s.CIS:var h\x3dLi("ie")?0:1;this.domMiddle\x3dthis.createCIS(a,u+c+h),Ei(this.domRight,{paddingLeft:"".concat(a+n,"px")}),Ei(this.domMiddle,{left:"".concat(t.w+n,"px"),verticalAlign:"bottom",position:"absolute"}),zi.place(this.domMiddle,this.domNode);break;case s.SYNDIV:Ei(this.domRight,{borderLeft:"solid 1px"})}}},{key:"createCIS",value:function(t,e){var i\x3de,n\x3d"\x3csvg\x3e",r\x3dLi("ie")?0:1;n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._stroke,\'"\x3e\'),n+\x3d\'\x3cpath d\x3d"\',n+\x3d"M".concat(r," ").concat(i," "),n+\x3d"L".concat(t," ",0),n+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var o\x3dzi.toDom(n);return zi.create(o,{width:t,height:e}),o}},{key:"getEqName",value:function(){switch(this._type){case s.CIS:return"@CIS";case s.SYNDIV:return"@SYNDIV";default:return"@Cis"}}},{key:"getAccessibleName",value:function(){var t\x3d"C I S";return this._type\x3d\x3ds.SYNDIV\x26\x26(t\x3d"synthetic divide"),"".concat(this.getEqRow(0).getAccessibleName()," ").concat(t," ").concat(this.getEqRow(1).getAccessibleName())}}]),s}(Ur);Po.CIS\x3d1,Po.SYNDIV\x3d2;var Do\x3dfunction(){function t(){e(this,t)}return n(t,null,[{key:"roundUp",value:function(t){return t\x3c0?Math.floor(t):Math.ceil(t)}}]),t}();function Bo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Mo\x3dfunction(t){a(s,t);var i\x3dBo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n.addRows(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domUpper\x3dnull,this.domLower\x3dnull,this.eqUpper\x3dnull,this.eqLower\x3dnull,this.baseClass\x3d"eqSum"}},{key:"createDom",value:function(){var t\x3dzi.create("span");this.eqUpper\x3dnull,this.eqLower\x3dnull;var e\x3dzi.create("span",{innerHTML:"\x26#x2211;"});if(fn(e,"eqSumBase"),this.getNumChildren()\x3e0){var i\x3dthis.getEqRow(0),n\x3di.getDomNode();fn(n,"eqIntLower"),this.eqLower\x3di,this.domLower\x3dn}if(this.getNumChildren()\x3e1){var r\x3dthis.getEqRow(1),o\x3dr.getDomNode();fn(o,"eqIntUpper"),this.domUpper\x3do,this.eqUpper\x3dr}return zi.place(e,t),n\x26\x26zi.place(n,t),o\x26\x26zi.place(o,t),this.domNode\x3dt,this.domBase\x3de,t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domBase);var t\x3d!this.getEqDocument().suppressEmptyHiding,e\x3dEn.getContentBox(this.domBase).w;Ei(this.domBase,{marginTop:"",marginBottom:""});var i\x3dEn.getMarginExtents(this.domBase);if(this.domUpper)if(t\x26\x26!this.eqUpper.rowsFilled())Ei(this.domUpper,{display:"none"});else{Ei(this.domUpper,"width","");var n\x3dEn.getMarginBox(this.domUpper);Ei(this.domBase,"marginTop","".concat(n.h+Do.roundUp(i.t),"px")),e\x3dMath.max(e,n.w)}if(this.domLower)if(t\x26\x26!this.eqLower.rowsFilled())Ei(this.domLower,{display:"none"});else{Ei(this.domLower,"width","");var a\x3dEn.getMarginBox(this.domLower);Ei(this.domBase,"marginBottom","".concat(a.h+Do.roundUp(i.b),"px")),e\x3dMath.max(e,a.w)}Ei(this.domNode,"width","".concat(e,"px")),this.domUpper\x26\x26Ei(this.domUpper,"width","".concat(e+1,"px")),this.domLower\x26\x26Ei(this.domLower,"width","".concat(e+1,"px"))}},{key:"getEqName",value:function(){return"@SUM"}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push("Summation"),this.getNumChildren()\x3e0\x26\x26(t.push("from"),t.push(this.getEqRow(0).getAccessibleName())),this.getNumChildren()\x3e1\x26\x26(t.push("to"),t.push(this.getEqRow(1).getAccessibleName())),t.join(" ")}},{key:"reduceEmptyRows",value:function(){this.getNumChildren()\x3e1\x26\x260\x3d\x3dthis.getEqRow(1).getNumChildren()\x26\x26this.removeChild(1),1\x3d\x3dthis.getNumChildren()\x26\x260\x3d\x3dthis.getEqRow(0).getNumChildren()\x26\x26this.removeChild(0)}},{key:"rowsFilled",value:function(){return!0}},{key:"forceParenExpand",value:function(){return!0}}]),s}(Wr);function Oo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Io\x3dfunction(t){a(s,t);var i\x3dOo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n.addRows(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domUpper\x3dnull,this.domLower\x3dnull,this.eqUpper\x3dnull,this.eqLower\x3dnull,this.baseClass\x3d"eqSum"}},{key:"createDom",value:function(){this.eqUpper\x3dnull,this.eqLower\x3dnull;var t\x3dzi.create("span"),e\x3dzi.create("span",{innerHTML:"\x26#x220F;"});if(fn(e,"eqProductBase"),this.getNumChildren()\x3e0){this.eqLower\x3dthis.getEqRow(0);var i\x3dthis.eqLower.getDomNode();fn(i,"eqIntLower"),this.domLower\x3di}if(this.getNumChildren()\x3e1){this.eqUpper\x3dthis.getEqRow(1);var n\x3dthis.eqUpper.getDomNode();fn(n,"eqIntUpper"),this.domUpper\x3dn}return zi.place(e,t),i\x26\x26zi.place(i,t),n\x26\x26zi.place(n,t),this.domNode\x3dt,this.domBase\x3de,t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domBase);var t\x3d!this.getEqDocument().suppressEmptyHiding,e\x3dEn.getContentBox(this.domBase).w;bi(this.domNode,"fontSize").slice(0,-2),Ei(this.domBase,{marginTop:"",marginBottom:""});var i\x3dEn.getMarginExtents(this.domBase);if(this.domUpper)if(t\x26\x26!this.eqUpper.rowsFilled())Ei(this.domUpper,{display:"none"});else{var n\x3dEn.getMarginBox(this.domUpper);Ei(this.domBase,"marginTop","".concat(n.h+Do.roundUp(i.t),"px")),e\x3dMath.max(e,n.w)}if(this.domLower)if(t\x26\x26!this.eqLower.rowsFilled())Ei(this.domLower,{display:"none"});else{var a\x3dEn.getMarginBox(this.domLower);Ei(this.domBase,"marginBottom","".concat(a.h+Do.roundUp(i.b),"px")),e\x3dMath.max(e,a.w)}Ei(this.domNode,"width","".concat(e,"px")),this.domUpper\x26\x26Ei(this.domUpper,"width","".concat(e+1,"px")),this.domLower\x26\x26Ei(this.domLower,"width","".concat(e+1,"px"))}},{key:"getEqName",value:function(){return"@PRODUCT"}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push("Product"),this.getNumChildren()\x3e0\x26\x26(t.push("from"),t.push(this.getEqRow(0).getAccessibleName())),this.getNumChildren()\x3e1\x26\x26(t.push("to"),t.push(this.getEqRow(1).getAccessibleName())),t.join(" ")}},{key:"reduceEmptyRows",value:function(){this.getNumChildren()\x3e1\x26\x260\x3d\x3dthis.getEqRow(1).getNumChildren()\x26\x26this.removeChild(1),1\x3d\x3dthis.getNumChildren()\x26\x260\x3d\x3dthis.getEqRow(0).getNumChildren()\x26\x26this.removeChild(0)}},{key:"getRowBelow",value:function(t){return this.getFocusRow()}},{key:"rowsFilled",value:function(){return!0}},{key:"forceParenExpand",value:function(){return!0}}]),s}(Wr);function Fo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Uo\x3dfunction(t){a(s,t);var i\x3dFo(s);function s(t,n){var r;return e(this,s),(r\x3di.apply(this,arguments)).initFields(),r.addRows(t),r._contour\x3dn,r}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domUpper\x3dnull,this.domLower\x3dnull,this.eqUpper\x3dnull,this.eqLower\x3dnull,this._contour\x3d!1,this.baseClass\x3d"eqInt"}},{key:"isEqIntegral",value:function(){return!0}},{key:"createDom",value:function(){var t,e,i\x3dzi.create("span"),n\x3dzi.create("span",{innerHTML:this._contour?"\x26#x222E;":"\x26#x222B;"});return fn(n,"eqIntBase"),this.getNumChildren()\x3e0\x26\x26(this.eqLower\x3dthis.getEqRow(0),t\x3dthis.eqLower.getDomNode(),fn(t,"eqIntLower"),this.domLower\x3dt),this.getNumChildren()\x3e1\x26\x26(this.eqUpper\x3dthis.getEqRow(1),e\x3dthis.eqUpper.getDomNode(),fn(e,"eqIntUpper"),this.domUpper\x3de),zi.place(n,i),t\x26\x26zi.place(t,i),e\x26\x26zi.place(e,i),this.domNode\x3di,this.domBase\x3dn,i}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domBase),Ei(this.domNode,"width",""),this.domUpper\x26\x26Ei(this.domUpper,"width",""),this.domLower\x26\x26Ei(this.domLower,"width",""),Ei(this.domBase,{marginTop:"",marginBottom:""});var t\x3dEn.getMarginExtents(this.domBase),e\x3dEn.getMarginBox(this.domBase).w,i\x3d!this.getEqDocument().suppressEmptyHiding;if(this.domUpper)if(i\x26\x26!this.eqUpper.rowsFilled())Ei(this.domUpper,{display:"none"});else{var n\x3dEn.getMarginBox(this.domUpper);Ei(this.domBase,"marginTop","".concat(n.h+Do.roundUp(t.t),"px")),e\x3dMath.max(e,n.w)}if(this.domLower)if(i\x26\x26!this.eqLower.rowsFilled())Ei(this.domLower,{display:"none"});else{var a\x3dEn.getMarginBox(this.domLower);Ei(this.domBase,"marginBottom","".concat(a.h+Do.roundUp(t.b),"px")),e\x3dMath.max(e,a.w)}Ei(this.domNode,"width","".concat(e,"px")),this.domUpper\x26\x26Ei(this.domUpper,"width","".concat(e+1,"px")),this.domLower\x26\x26Ei(this.domLower,"width","".concat(e+1,"px"))}},{key:"rowsFilled",value:function(){return!0}},{key:"hasMultipleIntegralSibling",value:function(){return this.getNextSibling(!1,!1).isEqIntegral()}},{key:"getEqName",value:function(){return this._contour?"@INTEGRALC":"@INTEGRAL"}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push(this._contour?"Contour integral":"Integral"),this.getNumChildren()\x3e0\x26\x26(t.push("from"),t.push(this.getEqRow(0).getAccessibleName())),this.getNumChildren()\x3e1\x26\x26(t.push("to"),t.push(this.getEqRow(1).getAccessibleName())),t.join(" ")}},{key:"reduceEmptyRows",value:function(){this.getNumChildren()\x3e0\x26\x26this.getEqRow(0).isEmpty()\x26\x26this.removeChildAt(0),this.getNumChildren()\x3e0\x26\x26this.getEqRow(0).isEmpty()\x26\x26this.removeChildAt(0)}}]),s}(Wr);function Vo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Uo.loadedFont\x3d!1;var Ho\x3dfunction(t){a(s,t);var i\x3dVo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).baseClass\x3d"eqConj",t.domNode\x3dnull,t.domBase\x3dnull,t.eqBase\x3dnull,t.domLeft\x3dnull,t.domRight\x3dnull,t.domAsterisk\x3dnull,t.addRows(1),t}return n(s,[{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.eqBase\x3dthis.getEqRow(0),this.domBase\x3dthis.eqBase.getDomNode(),this.domAsterisk\x3dzi.create("span",{innerHTML:"*"}),fn(this.domAsterisk,"eqConjAst"),zi.place(this.domBase,this.domNode),zi.place(this.domAsterisk,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getMarginBox(this.domBase);bi(this.domNode,"fontSize").slice(0,-2),this.domLeft\x26\x26zi.destroy(this.domLeft),this.domRight\x26\x26zi.destroy(this.domRight),this.needParens()\x26\x26(this.domLeft\x3dzi.create("span",{innerHTML:"("}),zi.place(this.domLeft,this.domNode,0),dr.calcParenNode(this.domLeft,t,dr.ParenInfo["("]),this.domRight\x3dzi.create("span",{innerHTML:")"}),zi.place(this.domRight,this.domNode,2),dr.calcParenNode(this.domRight,t,dr.ParenInfo[")"]))}},{key:"needParens",value:function(){var t\x3dthis.eqBase;if(t||(t\x3dthis.getEqRow(0)),t\x26\x26t.getNumChildren()\x3e1)return!0;if(t\x26\x261\x3d\x3dt.getNumChildren()){var e\x3dt.getChild(0);return!e.isEqTextBase()||1!\x3de.getText().length}return!1}},{key:"getEqName",value:function(){return"@CONJ"}},{key:"getAccessibleName",value:function(){var t\x3dthis.getEqRow(0).getAccessibleName();return this.getEqRow(0).getNumChildren()\x3e1?"left parenthesis ".concat(t," right parenthesis ").concat("Conjugate"):"".concat(t," ").concat("Conjugate")}},{key:"getLatexName",value:function(){return"\\\\conj"}},{key:"getLatex",value:function(){return this.needParens()?"".concat(this.getLatexName(),"{\\\\left(").concat(this.getEqRow(0).getLatex(),"\\\\right)}"):o(r(s.prototype),"getLatex",this).apply(this,arguments)}},{key:"isEqConj",value:function(){return!0}}]),s}(Ur);function jo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Wo\x3dfunction(t){a(s,t);var i\x3djo(s);function s(t){var n;switch(e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._type\x3dt,n._type){case s.LDIVQ:n.addRows(3);break;case s.LDIV:n.addRows(2)}return n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqLDiv",this.domNode\x3dnull,this.domLeft\x3dnull,this.domRight\x3dnull,this.domUp\x3dnull,this.domMiddle\x3dnull,this._type\x3ds.LDIV,this._stroke\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.domLeft\x3dthis.getEqRow(1).getDomNode(),zi.place(this.domLeft,this.domNode),this.domRight\x3dzi.create("span",{class:"eqLDivContent"}),this.domMiddle\x3dzi.create("span",{class:"eqLDivSymbol"}),zi.place(this.domMiddle,this.domRight),this._type\x3d\x3ds.LDIVQ\x26\x26(this.domUp\x3dthis.getEqRow(2).getDomNode(),Ei(this.domUp,{position:"absolute",top:"0px",left:"0px",paddingLeft:"0.3em",paddingBottom:"0.15em"}),zi.place(this.domUp,this.domRight)),zi.place(this.getEqRow(0).getDomNode(),this.domRight),zi.place(this.domRight,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this._resetMargins();var t\x3dEn.getMarginBox(this.domLeft),e\x3dEn.getMarginBox(this.domRight),i\x3dthis.domUp?En.getMarginBox(this.domUp):null,n\x3dbi(this.domNode,"fontSize").slice(0,-2),a\x3dMath.max(Math.round(.1*n),5),c\x3dMath.max(t.h,e.h),u\x3di\x26\x26i.w\x3ee.w?i.w:e.w,l\x3dbi(this.domNode,"color");this._stroke\x3dlr.toHexString(l),this.domMiddle.innerHTML\x3dthis.createLDiv(a,c,u),this.domUp\x26\x26(Ei(this.domRight,{marginTop:"".concat(i.h,"px")}),Ei(this.domUp,{top:"".concat(-i.h,"px")}))}},{key:"createLDiv",value:function(t,e,i){var n\x3dt,r\x3de/2,o\x3de-.5,s\x3d.5+i,a\x3d"\x3csvg height\x3d".concat(e," width\x3d").concat(s," \x3e");return a+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._stroke,\'" stroke-linecap\x3d"round" \x3e\'),a+\x3d\'\x3cpath d\x3d"\',a+\x3d"M".concat(.5," ").concat(.5," "),a+\x3d"Q".concat(n," ").concat(r," ").concat(.5," ").concat(o," "),a+\x3d"M".concat(.5," ").concat(.5," "),a+\x3d"L".concat(s," ").concat(.5),a+\x3d\'"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\'}},{key:"getEqName",value:function(){switch(this._type){case s.LDIV:return"@LDIV";case s.LDIVQ:return"@LDIVQ"}}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push("StartLongDivision"),t.push(this.getEqRow(1).getAccessibleName()),t.push("DividedInto"),t.push(this.getEqRow(0).getAccessibleName()),this.getNumChildren()\x3e2\x26\x26(t.push("Equals"),t.push(this.getEqRow(2).getAccessibleName())),t.push("EndLongDivision"),t.join(" ")}},{key:"_resetMargins",value:function(){this.domMiddle\x26\x26(this.domMiddle.innerHTML\x3d""),this.domRight\x26\x26Ei(this.domRight,"marginLeft",""),this.domUp\x26\x26(Ei(this.domRight,{marginTop:""}),Ei(this.domUp,{marginLeft:"",top:""}))}}]),s}(Ur);function zo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Wo.LDIV\x3d1,Wo.LDIVQ\x3d2;var Go\x3dfunction(t){a(s,t);var i\x3dzo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(1),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqPhasor",this.domNode\x3dnull,this.domRight\x3dnull,this.domMiddle\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.domRight\x3dthis.getEqRow(0).getDomNode(),zi.place(this.domRight,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getContentBox(this.domRight),e\x3dbi(this.domNode,"fontSize").slice(0,-2),i\x3dMath.max(Math.round(e/15*2),2),n\x3dMath.max(Math.round(.1*e),6),a\x3d0;this.domMiddle\x26\x26zi.destroy(this.domMiddle);var c\x3dLi("ie")?0:1;this.domMiddle\x3dthis.createPhasor(n,t.h+a+c,t.w),Ei(this.domRight,{marginLeft:"".concat(n+i,"px"),paddingLeft:"".concat(i,"px")}),Ei(this.domMiddle,{left:"".concat(i,"px")}),zi.place(this.domMiddle,this.domNode)}},{key:"createPhasor",value:function(t,e,i){var n\x3de+1,r\x3dt+i+2,o\x3dLi("ie")?0:1,s\x3d\'\x3cspan class\x3d"eqPhasorSymbol"\x3e\x3csvg width\x3d\'.concat(r," height\x3d").concat(n,"\x3e");s+\x3d\'\x3cg fill\x3d"none" stroke\x3d"black"\x3e\',s+\x3d\'\x3cpath d\x3d"\',s+\x3d"M".concat(t," ",0," "),s+\x3d"L".concat(o," ").concat(n),s+\x3d" L".concat(r," ").concat(n),s+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\x3c/span\x3e\';var a\x3dzi.toDom(s);return zi.create(a),a}},{key:"getEqName",value:function(){return"@PHASOR"}},{key:"getAccessibleName",value:function(){return"angle ".concat(this.getEqRow(0).getAccessibleName())}},{key:"getLatexName",value:function(){return"\\\\cis"}}]),s}(Ur);function Xo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Qo\x3dfunction(t){a(s,t);var i\x3dXo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqCheck",n.domNode\x3dnull,n.topTD\x3dnull,n.td2Node\x3dnull,n.td3Node\x3dnull,n.addRows(1+2*t),n}return n(s,[{key:"createDom",value:function(){var t,e,i\x3dzi.create("table");this.tdLeft\x3d[],this.tdRight\x3d[];for(var n\x3d-1;n\x3cthis.getCheckRowCount();n++)n\x3c0?(t\x3dzi.create("tr"),this.topTD\x3de\x3dzi.create("td",{colspan:2}),zi.place(this.getEqRow(0).getDomNode(),e),zi.place(e,t)):(t\x3dzi.create("tr"),e\x3dzi.create("td"),zi.place(this.leftRow(n).getDomNode(),e),zi.place(e,t),this.tdLeft.push(e),e\x3dzi.create("td"),zi.place(this.rightRow(n).getDomNode(),e),zi.place(e,t),this.tdRight.push(e)),zi.place(t,i);return fn(i,"eqRight"),this.domNode\x3di,i}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t,e,i\x3d-1,n\x3dthis.getEqRow(0);Ei(n.getDomNode(),{marginLeft:"",marginRight:""}),zi.create(this.topTD,{align:"left"});for(var a\x3d0;a\x3cn.getNumChildren();a++){var c\x3dn.getChild(a);if(c.isEqOp()\x26\x26"\x3d"\x3d\x3dc.getEqText()){var u\x3dEn.position(c.getDomNode()),l\x3dEn.getMarginBox(c.getDomNode());i\x3du.x+l.w/2;var h\x3dEn.getMarginBox(n.getDomNode()),d\x3dEn.position(n.getDomNode());t\x3di-d.x,e\x3dh.w-t;break}}if(i\x3c0)zi.create(this.topTD,{align:"center"});else{var p,f\x3dbi(this.topTD,"paddingLeft"),m\x3dbi(this.topTD,"paddingRight"),g\x3dt+f,v\x3de+m;for(a\x3d0;a\x3cthis.getCheckRowCount();a++)(p\x3dEn.getMarginBox(this.leftRow(a).getDomNode()).w+f+m)\x3eg\x26\x26(g\x3dp),(p\x3dEn.getMarginBox(this.rightRow(a).getDomNode()).w+f+m)\x3ev\x26\x26(v\x3dp);g\x3et+f\x26\x26Ei(this.getEqRow(0).getDomNode(),{marginLeft:"".concat(g-t-f,"px")}),v\x3ee+m\x26\x26Ei(this.getEqRow(0).getDomNode(),{marginRight:"".concat(v-e-m,"px")}),Ei(this.tdLeft[0],{width:"".concat(g,"px")}),Ei(this.tdRight[0],{width:"".concat(v,"px")})}}},{key:"getCheckRowCount",value:function(){return Math.floor((this.getNumChildren()-1)/2)}},{key:"leftRow",value:function(t){return this.getEqRow(1+t)}},{key:"rightRow",value:function(t){return this.getEqRow(1+this.getCheckRowCount()+t)}},{key:"getEqName",value:function(){return"@CHECK"}},{key:"getEqText",value:function(){var t,e;for(e\x3d"".concat(this.getEqName(),"{"),this.getNumChildren()\x3e0\x26\x26(e+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(this.getEqRow(0))),e\x3d"".concat(e,";{"),t\x3d0;t\x3cthis.getCheckRowCount();t++)t\x3e0\x26\x26(e\x3d"".concat(e,";")),e+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(this.leftRow(t));for(e\x3d"".concat(e,"};{"),t\x3d0;t\x3cthis.getCheckRowCount();t++)t\x3e0\x26\x26(e\x3d"".concat(e,";")),e+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(this.rightRow(t));return e\x3d"".concat(e,"}}")}},{key:"getAccessibleName",value:function(){var t,e\x3d[];for(e.push("StartCheck"),e.push(this.getEqRow(0).getAccessibleName()),t\x3d0;t\x3cthis.getCheckRowCount();t++)e.push(ir.getNthString(t+1)),e.push("Row"),e.push("Left"),e.push(this.leftRow(t).getAccessibleName()),e.push("Right"),e.push(this.rightRow(t).getAccessibleName());return e.push("EndCheck"),e.join(" ")}}]),s}(Wr);function Yo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ko\x3dfunction(t){a(s,t);var i\x3dYo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(2),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqSupSubStack",this.domNode\x3dnull,this.domSup\x3dnull,this.domSub\x3dnull,this.rowSup\x3dnull,this.rowSub\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0).getDomNode();fn(e,"eqSupContent");var i\x3dzi.create("span");fn(i,"eqSuperscript"),zi.place(e,i);var n\x3dthis.getEqRow(1).getDomNode();fn(n,"eqSubContent");var r\x3dzi.create("span");return fn(r,"eqSubscript"),zi.place(n,r),zi.place(i,t),zi.place(r,t),this.domNode\x3dt,this.domSup\x3di,this.domSub\x3dr,this.rowSup\x3dthis.getEqRow(0),this.rowSub\x3dthis.getEqRow(1),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getContentBox(this.domSup),e\x3dEn.getContentBox(this.domSub);En.getContentBox(this.domNode),Ei(this.domSup,"left","0px"),Ei(this.domSub,"left","0px"),t.w\x3ee.w?(Ei(this.domSub,"left","".concat(t.w-e.w+3,"px")),Ei(this.domNode,"marginRight","0px")):e.w\x3et.w?(this.rowSup.isEmpty(!0)\x26\x26this.rowSub.isEmpty(!0)||Ei(this.domSup,"left","".concat(e.w-t.w-2,"px")),Ei(this.domNode,"marginRight","".concat(e.w-t.w-3,"px"))):(Ei(this.domSub,"left","3px"),Ei(this.domNode,"marginRight","0px")),Ei(this.domSub,"top","".concat(t.h+2,"px")),Ei(this.domNode,"height","".concat(t.h+e.h+2,"px"))}},{key:"getEqName",value:function(){return"@SUPSUBSTACK"}},{key:"getLatex",value:function(){return"{^{".concat(this.getEqRow(0).getLatex(),"}_{").concat(this.getEqRow(1).getLatex(),"}}")}},{key:"getAccessibleName",value:function(){return"superscript ".concat(this.getEqRow(0).getAccessibleName()," subscript ").concat(this.getEqRow(1).getAccessibleName())}}]),s}(Wr);function Jo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var $o\x3dfunction(t){a(s,t);var i\x3dJo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._name\x3dt.name,n._info\x3dZo[n._name],n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._name\x3dnull,this._info\x3dnull,this._empty\x3d!1}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.baseClass\x3dthis._info.css,t}},{key:"deleteCharacter",value:function(t){this._empty\x3d!0,t.characterDeleted\x3d!0}},{key:"isEmpty",value:function(){return this._empty}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dthis.parentRow();if(t){var e\x3dEn.getContentBox(t.domNode),i\x3dbi(this.domNode,"fontSize").slice(0,-2),n\x3de.w,a\x3d{},c\x3de.h,u\x3dn;switch(this._name){case"curvearrowleft":c\x3d1.2*i,u\x3di/16*10,a.node\x3dthis._createCurveArrowLeft();break;case"curvearrowright":u\x3di/16*10,c\x3d1.2*i,a.node\x3dthis._createCurveArrowRight()}a.w\x3du,a.h\x3dc,a.node\x26\x26(zi.create(a.node,{width:a.w,height:"".concat(a.h,"px")},this.domNode),Ei(this.domNode,"height","".concat(a.h,"px")),this._info.css\x26\x26fn(this.domNode,this._info.css))}}},{key:"_createCurveArrowLeft",value:function(){return zi.toDom(\'\x3csvg viewBox\x3d"0 0 10 21" preserveAspectRatio\x3d"xMidYMid slice"\x3e\x3cpath d\x3d"M10,0 S0,10 10,20" style\x3d"fill:none; stroke:black; stroke-width:1"\x3e\x3c/path\x3e\x3cpath d\x3d"M10,20 L 4 17 L 9 13 L 10 20" style\x3d"fill:black; stroke:black; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')}},{key:"_createCurveArrowRight",value:function(){return zi.toDom(\'\x3csvg viewBox\x3d"0 0 10 21" preserveAspectRatio\x3d"xMidYMid slice"\x3e\x3cpath style\x3d"fill:none; stroke:black; stroke-width:1" d\x3d"M2,0 S12,10 2,20"/\x3e\x3cpath style\x3d"fill:black; stroke:black; stroke-width:1" d\x3d"M2,20 L 3 13 L 8 17 L 2 20"/\x3e\x3c/svg\x3e\')}},{key:"getEqText",value:function(){return"\x26".concat(this._name,";")}},{key:"getLatex",value:function(){return" \\\\".concat(this._info.latex," ")}}]),s}(Xn),Zo\x3d{};function ts(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Zo.curvearrowleft\x3d{mma:"CurveArrowLeft",latex:"curvearrowleft",css:"eqCurveArrowLeft"},Zo.curvearrowright\x3d{mma:"CurveArrowRight",latex:"curvearrowright",css:null},$o.getMMASymbolInfo\x3dfunction(t){return ln(Zo,(function(e){return e.mma\x3d\x3dt}))},$o.getLatexSymbolInfo\x3dfunction(t){for(var e in Zo)if(Zo[e].latex\x26\x26Zo[e].latex\x3d\x3dt)return e;return null},$o.isValidSymbol\x3dfunction(t){for(var e in Zo)if(e\x3d\x3d\x3dt)return!0;return!1};var es\x3dfunction(t){a(r,t);var i\x3dts(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span");return fn(t,"nonItalicRoman"),zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@RM"}},{key:"isEqRoman",value:function(){return!0}}]),r}(Ur);function is(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var ns\x3dfunction(t){a(r,t);var i\x3dis(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span",{class:"eqUnderBar"});return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@UNDERBAR"}},{key:"getAccessibleName",value:function(){return"Underline ".concat(this.getEqRow(0).getAccessibleName())}}]),r}(Ur);function rs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var os,ss\x3dfunction(t){a(r,t);var i\x3drs(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span",{class:"eqOverBar"});return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@OVERBAR"}},{key:"getAccessibleName",value:function(){return"Overline ".concat(this.getEqRow(0).getAccessibleName())}}]),r}(Ur),as\x3d(Yr(os\x3d{CNUM:function(t){this._parseCNum(t),this._expect("}")},CURR:function(t){this._parseCNum(t,!0),this._expect("}")},NEGP:function(t){this._parseNegP(t),this._expect("}")},MNUM:function(t){this._parseMNum(t)},MIX:function(t){this._parseMNum(t)},DUMMY:function(t){this._parseEqDummy(t)},B:function(t){this._parseEq(t,new lo)},I:function(t){this._parseEq(t,new po)},UNDERBAR:function(t){this._parseEq(t,new ns)},OVERBAR:function(t){this._parseEq(t,new ss)},RM:function(t){this._parseEq(t,new es)},FUNCTION:function(){return null},SIZE:function(t){this._parseSize(t)},RT:function(t){this._parseEq(t,new so(1),{maxChildren:2})},DIV:function(t){this._parseEq(t,new io,{maxChildren:2})},DIVSM:function(t){this._parseEq(t,new io({divType:io.DIVSM}),{maxChildren:2})},SUP:function(t){this._parseEq(t,new Jr)},SUB:function(t){this._parseEq(t,new to)},CURSOR:function(t){this._parseCursor(t)},SUPSUB:function(t){this._parseEq(t,new Gr,{maxChildren:3})},SUPSUBSTACK:function(t){this._parseEq(t,new Ko,{maxChildren:2})},OVERUNDER:function(t){this._parseEq(t,new Eo(Eo.OVERUNDER),{maxChildren:3})},OVER:function(t){this._parseEq(t,new Eo(Eo.OVER),{maxChildren:2})},UNDER:function(t){this._parseEq(t,new Eo(Eo.UNDER),{maxChildren:2})},ABS:function(t){this._parseEq(t,new Ro(Ro.ABS))},ABSL:function(t){this._parseEq(t,new Ro(Ro.ABSL))},ABSR:function(t){this._parseEq(t,new Ro(Ro.ABSR))},NORM:function(t){this._parseEq(t,new ko(ko.NORM))},NORML:function(t){this._parseEq(t,new ko(ko.NORML))},NORMR:function(t){this._parseEq(t,new ko(ko.NORMR))},BAR:function(t){this._parseEq(t,new Co($r.OVERBAR))}},"OVERBAR",(function(t){this._parseEq(t,new Co($r.OVERBAR))})),Yr(os,"OVDBBAR",(function(t){this._parseEq(t,new Co($r.OVDBBAR))})),Yr(os,"OVERBRC",(function(t){this._parseEq(t,new Co($r.OVERBRC))})),Yr(os,"UNDRBAR",(function(t){this._parseEq(t,new Co($r.UNDRBAR))})),Yr(os,"UNDBBAR",(function(t){this._parseEq(t,new Co($r.UNDBBAR))})),Yr(os,"UNDRBRC",(function(t){this._parseEq(t,new Co($r.UNDRBRC))})),Yr(os,"RAYR",(function(t){this._parseEq(t,new Co($r.RAYR))})),Yr(os,"RAYL",(function(t){this._parseEq(t,new Co($r.RAYL))})),Yr(os,"RAYDB",(function(t){this._parseEq(t,new Co($r.RAYDB))})),Yr(os,"ARROWR",(function(t){this._parseEq(t,new Co($r.ARROWR))})),Yr(os,"ARROWL",(function(t){this._parseEq(t,new Co($r.ARROWL))})),Yr(os,"ARROWDB",(function(t){this._parseEq(t,new Co($r.ARROWDB))})),Yr(os,"SLASH",(function(t){this._parseEq(t,new Co($r.SLASH))})),Yr(os,"UMLAUT",(function(t){this._parseEq(t,new Co($r.UMLAUT))})),Yr(os,"HAT",(function(t){this._parseEq(t,new Co($r.HAT))})),Yr(os,"ARC",(function(t){this._parseEq(t,new Co($r.ARC))})),Yr(os,"SIDOT",(function(t){this._parseEq(t,new Co($r.SIDOT))})),Yr(os,"PRIME",(function(t){this._parseEq(t,new Co($r.PRIME))})),Yr(os,"PRIME2",(function(t){this._parseEq(t,new Co($r.PRIME2))})),Yr(os,"PRIME3",(function(t){this._parseEq(t,new Co($r.PRIME3))})),Yr(os,"HLINE",(function(t){this._parseEq(t,new Co($r.HLINE))})),Yr(os,"DHLINE",(function(t){this._parseEq(t,new Co($r.DHLINE))})),Yr(os,"TILDE",(function(t){this._parseEq(t,new Co($r.TILDE))})),Yr(os,"REP",(function(t){this._parseEq(t,new Co($r.REP))})),Yr(os,"ACCENT",(function(t){this._parseEq(t,new Co($r.ACCENT))})),Yr(os,"EVEC",(function(t){this._parseEq(t,new Co($r.EVEC))})),Yr(os,"SUM",(function(t){this._parseEq(t,new Mo(0),{maxChildren:2,reduceEmptyRows:!1})})),Yr(os,"PRODUCT",(function(t){this._parseEq(t,new Io(0),{maxChildren:2,reduceEmptyRows:!0})})),Yr(os,"INTEGRAL",(function(t){this._parseEq(t,new Uo(0),{maxChildren:2,reduceEmptyRows:!1})})),Yr(os,"INTEGRALC",(function(t){this._parseEq(t,new Uo(0,!0),{maxChildren:2,reduceEmptyRows:!0})})),Yr(os,"CIS",(function(t){this._parseEq(t,new Po(Po.CIS),{maxChildren:2})})),Yr(os,"SYNDIV",(function(t){this._parseEq(t,new Po(Po.SYNDIV),{maxChildren:2})})),Yr(os,"LDIV",(function(t){this._parseEq(t,new Wo(Wo.LDIV),{maxChildren:2})})),Yr(os,"LDIVQ",(function(t){this._parseEq(t,new Wo(Wo.LDIVQ),{maxChildren:3})})),Yr(os,"MAT",(function(t){this._parseMat(t,To.MAT)})),Yr(os,"MATL",(function(t){this._parseMat(t,To.MATL)})),Yr(os,"MATR",(function(t){this._parseMat(t,To.MATR)})),Yr(os,"AUGMENT",(function(t){this._parseMat(t,To.AUGMENT)})),Yr(os,"AUGMENTL",(function(t){this._parseMat(t,To.AUGMENTL)})),Yr(os,"AUGMENTR",(function(t){this._parseMat(t,To.AUGMENTR)})),Yr(os,"ROW",(function(t){this._parseMat(t,To.ROW)})),Yr(os,"ROWL",(function(t){this._parseMat(t,To.ROWL)})),Yr(os,"ROWR",(function(t){this._parseMat(t,To.ROWR)})),Yr(os,"COLUMN",(function(t){this._parseMat(t,To.COLUMN)})),Yr(os,"COLUMNL",(function(t){this._parseMat(t,To.COLUMNL)})),Yr(os,"COLUMNR",(function(t){this._parseMat(t,To.COLUMNR)})),Yr(os,"TAB",(function(t){this._parseMat(t,To.TAB)})),Yr(os,"TABL",(function(t){this._parseMat(t,To.TABL)})),Yr(os,"TABR",(function(t){this._parseMat(t,To.TABR)})),Yr(os,"TABLE",(function(t){this._parseMat(t,To.TABLE)})),Yr(os,"TABLEL",(function(t){this._parseMat(t,To.TABLEL)})),Yr(os,"TABLER",(function(t){this._parseMat(t,To.TABLER)})),Yr(os,"MATX",(function(t){this._parseMat(t,To.MATX)})),Yr(os,"DETX",(function(t){this._parseMat(t,To.DETX)})),Yr(os,"LEQ",(function(t){this._parseMat(t,To.LEQ)})),Yr(os,"LEQL",(function(t){this._parseMat(t,To.LEQL)})),Yr(os,"LEQR",(function(t){this._parseMat(t,To.LEQR)})),Yr(os,"CHECK",(function(t){this._parseCheckRows(t,new Qo(0))})),Yr(os,"BRACE",(function(t){this._parseEq(t,new Lo(Lo.BRACE))})),Yr(os,"BRACEL",(function(t){this._parseEq(t,new Lo(Lo.BRACEL))})),Yr(os,"BRACER",(function(t){this._parseEq(t,new Lo(Lo.BRACER))})),Yr(os,"CBRACE",(function(t){this._parseEq(t,new Lo(Lo.CBRACE))})),Yr(os,"CBRACEL",(function(t){this._parseEq(t,new Lo(Lo.CBRACEL))})),Yr(os,"CBRACER",(function(t){this._parseEq(t,new Lo(Lo.CBRACER))})),Yr(os,"DBRACEL",(function(t){this._parseEq(t,new Lo(Lo.DBRACEL))})),Yr(os,"DBRACER",(function(t){this._parseEq(t,new Lo(Lo.DBRACER))})),Yr(os,"GRINT",(function(t){this._parseEq(t,new Lo(Lo.GRINT))})),Yr(os,"HBRACE",(function(t){this._parseEq(t,new Co($r.HBRACE))})),Yr(os,"HBRACEB",(function(t){this._parseEq(t,new Co($r.HBRACEB))})),Yr(os,"HBRACET",(function(t){this._parseEq(t,new Co($r.HBRACET))})),Yr(os,"PAREN",(function(t){this._parseEq(t,new Lo(Lo.PAREN))})),Yr(os,"PARENL",(function(t){this._parseEq(t,new Lo(Lo.PARENL))})),Yr(os,"PARENR",(function(t){this._parseEq(t,new Lo(Lo.PARENR))})),Yr(os,"VECTOR",(function(t){this._parseEq(t,new Lo(Lo.VECTOR))})),Yr(os,"VECTORL",(function(t){this._parseEq(t,new Lo(Lo.VECTORL))})),Yr(os,"VECTORR",(function(t){this._parseEq(t,new Lo(Lo.VECTORR))})),Yr(os,"FLOOR",(function(t){this._parseEq(t,new Lo(Lo.FLOOR))})),Yr(os,"CEIL",(function(t){this._parseEq(t,new Lo(Lo.CEIL))})),Yr(os,"CONJ",(function(t){this._parseEq(t,new Ho)})),Yr(os,"PHASOR",(function(t){this._parseEq(t,new Go)})),Yr(os,"INPUT",(function(t){this._parseInput(t)})),os),cs\x3dfunction(){function t(i,n){e(this,t),this.initFields(),this._eqDoc\x3di,this._text\x3dn,this._inputOrder\x3d{}}return n(t,[{key:"initFields",value:function(){this._text\x3dnull,this._eqDoc\x3dnull,this._position\x3d0,this._textLength\x3d0,this._inComposite\x3d!1,this._compositeLevel\x3d0,this.eqCursorMarker\x3dnull,this.isValidCharCode\x3dnull,this.eqEditor\x3dnull,this.parens\x3d"[()]",this.specialchar\x3d"\\\\\x26;{}@^_",this.operators\x3d"+,\x3d\x3c\x3e*/-",this.dollar\x3d"$\u00a5\u20ac\u00a3",this.nonvarchars\x3dthis.parens+this.specialchar+this.operators+this.dollar,this._inputOrder\x3dnull}},{key:"_isOpenP",value:function(t){return"{"\x3d\x3dt||"("\x3d\x3dt||"["\x3d\x3dt||"|"\x3d\x3dt}},{key:"_isCloseP",value:function(t){return"}"\x3d\x3dt||")"\x3d\x3dt||"]"\x3d\x3dt||"|"\x3d\x3dt}},{key:"_isAlpha",value:function(t){return 1\x3d\x3d\x3dt.length\x26\x26t.toLowerCase()\x3e\x3d"a"\x26\x26t.toLowerCase()\x3c\x3d"z"}},{key:"parse",value:function(){this.eqCursorMarker\x3dnull,this._position\x3d0,this._textLength\x3dthis._text.length;var t\x3d[],e\x3dnew Qr;this._eqDoc.addChildAt(e,0);try{for(this._parseRow(e);e.getNumChildren()\x3e0;){var i\x3de.removeChildAt(0);t.push(i)}}finally{this._eqDoc.removeChild(e)}return t}},{key:"_currentChar",value:function(){return this._text.charAt(this._position)}},{key:"_parseRow",value:function(t){for(;this._position\x3cthis._textLength;){var e\x3dthis._currentChar();if("@"\x3d\x3d\x3de)this._parseComposite(t);else if("\x26"\x3d\x3d\x3de)this._parseEntity(t);else{if(";"\x3d\x3d\x3de)return;if(!("}"!\x3d\x3de||this._eqDoc.convertTypedBraces\x26\x26this._eqDoc.getAccessible()\x26\x26!this._inComposite))return;if("{"!\x3d\x3de||this._eqDoc.convertTypedBraces\x26\x26this._eqDoc.getAccessible()\x26\x26!this._inComposite)if("^"!\x3d\x3de||this._eqDoc.getAccessible())if("_"!\x3d\x3de||this._eqDoc.getAccessible())if("\\\\"\x3d\x3d\x3de)this._parseLiteral(t);else{this._eqDoc.convertTypedBraces\x26\x26this._eqDoc.getAccessible()\x26\x26("_"\x3d\x3d\x3de||"^"\x3d\x3d\x3de)\x26\x26(this._inComposite\x3d!0);var i\x3dnull;this._isValidChar(e)\x26\x26(i\x3dthis._eqDoc.createNode(e)),i\x26\x26t.addChild(i),this._position++}else this._parseSubscript(t);else this._parseSuperscript(t);else this._position++,this._parseRow(t),this._expect("}")}}}},{key:"_expect",value:function(t){if(!(this._position\x3cthis._textLength))throw new Error("expected ".concat(t," but reached end of text"));if(this._currentChar()!\x3d\x3dt)throw new Error("expected ".concat(t," at position ").concat(this._position));this._position++,this._eqDoc.convertTypedBraces\x26\x26!this._inComposite\x26\x26"{"\x3d\x3d\x3dt\x26\x26(this._inComposite\x3d!0),this._inComposite\x26\x26("{"\x3d\x3d\x3dt?this._compositeLevel++:"}"\x3d\x3d\x3dt\x26\x26this._compositeLevel--,this._compositeLevel\x3c\x3d0\x26\x26(this._inComposite\x3d!1))}},{key:"_parseLiteral",value:function(t){if(this._position++,!(this._position\x3cthis._textLength))throw new Error("end of text found looking for literal character");var e\x3dthis._currentChar();if(this._isValidChar(e)){var i\x3dnew rr(e);t.addChild(i)}this._position++}},{key:"_parseEntity",value:function(t){var e\x3dthis._text.indexOf(";",this._position+1);if(e\x3c0)throw new Error("expected a semicolon after \x26");var i\x3dthis._text.substring(this._position+1,e).toLowerCase();if(this._eqDoc.getAccessible()\x26\x26this._eqDoc.showAccessibleSymbolNames)return t.addChild(new rr("\x26".concat(i,";"),rr.EqTextType.ENTITY)),void(this._position+\x3di.length+2);if("integral"\x3d\x3di)return t.addChild(new Uo(0,!1)),void(this._position+\x3di.length+2);if("contourintegral"\x3d\x3di)return t.addChild(new Uo(0,!0)),void(this._position+\x3di.length+2);var n\x3dsr.getEqOp("\x26".concat(i,";"));if(n)return t.addChild(n),void(this._position+\x3di.length+2);var r\x3ddr.getEqParenFromEntity("\x26".concat(i,";"));if(r)return t.addChild(r),void(this._position+\x3di.length+2);if($o.isValidSymbol(i)){var o\x3dnew $o({name:i});return t.addChild(o),void(this._position+\x3di.length+2)}t.addChild(new Pr({name:i})),this._position+\x3di.length+2}},{key:"_readTextAhead",value:function(t){return this._text.substr(this._position,t.length).toUpperCase()\x3d\x3dt.toUpperCase()\x26\x26(this._position\x3dt.length,!0)}},{key:"_parseSuperscript",value:function(t){var e;e\x3dnew Jr,t.addChild(e),this._position++,this._expect("{"),this._parseRow(e.getEqRow(0)),this._expect("}")}},{key:"_parseSubscript",value:function(t){var e;e\x3dnew to,t.addChild(e),this._position++,this._expect("{"),this._parseRow(e.getEqRow(0)),this._expect("}")}},{key:"_cNumError",value:function(){throw new Error("Invalid CNUM format at position ".concat(this._position))}},{key:"_formatCNum",value:function(t){var e,i,n,r;r\x3dthis._eqDoc.siCommaChar,e\x3dparseFloat(t),isNaN(e)\x26\x26this._cNumError();var o\x3dt.lastIndexOf(".");for(o\x3e\x3d0?(i\x3dthis._eqDoc.getDecimalChar()+t.substring(o+1),n\x3do):(i\x3d"",n\x3dt.length);n\x3e0;)i\x3dt.substring(Math.max(0,n-3),n)+i,(n-\x3d3)\x3e0\x26\x26(i\x3dr+i);return i}},{key:"_parseString",value:function(){for(var t\x3d"";this._position\x3cthis._textLength;){var e\x3dthis._currentChar();if("}"\x3d\x3de||";"\x3d\x3de)break;t+\x3de,this._position++}return t}},{key:"_parseSize",value:function(t){var e\x3dnew vo(1);if(t.addChild(e),this._expect("{"),this._parseRow(e.getEqRow(0)),";"\x3d\x3d\x3dthis._currentChar()){this._position++;var i\x3dthis._parseString(),n\x3dparseInt(i);if(isNaN(n))throw new Error("Integer expected parsing @SIZE parameter at position ".concat(this._position));e.setPoints(n)}this._expect("}")}},{key:"_parseMNum",value:function(t){this._expect("{"),this._parseRow(t),this._expect(";");var e\x3dnew io;t.addChild(e),this._parseRow(e.getEqRow(0)),this._expect(";"),this._parseRow(e.getEqRow(1)),this._expect("}")}},{key:"_parseCNum",value:function(t,e){var i,n\x3d!1,r\x3d!1,o\x3d!1,s\x3d!1,a\x3d"",c\x3dthis._eqDoc.getDecimalChar();for(this._expect("{");this._position\x3cthis._textLength;){if("-"\x3d\x3d\x3d(i\x3dthis._currentChar()))(n||o)\x26\x26this._cNumError(),n\x3d!0;else if(i!\x3dthis._eqDoc.currencyChar||e)if("("\x3d\x3di)o\x26\x26this._cNumError(),o\x3d!0;else if(")"\x3d\x3di)o\x26\x26!s||this._cNumError(),s\x3d!0;else if(" "\x3d\x3di);else{if("}"\x3d\x3di)break;s?this._cNumError():i\x3d\x3dc?a\x3d"".concat(a,"."):a+\x3di}else r\x26\x26this._cNumError(),r\x3d!0;this._position++}n\x26\x26t.addChild(sr.getEqOpFromChar("-")),(r||e)\x26\x26t.addChild(new rr(this._eqDoc.currencyChar)),o\x26\x26t.addChild(new rr("(")),e?t.addChild(new rr(er.trim(this._eqDoc.toLocaleDecimal(a)))):t.addChild(new rr(this._formatCNum(a))),s\x26\x26t.addChild(new rr(")"))}},{key:"_parseNegP",value:function(t){var e,i\x3d!1,n\x3d"";for(this._expect("{");this._position\x3cthis._textLength;){if("-"\x3d\x3d\x3d(e\x3dthis._currentChar()))i\x26\x26this._cNumError(),i\x3d!0;else if(" "\x3d\x3d\x3de);else{if("}"\x3d\x3de)break;n+\x3de}this._position++}i?t.addChild(new rr(n)):(t.addChild(new rr("(")),t.addChild(new rr(er.trim(n))),t.addChild(new rr(")")))}},{key:"_parseComposite",value:function(t){this._expect("@");for(var e\x3d"",i\x3dnull;this._position\x3cthis._textLength\x26\x26"{"!\x3d\x3d(i\x3dthis._currentChar())\x26\x26"_"!\x3di;)e+\x3di,this._position++;this._eqDoc.convertTypedBraces\x26\x26(this._inComposite\x3d!0);var n\x3das[er.trim(e.toUpperCase())];null\x3d\x3dn\x26\x26(n\x3dfunction(t){this._parseEq(t,new mo({name:e}),{maxChildren:10})}),on(this,n)(t)}},{key:"_parseEq",value:function(t,e,i){var n\x3d{maxChildren:1,reduceEmptyRows:!1};this._expect("{"),sn(n,i),t.addChild(e);var r\x3d0;do{if(r\x3e\x3dn.maxChildren)return void this._expect("}");"}"!\x3dthis._currentChar()\x26\x26r\x3e\x3de.getNumChildren()\x26\x26e.addChild(new Qr),this._parseRow(e.getEqRow(r)),"}"!\x3dthis._currentChar()\x26\x26(this._expect(";"),r+1\x3e\x3de.getNumChildren()\x26\x26e.addChild(new Qr)),r++}while(this._position\x3cthis._textLength\x26\x26"}"!\x3dthis._currentChar());this._expect("}"),n.reduceEmptyRows\x26\x26!this._eqDoc.doNotReduceEmptyRows\x26\x26e.reduceEmptyRows()}},{key:"_parseMatRow",value:function(t){var e,i\x3d!0;do{e\x3dt.addEqRow(i),this._parseRow(e);var n\x3dthis._currentChar();if(";"\x3d\x3d\x3dn)this._position++,i\x3d!1;else if("}"\x3d\x3d\x3dn)return void this._position++}while(this._position\x3cthis._textLength);if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing matrix row")}},{key:"parseFunction",value:function(t){var e\x3d0;if("@function_"\x3d\x3dthis._text.substr(this._position,10)){for(e\x3dthis._position+10;this.isAlpha(this._text.charAt(e))\x26\x26e\x3cthis._textLength;)e++;if(fx\x3dthis._text.substring(this._position+10,e),e\x3e\x3dthis._textLength||!this.isOpenP(ch1\x3dthis._text.charAt(e++)))throw new exception(sprintf("(,{ or [ expected at position %d",e));if(e\x3e\x3dthis._textLength||!this.isCloseP(ch2\x3dthis._text.charAt(e++)))throw new exception(sprintf("),} or ] expected at position %d",e));eq\x3dnew EqFunction(fx,ch1,ch2),maxChildren\x3d1}eq\x26\x26(this._position\x3de,this._expect("{"))}},{key:"_parseMat",value:function(t,e){var i\x3dnew To(0,0,e);t.addChild(i),this._expect("{"),this._parseMatRows(i),this._expect("}")}},{key:"_parseMatRows",value:function(t){do{"{"\x3d\x3d\x3dthis._currentChar()?(this._position++,this._parseMatRow(t)):";"\x3d\x3d\x3dthis._currentChar()\x26\x26this._position++}while(this._position\x3cthis._textLength\x26\x26"}"!\x3dthis._currentChar());if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing matrix")}},{key:"_parseCheckCol",value:function(t,e){var i;do{i\x3dnew Qr,t.addChild(i),this._parseRow(i);var n\x3dthis._currentChar();if(";"\x3d\x3d\x3dn)this._position++;else if("}"\x3d\x3dn)return void this._position++}while(this._position\x3cthis._textLength);if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing check matrix row")}},{key:"_parseCheckRows",value:function(t,e){t.addChild(e);var i\x3d!0,n\x3d!0;do{i\x26\x26(this._expect("{"),this._parseRow(e.getEqRow(0)));var r\x3dthis._currentChar();"{"\x3d\x3d\x3dr?(this._position++,this._parseCheckCol(e,n)):";"\x3d\x3d\x3dr\x26\x26(this._position++,i?i\x3d!1:n\x26\x26(n\x3d!1))}while(this._position\x3cthis._textLength\x26\x26"}"!\x3dthis._currentChar());if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing check matrix");this._expect("}")}},{key:"isAtVarChar",value:function(t){}},{key:"_parseInput",value:function(t){this._expect("{");var e\x3dthis._parseString().toUpperCase();this._inputOrder[e]||(this._inputOrder[e]\x3d0);var i\x3dnew xo({name:e,orderNo:this._inputOrder[e]++});this._expect("}"),t.addChild(i)}},{key:"_parseEqDummy",value:function(t){var e\x3dnew co;t.addChild(e),this._expect("{"),this._parseRow(e),this._expect("}")}},{key:"_parseAtVar",value:function(t){for(var e\x3d"";this._position\x3cthis._textLength;){var i\x3dthis._currentChar();if(!this._isAtVarChar(i))break;e\x3di,this._position++}t.addChild(new EqVar(e))}},{key:"_parseCursor",value:function(t){this.eqCursorMarker?this.eqCursorMarker.parent.removeChild(eqCursorMarker):this.eqCursorMarker\x3dnew $n,t.addChild(this.eqCursorMarker)}},{key:"_isValidChar",value:function(t){return null\x3d\x3dthis.isValidCharCode||this.isValidCharCode.apply(this.eqEditor,[t.charCodeAt(0)])}}]),t}(),us\x3dfunction(){function t(i){e(this,t),this.node\x3di.node}return n(t,[{key:"announce",value:function(t){var e\x3dthis;t\x26\x26(this._queue((function(){e.node.innerHTML\x3dt})),this._queue((function(){e.node.innerHTML\x3d""}),300))}},{key:"announceEqs",value:function(t,e,i){if(t\x26\x26t.length){var n\x3d[];e\x26\x26n.push(e),un(t,(function(t){n.push(t.getAccessibleName())})),i\x26\x26n.push(i),this.announce(n.join(" "))}}},{key:"announceOutro",value:function(t){t\x26\x26this.announce(this.getOutroAnnouncement(t))}},{key:"process",value:function(t,e,i,n,r,o){if(t){var s\x3dt.eq,a\x3dthis.getEntryAnnouncement(s),c\x3ds.getAccessibleName(t.location),u\x3ds.getAccessiblePosition(t.location),l\x3d"",h\x3d"";if(n?h\x3d" StartEquation ":r\x26\x26(l\x3d" EndEquation "),o)a\x26\x26this.announce("".concat(a).concat(h).concat(u).concat(c).concat(l));else{var d\x3d"";if(e)switch(e.direction){case jn.UP:d\x3d"Up: ";break;case jn.DOWN:d\x3d"Down: ";break;case jn.LEFT:d\x3d"Left: ";break;case jn.RIGHT:d\x3d"Right: ";break;case jn.HOME:d\x3d"Home: ";break;case jn.END:d\x3d"End: ";break;case jn.TABFORWARD:d\x3d"Tab Forward: ";break;case jn.TABBACK:d\x3d"Tab Back: "}else i\x26\x26(d\x3d"Mouse: ");this.announce("".concat(d).concat(a).concat(h).concat(u).concat(c).concat(l))}}}},{key:"setAnnouncementAnscestor",value:function(t){this._prevAnnouncementAncestor\x3dt,this._annoucementAncestorChanged\x3d!0}},{key:"getEntryAnnouncement",value:function(t){var e\x3d"";if(this._annoucementAncestorChanged\x26\x26this._prevAnnouncementAncestor){var i\x3dtr.getNearestAnnouncementAncestor(t);if(i\x26\x26!i.isAncestorOf(this._prevAnnouncementAncestor)){var n\x3di.getAccessibleAnnouncement();n\x26\x26(e\x3d"Entered ".concat(n," "))}this._annoucementAncestorChanged\x3d!1}return e}},{key:"getOutroAnnouncement",value:function(t){if(t\x26\x26t.getAccessibleAnnouncement){var e\x3d"",i\x3dt.getAccessibleAnnouncement();return i\x26\x26(e\x3d"Exited ".concat(i," ")),e}}},{key:"_queue",value:function(t,e){this._jobQueue||(this._jobQueue\x3d[]),this._jobQueue.push({action:t,wait:e}),this._queueWorking||this._processQueue()}},{key:"_processQueue",value:function(){var t\x3dthis;if(this._jobQueue\x26\x260!\x3d\x3dthis._jobQueue.length){this._queueWorking\x3d!0;var e\x3dthis._jobQueue.shift();setTimeout((function(){try{e.action()}catch(t){}t._processQueue()}),e.wait||0)}else this._queueWorking\x3d!1}}]),t}();function ls(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var hs\x3dfunction(t){a(s,t);var i\x3dls(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t._fontChecker\x3dnew Lr(u(t)),t._shortcutList\x3dnew Br,t.setupFunctionList(),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._currentRow\x3dnull,this.baseClass\x3d"eqDocument",this._dummyText\x3dnull,this._textFormat\x3dnull,this._focused\x3d!1,this._functionList\x3dnull,this._latexSpecialFunctionList\x3dnull,this._caseSensitive\x3d!1,this.italicizeVariables\x3d!1,this._useEmbededFont\x3d!1,this._shortcutList\x3dnull,this._onCreateControl\x3dnull,this._eqObjects\x3dnew Array,this.currentRow\x3dnull,this.onVarExists\x3dnull,this.showDebugBoxes\x3d!1,this.deductLeading\x3d!1,this.deductExtraMargins\x3d!1,this.borderColor\x3d255,this.borderAlpha\x3d1,this.currentRowColor\x3d12574975,this.lineColor\x3d0,this.fillLineColor\x3d5592405,this.numberColor\x3d0,this.functionColor\x3d204,this.varColor\x3d204,this.parenColor\x3d0,this.unmatchedParenColor\x3d16711680,this.objectFillColor\x3d12574975,this.objectLineColor\x3d255,this.minTextSize\x3d11,this.symbolFont\x3dnull,this.symbolFontEmbeded\x3d!1,this.useTemplateFunctions\x3d!1,this.treatPipesAsParens\x3d!1,this.smartSlashNumbersOnly\x3d!1,this.symbolFontCapital\x3dnull,this.symbolFontCapitalEmbeded\x3d!1,this.calligraphicFont\x3dnull,this.calligraphicFontEmbeded\x3d!1,this.opFont\x3dnull,this.opFontEmbeded\x3d!1,this.enlargeItalicMargin\x3d!1,this.fixLatexVector\x3d!1,this.fixLatexInverse\x3d!1,this.chemAsterisk\x3d!1,this.eiItalic\x3d!0,this.convertLScript\x3d!1,this.supportGravityConstant\x3d!1,this.supportAsinAcosAtan\x3d!1,this.sharpEmbedded\x3d!0,this.latexSpecialFunctions\x3d!1,this.thickBrackets\x3d!1,this.ignoredFonts\x3dnew Array,this.smartOperatorSpace\x3d!1,this.parseLatexPipesAsABS\x3d!1,this.fullArrows\x3d!1,this.allowCommaNumbers\x3d!0,this.allowDollarNumbers\x3d!1,this.allowNegParens\x3d!1,this.allowInternationalInput\x3d!1,this.interpretFunctions\x3d!1,this.markUnmatchedParens\x3d!1,this.disableParenMatching\x3d!1,this.boldFunctions\x3d!0,this.siCommaChar\x3d",",this.siCommaDecimal\x3d!1,this.spacesAreText\x3d!0,this.printing\x3d!1,this.evalEqText\x3d!1,this._emptyDocWidth\x3d-1,this.ignoreEmptyBoxes\x3d!1,this.adjustCommas\x3d!1,this.ignoreScripts\x3d!0,this.ignoreSubscriptInSuperscript\x3d!0,this.ignoreScriptsInAllComposites\x3d!0,this.showEmptyBoxes\x3d!1,this.doNotReduceEmptyRows\x3d!1,this.currencyChar\x3d"$",this.disabled\x3d!1,this.authoring\x3d!1,this.editable\x3d!1,this.suppressEmptyHiding\x3d!1,this.defaultSymbolItalic\x3d!1,this.data\x3dnull,this.processFrameEntered\x3d!1,this.simpleEqText\x3d!1,this._accessible\x3d!1,this._eqCursorMarker\x3dnull,this._fontChecker\x3dnull,this.ignoreOperators\x3d!1,this.showAccessibleSymbolNames\x3d!1,this.convertTypedBraces\x3d!1,this._prompt\x3dnull}},{key:"isEqDocument",value:function(){return!0}},{key:"createDom",value:function(){var t\x3do(r(s.prototype),"createDom",this).apply(this,arguments);return mn(t,"eqRow"),t\x26\x26(this.inputs||(Ni.set(t,{"aria-hidden":"true"}),Ni.set(t,{role:"presentation"})),this.showEmptyBoxes\x26\x26fn(t,"showEmptyBoxes")),t}},{key:"setAccessible",value:function(t){this._accessible\x3dt}},{key:"getAccessible",value:function(){return this._accessible}},{key:"getEqDocument",value:function(){return this}},{key:"getCurrentRow",value:function(){return this._currentRow}},{key:"setCurrentRow",value:function(t){this._currentRow!\x3dt\x26\x26(this._currentRow\x26\x26this._currentRow.setIsCurrent(!1),this._currentRow\x3dt,this._currentRow.setIsCurrent(!0))}},{key:"setShortcuts",value:function(t,e){e||this.clearShortcuts();var i\x3dthis;un(t,(function(t){i.addShortcut(t.name,t.text)}))}},{key:"setupFunctionList",value:function(){var t\x3ds.DefaultFunctions.en_US;this.setFunctionList(t)}},{key:"setFunctionList",value:function(t){this._functionList\x3dt.slice(0),this._functionList.sort((function(t,e){return t\x3d\x3de?0:t\x3ee?1:-1}))}},{key:"getFunctionList",value:function(){return this._functionList}},{key:"addFunction",value:function(t){var e\x3dthis._functionList.slice(0);e.push(t),this.setFunctionList(e)}},{key:"addLatexFunction",value:function(t,e){this._latexSpecialFunctionList||(this._latexSpecialFunctionList\x3d{}),this._latexSpecialFunctionList[t]\x3de}},{key:"removeLatexFunction",value:function(t){delete this._latexSpecialFunctionList[t]}},{key:"isLatexFunction",value:function(t){return!!this._latexSpecialFunctionList\x26\x26this._latexSpecialFunctionList.hasOwnProperty(t)}},{key:"getLatexFunction",value:function(t){return this._latexSpecialFunctionList?this._latexSpecialFunctionList[t]:"\\\\unknown"}},{key:"attach",value:function(t,e){this.domNode\x26\x26this.domNode.parentNode\x26\x26this.domNode.parentNode.removeChild(this.domNode),this._initDom(),zi.place(this.domNode,t),e||this.doLayout()}},{key:"getCommaChar",value:function(){return this.allowCommaNumbers?this.siCommaChar:","}},{key:"getDecimalChar",value:function(){return this.siCommaDecimal?",":"."}},{key:"toLocaleDecimal",value:function(t){return this.siCommaDecimal?t.replace(".",this.getDecimalChar()):t}},{key:"createNode",value:function(t){if(this.chemAsterisk\x26\x26"*"\x3d\x3dt\x26\x26this.getCurrentRow()\x26\x26this.getCurrentRow().parent\x26\x26this.getCurrentRow().parent.isEqSuperscript())return sr.getEqOp("\x26star;");if(" "!\x3dt||t!\x3dthis.getCommaChar()\x26\x26!this.spacesAreText){if(!this.ignoreOperators\x26\x26sr.isOpChar(t))return sr.getEqOpFromChar(t);if(!this.allowNegParens||"("!\x3dt\x26\x26")"!\x3dt){if(this.treatPipesAsParens\x26\x26"|"\x3d\x3dt)return new dr(t,dr.EqParenType.UNKNOWN);if(tr.isParen(t))return new dr(t);var e\x3dPr.getUnicodeSymbolInfo(t);return e?new Pr({name:e}):new rr(t)}return new rr(t)}return new rr(t)}},{key:"getTreeLabel",value:function(){return"eqDoc"}},{key:"addShortcut",value:function(t,e){this._shortcutList.add(t,e)}},{key:"clearShortcuts",value:function(){this._shortcutList\x3dnew Br}},{key:"getShortcutList",value:function(){return this._shortcutList}},{key:"parse",value:function(t){this.clear();var e\x3dthis.parseNodes(t);this.insertEq(e,0),this.doLayout()}},{key:"parseNodes",value:function(t,e){var i\x3dnew cs(this,t),n\x3di.parse();return this.setEqCursorMarker(i.eqCursorMarker),e\x26\x26i.eqCursorMarker\x26\x26(e.eqCursorMarker\x3di.eqCursorMarker),n}},{key:"invalidateAndLayout",value:function(){this.invalidate(),this.doLayout()}},{key:"reLayout",value:function(){this.invalidate(!0),this.doLayout()}},{key:"doLayout",value:function(){this._validated||(this._fontChecker.clearFonts(),this.preRender(),this.render(),this.postRender(),this.validate(),this._fontChecker.processFonts())}},{key:"clearEqCursorMarker",value:function(){this.setEqCursorMarker(null)}},{key:"setEqCursorMarker",value:function(t){this._eqCursorMarker!\x3dt\x26\x26(this._eqCursorMarker\x26\x26this._eqCursorMarker.destroy(),this._eqCursorMarker\x3dt)}},{key:"getEqCursorMarker",value:function(){return this._eqCursorMarker}},{key:"getItalicizeVariables",value:function(){return this.italicizeVariables}},{key:"setItalicizeVariables",value:function(t){this.italicizeVariables\x3dt}},{key:"getCaseSensitive",value:function(){return this._caseSensitive}},{key:"setCaseSensitive",value:function(t){this._caseSensitive\x3dt}},{key:"getFocused",value:function(){return this._focused}},{key:"setFocused",value:function(t){this._focused!\x3dt\x26\x26(this._focused\x3dt)}},{key:"getPrompt",value:function(){return this._prompt}},{key:"setPrompt",value:function(t,e){this._prompt\x3dt,this.invalidate(),this.doLayout(),this.preparePrompt(e)}},{key:"preparePrompt",value:function(t){this._prompt\x26\x26(this.domNode.setAttribute("data-prompt",this._prompt),fn(this.domNode,t\x26\x26"eqPromptAcs"\x3d\x3d\x3dt?"eqPromptAcs":"eqPrompt"))}},{key:"getEqText",value:function(){var t\x3dnull;if(this.ignoreScripts)for(var e\x3d0;e\x3cthis.getNumChildren();e++){var i\x3dthis.getChild(e);if(i.isEqSuperscript()||i.isEqSubscript()\x26\x26null\x3d\x3dt)t\x3di;else if(!i.isEqText()||""!\x3d\x3di.getEqText().trim()){t\x3dnull;break}}return t?t.getEqRow(0).getEqText():o(r(s.prototype),"getEqText",this).apply(this,arguments)}},{key:"getParenColor",value:function(t){var e\x3d(t?this.unmatchedParenColor:this.parenColor).toString(16);return e.length\x3c6\x26\x26(e\x3dnew Array(6-e.length+1).join("0")+e),"#".concat(e)}},{key:"getSimpleEqText",value:function(){this.simpleEqText\x3d!0;var t\x3dthis.getEqText();return this.simpleEqText\x3d!1,t}},{key:"registerFont",value:function(t,e){this._fontChecker.registerFont(t,e)}},{key:"emit",value:function(t,e){this.domNode\x26\x26Wn(t,e,this.domNode)}},{key:"getAccessibleAnnouncement",value:function(){return""}},{key:"createEqAccessibleAnnouncer",value:function(t){this.eqAccessibleAnnouncer\x3dnew us({node:t})}},{key:"getEqAccessibleAnnouncer",value:function(){return this.eqAccessibleAnnouncer}}]),s}(Qr);hs.DefaultShortcuts\x3d[{name:"\\\\divide",text:"\x26div;"},{name:"\\\\xyz",text:"@DIV{;@CURSOR{}}"},{name:"\\\\times",text:"\x26times;"},{name:"\\\\sqrt",text:"@RT{@CURSOR{}}"},{name:"\\\\nrt",text:"@RT{;@CURSOR{}}"},{name:"\\\\union",text:"\x26cup;"},{name:"\\\\inter",text:"\x26cap;"},{name:"\\\\pi",text:"\x26pi;"},{name:"pi",text:"\x26pi;"},{name:"\\\\inf",text:"\x26inf;"},{name:"\\\\empty",text:"\x26empty;"},{name:"\\\\angle",text:"\x26angle;"},{name:"\\\\cdelta",text:"\x26cdelta;"},{name:"\\\\abs",text:"|@DUMMY{@CURSOR{}}|"},{name:"\\\\cap",text:"\x26cap;"},{name:"\\\\cup",text:"\x26cup;"},{name:"\\\\textbar",text:"|"},{name:"\\\\cis",text:"\x26ang;"},{name:"\\\\partiald",text:"\x26part;"},{name:"\\\\nsubset",text:"\x26nsub;"},{name:"\\\\nelement",text:"\x26notin;"},{name:"\\\\npropersub",text:"\x26nsub;"},{name:"\\\\delta",text:"\x26delta;"},{name:"\\\\epsilon",text:"\x26epsilon;"},{name:"\\\\eta",text:"\x26eta;"},{name:"\\\\phi",text:"\x26phi;"},{name:"\\\\vphi",text:"\x26phiv;"},{name:"\\\\tau",text:"\x26tau;"},{name:"\\\\psi",text:"\x26psi;"},{name:"\\\\omega",text:"\x26omega;"},{name:"\\\\plusminus",text:"\x26plusminus;"},{name:"\\\\element",text:"\x26in;"},{name:"\\\\notelement",text:"\x26notin;"},{name:"\\\\subset",text:"\x26subset;"},{name:"\\\\notsubset",text:"\x26notsubset;"},{name:"\\\\propersub",text:"\x26propsubset;"},{name:"\\\\notpropersub",text:"\x26notpropsubset;"},{name:"\\\\and",text:"\x26and;"},{name:"\\\\or",text:"\x26or;"},{name:"\\\\not",text:"\x26not;"},{name:"\\\\alpha",text:"\x26alpha;"},{name:"\\\\beta",text:"\x26beta;"},{name:"\\\\gamma",text:"\x26gamma;"},{name:"\\\\theta",text:"\x26theta;"},{name:"\\\\mu",text:"\x26mu;"},{name:"\\\\sigma",text:"\x26sigma;"},{name:"\\\\lambda",text:"\x26lambda;"},{name:"\\\\chi",text:"\x26chi;"},{name:"\\\\rho",text:"\x26rho;"},{name:"\\\\grad",text:"\x26grad;"},{name:"\\\\int",text:"@integral{}"},{name:"\\\\hat",text:"@hat{@CURSOR{}}"},{name:"\\\\bar",text:"@bar{@CURSOR{}}"},{name:"\\\\dbar",text:"@ovdbbar{@CURSOR{}}"},{name:"\\\\sum",text:"@SUM{;}"},{name:"\\\\csigma",text:"@SUM{}"},{name:"\\\\supsub",text:"@SUPSUB{ ; }"},{name:"\\\\subsub",text:"_{@CURSOR{}}@DUMMY{}_{}"},{name:"\\\\dint",text:"@INTEGRAL{@CURSOR{};}"},{name:"\\\\lsum",text:"@SUM{@CURSOR{};}"},{name:"\\\\stack",text:"@SUPSUBSTACK{;}"},{name:"\\\\nu",text:"\x26nu;"},{name:"\\\\eq",text:"\x26dbharpoon;"}],hs.PrimeShortcuts\x3d[{name:"\'",text:"\x26prime;"},{name:"`",text:"\x26prime;"},{name:\'"\',text:"\x26prime2;"},{name:"\x26prime;\'",text:"\x26prime2;"},{name:"\x26prime;`",text:"\x26prime2;"},{name:\'\x26prime;"\',text:"\x26prime3;"}],hs.DefaultFunctions\x3d{en_US:["sin","cos","tan","arcsin","arccos","arctan","sinh","cosh","tanh","arcsinh","arccosh","arctanh","ln","log","exp","e","i","sec","csc","cot","arcsec","arccsc","arccot","csch","sech","coth","arccsch","arcsech","arccoth","cdot"],en_GB:[],es_MX:["sen","senh","arcsen","arcsenh"],pt_BR:["sen","tg","cosec","cotg","senh","tgh","cosech","cotgh","arcsen","arctg","arccosec","arccotg","arcsenh","arctgh","arccosech","arccotgh","arc sen","arc cos","arc tg","arc sec","arc cosec","arc cotg","arc senh","arc cosh","arc tgh","arc sech","arc cosech","arc cotgh"],it_IT:["sen","tg","cosec","cotg","senh","tgh","cosech","cotgh","arcsen","arctg","arccosec","arccotg","arcsenh","arctgh","arccosech","arccotgh","cotan","cotanh","arccotan","arccotanh"],de_DE:["cosec","arccosec","cosech","arccosech"],de_AT:["cosec","arccosec","cosech","arccosech"],fr_FR:["cosec","cotan","arccosec","arccotan","cosech","arccosech","cotanh","arccotanh","sh","ch","th","argsh","argch","argth","argsech","argcosech","argcoth"],fr_CA:["cosec","cotan","arccosec","arccotan","cosech","arccosech","cotanh","arccotanh","sh","ch","th","argsh","argch","argth","argsech","argcosech","argcoth","tg","cotg"]};var ds\x3dfunction(){function t(){e(this,t),this._position\x3d0,this._eqRow\x3dnull,this._domNode\x3dnull,this._timer\x3dnull}return n(t,[{key:"getDomNode",value:function(){return this._domNode||(this._domNode\x3dzi.create("span",{class:"eqCaret",innerHTML:" "})),this._domNode}},{key:"moveCursor",value:function(t,e){this._position\x3de,this._eqRow\x3dt;var i\x3dthis.getDomNode();i.parentNode\x26\x26i.parentNode.removeChild(i);var n\x3dt.placeCaret(i,e);return mn(this._domNode,"blink"),this.initTimer(),n}},{key:"initTimer",value:function(){this._timer||(this._timer\x3dwindow.setInterval(on(this,this.onTimer),750))}},{key:"onTimer",value:function(){this._domNode\x26\x26yn(this._domNode,"blink")}}]),t}(),ps\x3dfunction t(i,n,r,o){e(this,t),this.characterDeleted\x3d!1,this.extendSelection\x3d!1,this.moveRight\x3d!1,this.moveLeft\x3d!1,this.row\x3dn,this.direction\x3di,this.position\x3do,this.positionStart\x3dr},fs\x3dfunction t(i,n,r){e(this,t),this.chr\x3di,this.row\x3dn,this.position\x3dr,this.ignore\x3d!1},ms\x3d{None:"",InsertingText:"InsertingText",InsertingEq:"InsertingEq",Deleting:"Deleting"},gs\x3dfunction(){function t(i){e(this,t),this.initFields(),this._eqEditor\x3di,this._undoIndex\x3d0,this._undoList\x3d[]}return n(t,[{key:"initFields",value:function(){this._maxSize\x3d32,this._undoList\x3dnull,this._undoIndex\x3d0,this._eqEditor\x3dnull,this._undone\x3d!1,this._restore\x3d!1,this._lastAction\x3dnull,this.holdSave\x3d!1,this._frozen\x3d!1}},{key:"_textWithoutCursorMarker",value:function(t){return t.replace("@CURSOR{}","")}},{key:"setUndoSequence",value:function(t){this._undoList\x3d[];var e\x3dthis;un(t.sequence,(function(t){e._undoList.push(t)}),this),this._undoIndex\x3dt.index}},{key:"getUndoSequence",value:function(){return{sequence:this._undoList,index:this._undoIndex}}},{key:"freeze",value:function(){this._frozen\x3d!0}},{key:"unFreeze",value:function(){this._frozen\x3d!1}},{key:"save",value:function(t,e){if(!this._restore\x26\x26!this._frozen)if(this.holdSave)this.holdSave\x3d!1;else if(!(t\x26\x26this._lastAction\x26\x26t\x3d\x3d\x3dms.InsertingText\x26\x26t\x3d\x3d\x3dthis._lastAction||(this._lastAction\x3dt,this._undoIndex\x3d\x3d\x3dthis._undoList.length\x26\x26this._undoIndex\x3e0\x26\x26this._eqEditor\x26\x26this._eqEditor.getEqText()\x3d\x3d\x3dthis._textWithoutCursorMarker(this._undoList[this._undoList.length-1])))){e||(this._undone\x3d!1);var i\x3dthis._eqEditor.getEqTextWithCursorMarker();this._undoIndex\x3d\x3d\x3dthis._undoList.length?(this._undoList.push(i),this._undoIndex\x3dthis._undoList.length):(this._undoList[this._undoIndex]\x3di,this._undoIndex++,this._undoList.slice(this._undoIndex,this._undoList.length-1)),this._undoList.length\x3ethis._maxSize\x26\x26(this._undoList.shift(),this._undoIndex--)}}},{key:"_setEqText",value:function(t){this._restore\x3d!0;try{this._eqEditor.insertEqText(t,{clear:!0})}finally{this._restore\x3d!1}}},{key:"canUndo",value:function(){return this._undoIndex\x3e0}},{key:"undo",value:function(){this.canUndo()\x26\x26(this._undone||(this.save(null,!0),this._undoIndex--,this._undone\x3d!0),this._setEqText(this._undoList[--this._undoIndex]),this._lastAction\x3dnull)}},{key:"canRedo",value:function(){return this._undoIndex\x3cthis._undoList.length-1}},{key:"redo",value:function(){this.canRedo()\x26\x26(this._setEqText(this._undoList[++this._undoIndex]),this._lastAction\x3dnull)}},{key:"reset",value:function(){this._lastAction\x3dnull,this._undoIndex\x3d0,this._undoList\x3d[],this._undone\x3d!1}}]),t}(),vs\x3dfunction(){function t(){e(this,t),this._handlers\x3d[]}return n(t,[{key:"emit",value:function(t,e,i){if(i||this.domNode)return i\x3di||this.domNode,Wn(t,e,i)}},{key:"own",value:function(){var t\x3dthis,e\x3d[];return un(arguments,(function(i){i\x26\x26i.clear\x26\x26(t._handlers.push(i),e.push(i))})),e}},{key:"destroy",value:function(){un(this._handlers,(function(t){return t.clear()}))}}]),t}();function ys(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var xs\x3dfunction(t){a(s,t);var i\x3dys(s);function s(t){var n;return e(this,s),(n\x3di.call(this)).initFields(),n._host\x3dt.host,n._setupHost(),n}return n(s,[{key:"initFields",value:function(){this._host\x3dnull,this._textArea\x3dnull,this._initialized\x3d!1,this.baseClass\x3d"hiddenInputContainer",this.focusNode\x3dnull,this.domNode\x3dnull,this._timer\x3dnull,this._textWasSelected\x3d!1,this._isAndroid\x3d!1,this._emptyString\x3d"\u2000\u2000",this.isFocused\x3d!1}},{key:"destroy",value:function(t){o(r(s.prototype),"destroy",this).call(this,arguments),this.domNode\x26\x26(t||zi.destroy(this.domNode),delete this.domNode,delete this.focusNode)}},{key:"_useKeypress",value:function(){return Li("touch")\x26\x26!Li("android")}},{key:"_createInput",value:function(){if(!this.domNode){this.domNode\x3dzi.create("span",{class:this.baseClass,"aria-hidden":"true"});var t\x3d"focusNode";Li("ios")?t+\x3d" ios":Li("android")\x26\x26(t+\x3d" android",this._isAndroid\x3d!0),this._textArea\x3dzi.create("input",{type:"text",class:t,autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false",value:this._emptyString,"aria-hidden":"true"},this.domNode),(this._host.useOsk||this._host.isOSKEditor)\x26\x26Ni.set(this._textArea,"readOnly",!0),this.focusNode\x3dthis._textArea}}},{key:"_setupHost",value:function(){this._initialized||(this._createInput(),zi.place(this.domNode,this._host.domNode,0),this._setupEvents(),this._initialized\x3d!0)}},{key:"_hostChanged",value:function(){}},{key:"_setupEvents",value:function(){null!\x3dthis._textArea\x26\x26this.own(nn(this._textArea,"keydown",on(this,"_onKeyDown")),nn(this._textArea,"keyup",on(this,"_onKeyUp")),nn(this._textArea,"keypress",on(this,"_onKeyPress")),nn(this._textArea,"focus",on(this,"_onFocus")),nn(this._textArea,"blur",on(this,"_onBlur")),nn(this._textArea,"input",on(this,"_onInput")),nn(this._textArea,"paste",on(this,"_onPaste")),nn(this._textArea,"cut",on(this,"_onCut")),nn(this._host.domNode,"change",on(this,this._hostChanged)))}},{key:"_onHostClicked",value:function(){this._textArea.focus()}},{key:"_onPaste",value:function(){var t\x3dthis;setTimeout((function(){var e\x3dt._textArea.value.replace(t._emptyString,"").substring("select: ".length,t._textArea.value.length);if(e)try{t.emit("pasteEqText",{eqText:"".concat(e,"@CURSOR{}")})}catch(n){for(var i\x3d0;i\x3ce.length;i++)t.emit("characterInput",{inputChar:e.charAt(i)})}}))}},{key:"_onCut",value:function(){var t\x3dthis;this._textWasSelected\x26\x26setTimeout((function(){t.emit("characterInput",{inputChar:"\\b"}),t._clearTextValue(),t._textWasSelected\x3d!1}),100)}},{key:"_onInput",value:function(){this._useKeypress()||(this._textWasSelected?("select: "\x3d\x3dthis._textArea.value\x26\x26(this.emit("characterInput",{inputChar:"\\b"}),this._clearTextValue()),this._textWasSelected\x3d!1):(null!\x3dthis._timer\x26\x26clearTimeout(this._timer),this._timer\x3dsetTimeout(on(this,this._sendInput),1)))}},{key:"_sendInput",value:function(){if(this._timer\x3dnull,!(this._textArea.value.length\x3c\x3d0)){var t\x3dthis._getTextValue();""\x3d\x3dt\x26\x26this._isAndroid\x26\x26this._textArea.value\x3d\x3dthis._emptyString.substr(0,this._emptyString.length-1)\x26\x26this.emit("characterInput",{inputChar:"delete"}),this._clearTextValue();for(var e\x3d0;e\x3ct.length;e++)this.emit("characterInput",{inputChar:t.charAt(e)});Li("ie")\x26\x26this._textArea.focus()}}},{key:"_onKeyDown",value:function(t){this._textWasSelected\x3d!1,37\x3d\x3d\x3dt.keyCode||39\x3d\x3d\x3dt.keyCode?(this._textArea.value\x3dthis._emptyString,this._textArea.setSelectionRange(0,0)):"select: "\x3d\x3dthis._textArea.value.replace(this._emptyString,"").substring(0,"select: ".length)\x26\x26this._clearTextValue()}},{key:"_onKeyUp",value:function(){}},{key:"_onKeyPress",value:function(t){var e\x3dString.fromCharCode(t.charCode);this._useKeypress()\x26\x26this.emit("characterInput",{inputChar:e})}},{key:"_onFocus",value:function(){this.focused(),this._setCaretPosition(!0)}},{key:"_onBlur",value:function(){this.blurred()}},{key:"focused",value:function(){this.isFocused\x3d!0,this.emit("focused")}},{key:"blurred",value:function(){this.isFocused\x3d!1,this.emit("blurred")}},{key:"_sizeToHost",value:function(){}},{key:"selectText",value:function(t){this._textArea.value\x3d"select: ".concat(t),this._textArea.focus(),this._textArea.selectionStart\x3d"select: ".length,this._textArea.selectionEnd\x3dthis._textArea.value.length,this._textWasSelected\x3d!0}},{key:"_clearTextValue",value:function(){this._textArea.value\x3dthis._emptyString,this._setCaretPosition()}},{key:"_getTextValue",value:function(){return this._textArea.value.replace(this._emptyString,"")}},{key:"_setCaretPosition",value:function(t){var e\x3dthis._emptyString.length;if(0!\x3de){var i\x3dthis._textArea;if(i.createTextRange){var n\x3di.createTextRange();n.move("character",e),n.select()}else void 0!\x3d\x3di.setSelectionRange\x26\x26(t||i.focus(),i.setSelectionRange(e,e))}}}]),s}(vs),ws\x3dnull,Cs\x3dfunction(t){var e\x3dt.extractSelectionEqText(!0);return!!e\x26\x26(ws\x3de,!0)},_s\x3d{copy:Cs,cut:function(t){Cs(t)\x26\x26t.inputCharacter("delete")},paste:function(t){ws\x26\x26(t.extractSelectionEqText(!0),t.insertEqText(ws))}};function Es(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}function bs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Rs\x3dfunction(t){a(s,t);var i\x3dbs(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.focused\x3d!1,this._focusManager\x3dBn,this.tabIndex\x3d0}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}},{key:"_onFocus",value:function(t){var e\x3dthis;if(!Li("ios")){if("mouse"\x3d\x3dt\x26\x26this.isFocusable())var i\x3dthis.own(nn(this.focusNode,"focus",(function(){n\x26\x26n.clear(),i\x26\x26i.clear()})))[0],n\x3dthis.own(nn(this.domNode.ownerDocument.body,"mouseup, touchend",(function(){n\x26\x26n.clear(),i\x26\x26i.clear(),e.focused\x26\x26e.focus()})))[0];this.scrollOnFocus\x26\x26this.defer((function(){this.domNode.scrollIntoView()}))}this.onFocus()}},{key:"_onBlur",value:function(){this.onBlur()}},{key:"isFocusable",value:function(){return"none"!\x3d\x3dbi(this.domNode,"display")}},{key:"focus",value:function(){}}]),s}(function(t){a(s,t);var i\x3dEs(s);function s(t,n){var r;return e(this,s),(r\x3di.call(this)).initFields(),r.srcNodeRef\x3dn,r}return n(s,[{key:"initFields",value:function(){this.id\x3d"",this.srcNodeRef\x3dnull,this.baseClass\x3d"",this.declaredType\x3d"",this._handlers\x3d[]}},{key:"initialize",value:function(t){this.create(t)}},{key:"create",value:function(t){this.srcNodeRef\x26\x26"string"\x3d\x3dtypeof this.srcNodeRef.id\x26\x26(this.id\x3dthis.srcNodeRef.id),t\x26\x26(this.params\x3dt,sn(this,t)),this.id||(this.id\x3dSn(this.declaredType)),Pn(this.id)\x26\x26An(this.id),Ln(this),this.buildRendering();var e\x3dthis._replaceSourceNode();this.postCreate(),e\x26\x26delete this.srcNodeRef,this._created\x3d!0}},{key:"buildRendering",value:function(){this.domNode||(this.domNode\x3dthis.srcNodeRef||window.document.createElement("div")),this.baseClass\x26\x26fn(this.domNode,this.baseClass.split(" "))}},{key:"_replaceSourceNode",value:function(){if(this.domNode){var t\x3dthis.srcNodeRef;if(t\x26\x26t.parentNode\x26\x26this.domNode!\x3d\x3dt)return t.parentNode.replaceChild(this.domNode,t),!0}return!1}},{key:"postCreate",value:function(){this.domNode.setAttribute("assessmentsComponentId",this.id)}},{key:"startup",value:function(){this._started||(this._started\x3d!0)}},{key:"destroy",value:function(t){function e(e){e.destroyRecursive?e.destroyRecursive(t):e.destroy\x26\x26e.destroy(t)}o(r(s.prototype),"destroy",this).call(this,arguments),this._beingDestroyed\x3d!0,this.domNode\x26\x26un(Dn(this.domNode),e),this.destroyRendering(t),An(this.id),this._destroyed\x3d!0}},{key:"destroyRendering",value:function(t){this.domNode\x26\x26(t?Ni.remove(this.domNode,"assessmentsComponentId"):zi.destroy(this.domNode),delete this.domNode),this.srcNodeRef\x26\x26(t||zi.destroy(this.srcNodeRef),delete this.srcNodeRef)}},{key:"defer",value:function(t,e){var i\x3dthis,n\x3dsetTimeout((function(){n\x26\x26(n\x3dnull,i._destroyed||on(i,t)())}),e||0);return{clear:function(){n\x26\x26clearTimeout(n),n\x3dnull}}}}]),s}(vs));function qs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var ks\x3dfunction(t){a(s,t);var i\x3dqs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._eqDoc\x3dnew hs,n._eqDoc.interpretFunctions\x3d!0,n._eqDoc.parentObject\x3du(n),t\x26\x26t.docSettings\x26\x26sn(n._eqDoc,t.docSettings),n._eqDoc.supportGravityConstant\x26\x26n._eqDoc.addFunction("g"),n._eqDoc.convertLScript\x26\x26n._eqDoc.addFunction("l"),n._eqDoc.supportAsinAcosAtan\x26\x26(n._eqDoc.addFunction("asin"),n._eqDoc.addFunction("acos"),n._eqDoc.addFunction("atan")),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._eqDoc\x3dnull}}]),s}(Rs),Ns\x3dfunction(){function t(i){e(this,t),this._str\x3di}return n(t,[{key:"getStartDelimiter",value:function(){return this._str.charAt(0)}},{key:"getEndDelimiter",value:function(){return this._str.charAt(1)}}]),t}();Ns.getCurly\x3dfunction(){return new Ns("{}")},Ns.getSquare\x3dfunction(){return new Ns("[]")},Ns.getPipe\x3dfunction(){return new Ns("||")};var Ts\x3dfunction(){function t(i,n){e(this,t),this._eqDoc\x3di,this._text\x3dn,this._position\x3d0,this._textLength\x3d0,this.eqCursorMarker\x3dnull,this.isValidCharCode\x3dnull,this.eqEditor\x3dnull}return n(t,[{key:"parse",value:function(){this._position\x3d0,this._textLength\x3dthis._text.length;var t\x3d[],e\x3dnew Qr;this._eqDoc.addChildAt(e,0);try{for(;this._position\x3cthis._textLength;)this.parseRow(e);for(;e.getNumChildren()\x3e0;){var i\x3de.removeChildAt(0);t.push(i)}}finally{this._eqDoc.removeChild(e)}return t}},{key:"parseGroup",value:function(t){var e\x3dNs.getCurly();this.parseRow(t,e),this.expect(e.getEndDelimiter())}},{key:"parseParameter",value:function(t){var e\x3dNs.getSquare();this.parseRow(t,e),this.expect(e.getEndDelimiter())}},{key:"parseRow",value:function(t,e,i,n){e\x26\x26this.expect(e.getStartDelimiter());for(var r\x3d!1;this._position\x3cthis._textLength;){this.skipWhiteSpace();var o\x3dthis._text.charAt(this._position);if(r){if(e\x26\x26o\x3d\x3de.getEndDelimiter())return;throw"".concat(e.getEndDelimiter(),"expected at position ").concat(this._position)}if("\\\\"\x3d\x3do||"^"\x3d\x3do||"_"\x3d\x3do){if((r\x3dthis.parseLatexName(t,i,n))\x26\x26!e)return}else if("{"\x3d\x3do)this.parseGroup(t);else{if(e\x26\x26o\x3d\x3de.getEndDelimiter()){if(i)throw"Unexpected ".concat(e.getEndDelimiter(),"at position ").concat(this._position.toString());return}if("%"\x3d\x3do\x26\x26"%cursor%"\x3d\x3dthis._text.substr(this._position,8))this._position+\x3d8,this.eqCursorMarker?this.eqCursorMarker.parent.removeChild(this.eqCursorMarker):this.eqCursorMarker\x3dnew $n,t.addChild(this.eqCursorMarker);else if("%"\x3d\x3do\x26\x26"%secondary%"\x3d\x3dthis._text.substr(this._position,11))this._position+\x3d11;else if("%"\x3d\x3do\x26\x26"%dummy%"\x3d\x3dthis._text.substr(this._position,7))this._position+\x3d7,t.addChild(new co);else{var s\x3dnull;this.isValidChar(o)\x26\x26(s\x3dthis._eqDoc.createNode(o)),s\x26\x26t.addChild(s),this._position++}}}}},{key:"expect",value:function(t){if(!(this._position\x3cthis._textLength))throw"expected ".concat(t," but reached end of text");if(this._text.charAt(this._position)!\x3dt)throw"expected ".concat(t," at position ").concat(this._position);this._position++}},{key:"parseEntity",value:function(t){var e\x3dthis._text.indexOf(";",this._position+1);if(e\x3c0)throw"expected a semicolon after \x26";var i\x3dthis._text.substring(this._position+1,e),n\x3dPr.getLatexSymbolInfo(i);if(!n)throw"entity \x26".concat(i,"; is not a valid entity");var r\x3dnew Pr({name:n.name});t.addChild(r),this._position+\x3di.length+2}},{key:"isLatexChar",value:function(t){return t\x3e\x3d"a"\x26\x26t\x3c\x3d"z"||t\x3e\x3d"A"\x26\x26t\x3c\x3d"Z"}},{key:"parseLatexName",value:function(t,e,i){if("\\\\"!\x3dthis._text.charAt(this._position)){var n\x3dthis._text.charAt(this._position);return this._position++,this.parseComposite(t,n),!1}if(this._position++,"%"\x3d\x3dthis._text.charAt(this._position))return this._position++,t.addChild(new rr("%")),!1;for(var r\x3dthis._position;this.isLatexChar(this._text.charAt(this._position))\x26\x26this._position\x3cthis._text.length;)this._position++;if(!(this._position\x3er))throw"Nothing after backslash at position ".concat(this._position-1);var o\x3dthis._text.substring(r,this._position);if(o\x3d\x3de\x26\x26(this.skipWhiteSpace(),this._text.charAt(this._position)\x3d\x3di))return!0;if(sr.isEqOpLatex("\\\\".concat(o))){var s\x3dsr.getEqOpLatex("\\\\".concat(o));t.addChild(s)}else{var a\x3d$o.getLatexSymbolInfo(o);if(a){var c\x3dnew $o({name:a});t.addChild(c)}else{var u\x3dPr.getLatexSymbolInfo(o);if(u){var l\x3dnew Pr({name:u});t.addChild(l)}else{if(t.getEqDocument().getFunctionList().indexOf(o)\x3e\x3d0){var h\x3dnew rr(o,rr.EqTextType.FUNCTION);t.addChild(h)}else this.parseComposite(t,o)}}}return!1}},{key:"parseLeft",value:function(t){if(this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for left paren type";var e\x3dthis._text.charAt(this._position);if(this._position++,"\\\\"\x3d\x3de){if(e\x3dthis._text.charAt(this._position),this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for left paren type";this._position++}if(this._eqDoc.parseLatexPipesAsABS\x26\x26"|"\x3d\x3de){var i\x3dnew Ro;return t.addChild(i),this.parseRow(i.getEqRow(0),null,"right","|"),this.skipWhiteSpace(),void this.expect("|")}if("("!\x3de\x26\x26"["!\x3de\x26\x26"|"!\x3de\x26\x26"{"!\x3de)throw"Unsupported left character: ".concat(e);t.addChild(new dr(e,dr.EqParenType.OPEN))}},{key:"parseRight",value:function(t){if(this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for right paren type";var e\x3dthis._text.charAt(this._position);if(this._position++,"\\\\"\x3d\x3de){if(e\x3dthis._text.charAt(this._position),this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for left paren type";this._position++}if(this._eqDoc.parseLatexPipesAsABS\x26\x26"|"\x3d\x3de)throw"Unexpected closing | at position ".concat(this._position.toString());if(")"!\x3de\x26\x26"]"!\x3de\x26\x26"|"!\x3de\x26\x26"}"!\x3de)throw"Unsupported right character: ".concat(e);t.addChild(new dr(e,dr.EqParenType.CLOSE))}},{key:"isWhiteSpace",value:function(t){return" "\x3d\x3dt||"\\n"\x3d\x3dt||"\\r"\x3d\x3dt||"\\t"\x3d\x3dt}},{key:"skipWhiteSpace",value:function(){for(;this._position\x3cthis._text.length\x26\x26this.isWhiteSpace(this._text.charAt(this._position));)this._position++}},{key:"isGroupFollowedByGroup",value:function(t){var e\x3dthis._position,i\x3d!1,n\x3d0,r\x3d0;if("{"!\x3dthis._text.charAt(e))return!1;for(var o\x3d!0;e\x3cthis._textLength;){var s\x3dthis._text.charAt(e);if("{"\x3d\x3ds)n++;else if("}"\x3d\x3ds){if(--n\x3c0)return!1;if(0\x3d\x3dn){if(0!\x3dr)return!1;r++}}else if(!o){if(s!\x3dt)return!1;i\x3d!0}if(o\x3dn\x3e0,0\x3d\x3dn\x26\x26i)return!0;e++}return!1}},{key:"parseComposite",value:function(t,e){var i,n,r\x3dnull,o\x3d0;this.skipWhiteSpace(),n\x3dthis._position\x3cthis._text.length\x26\x26"["\x3d\x3dthis._text.charAt(this._position);var s\x3d!1;if("sqrt"\x3d\x3de)r\x3dnew so(1),n\x26\x26(t.addChild(r),s\x3d!0,r.addChild(new Qr),this.parseParameter(r.getEqRow(1))),o\x3d1;else if("frac"\x3d\x3de||"dfrac"\x3d\x3de)r\x3dnew io,o\x3d2;else if("hat"\x3d\x3de)r\x3dnew Co($r.HAT),o\x3d1;else if("vec"\x3d\x3de)r\x3dnew Co($r.RAYR),o\x3d1;else if("evec"\x3d\x3de)r\x3dnew Co($r.EVEC),o\x3d1;else if("bar"\x3d\x3de)r\x3dnew Co($r.OVERBAR),o\x3d1;else if("conj"\x3d\x3de)r\x3dnew Ho,o\x3d1;else if("cis"\x3d\x3de)r\x3dnew Go,o\x3d1;else{if("^"\x3d\x3de){if(r\x3dnew Jr,t.addChild(r),this.parseScriptExpression(r.getEqRow(0)),this.skipWhiteSpace(),"_"\x3d\x3d(i\x3dthis.currentChar())){this._position++,t.removeChild(r);var a\x3dnew Ko;return t.addChild(a),a.removeChildAt(1),a.removeChildAt(0),a.addChild(r.getEqRow(0)),a.addChild(new Qr),void this.parseScriptExpression(a.getEqRow(1))}return}if("_"\x3d\x3de)return r\x3dnew to,t.addChild(r),this.parseScriptExpression(r.getEqRow(0)),this.skipWhiteSpace(),"^"\x3d\x3d(i\x3dthis.currentChar())?(this._position++,t.removeChild(r),t.addChild(a\x3dnew Ko),a.removeChildAt(1),a.addChild(r.getEqRow(0)),void this.parseScriptExpression(a.getEqRow(0))):void 0;if("iprosupsub"\x3d\x3de)r\x3dnew Gr,o\x3d3;else{if("cal"\x3d\x3de){if(this.skipWhiteSpace(),this.expect("{"),this.skipWhiteSpace(),i\x3dthis._text.charAt(this._position),this._position++,this.skipWhiteSpace(),this.expect("}"),"E"!\x3di)throw"\'E\' expected after \'/cal{\' at position ".concat(this._position);return void t.addChild(new Pr({name:"cale"}))}if("ipro"!\x3de.substr(0,4)){if("left"\x3d\x3de.substr(0,4))return void this.parseLeft(t);if("right"\x3d\x3de.substr(0,5))return void this.parseRight(t);if("backslash"\x3d\x3de)return void t.addChild(new rr("\\\\"));if("pm"\x3d\x3de)return void t.addChild(new sr("\x26plusminus;"));if("rm"\x3d\x3de)return;throw"Unhandled latex command: ".concat(e)}r\x3dnew Hr(e.substring(4,e.length)),o\x3d1}}if(!r)throw"Unknown name following \'\' at position ".concat(this._position);s||t.addChild(r);for(var c\x3d0;c\x3co;c++)this.skipWhiteSpace(),this.parseGroup(r.getEqRow(c));if(r.isEqConj()){var u\x3dr.getEqRow(0);if(u.getNumChildren()\x3e\x3d3){var l\x3du.getChild(0),h\x3du.getChild(u.getNumChildren()-1);l\x26\x26h\x26\x26"("\x3d\x3dl.getParenChar()\x26\x26")"\x3d\x3dh.getParenChar()\x26\x26(u.removeChild(l),u.removeChild(h))}}}},{key:"currentChar",value:function(){return this._text.charAt(this._position)}},{key:"parseScriptExpression",value:function(t){this.skipWhiteSpace();var e\x3dthis._text.charAt(this._position);if("{"\x3d\x3de)this.parseGroup(t);else{if("}"\x3d\x3de||"^"\x3d\x3de)throw"latex expression or character expected after \'_\' or \'^\' at position ".concat(this._position);"\\\\"\x3d\x3de?this.parseLatexName(t):(t.addChild(new rr(e)),this._position++)}}},{key:"isValidChar",value:function(t){return null\x3d\x3dthis.isValidCharCode||(this.eqEditor?this.isValidCharCode.apply(this.eqEditor,[t.charCodeAt(0)]):this.isValidCharCode(t.charCodeAt(0)))}}]),t}();function Ss(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ls\x3dfunction(t){a(s,t);var i\x3dSs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._eqCaret\x3dnew ds,n._eqDoc.setShortcuts(hs.DefaultShortcuts),t\x26\x26sn(u(n),t),t.docSettings\x26\x26sn(n._eqDoc,t.docSettings),n._eqDoc.diffEqMode\x26\x26n._eqDoc.setShortcuts(hs.PrimeShortcuts,!0),t.accessible\x26\x26n.setAccessible(t.accessible),n.setCurrentRow(n._eqDoc),n.readOnly\x26\x26(n._eqDoc.disabled\x3d!0,n.disabled\x3d!0),n._undo\x3dnew gs(u(n)),n.initializationParameters\x3dt,n._eqDoc.printing\x26\x26(n.readOnly\x3d!0),n.initialize(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._position\x3d0,this.declaredType\x3d"EqEditor",this.baseClass\x3d"equation eqEditor",this._eqDoc\x3dnull,this.isLayoutContainer\x3d!0,this._undo\x3dnull,this._eqCaret\x3dnull,this._caretPosition\x3d0,this._oldCaretPosition\x3d0,this.readOnly\x3d!1,this._moveEvents\x3dnull,this._accessible\x3d!1,this.autoLowerCaseChars\x3dnull,this.smartSlash\x3d!0,this.allowSingleFraction\x3d!1,this.allowedMaxCharCode\x3d255,this.smartSlashNumbersOnly\x3d!1,this.ignoreSpace\x3d!1,this.ignoreTab\x3d!1,this.keepSelection\x3d!1,this.processCtrlShortcuts\x3d!0,this.processRelationalShortcuts\x3d!1,this.extendClick\x3d!1,this.wordShortcuts\x3d!1,this.allowSuperscriptShortcuts\x3d!0,this.allowSubscriptShortcuts\x3d!0,this.allowNestingEmptyScripts\x3d!0,this.pipeKeyIsAbs\x3d!1,this.restrictChars\x3dnull,this.seamlessTabbing\x3d!1,this.filterEqText\x3d!1,this._hasEqTextProp\x3d!1,this.showBorder\x3d!1,this.useVirtualClipboard\x3d!1,this.bindKeyEvents\x3d!0,this._keyboardHandler\x3dnull,this._isMouseDown\x3d!1,this._isMoving\x3d!1,this._accLabel\x3dnull,this._accLabelNeedsParsing\x3d!1,this._accessibleLabel\x3dnull,this._accLabelWidgets\x3dnull,this.initializationParameters\x3dnull,this.blacklistedCharCodes\x3dnull,this._focusTextArea\x3d!1,this._parentTable\x3dnull,this.enableEqAccessibleAnnouncer\x3d!0,this.insertLabel\x3d"Inserted"}},{key:"isEqEditor",value:function(){return!0}},{key:"isEqMat",value:function(){return!1}},{key:"createMatrix",value:function(t,e){return new To(t,e)}},{key:"destroy",value:function(){o(r(s.prototype),"destroy",this).apply(this,arguments),this._tearDownMove(),this._accLabel\x26\x26(zi.destroy(this._accLabel),this._accLabel\x3dnull),un(this._accLabelWidgets,(function(t){t.destroyRecursive()}))}},{key:"resize",value:function(){this.validate()}},{key:"reLayout",value:function(){this._eqDoc.reLayout()}},{key:"startup",value:function(){if(!this._started){o(r(s.prototype),"startup",this).apply(this,arguments);var t\x3dthis.getParent\x26\x26this.getParent();t\x26\x26t.isLayoutContainer||this.resize()}}},{key:"getCurrentRow",value:function(){return this._eqDoc.getCurrentRow()}},{key:"setCurrentRow",value:function(t,e){if(this.enableEqAccessibleAnnouncer\x26\x26!Li("ie")){var i\x3dtr.getNearestAnnouncementAncestor(this.getCurrentRow()),n\x3dtr.getNearestAnnouncementAncestor(t);i\x26\x26i!\x3d\x3dn?(!i.isAncestorOf(n)\x26\x26this.focused\x26\x26this._eqDoc.getEqAccessibleAnnouncer().announceOutro(i),this._eqDoc.getEqAccessibleAnnouncer().setAnnouncementAnscestor(i)):e\x26\x26this._eqDoc.getEqAccessibleAnnouncer().setAnnouncementAnscestor(n)}this._eqDoc.setCurrentRow(t)}},{key:"getEqDoc",value:function(){return this._eqDoc}},{key:"isCaretAtBeginning",value:function(){return null!\x3dthis.getCurrentRow()\x26\x26this.getCurrentRow()\x3d\x3dthis.getEqDoc()\x26\x260\x3d\x3dthis._caretPosition}},{key:"isCaretAtEnd",value:function(){return null!\x3dthis.getCurrentRow()\x26\x26this.getCurrentRow()\x3d\x3dthis.getEqDoc()\x26\x26this._caretPosition\x3d\x3dthis.getCurrentRow().getLastCaretPosition()}},{key:"buildRendering",value:function(){this.domNode\x3dzi.create("span"),o(r(s.prototype),"buildRendering",this).apply(this,arguments),this.keyboardHandlerParams||(this.keyboardHandlerParams\x3d{}),this.keyboardHandlerParams.host\x3dthis,this._keyboardHandler\x3dnew xs(this.keyboardHandlerParams),this.focusNode\x3dthis._keyboardHandler.focusNode}},{key:"postCreate",value:function(){o(r(s.prototype),"postCreate",this).apply(this,arguments),this._eqDoc.attach(this.domNode,this.dontLayout);var t\x3dLi("android")||Li("touch")?"touchstart":"mousedown";if(navigator.pointerEnabled\x26\x26(t\x3d"pointerdown"),this.bindKeyEvents\x26\x26this.own(nn(this.domNode,"keydown",on(this,this._onKeyDown)),nn(this.domNode,"keyup",on(this,this._onKeyUp)),nn(this.domNode,"keypress",on(this,this._onKeyPress))),this.own(nn(this.domNode,t,on(this,this._onMouseDown)),nn(this.domNode,"contextmenu",on(this,this._onContextMenu)),nn(this._keyboardHandler,"characterInput",on(this,this._onCharacterInput)),nn(this._keyboardHandler,"pasteEqText",on(this,this._onPasteEqText)),nn(this._eqDoc,"newCurrentRow",on(this,this._newCurrentRow))),this._accLabel\x3dzi.create("span",{class:"eqAccessibleLabel"}),zi.place(this._accLabel,this.domNode,"last"),this.enableEqAccessibleAnnouncer){this._accAnnouncer\x3dzi.create("div",{class:this.announcerClass,"aria-live":"polite","aria-atomic":"true"});var e\x3ddocument\x26\x26document.body;zi.place(this._accAnnouncer,e,"last"),this._eqDoc.createEqAccessibleAnnouncer(this._accAnnouncer)}if(!this._hasEqTextProp\x26\x26this.srcNodeRef){var i\x3dthis.srcNodeRef.textContent.trim();i\x26\x26this.setEqText(i)}}},{key:"onMove",value:function(){}},{key:"_findEqPart",value:function(t){for(var e\x3dt.target;e;){if(e._eqPart)return e._eqPart;e\x3de.parentNode}return null}},{key:"_getCaretPosFromMouseEvent",value:function(t){var e,i\x3dthis._findEqPart(t);if(i){if(i.isEqRow()){var n\x3dEn.position(i.getDomNode());return e\x3di.getCaretPositionAt(t.pageX-n.x,t.pageY-n.y),{row:i,pos:e}}var r\x3di.parentRow();if(r\x26\x26(e\x3dr.getCaretPositionFromPart(i,t))\x3e\x3d0)return{row:r,pos:e}}return null}},{key:"_onMouseUp",value:function(){this._isMouseDown\x3d!1,this._tearDownMove(),this.emit("eqeditor_mouseup",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"_onMouseMove",value:function(t){if(!this.getDisabled()){this._isMoving\x3d!0;var e\x3dthis.getCurrentRow(),i\x3dEn.position(e.getDomNode()),n\x3de.getCaretPositionAt(t.pageX-i.x,t.pageY-i.y);n\x3e\x3d0\x26\x26(this._caretPosition\x3dn,this.updateCaret()),t.preventDefault()}}},{key:"_onMouseDown",value:function(t){if(this._isMouseDown\x3d!0,!(t.button\x26\x260!\x3dt.button||(this._tearDownMove(),this.getDisabled())))if(t.shiftKey)this._onMouseMove(t);else{var e;if(this.defer(this.focus),t.target\x3d\x3dthis.domNode){var i\x3dEn.position(this.domNode),n\x3d(2*i.x+i.w)/2;e\x3dt.clientX\x3cn?{row:this._eqDoc,pos:0}:{row:this._eqDoc,pos:this._eqDoc.getLastCaretPosition()}}else e\x3dthis._getCaretPosFromMouseEvent(t);e\x26\x26(this._setupMove(t),this.setCurrentRow(e.row),this._caretPosition\x3de.pos,this._oldCaretPosition\x3de.pos,this.updateCaret(null,!0)),this.emit("eqeditor_mousedown",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}}},{key:"_setupMove",value:function(t){var e\x3dt.currentTarget.ownerDocument,i\x3d"mousemove",n\x3d"mouseup";"touchstart"\x3d\x3dt.type?(i\x3d"touchmove",n\x3d"touchend"):"pointerdown"\x3d\x3dt.type\x26\x26(i\x3d"pointermove",n\x3d"pointerup"),this._moveEvents\x3d[nn(e,i,on(this,this._onMouseMove)),nn(e,n,on(this,this._onMouseUp)),nn(e,"dragstart",on(this,this._onDragStart)),nn(e.body,"selectstart",on(this,this._onSelectStart))],"mousedown"\x3d\x3dt.type\x26\x26t.preventDefault()}},{key:"_onDragStart",value:function(t){t.preventDefault()}},{key:"_onSelectStart",value:function(t){t.preventDefault()}},{key:"_tearDownMove",value:function(){this._moveEvents\x26\x26(un(this._moveEvents,(function(t){t.clear()})),this._moveEvents\x3dnull)}},{key:"isValidCharCode",value:function(t){return!(this.blacklistedCharCodes\x26\x26cn(this.blacklistedCharCodes,t)\x3e-1)\x26\x26(t\x3e32\x26\x26t\x3c\x3dthis.allowedMaxCharCode||32\x3d\x3dt\x26\x26!this.ignoreSpace)}},{key:"_isValidChar",value:function(t){var e\x3dt.charCodeAt(0);return this.restrictChars?this.restrictChars.indexOf(t)\x3e\x3d0:this.isValidCharCode(e)}},{key:"inputCharacter",value:function(t){return!this.readOnly\x26\x26!this.getDisabled()\x26\x26("\\b"\x3d\x3d\x3dt?(this.extractSelectionEqText(!1),this.doLayout(),this.updateCaret(),!0):"delete"\x3d\x3d\x3dt?(this.deleteChar(!0),!0):"\u00b2"\x3d\x3d\x3dt||"\u00b3"\x3d\x3d\x3dt?!(!this.allowSuperscriptShortcuts||this.getAccessible())\x26\x26(this.insertEqText("^{".concat("\u00b2"\x3d\x3d\x3dt?"2":"3","}")),!0):"^"\x3d\x3d\x3dt\x26\x26this.allowSuperscriptShortcuts\x26\x26!this.getAccessible()?(this.insertSuperScript(),this.scrollIntoView(),!0):"_"\x3d\x3d\x3dt\x26\x26this.allowSubscriptShortcuts\x26\x26!this.getAccessible()?(this.insertSubScript(),this.scrollIntoView(),!0):!!this._isValidChar(t)\x26\x26(this.insertCharacter(t),this.scrollIntoView(),!0))}},{key:"_onCharacterInput",value:function(t){this.inputCharacter(t.inputChar)}},{key:"_onPasteEqText",value:function(t){var e\x3dt.eqText.replaceAll("\u00b2","^{2}").replaceAll("\u00b3","^{3}");this.insertEqText(e)}},{key:"_prepareForCopy",value:function(){var t\x3dthis.extractSelectionEqText(!0);this._keyboardHandler.selectText(t)}},{key:"_onKeyDown",value:function(t){if(!this.getDisabled()\x26\x26!this.readOnly){this.inputEntered\x26\x26t.keyCode\x3d\x3d\x3dQi\x26\x26(t.stopPropagation(),t.preventDefault(),this.inputEntered());var e\x3d!1,i\x3djn.NONE;if(!t.ctrlKey\x26\x26!t.metaKey||t.altKey)try{switch(t.keyCode){case Zi:i\x3djn.RIGHT;break;case Ji:i\x3djn.LEFT;break;case $i:t.shiftKey\x26\x26this.allowSuperscriptShortcuts?this.insertSuperScript():i\x3djn.UP;break;case tn:t.shiftKey\x26\x26this.allowSubscriptShortcuts?this.insertSubScript():i\x3djn.DOWN;break;case Ki:i\x3djn.HOME;break;case Yi:i\x3djn.END;break;case en:e\x3d!0,this.deleteChar(!1);break;case Gi:t.stopImmediatePropagation(),e\x3d!0,this.deleteChar(!0);break;case Xi:this.ignoreTab||this.getAccessible()||(t.shiftKey\x26\x26!this.isCaretAtBeginning()?i\x3djn.TABBACK:t.shiftKey||this.isCaretAtEnd()||this.isEmpty()||(i\x3djn.TABFORWARD))}if(i!\x3d\x3djn.NONE)e\x3d!0,this.moveCaret(i,t.shiftKey,t.keyCode\x3d\x3d\x3dXi).row\x26\x26xn(t)}finally{e\x26\x26t.preventDefault()}else{if(67\x3d\x3d\x3dt.keyCode||86\x3d\x3d\x3dt.keyCode||88\x3d\x3d\x3dt.keyCode){if(this.useVirtualClipboard){switch(t.keyCode){case 67:_s.copy(this);break;case 86:this._undo.save(),_s.paste(this);break;case 88:this._undo.save(),_s.cut(this)}xn(t)}else this._prepareForCopy(),88!\x3d\x3dt.keyCode\x26\x2686!\x3d\x3dt.keyCode||this._undo.save();return}if(89\x3d\x3d\x3dt.keyCode||90\x3d\x3d\x3dt.keyCode)return void xn(t);if(65\x3d\x3d\x3dt.keyCode)return this.selectAll(),void xn(t);var n\x3dString.fromCharCode(t.keyCode);this.wordShortcuts\x26\x26this.allowSubscriptShortcuts\x26\x26"\x3d"\x3d\x3d\x3dn\x26\x26!t.shiftKey?(this.insertSubScript(),e\x3d!0,xn(t)):this.wordShortcuts\x26\x26this.allowSuperscriptShortcuts\x26\x26("\x3d"\x3d\x3d\x3dn\x26\x26t.shiftKey||"+"\x3d\x3d\x3dn)?(this.insertSuperScript(),e\x3d!0,xn(t)):"4"\x3d\x3d\x3dn\x26\x26(this.insertCharacter(this.getEqDoc().currencyChar),xn(t))}}}},{key:"moveCaret",value:function(t,e,i){var n\x3dnew ps(t,this.getCurrentRow(),this._oldCaretPosition,this._caretPosition);return e\x26\x26!i\x26\x26(n.extendSelection\x3d!0),this.getCurrentRow().moveCaret(n),n.row\x26\x26(n.extendSelection?this._oldCaretPosition\x3dn.positionStart:this._oldCaretPosition\x3dn.position,this.setCurrentRow(n.row),this._caretPosition\x3dn.position,this.updateCaret(n),n.moveRight?this.emit(Mr.EqEditorEvent.MOVE,{direction:Mr.MoveDirection.MOVE_RIGHT}):n.moveLeft\x26\x26this.emit(Mr.EqEditorEvent.MOVE,{direction:Mr.MoveDirection.MOVE_LEFT})),n}},{key:"insertSuperScript",value:function(){if(this.getCurrentRow().isEmpty()\x26\x26this.getCurrentRow().parent){if(this.getCurrentRow().parent.isEqSuperscript())return;if(!this.allowNestingEmptyScripts\x26\x26this.getCurrentRow().parent.isEqSubscript())return}var t\x3dnew Jr;this.insertEq([t])}},{key:"insertSubScript",value:function(){if(this.getCurrentRow().isEmpty()\x26\x26this.getCurrentRow().parent){if(this.getCurrentRow().parent.isEqSubscript())return;if(!this.allowNestingEmptyScripts\x26\x26this.getCurrentRow().parent.isEqSuperscript())return}this.insertEq([new to])}},{key:"doLayout",value:function(){if(this._eqDoc\x26\x26this._started\x26\x26(this._eqDoc.doLayout(),this._accLabel)){var t\x3dthis._accessibleLabel;t||(t\x3d0\x3d\x3d\x3dthis._eqDoc.getNumChildren()?"enter your response here":this._eqDoc.getAccessibleName()),Ni.set(this.domNode,"aria-label",t),Fn(this._accLabel,t)}}},{key:"deleteChar",value:function(t){var e\x3dnull,i\x3dthis._caretPosition,n\x3dthis.isMultiSelect();i\x3e\x3d0\x26\x26(t\x26\x26(n||(i--,this._oldCaretPosition\x3di)),e\x3dnew ps(jn.NONE,this.getCurrentRow(),this._oldCaretPosition,i)),e\x26\x26(this._changed\x3d!0,this._undo.save(),this.getCurrentRow().deleteCharacter(e),e.row\x26\x26(this.setCurrentRow(e.row),this.doLayout(),e.extendSelection?(this._oldCaretPosition\x3dMath.max(e.positionStart,0),this._caretPosition\x3dMath.max(e.position,0),this.updateCaret()):(this._caretPosition\x3dn?Math.max(e.positionStart,0):Math.max(e.position,0),this.resetMultiSelect())),this.scrollIntoView())}},{key:"doUndoSave",value:function(t){"\\\\"\x3d\x3dt||tr.isOperator(t)||tr.isParen(t)?this._undo.save():this._undo.save(ms.InsertingText)}},{key:"setCaretRight",value:function(){if(this.isMultiSelect()\x26\x26this._caretPosition\x3cthis._oldCaretPosition){var t\x3dthis._oldCaretPosition;this._oldCaretPosition\x3dthis._caretPosition,this._caretPosition\x3dt}}},{key:"setCaretHome",value:function(){this.currentRow\x3dthis._eqDoc,this._caretPosition\x3d0,this.resetMultiSelect()}},{key:"setCaretEnd",value:function(){this.currentRow\x3dthis._eqDoc,this._caretPosition\x3dthis.currentRow.getLastCaretPosition(),this.resetMultiSelect()}},{key:"setCaretPosition",value:function(t,e,i){this.currentRow\x3dt,this._caretPosition\x3de,i\x26\x26(this._oldCaretPosition\x3de),this.focused\x3d!0}},{key:"isCapturedEq",value:function(t){return t.isEqSymbol()\x26\x26!t.isOperator()||t.isEqText()\x26\x26!t.isSeparator()}},{key:"insertCharacter",value:function(t){var e,i,n,r;this._changed\x3d!0;var o\x3dthis.getCurrentRow();if(!o.domNode.contains(this.domNode)){if(this.autoLowerCaseChars\x26\x26this.autoLowerCaseChars.indexOf(t)\x3e\x3d0\x26\x26(t\x3dt.toLowerCase()),this.doUndoSave(t),this.processRelationalShortcuts\x26\x26!this.isMultiSelect()\x26\x26!this.getAccessible()\x26\x26(i\x3do.getFocusElementIndex(this._caretPosition))\x3e\x3d0){if(i\x3e0\x26\x26this._caretPosition\x3e0\x26\x26this._caretPosition\x3co.getLastCaretPosition()\x26\x26i--,(n\x3do.getChild(i)).isEqOp()\x26\x26n.getOpType()\x3d\x3dsr.OpTypes.LT\x26\x26"\x3d"\x3d\x3dt)return this._oldCaretPosition\x3dthis._caretPosition-1,void this.insertEq([new sr(sr.OpTypes.LE)]);if(n.isEqOp()\x26\x26n.getOpType()\x3d\x3dsr.OpTypes.GT\x26\x26"\x3d"\x3d\x3dt)return this._oldCaretPosition\x3dthis._caretPosition-1,void this.insertEq([new sr(sr.OpTypes.GE)]);if(n.isEqOp()\x26\x26n.getOpType()\x3d\x3dsr.OpTypes.LT\x26\x26"\x3e"\x3d\x3dt)return this._oldCaretPosition\x3dthis._caretPosition-1,void this.insertEq([new sr(sr.OpTypes.NE)])}if(this.pipeKeyIsAbs\x26\x26"|"\x3d\x3dt)this.insertAbs();else if(!this.smartSlash||this.getAccessible()||"/"!\x3dt){if(this.isMultiSelect()){if(this.getEqDoc().useTemplateFunctions\x26\x26(tr.isOpenParen(t)||"|"\x3d\x3dt)){var s\x3dnew Hr("",t,dr.getMatchingCloseParenChar(t));return void this.insertEq([s])}this.deleteChar(!1)}var a\x3dnew fs(t,o,this._caretPosition);if(o.insertCharacter(a),!a.ignore){this.doLayout();var c\x3dthis._eqDoc.getEqCursorMarker();c?(o\x3dc.getFocusRow(),this._caretPosition\x3do.getFocusPosition(o.getChildIndex(c)),this.getEqDoc().clearEqCursorMarker(),this.doLayout()):(o\x3da.row,this._caretPosition\x3da.position),this.setCurrentRow(o),this.resetMultiSelect()}}else{if(this.allowSingleFraction\x26\x26this.getEqDoc().hasNodeClass(io))return;if(!this.isMultiSelect())if(this.setCaretRight(),this.smartSlashNumbersOnly)i\x3do.getFocusElementIndex(this._caretPosition),this._caretPosition\x3e0\x26\x26this._caretPosition\x3co.getLastCaretPosition()\x26\x26i--,i\x3e\x3d0\x26\x26(n\x3do.getChild(i)).isEqText()\x26\x26n.isNumber()\x26\x26(r\x3do.getFocusPosition(i),this._oldCaretPosition\x3dr);else if(i\x3do.getFocusElementIndex(this._caretPosition),this._caretPosition\x3e0\x26\x26this._caretPosition\x3co.getLastCaretPosition()\x26\x26i--,i\x3e\x3d0)if((n\x3do.getChild(i)).isEqOp());else{for(;(n.isEqSubscript()||n.isEqSuperscript())\x26\x26i\x3e0;)i--,n\x3do.getChild(i);for(n.isEqParen()\x26\x26n.getMatchedParen()\x26\x26((e\x3do.getChildIndex(n.getMatchedParen()))\x3c\x3di?i\x3de:i++),i\x3e\x3d1\x26\x26(n\x3do.getChild(i-1)).isEqText()\x26\x26n.isFunction()\x26\x26i--;i\x3e0\x26\x26this.isCapturedEq(o.getChild(i))\x26\x26this.isCapturedEq(o.getChild(i-1));)i--;r\x3do.getFocusPosition(i),this._oldCaretPosition\x3dr}this.insertEq([new io])}}}},{key:"insertAbs",value:function(t){t||(t\x3d1);var e\x3dnew Ro(t);this.insertEq([e])}},{key:"resetMultiSelect",value:function(){this._oldCaretPosition\x3dthis._caretPosition,this.updateCaret()}},{key:"deselect",value:function(){this._caretPosition\x3dMath.min(this._caretPosition,this._oldCaretPosition),this.resetMultiSelect()}},{key:"isMultiSelect",value:function(){return this._caretPosition!\x3dthis._oldCaretPosition}},{key:"selectAll",value:function(){this.setCurrentRow(this._eqDoc),this._oldCaretPosition\x3d0,this._caretPosition\x3dthis._eqDoc.getLastCaretPosition(),this.updateCaret()}},{key:"updateCaret",value:function(t,e){if(this._eqCaret){var i\x3dthis._eqCaret.moveCursor(this.getCurrentRow(),this._caretPosition);this.updateSelection(),this.doChange(),this.enableEqAccessibleAnnouncer\x26\x26this.focused\x26\x26!Li("ie")\x26\x26this._eqDoc.getEqAccessibleAnnouncer().process(i,t,e,this.isCaretAtBeginning(),this.isCaretAtEnd(),this._changed),this._changed\x3d!1,this.updateCaretCallback\x26\x26this.updateCaretCallback()}}},{key:"updateSelection",value:function(){var t\x3dthis.getCurrentRow();this.isMultiSelect()?t.updateSelection(this._oldCaretPosition,this._caretPosition):t.resetSelection()}},{key:"undo",value:function(){this._undo.undo(),this.scrollIntoView()}},{key:"redo",value:function(){this._undo.redo(),this.scrollIntoView()}},{key:"_onKeyUp",value:function(t){if((t.ctrlKey||t.metaKey)\x26\x26!t.altKey)switch(t.keyCode){case 90:this.undo(),xn(t);break;case 89:this.redo(),xn(t)}}},{key:"_onKeyPress",value:function(){}},{key:"_onContextMenu",value:function(){}},{key:"getDomNode",value:function(){return zi.create("span",{class:"eqCaret"})}},{key:"validate",value:function(){this._eqDoc.attach(this.domNode),this.doLayout(),this.updateCaret()}},{key:"isFocusable",value:function(){return o(r(s.prototype),"isFocusable",this).apply(this,arguments)\x26\x26!this.getDisabled()}},{key:"setFocused",value:function(t){t?fn(this.domNode,"focused caretVisible"):mn(this.domNode,"focused caretVisible"),this.getEqDoc().setFocused(t),this.focused\x3dt}},{key:"focusEditor",value:function(){this._onFocus(null)}},{key:"_canFocus",value:function(){return!this.disabled\x26\x26this.focusNode.focus}},{key:"focus",value:function(){if(this._canFocus())try{this.focusNode.focus(),this.emit("eqeditor_focus")}catch(t){}}},{key:"_onFocus",value:function(t){if(!this.isFocusable())return!1;o(r(s.prototype),"_onFocus",this).apply(this,arguments),this.setFocused(!0),this._focusTextArea\x3d!0,!t\x26\x26this.focusNode\x26\x26Bn.focus(this.focusNode),this.controlManager\x26\x26this.doChange(),this.focusCallback\x26\x26this.focusCallback(),this.updateCaret(),this.emit("eqeditor_focus",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"_onBlur",value:function(){o(r(s.prototype),"_onBlur",this).apply(this,arguments),this.setFocused(!1),this.blurCallback\x26\x26this.blurCallback(),this.emit("eqeditor_blur",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"getAccessible",value:function(){return this._accessible}},{key:"setAccessible",value:function(t){this._accessible\x3dt,this._accessible\x26\x26this._eqDoc.setAccessible(this._accessible)}},{key:"getAccessibleName",value:function(){return this._eqDoc.getAccessibleName()}},{key:"insertEq",value:function(t,e,i,n){if(t[e\x3de||0]\x26\x26null!\x3dthis.getCurrentRow()){var r;if(this._changed\x3d!0,this._undo.save(),this.getCurrentRow().isEqDummyRow()){var o\x3dthis.getCurrentRow().parent,s\x3do.getChildIndex(this.getCurrentRow()),a\x3do.getFocusPosition(s);this.setCurrentRow(o),this._caretPosition\x3da,this._oldCaretPosition\x3da,t[0].isEqDummyRow()||this.getCurrentRow().removeChildAt(s)}if(this.isMultiSelect()?r\x3dthis.getCurrentRow().insertEqRange(t,this._oldCaretPosition,this._caretPosition,e):(this.getCurrentRow().insertEq(t,this._caretPosition),this.scrollIntoView(),r\x3dt[e]),n){var c\x3dn.getFocusRow(),u\x3dc.getChildIndex(n);this._caretPosition\x3dc.getFocusPosition(u),n.destroy(),this.setCurrentRow(c),r\x3dnull}if(!i){if(this.doLayout(),r\x26\x26r.parent){var l\x3dnew fs("",this.getCurrentRow(),this._caretPosition);r.initCaret(l),l.ignore||(this.setCurrentRow(l.row),this._caretPosition\x3dl.position)}this.resetMultiSelect()}}}},{key:"insertEqText",value:function(t,e){var i\x3dsn({clear:!1},e);i.clear\x26\x26(this._eqDoc.clear(),this.setCurrentRow(this._eqDoc),this._caretPosition\x3d0,this._oldCaretPosition\x3d0,this.extendClick\x3d!1),this._changed\x3d!0;var n\x3dnew cs(this._eqDoc,t);this.filterEqText\x26\x26(n.isValidCharCode\x3dthis.isValidCharCode,n.eqEditor\x3dthis);var r\x3dn.parse(),o\x3dthis.getCurrentRow();if(!o.domNode||!o.domNode.contains(this.domNode)){if(o.parent\x26\x26r.length\x3e0\x26\x26o.isEmpty()\x26\x26(r[0].isEqSuperscript()\x26\x26o.parent.isEqSuperscript()||r[0].isEqSubscript()\x26\x26o.parent.isEqSubscript()))return null;if(this.isMultiSelect()\x26\x26n.eqCursorMarker){n.eqCursorMarker.parent\x26\x26n.eqCursorMarker.parent.removeChild(n.eqCursorMarker);var s\x3dr.indexOf(n.eqCursorMarker);s\x3e\x3d0\x26\x26r.splice(s,1),r.push(n.eqCursorMarker)}if(this.insertEq(r,0,!0),n.eqCursorMarker){var a\x3d(o\x3dn.eqCursorMarker.getFocusRow()).getChildIndex(n.eqCursorMarker);this._caretPosition\x3do.getFocusPosition(a),n.eqCursorMarker.destroy(),this.setCurrentRow(o,!0)}else if(r[0]){var c\x3dr[0];if(c\x26\x26c.parent){var u\x3dnew fs("",this.getCurrentRow(),this._caretPosition);c.initCaret(u),u.ignore||(this.setCurrentRow(u.row,!0),this._caretPosition\x3du.position)}}return this.doLayout(),this.enableEqAccessibleAnnouncer\x26\x26i.announce\x26\x26(i.announceText?this._eqDoc.getEqAccessibleAnnouncer().announce("".concat(this.insertLabel," ").concat(i.announceText)):this._eqDoc.getEqAccessibleAnnouncer().announceEqs(r,this.insertLabel)),this.resetMultiSelect(),this.scrollIntoView(),r}}},{key:"clear",value:function(){this._parentTable\x3dnull,this._changed\x3d!0,this.extendClick\x3d!1,this._eqDoc.clear(),this.setCurrentRow(this._eqDoc),this._caretPosition\x3d0,this._undo.reset(),this.resetMultiSelect(),this.doLayout()}},{key:"setEqText",value:function(t){this.insertEqText(t,{clear:!0}),this.reset(),this._hasEqTextProp\x3d!0}},{key:"setPrompt",value:function(t,e){this._eqDoc.setPrompt(t,e)}},{key:"extractSelectionEqText",value:function(t){if(this.isMultiSelect()){var e\x3dthis.getCurrentRow().extractEqs(this._oldCaretPosition,this._caretPosition,t),i\x3d"";return un(e,(function(t){i+\x3dt.getEqText()})),t||(this._caretPosition\x3dMath.min(this._caretPosition,this._oldCaretPosition),this._oldCaretPosition\x3dthis._caretPosition),i}return""}},{key:"getEqTextWithCursorMarker",value:function(){var t\x3dnew $n;this.getCurrentRow().insertEq([t],this._caretPosition);var e\x3dthis.getEqText();return t.parent\x26\x26t.parent.removeChild(t),e}},{key:"resetEditor",value:function(){this.setCurrentRow(this._eqDoc),this._caretPosition\x3d0,this._oldCaretPosition\x3d0,this._eqDoc.invalidateEq(!0),this.updateCaret(),this.doChange(),this._eqDoc.preparePrompt()}},{key:"onChange",value:function(){}},{key:"doChange",value:function(){this.onChange(),this.emit("eqeditor_change",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"reset",value:function(){this._parentTable\x3dnull,this.resetEditor(),this._undo.reset()}},{key:"getEqText",value:function(){return this._eqDoc.getEqText()}},{key:"_setAccessibleLabelAttr",value:function(t){this._accessibleLabel\x3dt,this._accLabelNeedsParsing\x3d!0,this.doLayout()}},{key:"_getAccessibleLabelAttr",value:function(){return this._accessibleLabel}},{key:"isEmpty",value:function(){return 0\x3d\x3dthis._eqDoc.getNumChildren()}},{key:"blurSelf",value:function(){this.focusNode.blur()}},{key:"setDisabled",value:function(t){t?(this.focusNode.disabled\x3d!0,this.focusNode.setAttribute("aria-disabled","true"),fn(this.domNode,"disabled"),Bn.curNode\x3d\x3dthis.focusNode\x26\x26this.blurSelf(),this._eqDoc.disabled\x3d!0,this.disabled\x3d!0,this.focusNode.setAttribute("tabIndex","-1")):(this.focusNode.disabled\x3d!1,this.focusNode.setAttribute("aria-disabled","false"),mn(this.domNode,"disabled"),this._eqDoc.disabled\x3d!1,this.disabled\x3d!1,""!\x3dthis.tabIndex?this.focusNode.setAttribute("tabIndex",this.tabIndex):this.focusNode.removeAttribute("tabIndex"))}},{key:"getDisabled",value:function(){return this.disabled}},{key:"setReadOnly",value:function(t){this.readOnly\x3dt}},{key:"getReadOnly",value:function(){return this.readOnly}},{key:"scrollIntoView",value:function(){if(!this.disableScrollIntoView\x26\x26this._eqDoc){if(!this._parentTable\x26\x26this.parentBaseClass){for(var t\x3dthis._eqDoc.domNode;t\x26\x26!vn(t,this.parentBaseClass);)t\x3dt.parentNode;this._parentTable\x3dt}this._parentTable?Hn(this._parentTable,null,this._eqDoc.domNode):this._eqDoc.domNode\x26\x26Hn(this._eqDoc.domNode)}}},{key:"replaceEqText",value:function(t){this._undo.save(),this._undo.freeze(),this.insertEqText(t,{clear:!0}),this.resetEditor(),this._undo.unFreeze()}},{key:"getUndoSequence",value:function(){return this._undo.getUndoSequence()}},{key:"setUndoSequence",value:function(t){this._undo.setUndoSequence(t)}},{key:"_newCurrentRow",value:function(t){this.setCurrentRow(t.row),this._caretPosition\x3dt.pos,this.updateCaret()}},{key:"updateState",value:function(t){var e\x3dt.showTolerance,i\x3dt.isAnswered,n\x3dt.isCorrect,r\x3dt.correctAnswer;e\x26\x26fn(this.domNode,"showTolerance"),mn(this.domNode,"correct"),mn(this.domNode,"incorrect"),i?(fn(this.domNode,n?"correct":"incorrect"),this.setDisabled(!0)):this.setDisabled(!1),n?this.getEqDoc().reLayout():this.setEqText(r)}},{key:"insertLatex",value:function(t){var e\x3dnew Ts(this.getEqDoc(),t);e.eqEditor\x3dthis,e.isValidCharCode\x3dthis.isValidCharCode;var i\x3de.parse();if(!(i.length\x3e0\x26\x26this.getCurrentRow().isEmpty()\x26\x26(this.getCurrentRow().parent\x26\x26i[0].isEqSuperscript()\x26\x26this.getCurrentRow().parent.isEqSuperscript()||i[0].isEqSubscript()\x26\x26this.getCurrentRow().parent.isEqSubscript()))){if(this.isMultiSelect()\x26\x26e.eqCursorMarker){e.eqCursorMarker.parent\x26\x26e.eqCursorMarker.parent.removeChild(e.eqCursorMarker);var n\x3di.indexOf(e.eqCursorMarker);n\x3e\x3d0\x26\x26i.splice(n,1),i.push(e.eqCursorMarker)}this.insertEq(i,0,!1,e.eqCursorMarker)}}},{key:"setLatex",value:function(t){this.clear(),this.insertLatex(t),this.reset()}},{key:"getLatex",value:function(){return this.getEqDoc().getLatex()}}]),s}(ks),As\x3dfunction(t){var e\x3dPn(t);return e||null};function Ps(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Ls.getEqEditor\x3dAs,Ls.insertCharacter\x3dfunction(t,e){var i\x3dAs(t);i\x26\x26i.insertCharacter(e)},Ls.undo\x3dfunction(t){var e\x3dAs(t);e\x26\x26e.undo()},Ls.redo\x3dfunction(t){var e\x3dAs(t);e\x26\x26e.redo()},Ls.clear\x3dfunction(t){var e\x3dAs(t);e\x26\x26e.clear()},Ls.deleteChar\x3dfunction(t){var e\x3dAs(t);e\x26\x26(e.deleteChar(!1),e.focus())},Ls.backspace\x3dfunction(t){var e\x3dAs(t);e\x26\x26(e.deleteChar(!0),e.focus())},Ls.moveCaret\x3dfunction(t,e,i,n){var r\x3dAs(t);if(r){var o\x3djn.NONE;switch(e){case"up":o\x3djn.UP;break;case"down":o\x3djn.DOWN;break;case"left":o\x3djn.LEFT;break;case"right":o\x3djn.RIGHT;break;case"home":o\x3djn.HOME;break;case"end":o\x3djn.END}r.moveCaret(o,i,n),r.focus()}},Ls.setEqText\x3dfunction(t,e){var i\x3dAs(t);i\x26\x26i.setEqText(e)},Ls.getEqText\x3dfunction(t){var e\x3dAs(t);return e?e.getEqText():null},gi();var Ds\x3dfunction(t){a(s,t);var i\x3dPs(s);function s(t,n,r){var o;return e(this,s),o\x3di.apply(this,arguments),r||o.startup(),o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass+\x3d" ".concat(fi.classes["assessments-components"]),this.announcerClass\x3dfi.classes.eqAccessibleAnnouncer}},{key:"render",value:function(t,e){this.setEqText(t),e.appendChild(this.domNode),this.reLayout()}},{key:"attach",value:function(t){t.appendChild(this.domNode),this.reLayout()}},{key:"getEqDocument",value:function(){return this.getEqDoc()}},{key:"clear",value:function(){this.isClearing\x3d!0;try{this.setEqText("")}finally{this.isClearing\x3d!1}}}]),s}(Ls);function Bs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ms\x3dfunction(t){a(s,t);var i\x3dBs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._eqDoc.disabled\x3d!0,t\x26\x26t.inputs\x26\x26(n._eqDoc.inputs\x3dt.inputs),n.initialize(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"equation eqLabel",this.declaredType\x3d"EqLabel",this._accLabel\x3dnull,this.isLayoutContainer\x3d!0,this.accessible\x3d!1,this._eqText\x3dnull,delete this.tabIndex}},{key:"destroy",value:function(){o(r(s.prototype),"destroy",this).apply(this,arguments),this._accLabel\x26\x26zi.destroy(this._accLabel)}},{key:"getEqDoc",value:function(){return this._eqDoc}},{key:"buildRendering",value:function(){this.domNode\x3dzi.create("span"),o(r(s.prototype),"buildRendering",this).apply(this,arguments)}},{key:"postCreate",value:function(){if(o(r(s.prototype),"postCreate",this).apply(this,arguments),this.accessible\x26\x26this._eqDoc.setAccessible(this.accessible),!this._eqText\x26\x26this.srcNodeRef\x26\x26this.srcNodeRef.textContent\x26\x26this.srcNodeRef.textContent){var t\x3dthis.srcNodeRef.textContent.trim();t\x26\x26this.setEqText(t)}this._accLabel\x3dzi.create("span",{class:"eqAccessibleLabel"}),zi.place(this._accLabel,this.domNode,"last"),this._eqDoc.attach(this.domNode,!0)}},{key:"resize",value:function(){this.doLayout()}},{key:"startup",value:function(){if(!this._started){o(r(s.prototype),"startup",this).apply(this,arguments);var t\x3dthis.getParent\x26\x26this.getParent();t\x26\x26t.isLayoutContainer||this.resize()}}},{key:"doLayout",value:function(){if(this._eqDoc\x26\x26this._started){this._eqDoc.doLayout();var t\x3dthis._eqDoc.getAccessibleName();Fn(this._accLabel,t),Ni.set(this.domNode,"aria-label",t)}}},{key:"reLayout",value:function(){this._eqDoc\x26\x26this._started\x26\x26(this._eqDoc.invalidate(!0),this.doLayout())}},{key:"clear",value:function(){this._eqDoc.clear(),this.doLayout()}},{key:"setEqText",value:function(t){if(t!\x3dthis._eqText){this._eqText\x3dt,this._eqDoc.clear();try{var e\x3dnew cs(this._eqDoc,t).parse();this._eqDoc.insertEq(e,0)}catch(t){return console.log("".concat(this.id," parser error: ").concat(t.message)),void this.setEqText("!!Error")}this.doLayout(),this.accessible\x26\x26this._accLabel\x26\x26Fn(this._accLabel,this._eqDoc.getAccessibleName())}}},{key:"getEqText",value:function(){return this._eqDoc.getEqText()}},{key:"getAccessibleName",value:function(){return this._eqDoc.getAccessibleName()}},{key:"getEmbeddedInputs",value:function(){if(!this.domNode)return null;var t\x3dDn(this.domNode),e\x3d{};return un(t,(function(t){t.getInputData\x26\x26(e[t.id||t.get("id")]\x3dt)})),e}},{key:"getAccessible",value:function(){return this._accessible}},{key:"setAccessible",value:function(t){this._accessible\x3dt,this._accessible\x26\x26this._eqDoc.setAccessible(this._accessible)}},{key:"isFocusable",value:function(){return!1}}]),s}(ks);function Os(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}gi();var Is\x3dfunction(t){a(s,t);var i\x3dOs(s);function s(t,n,r){var o;return e(this,s),o\x3di.apply(this,arguments),r||o.startup(),o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass+\x3d" ".concat(fi.classes["assessments-components"])}},{key:"render",value:function(t,e){this.setEqText(t),e.appendChild(this.domNode),this.reLayout()}},{key:"attach",value:function(t){t.appendChild(this.domNode),this.reLayout()}},{key:"getEqDocument",value:function(){return this.getEqDoc()}}]),s}(Ms);function Fs(t,e,i,n,r,o,s){try{var a\x3dt[o](s),c\x3da.value}catch(t){return void i(t)}a.done?e(c):Promise.resolve(c).then(n,r)}function Us(t){return function(){var e\x3dthis,i\x3darguments;return new Promise((function(n,r){var o\x3dt.apply(e,i);function s(t){Fs(o,n,r,s,a,"next",t)}function a(t){Fs(o,n,r,s,a,"throw",t)}s(void 0)}))}}var Vs\x3d{exports:{}};!function(t){var e\x3dfunction(t){var e\x3dObject.prototype,i\x3de.hasOwnProperty,n\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},r\x3dn.iterator||"@@iterator",o\x3dn.asyncIterator||"@@asyncIterator",s\x3dn.toStringTag||"@@toStringTag";function a(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a\x3dfunction(t,e,i){return t[e]\x3di}}function c(t,e,i,n){var r\x3de\x26\x26e.prototype instanceof h?e:h,o\x3dObject.create(r.prototype),s\x3dnew E(n||[]);return o._invoke\x3dfunction(t,e,i){var n\x3d"suspendedStart";return function(r,o){if("executing"\x3d\x3d\x3dn)throw new Error("Generator is already running");if("completed"\x3d\x3d\x3dn){if("throw"\x3d\x3d\x3dr)throw o;return R()}for(i.method\x3dr,i.arg\x3do;;){var s\x3di.delegate;if(s){var a\x3dw(s,i);if(a){if(a\x3d\x3d\x3dl)continue;return a}}if("next"\x3d\x3d\x3di.method)i.sent\x3di._sent\x3di.arg;else if("throw"\x3d\x3d\x3di.method){if("suspendedStart"\x3d\x3d\x3dn)throw n\x3d"completed",i.arg;i.dispatchException(i.arg)}else"return"\x3d\x3d\x3di.method\x26\x26i.abrupt("return",i.arg);n\x3d"executing";var c\x3du(t,e,i);if("normal"\x3d\x3d\x3dc.type){if(n\x3di.done?"completed":"suspendedYield",c.arg\x3d\x3d\x3dl)continue;return{value:c.arg,done:i.done}}"throw"\x3d\x3d\x3dc.type\x26\x26(n\x3d"completed",i.method\x3d"throw",i.arg\x3dc.arg)}}}(t,i,s),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap\x3dc;var l\x3d{};function h(){}function d(){}function p(){}var f\x3d{};f[r]\x3dfunction(){return this};var m\x3dObject.getPrototypeOf,g\x3dm\x26\x26m(m(b([])));g\x26\x26g!\x3d\x3de\x26\x26i.call(g,r)\x26\x26(f\x3dg);var v\x3dp.prototype\x3dh.prototype\x3dObject.create(f);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke\x3dfunction(r,o){function s(){return new e((function(n,s){!function n(r,o,s,a){var c\x3du(t[r],t,o);if("throw"!\x3d\x3dc.type){var l\x3dc.arg,h\x3dl.value;return h\x26\x26"object"\x3d\x3dtypeof h\x26\x26i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(h).then((function(t){l.value\x3dt,s(l)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}(r,o,n,s)}))}return n\x3dn?n.then(s,s):s()}}function w(t,e){var i\x3dt.iterator[e.method];if(void 0\x3d\x3d\x3di){if(e.delegate\x3dnull,"throw"\x3d\x3d\x3de.method){if(t.iterator.return\x26\x26(e.method\x3d"return",e.arg\x3dvoid 0,w(t,e),"throw"\x3d\x3d\x3de.method))return l;e.method\x3d"throw",e.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return l}var n\x3du(i,t.iterator,e.arg);if("throw"\x3d\x3d\x3dn.type)return e.method\x3d"throw",e.arg\x3dn.arg,e.delegate\x3dnull,l;var r\x3dn.arg;return r?r.done?(e[t.resultName]\x3dr.value,e.next\x3dt.nextLoc,"return"!\x3d\x3de.method\x26\x26(e.method\x3d"next",e.arg\x3dvoid 0),e.delegate\x3dnull,l):r:(e.method\x3d"throw",e.arg\x3dnew TypeError("iterator result is not an object"),e.delegate\x3dnull,l)}function C(t){var e\x3d{tryLoc:t[0]};1 in t\x26\x26(e.catchLoc\x3dt[1]),2 in t\x26\x26(e.finallyLoc\x3dt[2],e.afterLoc\x3dt[3]),this.tryEntries.push(e)}function _(t){var e\x3dt.completion||{};e.type\x3d"normal",delete e.arg,t.completion\x3de}function E(t){this.tryEntries\x3d[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function b(t){if(t){var e\x3dt[r];if(e)return e.call(t);if("function"\x3d\x3dtypeof t.next)return t;if(!isNaN(t.length)){var n\x3d-1,o\x3dfunction e(){for(;++n\x3ct.length;)if(i.call(t,n))return e.value\x3dt[n],e.done\x3d!1,e;return e.value\x3dvoid 0,e.done\x3d!0,e};return o.next\x3do}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype\x3dv.constructor\x3dp,p.constructor\x3dd,d.displayName\x3da(p,s,"GeneratorFunction"),t.isGeneratorFunction\x3dfunction(t){var e\x3d"function"\x3d\x3dtypeof t\x26\x26t.constructor;return!!e\x26\x26(e\x3d\x3d\x3dd||"GeneratorFunction"\x3d\x3d\x3d(e.displayName||e.name))},t.mark\x3dfunction(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__\x3dp,a(t,s,"GeneratorFunction")),t.prototype\x3dObject.create(v),t},t.awrap\x3dfunction(t){return{__await:t}},y(x.prototype),x.prototype[o]\x3dfunction(){return this},t.AsyncIterator\x3dx,t.async\x3dfunction(e,i,n,r,o){void 0\x3d\x3d\x3do\x26\x26(o\x3dPromise);var s\x3dnew x(c(e,i,n,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(v),a(v,s,"Generator"),v[r]\x3dfunction(){return this},v.toString\x3dfunction(){return"[object Generator]"},t.keys\x3dfunction(t){var e\x3d[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n\x3de.pop();if(n in t)return i.value\x3dn,i.done\x3d!1,i}return i.done\x3d!0,i}},t.values\x3db,E.prototype\x3d{constructor:E,reset:function(t){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dvoid 0,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dvoid 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"\x3d\x3d\x3de.charAt(0)\x26\x26i.call(this,e)\x26\x26!isNaN(+e.slice(1))\x26\x26(this[e]\x3dvoid 0)},stop:function(){this.done\x3d!0;var t\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3dt.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e\x3dthis;function n(i,n){return s.type\x3d"throw",s.arg\x3dt,e.next\x3di,n\x26\x26(e.method\x3d"next",e.arg\x3dvoid 0),!!n}for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var o\x3dthis.tryEntries[r],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var a\x3di.call(o,"catchLoc"),c\x3di.call(o,"finallyLoc");if(a\x26\x26c){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n\x3dthis.tryEntries.length-1;n\x3e\x3d0;--n){var r\x3dthis.tryEntries[n];if(r.tryLoc\x3c\x3dthis.prev\x26\x26i.call(r,"finallyLoc")\x26\x26this.prev\x3cr.finallyLoc){var o\x3dr;break}}o\x26\x26("break"\x3d\x3d\x3dt||"continue"\x3d\x3d\x3dt)\x26\x26o.tryLoc\x3c\x3de\x26\x26e\x3c\x3do.finallyLoc\x26\x26(o\x3dnull);var s\x3do?o.completion:{};return s.type\x3dt,s.arg\x3de,o?(this.method\x3d"next",this.next\x3do.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"\x3d\x3d\x3dt.type)throw t.arg;return"break"\x3d\x3d\x3dt.type||"continue"\x3d\x3d\x3dt.type?this.next\x3dt.arg:"return"\x3d\x3d\x3dt.type?(this.rval\x3dthis.arg\x3dt.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3dt.type\x26\x26e\x26\x26(this.next\x3de),l},finish:function(t){for(var e\x3dthis.tryEntries.length-1;e\x3e\x3d0;--e){var i\x3dthis.tryEntries[e];if(i.finallyLoc\x3d\x3d\x3dt)return this.complete(i.completion,i.afterLoc),_(i),l}},catch:function(t){for(var e\x3dthis.tryEntries.length-1;e\x3e\x3d0;--e){var i\x3dthis.tryEntries[e];if(i.tryLoc\x3d\x3d\x3dt){var n\x3di.completion;if("throw"\x3d\x3d\x3dn.type){var r\x3dn.arg;_(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate\x3d{iterator:b(t),resultName:e,nextLoc:i},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dvoid 0),l}},t}(t.exports);try{regeneratorRuntime\x3de}catch(t){Function("r","regeneratorRuntime \x3d r")(e)}}(Vs);var Hs\x3dVs.exports,js\x3d{"assessments-components":h({"box-sizing":"border-box","\x26:before, \x26:after":{"box-sizing":"border-box"},"\x26 *, \x26 *:before, \x26 *:after":{"box-sizing":"border-box"}},{"\x26 [hidden]":{display:"none"},"\x26 b, \x26 strong":{fontWeight:"bold"},"\x26 dfn":{fontStyle:"italic"},"\x26 small":{fontSize:"80%"},"\x26 sub, \x26 sup":{fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},"\x26 sup":{top:"-0.5em"},"\x26 sub":{bottom:"-0.25em"},"\x26 img":{border:"0"},"\x26 svg:not(:root)":{overflow:"hidden"},"\x26 figure":{margin:"0"},"\x26 table":{borderCollapse:"collapse",borderSpacing:"0","\x26.nowrap td, \x26.nowrap th":{whiteSpace:"nowrap"},"\x26.valign-middle td, \x26.valign-middle th":{verticalAlign:"middle"}},"\x26 .nowrap":{whiteSpace:"nowrap"},"\x26 .valign-middle":{verticalAlign:"middle"},"\x26 .align-center":{textAlign:"center"},"\x26 .align-right":{textAlign:"right"},"\x26 .fullwidth":{width:"100%"}},{"\x26.vectorMoment":{width:"100%",height:"100%"}})},Ws\x3dhi.createStyleSheet(js);function zs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Ws.attach();var Gs\x3dfunction(t){a(s,t);var i\x3dzs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).origin\x3dt.baseURL\x26\x26t.baseURL.split("/").slice(0,3).join("/")||window.location.origin,n.initialize(t),n}return n(s,[{key:"createEventListener",value:function(t,e,i,n){var r\x3dthis;return function o(s){var a\x3ds.origin,c\x3ds.data;if(a\x3d\x3d\x3dr.origin){var u\x3dr.parsePostMessage(c),l\x3du.source,h\x3du.method,d\x3du.params,p\x3dvoid 0\x3d\x3d\x3dd?[]:d,f\x3du.error;l\x3d\x3dt\x26\x26h\x3d\x3de\x26\x26(f\x26\x26n(f),i.apply(void 0,le(p)),window.removeEventListener("message",o))}}}},{key:"load",value:function(t,e,i){var n\x3dthis;return new vr((function(a,c){window.addEventListener("message",n.createEventListener(e,"loaded",a,c)),o(r(s.prototype),"initFields",n).call(n),n.domNode\x3dn.focusNode\x3ddocument.createElement("iframe"),n.domNode.setAttribute("name",e),n.domNode.setAttribute("src",t),i.insertBefore(n.domNode,i.firstChild)}))}},{key:"setStyles",value:function(t){for(var e\x3d0,i\x3dObject.keys(t);e\x3ci.length;e++){var n\x3di[e];this.domNode.style[n]\x3dt[n]}}},{key:"postMessage",value:function(t){this.domNode.contentWindow.postMessage(t,this.origin)}},{key:"callMethod",value:function(t){for(var e\x3dthis,i\x3darguments.length,n\x3dnew Array(i\x3e1?i-1:0),r\x3d1;r\x3ci;r++)n[r-1]\x3darguments[r];return new vr((function(i,r){window.addEventListener("message",e.createEventListener(e.domNode.name,t,i,r)),e.postMessage(JSON.stringify({target:e.domNode.name,method:t,params:n}))}))}},{key:"parsePostMessage",value:function(t){try{return JSON.parse(t)}catch(e){return console.log("Invalid JSON sent as postmessage: ",t),{}}}}]),s}(Rs);function Xs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}gi();var Qs\x3dnull,Ys\x3dfunction(t){a(d,t);var i,s,c,h\x3dXs(d);function d(t,i){var n;e(this,d),n\x3dh.apply(this,arguments);var r\x3dbr(n.getGraphWidgetProps()),o\x3d"iframe_".concat(t.id);return i.classList.add("vectorMoment"),r.length\x3c2e3?l(n,n.getManifest(t.manifestURL,t.releasesBaseURL,t.overrideBaseUrl).then((function(t){return n.load("".concat(t,"/iframe.html?").concat(r,"}"),o,i)})).then((function(){return n.setStyles()})).then((function(){return n.setDisabled(!t.interactive)})).then((function(){return u(n)}))):l(n,n.getManifest(t.manifestURL,t.releasesBaseURL,t.overrideBaseUrl).then((function(t){return n.load("".concat(t,"/iframe.html"),o,i)})).then((function(){return n.graphWidget(n.getGraphWidgetProps())})).then((function(){return n.setDisabled(!t.interactive)})).then((function(){return u(n)})))}return n(d,[{key:"initFields",value:function(){o(r(d.prototype),"initFields",this).call(this),this.baseClass+\x3d" ".concat(Ws.classes["assessments-components"]),this.interactive\x3d1,this.authoring\x3d0,this.partID\x3d"problemView",this.logger\x3d!1,this.showExamples\x3d0}},{key:"getManifest",value:(c\x3dUs(Hs.mark((function t(e,i,n){return Hs.wrap((function(t){for(;;)switch(t.prev\x3dt.next){case 0:if(n\x26\x26(Qs\x3dn),!Qs){t.next\x3d3;break}return t.abrupt("return",vr.resolve(Qs));case 3:return t.next\x3d5,fetch(e).then((function(t){return t.status\x3c400?t.json():{}})).then((function(t){return Qs\x3d"".concat(i,"/").concat(t.version)}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),function(t,e,i){return c.apply(this,arguments)})},{key:"setStyles",value:(s\x3dUs(Hs.mark((function t(){var e;return Hs.wrap((function(t){for(;;)switch(t.prev\x3dt.next){case 0:return t.next\x3d2,this.callMethod("height");case 2:e\x3dt.sent,o(r(d.prototype),"setStyles",this).call(this,{border:0,frameBorder:"0",width:"100%",height:"".concat(e,"px")});case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getGraphWidgetProps",value:function(){return{baseURL:Qs,interactive:this.interactive,authoring:this.authoring,backgroundImage:this.backgroundImage,backgroundImageTitle:this.backgroundImageTitle,backgroundImageAlt:this.backgroundImageAlt,setResponseValue:this.setResponseValue,configLoadURL:this.configLoadURL,configSaveURL:this.configSaveURL,texRenderURL:this.texRenderURL,helpURL:this.helpURL,partID:this.partID,logger:this.logger,showExamples:this.showExamples}}},{key:"graphWidget",value:(i\x3dUs(Hs.mark((function t(e){return Hs.wrap((function(t){for(;;)switch(t.prev\x3dt.next){case 0:return e\x26\x26sn(this,e),t.next\x3d3,this.callMethod("graphWidget",this.getGraphWidgetProps());case 3:return t.abrupt("return",this.setStyles());case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"getVectorData",value:function(){return this.callMethod("getAnswerString")}},{key:"setVectorData",value:function(t){this.callMethod("showAnswer",t)}},{key:"setDisabled",value:function(t){this.callMethod("setInteractive",!t)}},{key:"getConfig",value:function(){return this.callMethod("getConfig")}},{key:"getAnswerVectorData",value:function(){return this.callMethod("getRightAnswerString")}}]),d}(Gs),Ks\x3d{ALLOWCOMMANUMBER:1,ALLOWDOLLAR:2,ALLOWMINUS:4,ALLOWNEGPARENS:8,USESICOMMASPACE:16,USESICOMMAPERIOD:256,USESICOMMADECIMAL:32,ZEROOPTIONAL:64,ALLOWPLUS:128,ALLOWSPACEAFTERCURRENCYCHAR:512,ALLOWSPACEAFTERNEGPAREN:1024,ALLOWSPACEAFTERMINUS:2048},Js\x3dObject.freeze({__proto__:null,EqDocument:hs,EqUtils:tr,EqParser:cs,EqDivide:io,EqEventDispatcher:Mr,EqTextParser:Kn,TDXInputOption:Ks,EqCaretEventDirection:jn}),$s\x3dvi();return t.AssessmentsComponentsVersion\x3d$s,t.EquationClasses\x3dJs,t.EquationEditor\x3dDs,t.EquationLabel\x3dIs,t.VectorMoment\x3dYs,t.focus\x3dBn,Object.defineProperty(t,"__esModule",{value:!0}),t}({});\n',
"url:xl/grapher/templates/keyboard.htm":'\ufeff\x3cdiv style\x3d"width:160px; position:absolute; right:10px; bottom:10px; margin-right:5px; margin-bottom:5px; opacity:0.5;" data-dojo-attach-point\x3d"domNode"\x3e\n\t\x3cdiv style\x3d"text-align:center; margin-bottom:4px;"\x3e\n\t\t\x3cimg tabindex\x3d"-1" data-dojo-attach-point\x3d"_upArrow" src\x3d"${_upArrowUrl}" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"_leftArrow" src\x3d"${_leftArrowUrl}" /\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"_downArrow" src\x3d"${_downArrowUrl}" /\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"_rightArrow" src\x3d"${_rightArrowUrl}" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:xl/player/dialogs/templates/DataGrapher.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"dataGrapherTabs" data-dojo-type\x3d"dijit/layout/TabContainer" style\x3d"height: 260px;"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"timeSeriesTab" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Time Series (1 or 2 plots)" data-dojo-props\x3d"number: 1"\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY Axis1\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectYAxis1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n            \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% if timeSeriesSecondOpt %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY Axis2\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectYAxis2" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n            \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"multiplePlotsTab" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Multiple Plots" data-dojo-props\x3d"number: 2"\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY1\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% if opt2 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY2\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY2" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n        {% if opt3 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY3\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY3" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n        {% if opt4 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY4\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY4" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n        {% if opt5 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY5\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY5" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n            \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"scatterDiagramTab" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Scatter Diagram" data-dojo-props\x3d"number: 3"\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eX Axis\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectXAxis" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                    \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY Axis\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectYAxis" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                    \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:xl/player/dialogs/templates/InteractionsDialog.html":'\ufeff{% if selectenabled %}\n\x3cdiv class\x3d"line"\x3e\n  \x3cdiv class\x3d"text paramName"\x3eSelect a curve\x3c/div\x3e\n        \x3cdiv class\x3d"paramSlider"\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:curveOptionChange" data-dojo-props\x3d"maxHeight: 300"\x3e\n                {% for opt in options %}\n                \x3coption value\x3d"{{ forloop.counter }}"\x3e{{ opt.name }}\x3c/option\x3e\n                {% endfor %}        \n            \x3c/select\x3e\n        \x3c/div\x3e  \n\x3c/div\x3e\n{% endif %}\n{% for opt in options %}\n\x3cdiv class\x3d"interactionOption"\x3e\n    \x3cdiv class\x3d"text line name"\x3e{{opt.name}}\x3c/div\x3e\n    {% if opt.selectOptionsNameX !\x3d "" or opt.selectOptionsX.length \x3e 0 %}\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"paramName"\x3e\n            \x3cdiv class\x3d"text paramName"\x3e{{opt.selectOptionsNameX}}\x3c/div\x3e\n            \x3cdiv class\x3d"text paramName label"\x3e\x3c/div\x3e    \n        \x3c/div\x3e\n        \n        \x3cdiv class\x3d"paramSlider"\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:plotValueChangeX" data-dojo-props\x3d"maxHeight: 300"\x3e\n                {% for sOption in opt.selectOptionsX %}\n                \x3coption value\x3d"{{ sOption.value }}"\x3e{{ sOption.label }}\x3c/option\x3e\n                {% endfor %}\n            \x3c/select\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    {% endif %}\n    {% if opt.selectOptionsNameY !\x3d "" or opt.selectOptionsY.length \x3e 0 %}\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"text paramName"\x3e{{opt.selectOptionsNameY}}\x3c/div\x3e\n        \x3cdiv class\x3d"paramSlider"\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:plotValueChangeY" data-dojo-props\x3d"maxHeight: 300"\x3e\n                {% for sOption in opt.selectOptionsY %}\n                \x3coption value\x3d"{{ sOption.value }}"\x3e{{ sOption.label }}\x3c/option\x3e\n                {% endfor %}        \n            \x3c/select\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    {% endif %}\n        {% for param in opt.params %}\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"paramName"\x3e\n            \x3cdiv class\x3d"text paramName"\x3e{{ param.name }}\x3c/div\x3e\n            \x3cdiv class\x3d"text paramName label"\x3e\x3c/div\x3e    \n        \x3c/div\x3e\n        \x3cdiv class\x3d"paramSlider"\n             data-dojo-type\x3d"dijit/form/HorizontalSlider"\n             data-dojo-attach-event\x3d"onChange:sliderValueChange"\n             data-dojo-props\x3d"name: \'{{param.varName}}\', \n                    value: {{ param.value }}, \n                    minimum: {{ param.min }},\n                    maximum: {{ param.max }},\n                    discreteValues: {{ param.discreteValues }},\n                    intermediateChanges:false,\n                    showButtons:false"\x3e\n            \x3col data-dojo-type\x3d"dijit/form/HorizontalRuleLabels" container\x3d"topDecoration" class\x3d"paramSliderHorizonalRuleLabels"\x3e\n                \x3cli\x3e{{ param.min }}\x3c/li\x3e\n                \x3cli\x3e\x3c/li\x3e\n                \x3cli\x3e\x3c/li\x3e\n                \x3cli\x3e\x3c/li\x3e\n                \x3cli\x3e{{ param.max }}\x3c/li\x3e\n            \x3c/ol\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/form/HorizontalRule" container\x3d"topDecoration"\n                 count\x3d"{{ param.discreteValues }}" style\x3d"height: 5px;"\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n        {% endfor %}\n\x3c/div\x3e\n{% endfor %}',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:xl/player/dialogs/templates/InputFeedbackDialog.html":'\ufeff\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1" class\x3d"inputFeedbackDialog"\x3e\n    \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Close" role\x3d"button" tabindex\x3d"0"\x3e\n        \x3cspan aria-hidden\x3d"true" data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Close"\x3e\x3c/span\x3e\n    \x3c/span\x3e\n    \x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n        \x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:xl/editgraph/templates/LabelDropdown.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv class\x3d"${baseClass}Item empty" data-dojo-attach-point\x3d"displayNode, _buttonNode, focusNode"\x3e${placeHolderText}\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:xl/editgraph/images/movehandle.svg":"M176 410 c-41 -45 -39 -60 5 -60 29 0 29 -1 29 -55 l0 -56 -57 3\nc-55 3 -58 4 -61 31 -2 15 -9 27 -16 27 -14 0 -76 -61 -76 -76 0 -14 63 -74\n78 -74 7 0 12 11 12 25 0 24 3 25 61 25 l60 0 -3 -52 c-3 -52 -4 -53 -38 -58\nl-35 -5 39 -42 c21 -24 44 -43 50 -43 15 0 76 62 76 77 0 7 -12 13 -27 15 -26\n3 -28 7 -31 56 l-3 52 60 0 c58 0 61 -1 61 -25 0 -14 6 -25 13 -25 15 0 77 61\n77 76 0 15 -64 74 -81 74 -10 0 -15 -10 -14 -27 0 -27 -2 -28 -57 -31 l-58 -3\n0 56 c0 54 0 55 30 55 22 0 30 5 30 18 0 19 -59 82 -77 82 -6 0 -27 -18 -47\n-40z",
"url:xl/editgraph/templates/graphstatus.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode" style\x3d"padding-right:15px;"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"lblEditCoords" data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-attach-event\x3d"onclick:editCoordsClick, onmousedown:mouseDown, onmouseup:mouseUp"\n            class\x3d"btn-primary btn-default ${baseClass} edit-coords-btn hidden"\x3e\n    \x3c/button\x3e\n    \x3cspan data-dojo-attach-point\x3d"lblCoords" class\x3d"lblGraphCoords"\x3e(0,0)\x3c/span\x3e\n\x3c/div\x3e',
"url:xl/player/dialogs/templates/EditCoordsDialog.html":'\ufeff\x3cdiv style\x3d"padding:15px"\x3e\n    \x3cspan class\x3d"${baseClass}Text" data-dojo-attach-point\x3d"editCoordsText"\x3e\x3c/span\x3e(\n    \x3cdiv data-dojo-type\x3d"xl/player/controls/UIEqEditor" data-dojo-attach-point\x3d"xCoordInput" data-dojo-props\x3d"docSettings:${_docSettingsStr},useOsk:${useOsk}"\x3e\x3c/div\x3e,\n    \x3cdiv data-dojo-type\x3d"xl/player/controls/UIEqEditor" data-dojo-attach-point\x3d"yCoordInput" data-dojo-props\x3d"docSettings:${_docSettingsStr},useOsk:${useOsk}"\x3e\x3c/div\x3e)\n    \x3cdiv class\x3d"${baseClass}Instructions" data-dojo-attach-point\x3d"editCoordsInstructions"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline dijitColorPalette" role\x3d"grid"\x3e\n\t\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0" role\x3d"presentation"\x3e\n\t\t\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\x3e\n\t\x3c/table\x3e\n\x3c/div\x3e\n',"url:xl/player/dialogs/templates/ReviewDataEdit.html":'\ufeff\x3cdiv class\x3d"dijitDialog xlDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n              role\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n            \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea" data-dojo-attach-point\x3d"containerNode"\x3e\n        \x3cdiv\x3e\n            \x3ctextarea data-dojo-attach-point\x3d"textAreaReviewData" class\x3d"textAreaReviewData" id\x3d"textSource" name\x3d"reviewData" data-dojo-type\x3d"dijit/form/Textarea" style\x3d"width:450px;" spellcheck\x3d"false"\x3eThis is a test\x3c/textarea\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"submit" data-dojo-attach-point\x3d"OkButton" data-dojo-attach-event\x3d"onClick:okClicked"\x3e\n            OK\n        \x3c/button\x3e\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancelClicked"\x3e\n            Cancel\n        \x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n\n',
"url:dojox/grid/resources/View.html":'\x3cdiv class\x3d"dojoxGridView" role\x3d"presentation"\x3e\n\t\x3cdiv class\x3d"dojoxGridHeader" dojoAttachPoint\x3d"headerNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"headerNodeContainer" style\x3d"width:9000em" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"headerContentNode" role\x3d"row"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" dojoAttachPoint\x3d"hiddenFocusNode" role\x3d"presentation" /\x3e\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" role\x3d"presentation" /\x3e\n\t\x3cdiv class\x3d"dojoxGridScrollbox" dojoAttachPoint\x3d"scrollboxNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dojoxGridContent" dojoAttachPoint\x3d"contentNode" hidefocus\x3d"hidefocus" role\x3d"presentation"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dojox/grid/resources/_Grid.html":'\x3cdiv hidefocus\x3d"hidefocus" role\x3d"grid" dojoAttachEvent\x3d"onmouseout:_mouseOut"\x3e\n\t\x3cdiv class\x3d"dojoxGridMasterHeader" dojoAttachPoint\x3d"viewsHeaderNode" role\x3d"presentation"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dojoxGridMasterView" dojoAttachPoint\x3d"viewsNode" role\x3d"presentation"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dojoxGridMasterMessages" style\x3d"display: none;" dojoAttachPoint\x3d"messagesNode"\x3e\x3c/div\x3e\n\t\x3cspan dojoAttachPoint\x3d"lastFocusNode" tabindex\x3d"0"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:xl/player/dialogs/templates/OverrideValues.html":'\ufeff\x3cdiv class\x3d"dijitDialog xlDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n          role\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n    \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3e\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/div\x3e\n\x3cdiv class\x3d"dijitDialogPaneContentArea" data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3cdiv class\x3d"overrideValuesDialog" data-dojo-type\x3d"dijit/layout/BorderContainer"\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" class\x3d"topButtons" data-dojo-props\x3d"region: \'top\'"\x3e\n            \x3cdiv class\x3d"left"\x3e\n                \x3cspan class\x3d"btn btn-default fileButton"\x3e\n                    Load Data File...\n                    \x3cinput type\x3d"file" data-dojo-attach-point\x3d"inputDataFile" data-dojo-attach-event\x3d"onChange:_loadClicked"/\x3e\n                \x3c/span\x3e\n                \x3cbutton data-dojo-attach-point\x3d"buttonSaveDataFile" data-dojo-type\x3d"xl.dijit-bootstrap.Button" label\x3d"Save Data File..." data-dojo-attach-event\x3d"onClick:_saveClicked"\x3e\x3c/button\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"right"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"buttonResetValues" data-dojo-type\x3d"xl.dijit-bootstrap.Button" label\x3d"Reset Values" data-dojo-attach-event\x3d"onClick:_resetClicked"\x3e\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer"\n             data-dojo-props\x3d"region: \'center\', tabPosition: \'top\'"\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer"\n                 data-dojo-props\x3d"title: \'Variables\'"\n                 title\x3d"Vars"\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region: \'top\'" class\x3d"instructions"\x3e\n                    Enter new values by double-clicking in the New Value column.\n                    \x3cbr/\x3e\x3cform\x3e\x3cinput data-dojo-attach-point\x3d"overrideAllCheckbox" type\x3d"checkbox" name\x3d"overrideAll" value\x3d"overrideAll"\x3e Select all\x3c/form\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region: \'center\'"\x3e\n                    \x3ctable data-dojo-attach-point\x3d"variablesGrid" dojotype\x3d"dojox.grid.DataGrid"\x3e\n                        \x3cthead\x3e\n                            \x3ctr\x3e\n                                \x3cth field\x3d"override" celltype\x3d"dojox.grid.cells.Bool" editable\x3d"true" width\x3d"70px"\x3eOverride\x3c/th\x3e\n                                \x3cth field\x3d"name" width\x3d"70px"\x3eName\x3c/th\x3e\n                                \x3cth field\x3d"type" width\x3d"100px"\x3eType\x3c/th\x3e\n                                \x3cth field\x3d"constraints" width\x3d"110px"\x3eConstraints\x3c/th\x3e\n                                \x3cth field\x3d"currentValue" width\x3d"110px"\x3eCurrent Value\x3c/th\x3e\n                                \x3cth field\x3d"newValue" editable\x3d"true" width\x3d"100px"\x3eNew Value\x3c/th\x3e\n                            \x3c/tr\x3e\n                        \x3c/thead\x3e\n                    \x3c/table\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e       \n            \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n                 data-dojo-props\x3d"title: \'XML\'"\n                 title\x3d"xmlstuff"\x3e\n                \x3cdiv\x3eYou can copy and paste the XML contents below.\x3c/div\x3e\n                \x3ctextarea data-dojo-attach-point\x3d"textAreaOverrideValues" class\x3d"textAreaOverrideValues" id\x3d"textSource" name\x3d"overrideValues" data-dojo-type\x3d"dijit/form/Textarea" spellcheck\x3d"false"\x3eThis is a test\x3c/textarea\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"radioButtonBar" data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region: \'bottom\'"\x3e\n            \x3clabel class\x3d"inline"\x3e\n                \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"useRadio" name\x3d"useOverride" checked value\x3d"useOverride" data-dojo-type\x3d"dijit/form/RadioButton" /\x3e\n                Use Override Mode\n            \x3c/label\x3e\n            \x3clabel class\x3d"inline"\x3e\n                \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"donotuseRadio" data-dojo-props\x3d"label: \'Do Not Override\'" name\x3d"useOverride" value\x3d"donotOverride" data-dojo-type\x3d"dijit/form/RadioButton" /\x3e\n                Do Not Override\n            \x3c/label\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dialogFooter" class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"submit" data-dojo-attach-event\x3d"onClick:okClicked"\x3e\n                Submit\n            \x3c/button\x3e\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:cancelClicked"\x3e\n                Cancel\n            \x3c/button\x3e\n        \x3c/div\x3e\n    \n    \x3ciframe class\x3d"offScreen" data-dojo-attach-point\x3d"saveFrame" data-dojo-type\x3d"xl/dijit/Iframe"\x3e\x3c/iframe\x3e\n\x3c/div\x3e\n',
"url:xl/dijit/templates/RadioButton.html":'\ufeff\x3cdiv class\x3d"dijit dijitReset dijitInline"\x3e\n    \x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n           class\x3d"dijitReset dijitCheckBoxInput"\n           data-dojo-attach-point\x3d"focusNode"\n           data-dojo-attach-event\x3d"ondijitclick:_onClick" /\x3e\n\x3c/div\x3e\n',"url:xl/player/dialogs/templates/ChangeMobileUIDialog.html":'\ufeff\x3cdiv style\x3d"padding:15px" class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"radioButtons"\x3e\n        \x3cdiv data-dojo-type\x3d"xl/dijit/RadioButton" data-dojo-attach-point\x3d"autoBtn" data-dojo-attach-events\x3d"change: _hideMobileWarning"\x3e\x3c/div\x3e\x3clabel data-dojo-attach-point\x3d"labelAuto"\x3e\x3c/label\x3e\x3cbr/\x3e\n        \x3cdiv data-dojo-type\x3d"xl/dijit/RadioButton" data-dojo-attach-point\x3d"onBtn" data-dojo-attach-events\x3d"change: _hideMobileWarning"\x3e\x3c/div\x3e\x3clabel data-dojo-attach-point\x3d"labelOn"\x3e\x3c/label\x3e\x3cbr/\x3e\n        \x3cdiv data-dojo-type\x3d"xl/dijit/RadioButton" data-dojo-attach-point\x3d"offBtn" data-dojo-attach-events\x3d"change: _showMobileWarning"\x3e\x3c/div\x3e\x3clabel data-dojo-attach-point\x3d"labelOff"\x3e\x3c/label\x3e\x3cbr/\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"divWarning" class\x3d"hidden warning"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/controls/templates/InlineMathPalette.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"glyphicon glyphicon-remove" title\x3d"${buttonCancel}"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"paletteNode" class\x3d"palette"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"morePaletteNode" class\x3d"palette hidden"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/dialogs/templates/HintDialog.html":'\x3cdiv class\x3d"dijitDialog xlDialog" role\x3d"${ariaRole}"  data-dojo-attach-point\x3d"dialogNode" aria-modal\x3d"true" tabindex\x3d"0"\x3e      \n    \x3cdiv role\x3d"document" aria-labelledby\x3d"${id}_start ${id}_title ${id}_content ${id}_end"\x3e \n        \x3cspan class\x3d"sr-only" data-dojo-attach-point\x3d"content_start_span" id\x3d"${id}_start" \x3e\x3c/span\x3e      \n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar" id\x3d"${id}_title" \x3e\n            \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"  \x3e\n                \x3c!--put title here--\x3e\n            \x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"minimizeButtonNode" class\x3d"hidden dijitDialogMinimizeIcon" data-dojo-attach-event\x3d"ondijitclick: onMinimize"\x3e\n                \x3cspan data-dojo-attach-point\x3d"minimizeText" role\x3d"button" tabindex\x3d"0" class\x3d"glyphicon glyphicon-white glyphicon-minus minimizeText"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel"\x3e\n                \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" tabindex\x3d"0" role\x3d"button"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"hidden xlDialogHeader" data-dojo-attach-point\x3d"dialogHeader"\x3e\n\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent" id\x3d"${id}_content"\x3e\n            \x3c!--put main content here--\x3e\n        \x3c/div\x3e\n        \x3cspan class\x3d"sr-only" data-dojo-attach-point\x3d"content_end_span" id\x3d"${id}_end"\x3e\x3c/span\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dialogFooter" class\x3d"xlDialogFooter" style\x3d"padding-top: 15px;"\x3e\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" class\x3d"palettePanel" data-dojo-attach-point\x3d"palettePanelhint"\n                data-dojo-props\x3d"region:\'bottom\',layoutPriority:3" style\x3d"position: relative;"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"mathPalettehint" class\x3d"hidden" data-dojo-type\x3d"xl.player.controls.InlineMathPalette"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"dialogCheckbox" style\x3d"display:none" class\x3d"dialogCheckbox"\x3e\n                \x3c!--put checkbox here --\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"dialogButtons" class\x3d"xlDialogButtonContainer" style\x3d"padding-top: 10px;"\x3e\n                \x3c!--buttons go here--\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e  \n    \n\x3c/div\x3e',
"url:xl/player/controls/templates/Countdown.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv class\x3d"time-part minutes" data-dojo-attach-point\x3d"minutesNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"time-part divider"\x3e:\x3c/div\x3e\n    \x3cdiv class\x3d"time-part seconds" data-dojo-attach-point\x3d"secondsNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:xl/player/dialogs/templates/CountdownDialog.html":'\ufeff\x3cdiv class\x3d"dijitDialog xlDialog countDownDialog" role\x3d"${ariaRole}" aria-labelledby\x3d"${id}_title ${id}_content" aria-live\x3d"assertive" data-dojo-attach-point\x3d"dialogNode"\x3e\n    \x3cdiv role\x3d"document" tabindex\x3d"0"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n            \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n                  role\x3d"heading" level\x3d"1"\x3e\n                \x3c!--put title here--\x3e\n            \x3c/span\x3e\n            \x3cspan aria-label\x3d"Minimize" data-dojo-attach-point\x3d"minimizeButtonNode" class\x3d"hidden dijitDialogMinimizeIcon" data-dojo-attach-event\x3d"ondijitclick: onMinimize" role\x3d"button" tabindex\x3d"-1"\x3e\n                \x3cspan data-dojo-attach-point\x3d"minimizeText" class\x3d"glyphicon glyphicon-white glyphicon-minus"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon hidden" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n                \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"glyphicon glyphicon-white glyphicon-remove" title\x3d"${buttonCancel}"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"hidden xlDialogHeader" data-dojo-attach-point\x3d"dialogHeader"\x3e\n\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContent"\x3e\n            \x3cdiv class\x3d"countDownText" data-dojo-attach-point\x3d"containerNode" id\x3d"${id}_content"\x3e\n                \x3c!--put main content here--\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"countDownClock" data-dojo-attach-point\x3d"countDown" data-dojo-type\x3d"xl.player.controls.Countdown" data-dojo-attach-event\x3d"zeroreached: timerDone"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dialogFooter" class\x3d"xlDialogFooter"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"dialogCheckbox" style\x3d"display:none"\x3e\n                \x3c!--put checkbox here--\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"dialogButtons" class\x3d"xlDialogButtonContainer"\x3e\n                \x3c!--buttons go here--\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\n\x3e\x3c/div\x3e\n',
"url:xl/player/templates/PlayerControlPanel.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3ctable class\x3d"controlPanelColumns"\x3e\n        \x3ctr\x3e\n            \x3ctd class\x3d"left"\x3e\n                \x3cdiv data-dojo-type\x3d"xl/dijit/StatusProgressBar" data-dojo-attach-point\x3d"progressBar" class\x3d"hidden"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"buttonContainerLeft" style\x3d"display:inline-block"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"grammarApplyScorePanel" class\x3d"gaScorePanel hidden"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"lblScore" class\x3d"gaScoreLabel"\x3eSCORE:\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"lblScoreValue" class\x3d"gaScoreValue"\x3e0\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"lblRemaining" class\x3d"gaScoreLabel"\x3eREMAINING:\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"lblRemainingValue" class\x3d"gaScoreValue"\x3e10/10\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd class\x3d"center"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"buttonContainerCenter" style\x3d"display:inline-block"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd class\x3d"right"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"buttonContainerRight" style\x3d"display:inline-block"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"nextPrevPanel hidden" data-dojo-attach-point\x3d"nextPrevPanel"\x3e\n                    \x3cdiv class\x3d"btn-group"\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"btnPrev" data-dojo-type\x3d"xl.dijit-bootstrap.Button" \n                                class\x3d"btn-prev"\x3e\n                            \x3cspan class\x3d"icon-arrow-left"\x3e\x3c/span\x3e\n                        \x3c/button\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"btnNext" data-dojo-type\x3d"xl.dijit-bootstrap.Button" \n                                class\x3d"btn-next"\x3e\n                            \x3cspan class\x3d"icon-arrow-right"\x3e\x3c/span\x3e\n                        \x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/table\x3e\n    \n\x3c/div\x3e\n',
"url:xl/dijit/templates/StatusProgressBar.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable role\x3d"presentation"\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\n                \x3cdiv data-dojo-attach-point\x3d"partsNode" class\x3d"dijitProgressBarParts" id\x3d"${id}_parts"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd\x3e\n                \x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd\x3e\n                \x3cdiv data-dojo-attach-point\x3d"progressBar" class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\x3e\n                        \x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\x3e\n                        \x3cspan style\x3d"visibility: hidden"\x3e\x26#160;\x3c/span\x3e\n                    \x3c/div\x3e\x3cimg data-dojo-attach-point\x3d"indeterminateHighContrastImage" class\x3d"dijitProgressBarIndeterminateHighContrastImage" alt\x3d""/\x3e\n                \x3c/div\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/table\x3e\n\x3c/div\x3e',
"url:xl/player/templates/PlayerControlPanelMobile.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"infoBtn" class\x3d"infoBtn collapsed"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"handle" class\x3d"icon"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"primaryBtn" data-dojo-attach-point\x3d"primaryBtnContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"drawer" class\x3d"drawer collapsed"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"drawerContainer" class\x3d"inner"\x3e\n            \x3cdiv class\x3d"left" data-dojo-attach-point\x3d"buttonContainerLeft"\x3e\n                \x3cdiv data-dojo-type\x3d"xl/dijit/StatusProgressBar" data-dojo-attach-point\x3d"progressBar" class\x3d"hidden" data-dojo-props\x3d"hideVisualBar:true" style\x3d"margin-left: 5px;"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"grammarApplyScorePanel" class\x3d"gaScorePanel hidden"\x3e\n                \x3cspan data-dojo-attach-point\x3d"lblScore" class\x3d"gaScoreLabel"\x3eSCORE:\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"lblScoreValue" class\x3d"gaScoreValue"\x3e0\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"lblRemaining" class\x3d"gaScoreLabel"\x3eREMAINING:\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"lblRemainingValue" class\x3d"gaScoreValue"\x3e10/10\x3c/span\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"center" data-dojo-attach-point\x3d"buttonContainerCenter"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"right" data-dojo-attach-point\x3d"buttonContainerRight"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"nextPrevPanel hidden" data-dojo-attach-point\x3d"nextPrevPanel"\x3e\n                \x3cdiv class\x3d"btn-group"\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"btnPrev" data-dojo-type\x3d"xl.dijit-bootstrap.Button"\n                            class\x3d"btn-prev"\x3e\n                        \x3cspan class\x3d"icon-arrow-left"\x3e\x3c/span\x3e\n                    \x3c/button\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"btnNext" data-dojo-type\x3d"xl.dijit-bootstrap.Button"\n                            class\x3d"btn-next"\x3e\n                        \x3cspan class\x3d"icon-arrow-right"\x3e\x3c/span\x3e\n                    \x3c/button\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/controls/templates/MultipleChoice.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:xl/player/controls/templates/AnswerToggle.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cspan class\x3d"${baseClass}Label" aria-hidden\x3d"true"\x3eDisplay correct answer \x3c/span\x3e\n    \x3cbutton data-dojo-attach-point\x3d"focusNode" tabindex\x3d"0" type\x3d"button" role\x3d"alert"\x3e\n        \x3cspan class\x3d"${baseClass}IconContainer"\x3e\n            \x3cspan data-dojo-attach-point\x3d"iconNode" class\x3d"icon"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/button\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/Fillin.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cinput type\x3d"text" aria-hidden\x3d"true" readonly\x3d"readonly" aria-readonly\x3d"true" class\x3d"hiddenInput" data-dojo-attach-point\x3d"focusNode" tabindex\x3d"-1" aria-autocomplete\x3d"none" /\x3e\n    \x3cdiv class\x3d"${baseClass}Item" data-dojo-attach-point\x3d"displayNode, _buttonNode" aria-haspopup\x3d"listbox" aria-autocomplete\x3d"none"\x3e${placeHolderText}\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}InputValueAriaLabelNode hide" data-dojo-attach-point\x3d"inputValueAriaLabelNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/dialogs/templates/MatrixSizePopup.html":'\ufeff\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"contentHeader" class\x3d"matrixPopupHeader"\x3ePlease choose the size of your matrix\x3c/div\x3e\n    \x3cdiv class\x3d"xlMatrixSizePopupDiv"\x3e\n        \x3ctable\x3e\n            \x3ctr\x3e\n                \x3ctd\x3e\x3clabel\x3eNumber of Rows:\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-attach-point\x3d"rows" data-dojo-type\x3d"xl/player/controls/NumberSpinner" value\x3d"2" data-dojo-props\x3d"smallDelta:1, constraints:{min:1,max:10,places:0}, intermediateChanges: true, restrictInput: true"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd\x3e\x3clabel\x3eNumber of Columns:\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-attach-point\x3d"columns" data-dojo-type\x3d"xl/player/controls/NumberSpinner" value\x3d"2" data-dojo-props\x3d"smallDelta:1, constraints:{min:1,max:10,places:0}, intermediateChanges: true, restrictInput: true"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"xlMatrixSizePopupDiv aligncenter"\x3e\n        \x3cdiv data-dojo-type\x3d"xl.eqeditor.EqEditor" data-dojo-attach-point\x3d"eqEditor" tabindex\x3d"-1"\n                data-dojo-props\x3d"processRelationalShortcuts:true, docSettings:{allowCommaNumbers:true}, readOnly: true, disabled: true" style\x3d"background-color: transparent"\x3e\n                \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:xl/player/controls/templates/NumberSpinner.html":'\ufeff\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft xlNumberSpinner"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:xl/player/dialogs/templates/MatrixEditPopup.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3ca data-dojo-attach-point\x3d"focusNode" class\x3d"matrixediticon"\x3e\x26nbsp;\x3c/a\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" class\x3d"${baseClass}Menu" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:xl/player/templates/PlayerMenu.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"icon, _buttonNode, focusNode" class\x3d"${baseClass}Icon" aria-label\x3d"Player Menu" aria-haspopup\x3d"true" role\x3d"menu"\x3e\x3cspan data-dojo-attach-point\x3d"buttonLabel"\x3e\x26nbsp;\x3c/span\x3e\x3c/button\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" class\x3d"${baseClass}Menu" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/PopupStep.html":'\ufeff\x3cspan class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3ca data-dojo-attach-point\x3d"_buttonNode, focusNode" role\x3d"button"\x3e\x3c/a\x3e\n    \x3cspan data-dojo-attach-point\x3d"_dummyTextHolder"\x3e\x3c/span\x3e\n    \x3cdiv class\x3d"${baseClass}Popup" data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3c/div\x3e\n    \n\x3c/span\x3e',"url:xl/player/controls/templates/MathPalette.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"minimized" class\x3d"minimized"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"palette" class\x3d"palette"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"titleBar"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"title" class\x3d"title"\x3e\x3c/div\x3e\n            \x3cbutton data-dojo-attach-point\x3d"close" type\x3d"button" class\x3d"close closeButton" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"medium" class\x3d"medium"\x3e    \n            \x3cdiv class\x3d"palettebody"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"mediumButtons" class\x3d"buttonList"\x3e\x3c/div\x3e\n                \x3cbutton data-dojo-attach-point\x3d"moreButton" class\x3d"largeToolButton" data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-props\x3d"baseClass:\'btn\'"\x3e\x3c/button\x3e\n                \x3cdiv class\x3d"clearfix"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"maximized" class\x3d"maximized"\x3e\n            \x3cdiv class\x3d"palettebody"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"maximizedButtons" class\x3d"buttonList"\x3e\x3c/div\x3e\n                \x3cbutton data-dojo-attach-point\x3d"fewerButton" class\x3d"largeToolButton" data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-props\x3d"baseClass:\'btn\'"\x3eFewer\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/AccountingTable.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"domNode" class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;" data-dojo-attach-event\x3d"onItemClick: menuItemClick"\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-props\x3d"type: \'save\'"\x3eSave Accounting table...\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-props\x3d"type: \'csv\'"\x3eCopy to clipboard...\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/DataTable.html":'\ufeff\x3cspan data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3ca data-dojo-attach-point\x3d"icon, _buttonNode, focusNode" role\x3d"button" aria-expanded\x3d"false"\x3e\x26nbsp;\x3c/a\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;" data-dojo-attach-event\x3d"onItemClick: openDataTablePopup"\x3e\n            \n    \x3c/div\x3e\n\x3c/span\x3e\n\n',"url:xl/editgraph/templates/graphcontrol.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode" role\x3d"application"\x3e\n    \x3cdiv class\x3d"scale-wrapper" aria-hidden\x3d"true" tabindex\x3d"-1"\x3e\n        \x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"xl.editgraph.GraphStatus" data-dojo-attach-point\x3d"statusPanel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/GraphPalette.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"palette" class\x3d"palette"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"titleBar"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"title" class\x3d"title"\x3e\x3c/div\x3e\n            \x3cbutton data-dojo-attach-point\x3d"close" type\x3d"button" class\x3d"close closeButton" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"palettebody" data-dojo-attach-point\x3d"paletteBody"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"Buttons" class\x3d"buttonList"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"toolMessage" class\x3d"toolMessage"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cspan class\x3d"colorPalette"\x3e\n        \x3cspan data-dojo-attach-point\x3d"colorPalette"\x3e\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/InlineGraphPalette.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"glyphicon glyphicon-remove" title\x3d"${buttonCancel}"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cspan data-dojo-attach-point\x3d"toolMessage" class\x3d"inlineToolMessage"\x3e\x3c/span\x3e\n    \x3cdiv data-dojo-attach-point\x3d"paletteNode" class\x3d"palette xlGraphTools inlineGraphPalette" style\x3d"display: inline-block;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/TransformControl.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \n    \x3cinput data-dojo-attach-point\x3d"inputCB" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-event\x3d"onChange:cbChange" style\x3d"display: none"\x3e\x3c/input\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"divTitle" class\x3d"transformTitle" data-dojo-attach-event\x3d"onClick:titleClick" style\x3d"color:white;display:inline"\x3e${title}\x3c/div\x3e\n    \n    \x3cdiv data-dojo-type\x3d"xl/player/controls/HorizontalSlider" data-dojo-attach-point \x3d"divSlider" data-dojo-attach-event\x3d"onChange:sliderChange"\n         data-dojo-props\x3d"value:0,minimum: -10,maximum:10,intermediateChanges:true,showButtons:false"\n         style\x3d"width:100%;vertical-align: top" class\x3d"transformSlider"\x3e\n\n        \x3col data-dojo-type\x3d"xl/player/controls/HorizontalRuleLabels" data-dojo-attach-point\x3d"ruleLabels" data-dojo-props\x3d"container:\'topDecoration\'" style\x3d"display:none;" class\x3d"transformSliderLabels"\x3e\n        \x3c/ol\x3e\n        \x3cdiv data-dojo-type\x3d"xl/player/controls/HorizontalRule" data-dojo-attach-point\x3d"ruleTicks" data-dojo-props\x3d"container:\'topDecoration\'" style\x3d"height:5px;" class\x3d"transformSliderTicks"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point \x3d"divField" style\x3d"display:none; border:solid 1px blue;background-color:white; width:100%; cursor: text; vertical-align: top" data-dojo-attach-event\x3d"onClick:divFieldClick"\x3e\n        \x3cspan data-dojo-type\x3d"xl.eqeditor.EqEditor" data-dojo-attach-point\x3d"eqEditor" data-dojo-attach-event\x3d"onBlur:eqEditorBlur,onFocus:eqEditorFocus" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/TransformPalette.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"palette" class\x3d"palette"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"titleBar"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"title" class\x3d"title"\x3e\x3c/div\x3e\n            \x3cbutton data-dojo-attach-point\x3d"close" type\x3d"button" class\x3d"close closeButton" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"paletteBody" class\x3d"transformpalette" style\x3d"width: 240px;"\x3e\n            \n            \x3cdiv data-dojo-attach-point\x3d"pnlVStretch" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Vertical Stretch\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"pnlHStretch" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Horizontal Stretch\'" style\x3d"width:${baseWidth}px; display:inline-block" \x3e\x3c/div\x3e\n            \n            \x3cdiv data-dojo-attach-point\x3d"pnlVShift" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Vertical Shift\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"pnlHShift" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Horizontal Shift\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \n            \x3cdiv data-dojo-attach-point\x3d"pnlXFlip" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Vertical Flip\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"pnlYFlip" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Horizontal Flip\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"pnlBase" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Base\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/SDGrapherButton.html":'\ufeff\x3cbutton class\x3d"dijit dijitReset dijitInline sdgraphinput" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode" role\x3d"presentation" style\x3d"padding:6px;" data-dojo-attach-point\x3d"buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3c/button\x3e\n',
"url:xl/player/templates/LearningAidMenu.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"focusNode" class\x3d"btn btn-default" aria-haspopup\x3d"true" aria-expanded\x3d"false" role\x3d"menu"\x3e\x3cspan data-dojo-attach-point\x3d"buttonLabel"\x3e\x3c/span\x3e\x26nbsp;\x3cspan class\x3d"icon-arrow-down" style\x3d"margin-left: 0px;"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" class\x3d"${baseClass}Menu" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/Timeline.html":'\ufeff\x3cdiv class\x3d"timelineHolder" data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"periodLine"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"row line" data-dojo-attach-point\x3d"timeLine"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:xl/player/forms/templates/MediaPreReqsForm.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3cp data-dojo-attach-point\x3d"paragraph1"\x3e${resources.p1}\x3c/p\x3e\n    \x3cp\x3e\x3cul data-dojo-attach-point\x3d"mediaList" class\x3d"mediaList"\x3e\x3c/ul\x3e\x3c/p\x3e\n    \x3cp data-dojo-attach-point\x3d"paragraph2"\x3e${resources.p2}\x3c/p\x3e\n    \x3cp style\x3d"margin-top:2em"\x3e\x3cbutton data-dojo-attach-point\x3d"btnDisplayQuestion" data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-primary hidden"\x3e${resources.displayQuestion}\x3c/button\x3e\x3c/p\x3e\n\x3c/div\x3e',
"url:xl/player/forms/templates/MediaLandingPageForm.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3cp data-dojo-attach-point\x3d"pageText"\x3e${resources.pageText}\x3c/p\x3e\n    \x3cp\x3e\x3cul data-dojo-attach-point\x3d"mediaList" class\x3d"mediaList"\x3e\x3c/ul\x3e\x3c/p\x3e\n\x3c/div\x3e',"url:xl/player/templates/AssignedMediaDropdown.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"focusNode" class\x3d"btn btn-default"\x3e\x3cspan data-dojo-attach-point\x3d"buttonLabel"\x3e\x3c/span\x3e\x26nbsp;\x3cspan class\x3d"icon-arrow-down"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" class\x3d"${baseClass}Menu" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/forms/templates/PartnerGradedForm.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3c!--content--\x3e\n\x3c/div\x3e',"url:xl/player/forms/templates/CalculatorForm.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}" tabindex\x3d"-1" aria-label\x3d"Calculator"\x3e\n    \n        \x3c!-- Starting From Top to Bottom/Grid-Like Fashion --\x3e\n        \x3c!-- First Calculator Table Row--\x3e\n    \x3cdiv class\x3d"titleBar"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"title"\x3eCalculator\x3c/div\x3e \n        \x3cbutton role \x3d"button" data-dojo-attach-event\x3d"click: close" type\x3d"button" class\x3d"close closeButton" tabindex\x3d"0"\x3e\n            \x3cdiv role\x3d"img" data-dojo-attach-point\x3d"closeButton" class\x3d"closeButtonDiv"\x3e\x26times;\x3c/div\x3e\n        \x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"calcBody"\x3e\n        \x3ctable align\x3d"center" border\x3d"0" width\x3d"145" cellspacing\x3d"0" cellpadding\x3d"3" \x3e\n            \x3c!-- Second Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                    \x3ctd colspan\x3d"6"role\x3d"alert"\x3e\n                        \x3cinput style\x3d"position:relative;" type\x3d"text" id\x3d"txtoperand" class\x3d"textProperties" readonly\x3d"readonly" data-dojo-attach-point\x3d"operand"/\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"memorystoredisplayer" style\x3d"position:absolute;top:55px;left:12px;display:none;"\x3eM\x3c/div\x3e\n                    \x3c/td\x3e      \n            \x3c/tr\x3e\n            \x3c!-- Third Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd colspan\x3d"2"\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: backspaceClick" class\x3d"btnLarge btn btn-default"\x3eBackspace\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: clearClick" class\x3d"btn btn-default"\x3eCE\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: resetClick" class\x3d"btn btn-default"\x3eC\x3c/button\x3e\x3c/td\x3e\n                \x3ctd colspan\x3d"2"\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"enterButton" data-dojo-attach-event\x3d"click: enterClick" class\x3d"btnLarge btn btn-default"\x3e\x26crarr;\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Fourth Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMC\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e7\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e8\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e9\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e/\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton id\x3d"sqrt" data-dojo-attach-event\x3d"click: unaryClick" class\x3d"btn btn-default"\x3e\x26radic;\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Fifth Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMR\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e4\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e5\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e6\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e*\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton id\x3d"prcntg" data-dojo-attach-event\x3d"click: unaryClick" class\x3d"btn btn-default"\x3e%\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Sixth Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMS\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e1\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e2\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e3\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"minusButton" data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e-\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton id\x3d"rcprcl" data-dojo-attach-event\x3d"click: unaryClick" class\x3d"btn btn-default"\x3e1/x\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Seventh Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMP\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e0\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: toggleSignClick" class\x3d"btn btn-default"\x3e+/-\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e.\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e+\x3c/button\x3e\x3c/td\x3e\n                \x3ctd colspan\x3d"2"\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e\x3d\x3c/button\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n        \x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/forms/templates/GradePanel.html":'\ufeff\x3ctable class\x3d"GradePanel" data-dojo-attach-point\x3d"containerNode" style\x3d"text-align:left;margin-top:2px;width:100%"\x3e\n    \x3ctbody\x3e\n        \x3ctr\x3e\n        \x3ctd style\x3d"margin-left:1em;text-align:left;width:40%;vertical-align:baseline"\x3e\n            \x3cspan data-dojo-attach-point\x3d"spanNeedsGrading"\x3e${textNeedsGrading}\x3c/span\x3e\n        \x3c/td\x3e\n        \n        \x3ctd style\x3d"text-align:right;margin-right:1em;width:60%;vertical-align:baseline"\x3e\n            \x3cspan data-dojo-attach-point\x3d"textGrade"\x3e\x3cb\x3e${textGrade}\x3c/b\x3e\x3c/span\x3e\n            \x3cinput data-dojo-attach-point\x3d"txtGrade" type\x3d"text" value\x3d"0" class\x3d"txtGradeInput" data-dojo-attach-event\x3d"keyup:txtGradeKeyUp" /\x3e\n            \x3cspan data-dojo-attach-point\x3d"spanTotalPoints"\x3e${textTotalPoints}\x3c/span\x3e\n            \x3cbutton data-dojo-attach-point\x3d"submitButton" data-dojo-type\x3d"xl/dijit-bootstrap/Button" data-dojo-attach-event\x3d"click:submitGradeClick"\n                style\x3d"margin-left:2em;margin-right:2em"\x3e\x3cb\x3e${textSubmitGrade}\x3c/b\x3e\x3c/button\x3e\n        \x3c/td\x3e\n        \x3c/tr\x3e\n   \x3c/tbody\x3e\n\x3c/table\x3e',
"url:xl/player/forms/templates/EmbeddedMediaForm.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3ciframe data-dojo-attach-point\x3d"frame"\x3e\x3c/iframe\x3e\n\x3c/div\x3e',"url:xl/player/dialogs/templates/GrammarApplyInsReplDelDialog.html":'\ufeff\x3cdiv class\x3d"${baseClass}" style\x3d"width:400px;"\x3e\n    \x3cdiv class\x3d"${baseClass}Text" data-dojo-attach-point\x3d"message"\x3e\x3c/div\x3e\n    \x3cdiv style\x3d"padding-bottom:10px; padding-top:10px;"\x3e\x3cinput type\x3d"text" style\x3d"width:100%;" autocapitalize\x3d"off" autocorrect\x3d"off" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"answerTextBox" /\x3e\x3c/div\x3e\n    \x3cdiv\x3e\n        \x3ctable\x3e\n            \x3ctr\x3e\n                \x3ctd width\x3d"100%" nowrap\x3e\n                    \x3cspan data-dojo-attach-point\x3d"incorrectNode" class\x3d\'incorrect hidden\' \x3e\x3cspan class\x3d\'incorrectIcon\'\x3e\x3c/span\x3e\x3cspan class\x3d\'incorrectText\'\x3eINCORRECT\x3c/span\x3e\x3c/span\x3e            \n                \x3c/td\x3e\n                \x3ctd nowrap\x3e\n                    \x3cbutton data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-secondary" type\x3d"button" data-dojo-attach-point\x3d"btnCancel"\x3eCancel\x3c/button\x3e\n                    \x26nbsp;\n                    \x3cbutton data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-primary" type\x3d"button" data-dojo-attach-point\x3d"btnSubmit"\x3eSubmit\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n        \n        \n    \x3c/div\x3e\n    \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/grammarapply/templates/GrammarApplyInfoPanel.html":'\ufeff\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"titlebar"\x3e\n        \x3cspan data-dojo-attach-point\x3d"titleText" class\x3d"titletext"\x3e\x3c/span\x3e\x3cspan class\x3d"subtitletext" data-dojo-attach-point\x3d"subtitleText"\x3e\x3c/span\x3e\x3cspan class\x3d"titleclose" data-dojo-attach-point\x3d"titleClose"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"content"\x3e\n        \x3cspan data-dojo-attach-point\x3d"contentText"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"hintButtons hidden" data-dojo-attach-point\x3d"hintButtonPanel" \x3e\n            \x3cbutton data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-primary" type\x3d"button" data-dojo-attach-point\x3d"getAnswerBtn"\x3eGet Answer\x3c/button\x3e\n            \x3cbutton data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-primary" type\x3d"button" data-dojo-attach-point\x3d"tryAgainBtn"\x3eTry Again\x3c/button\x3e\n        \x3c/span\x3e\n        \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/grammarapply/templates/GrammarApplyControlPanel.html":'\ufeff\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cbutton data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-primary" type\x3d"button" data-dojo-attach-point\x3d"instructionsBtn"\x3eInstructions\x3c/button\x3e\n    \x3cbutton data-dojo-type\x3d"xl.dijit-bootstrap.Button" class\x3d"btn-primary" type\x3d"button" data-dojo-attach-point\x3d"hintBtn"\x3eHint\x3c/button\x3e\n    \x3cdiv style\x3d"float:right; padding-top:10px;margin-right:50px;" class\x3d"hidden" data-dojo-type\x3d"dojo.dnd.Source" id\x3d"csfsNode" data-dojo-attach-point\x3d"csfsNode"\x3e\n        \x3cspan class\x3d"dojoDndItem ga-csfs" id\x3d"cs" \x3e\x3cspan class\x3d"cs-icon"\x3e\x3c/span\x3eCOMMA SPLICE\x3c/span\x3e\n        \x3cspan class\x3d"dojoDndItem ga-csfs" id\x3d"fs" \x3e\x3cspan class\x3d"fs-icon"\x3e\x3c/span\x3eFUSED SENTENCE\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv style\x3d"float:right; padding-top:10px;margin-right:50px;" class\x3d"hidden" data-dojo-type\x3d"dojo.dnd.Source" id\x3d"insNode" data-dojo-attach-point\x3d"insNode"\x3e\n        \x3cspan class\x3d"dojoDndItem ga-ins" id\x3d"cd"\x3e\x3cspan class\x3d"cp-icon"\x3e\x3c/span\x3eCOMPOUND\x3c/span\x3e\n        \x3cspan class\x3d"dojoDndItem ga-ins" id\x3d"cx"\x3e\x3cspan class\x3d"cpcx-icon"\x3e\x3c/span\x3eCOMPOUND-COMPLEX\x3c/span\x3e\n        \x3cspan class\x3d"dojoDndItem ga-ins" id\x3d"c"\x3e\x3cspan class\x3d"cx-icon"\x3e\x3c/span\x3eCOMPLEX\x3c/span\x3e\n        \x3cspan class\x3d"dojoDndItem ga-ins" id\x3d"s"\x3e\x3cspan class\x3d"sp-icon"\x3e\x3c/span\x3eSIMPLE\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/templates/HigherEdPlayerViewer.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"offScreen" data-dojo-attach-point\x3d"commandAlert" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"mainPanel" data-dojo-type\x3d"dijit.layout.BorderContainer"\n         class\x3d"mainPanel" data-dojo-props\x3d"region:\'center\',liveSplitters:false, gutters:false"\x3e\n\n        \x3c!-- Container for the header bar - will be placed later once its type is known --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"headerBarContainer"\x3e\x3c/div\x3e\n\n        \x3c!-- These controls have been hidden but their presence is necessary for now to avoid errors --\x3e\n        \x3cdiv class\x3d"hidden" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'top\'"\x3e\n            \x3ctable class\x3d"hidden nowrap valign-middle" role\x3d"presentation"\x3e\n                \x3ctr\x3e\n                    \x3ctd data-dojo-attach-point\x3d"statusTitleGroup" class\x3d"separatorRight"\x3e\n                        \x3cdiv class\x3d"statusTitleGroup"\x3e\n                            \x3cspan data-dojo-attach-point\x3d"iconResult" class\x3d"iconResult"\x3e\x3cspan class\x3d"offScreen"\n                                    data-dojo-attach-point\x3d"accResult"\x3e\x3c/span\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                    \x3c/td\x3e\n                    \x3ctd\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"assignedMediaDropdown" data-dojo-type\x3d"xl.player.AssignedMediaDropdown"\n                            class\x3d"hidden"\x3e\x3c/div\x3e\n                    \x3c/td\x3e\n                    \x3ctd data-dojo-attach-point\x3d"barMasteryGroup" style\x3d"display: none; padding-left: 10px;padding-right: 10px"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"barMastery" class\x3d"xlSkillMeter"\x3e\x3c/div\x3e\n                        \x3cspan class\x3d"masteryMessage" data-dojo-attach-point\x3d"messageMastery" style\x3d"padding-left:10px"\x3e\x3c/span\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"assignmentReviewNavPanel" class\x3d"assignmentreviewnavpanel hidden"\n             data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'leading\'"\x3e\x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"gradePanel"\n            class\x3d"higherEd gradePanel"\n            style\x3d"display: none"\n            data-dojo-type\x3d"xl.player.forms.HigherEdGradePanel"\n            data-dojo-props\x3d"region:\'top\'"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"skillBuilderProgressBar" class\x3d"higheredskillBuilderProgressContainer" data-dojo-type\x3d"dijit.layout.ContentPane" style\x3d"display: none;" data-dojo-props\x3d"region:\'top\'"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"skillBuilderProgressLevel1" class\x3d"levelOne"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"skillBuilderProgressLevel2" class\x3d"levelTwo"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"skillBuilderProgressLevel3" class\x3d"levelThree"\x3e\x3c/div\x3e\n            \x3cdiv\x3e\x3cspan data-dojo-attach-point\x3d"skillBuilderProgressLevel" class\x3d"skillBuilderProgressLevel"\x3e\x3c/span\x3e\x3c/div\x3e\n            \x3cdiv\x3e\x3cspan data-dojo-attach-point\x3d"skillBuilderProgressPrompt" class\x3d"skillBuilderProgressPrompt"\x3e\x3c/span\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"externalPlayer" class\x3d"externalPlayer" data-dojo-type\x3d"xl.player.ExternalPlayer"\n            data-dojo-props\x3d"region:\'center\'" style\x3d"border: none"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"contentPanel" class\x3d"contentPanel" data-dojo-type\x3d"xl.player.ContentPanel"\n            data-dojo-props\x3d"region:\'center\'" style\x3d"border: none"\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"ariaContentHolder" class\x3d"hidden"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" class\x3d"palettePanel" data-dojo-attach-point\x3d"palettePanel"\n            data-dojo-props\x3d"region:\'bottom\',layoutPriority:3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"mathPalette" class\x3d"hidden" data-dojo-type\x3d"xl.player.controls.InlineMathPalette"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"controlpanelholder" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'bottom\'"\x3e\n            \x3c!--\x3cdiv data-dojo-attach-point\x3d"controlPanel" class\x3d"controlPanel" data-dojo-type\x3d"xl.player.PlayerControlPanel" data-dojo-props\x3d"region:\'bottom\',layoutPriority:1"\n                 data-dojo-attach-event\x3d"onButtonClick:controlButtonClicked"\x3e\n            \x3c/div\x3e--\x3e\n            \x3cdiv data-dojo-attach-point\x3d"controlPanelContainer"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!--TODO - palettes should not be in template we should just create them in the code--\x3e\n    \x3c!--\x3cdiv data-dojo-attach-point\x3d"mathPalette" data-dojo-type\x3d"xl.player.controls.MathPalette" class\x3d"hidden" data-dojo-props\x3d"region:\'bottom\'"\x3e\x3c/div\x3e--\x3e\n\x3c/div\x3e\n',
"url:xl/dijit/templates/AssignmentReviewNav.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"assignmentreviewnav" class\x3d"assignmentreviewnav"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"assignmentreviewnavheader" class\x3d"assignmentreviewnavheader"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"assignmentreviewnavtablediv" class\x3d"assignmentreviewnavtablediv"\x3e\n            \x3ca data-dojo-attach-point\x3d"focusshifter" class\x3d"sr-only" style\x3d"margin: 15px;" href\x3d"#"\x3eSkip\x3c/a\x3e\n            \x3cdiv data-dojo-attach-point\x3d"assignmentreviewnavListContainer" class\x3d"assignmentreviewnavListContainer"\x3e\n                \x3cul data-dojo-attach-point\x3d"assignmentreviewnavUL"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/templates/HigherEdControlPanel.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"flex-row-container"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"leftPanel" class\x3d"flex-row-item left"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"buttonContainerLeft" style\x3d"display:inline-block"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"grammarApplyScorePanel" class\x3d"gaScorePanel hidden"\x3e\n            \x3cspan data-dojo-attach-point\x3d"lblScore" class\x3d"gaScoreLabel"\x3eSCORE:\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"lblScoreValue" class\x3d"gaScoreValue"\x3e0\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"lblRemaining" class\x3d"gaScoreLabel"\x3eREMAINING:\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"lblRemainingValue" class\x3d"gaScoreValue"\x3e10/10\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"learningAidBlock" class\x3d"learningAidBlock" style\x3d"display: none"\x3e\n            \x3cspan data-dojo-attach-point\x3d"outsideLearningAids"\x3e\x3c/span\x3e\n            \x3cdiv data-dojo-attach-point\x3d"questionHelpMenu" data-dojo-type\x3d"xl.player.HigherEdLearningAidMenu" style\x3d"display: none"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"assignedMediaDropdown" data-dojo-type\x3d"xl.player.HigherEdAssignedMediaDropdown" class\x3d"hidden"\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"menuHolder" class\x3d"menuHolder"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"menu" data-dojo-type\x3d"xl.player.PlayerMenu"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"showCompletedCheckBox" class\x3d"showCompletedCheckBox" data-dojo-type\x3d"xl.dijit.StyledCheckBox"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex-row-item right"\x3e\n\n        \x3cdiv class\x3d"flex-row-item left"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"buttonContainerCenter" style\x3d"display:inline-block"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"flex-row-item right" style\x3d"display:flex"\x3e\n            \x3cspan class\x3d"time" data-dojo-attach-point\x3d"timeInfoSpan"\x3e\n                \x3clabel  data-dojo-attach-point\x3d"timeLabel" class\x3d"timerIcon"\x3e\x3c/label\x3e\n                \x3cspan data-dojo-attach-point\x3d"timeValue"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cdiv style\x3d"display:inline-block; vertical-align: middle;"\x3e            \n                \x3cdiv role\x3d"presentation"\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"remediationButton" \n                        data-dojo-type\x3d"xl.dijit-bootstrap.Button" \n                        class\x3d"hidden btnSkillBuilderHighEnd"\x3e\n                    \x3c/button\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"buttonContainerRight" style\x3d"display:inline-flex"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"btnSubmit" class\x3d"btnSubmit btn-primary hidden" data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-props\x3d"tabIndex:0"\x3e\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/templates/HigherEdAssignedMediaDropdown.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"focusNode" class\x3d"menu-button" aria-haspopup\x3d"true" aria-expanded\x3d"false" role\x3d"menu"\x3e\x3c!--\n    Note: comments are here so we can format the HTML without the browser rendering spaces\n    --\x3e\x3cspan data-dojo-attach-point\x3d"buttonLabel"\x3e\x3c/span\x3e\x26nbsp;\x3cspan class\x3d"icon-arrow-up"\x3e\x3c/span\x3e\x3c!-- \n--\x3e\x3c/button\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" class\x3d"${baseClass}Menu higherEd" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/templates/HigherEdLearningAidMenu.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"focusNode" class\x3d"menu-button" aria-haspopup\x3d"true" aria-expanded\x3d"false" role\x3d"menu"\x3e\x3cspan data-dojo-attach-point\x3d"buttonLabel"\x3e\x3c/span\x3e\x26nbsp;\x3cspan class\x3d"icon-arrow-up" style\x3d"margin-left: 0px;"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDown" class\x3d"${baseClass}Menu higherEd" data-dojo-type\x3d"dijit.Menu" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/templates/HigherEdHeaderBar.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"statusPanel"\n        class\x3d"higherEd statusPanel"\n        data-dojo-type\x3d"dijit.layout.ContentPane"\n        data-dojo-props\x3d"region:\'top\'"\x3e\n        \x3cdiv class\x3d"layoutContainer" data-dojo-attach-point\x3d"layoutContainerGeneal"\x3e\n            \x3cdiv class\x3d"layoutLeft"\x3e\n                \x3cbutton aria-haspopup\x3d"true" data-dojo-attach-point\x3d"btnOverview" class\x3d"btnOverview hidden"\n                    data-dojo-type\x3d"xl.dijit-bootstrap.Button"\x3e\x3c/button\x3e\n                \x3cspan role\x3d"heading" aria-level\x3d"2" data-dojo-attach-point\x3d"assignmentTitle" class\x3d"assignmentTitle"\x3e\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"skillBuilderTitle" class\x3d"assignmentTitle hidden"\x3e\x3c/span\x3e\n                \x3cdiv data-dojo-attach-point\x3d"statusPanelSpacer" class\x3d"statusPanelSpacer hidden"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"progressTextLeft" class\x3d"progressTextLeft hidden"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"layoutCenter"\x3e\n                \x3cdiv class\x3d"nextPrevPanel hidden" data-dojo-attach-point\x3d"nextPrevPanel"\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"btnPrev" class\x3d"btnPrev"\n                        data-dojo-type\x3d"xl.dijit-bootstrap.Button"\x3e\x3c/button\x3e\n                    \x3cdiv class\x3d"nextPrevPanelText"\x3e\n                        \x3cdiv role\x3d"heading" aria-level\x3d"3" class\x3d"itemTitles"\x3e\n                            \x3cspan data-dojo-attach-point\x3d"numericItemTitle" class\x3d"numericItemTitle"\x3e\x3c/span\x3e\x3c!-- avoid blank space\n                            --\x3e\x3cspan data-dojo-attach-point\x3d"statusTitle" class\x3d"statusTitle"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"progressText" class\x3d"progressText hidden"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"btnNext" class\x3d"btnNext"\n                        data-dojo-type\x3d"xl.dijit-bootstrap.Button"\x3e\x3c/button\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"layoutRight"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"skillBuilderProgressText" class\x3d"itemScore hidden"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"scores"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"overallScore" class\x3d"overallScore"\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"itemScoreGroup" class\x3d"itemScore hidden"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"correctnessIcon" class\x3d"correctnessIcon"\x3e\x3c/span\x3e\n                        \x3cspan data-dojo-attach-point\x3d"itemScore"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"layoutRight-controls"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"itemPlayerSettings" class\x3d"settingsMenu"\n                        data-dojo-type\x3d"xl.player.PlayerMenu" data-dojo-props\x3d"baseClass:\'xlPlayerOptions\'" title\x3d" "\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"statusPanelButtonContainer" class\x3d"statusPanelButtonContainer"\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"btnClose" class\x3d"btnClose hidden"\n                            data-dojo-type\x3d"xl.dijit-bootstrap.Button" dtabindex\x3d"0"\x3eClose\x3c/button\x3e\n                        \x3cbutton style\x3d"display: none;" data-dojo-attach-point\x3d"btnReturnToHWHigherEd"\n                            data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-props\x3d"tabIndex:0"\n                            class\x3d"btn-secondary btnReturnToHWHigherEd"\x3eReturn\x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/templates/InteractiveAssignmentHeaderBar.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"statusPanel"\n        class\x3d"higherEd statusPanel"\n        data-dojo-type\x3d"dijit.layout.ContentPane"\n        data-dojo-props\x3d"region:\'top\'"\x3e\n        \x3cdiv class\x3d"layoutContainer" data-dojo-attach-point\x3d"layoutContainerGeneal"\x3e\n            \x3cdiv class\x3d"layoutLeft"\x3e\n                \x3c!-- New for Interactive Assignments - tooltip shows assignment policy information --\x3e\n                \x3cbutton aria-haspopup\x3d"true" data-dojo-attach-point\x3d"btnInformation" class\x3d"btnInformation"\n                    aria-describedby\x3d"btnInformationText"\n                    data-dojo-type\x3d"xl.dijit-bootstrap.Button"\x3e\x3c/button\x3e\n                \x3c!-- This span exists so screen readers can read the information dynamically --\x3e\n                \x3cspan data-dojo-attach-point\x3d"informationText" aria-live\x3d"polite" id\x3d"btnInformationText" class\x3d"hidden"\x3e\x3c/span\x3e\n                \x3cspan role\x3d"heading" aria-level\x3d"2" data-dojo-attach-point\x3d"assignmentTitle" class\x3d"assignmentTitle"\x3e\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"skillBuilderTitle" class\x3d"assignmentTitle hidden"\x3e\x3c/span\x3e\n                \x3cdiv data-dojo-attach-point\x3d"statusPanelSpacer" class\x3d"statusPanelSpacer hidden"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"progressTextLeft" class\x3d"progressTextLeft hidden"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"layoutCenter"\x3e\n                \x3cdiv class\x3d"nextPrevPanel hidden" data-dojo-attach-point\x3d"nextPrevPanel"\x3e\n                    \x3cdiv class\x3d"nextPrevPanelText"\x3e\n                        \x3cdiv role\x3d"heading" aria-level\x3d"3" class\x3d"itemTitles"\x3e\n                            \x3c!-- Use the same CSS class as the "numeric item title" in HigherEd --\x3e\n                            \x3cspan data-dojo-attach-point\x3d"itemType" class\x3d"numericItemTitle"\x3e\x3c/span\x3e\n                            \x3c!-- No "status title" in Interactive Assignments --\x3e\n                        \x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"progressText" class\x3d"progressText hidden"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"layoutRight"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"skillBuilderProgressText" class\x3d"itemScore hidden"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"scores" class\x3d"scores"\x3e\n                    \x3c!-- New for Interactive Assignments - "Completed: x of y" --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"assignmentProgress" class\x3d"assignmentProgress"\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"scoresDivider" class\x3d"scoresDivider hidden"\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"overallScore" class\x3d"overallScore"\x3e\x3c/div\x3e\n                    \x3c!-- HigherEdPlayerViewer needs this for correctnessIconHost --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"itemScoreGroup" class\x3d"itemScore hidden"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"correctnessIcon" class\x3d"correctnessIcon hidden"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"layoutRight-controls"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"itemPlayerSettings" class\x3d"settingsMenu"\n                        data-dojo-type\x3d"xl.player.PlayerMenu" data-dojo-props\x3d"baseClass:\'xlPlayerOptions\'" title\x3d" "\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"statusPanelButtonContainer" class\x3d"statusPanelButtonContainer"\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"btnClose" class\x3d"btnClose hidden"\n                            data-dojo-type\x3d"xl.dijit-bootstrap.Button"\x3eClose\x3c/button\x3e\n                        \x3cbutton data-dojo-attach-point\x3d"btnReturnToHWHigherEd"\n                            data-dojo-type\x3d"xl.dijit-bootstrap.Button"\n                            class\x3d"btn-secondary btnReturnToHWHigherEd hidden"\x3eReturn\x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/forms/templates/HigherEdGradePanel.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3cdiv class\x3d"flex-row-item left"\x3e\n        \x3cspan data-dojo-attach-point\x3d"spanNeedsGrading"\x3e${textNeedsGrading}\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex-row-item center"\x3e\n        \x3cspan data-dojo-attach-point\x3d"spanExtraTitle"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex-row-item right"\x3e\n        \x3cspan data-dojo-attach-point\x3d"textGrade" class\x3d"textGrade"\x3e${textGrade}\x3c/span\x3e\n        \x3cinput data-dojo-attach-point\x3d"txtGrade" type\x3d"text" value\x3d"0" class\x3d"textGradeInput"\n            data-dojo-attach-event\x3d"keyup:txtGradeKeyUp" /\x3e\n        \x3cspan data-dojo-attach-point\x3d"spanTotalPoints" class\x3d"textTotalPoints"\x3e${textTotalPoints}\x3c/span\x3e\n        \x3cbutton data-dojo-attach-point\x3d"submitButton" data-dojo-type\x3d"xl/dijit-bootstrap/Button"\n            data-dojo-attach-event\x3d"click:submitGradeClick"\x3e${textSubmitGrade}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/OnScreenKeyboard.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"defaultNode"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"paletteNode" class\x3d"palette"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"keyboardNode" class\x3d"keyboard"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"moreNode" class\x3d"hidden"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"morePaletteNode" class\x3d"palette"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"*now":function(s){s(['dojo/i18n!*preload*xl/player/nls/PlayerApp*["ar","ca","cs","da","de","el","en-gb","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn"]'])}}});
define("xl/player/PlayerApp","dojo/_base/declare dijit/_WidgetBase dojo/dom-geometry dojo/dom-style dojo/dom-class xl/player/PlayerViewer xl/player/HigherEdPlayerViewer dijit/registry xl/player/PlayerService xl/player/PlayerController dojo/dom dojo/io-query dojo/on dojo/json dojo/_base/lang dojo/hash dojo/topic dojo/dom-construct xl/util/localization xl/util/errorPanel dojox/gfx/registry dojo/window xl/dijit/_FullHeight xl/paf/enums xl/assignment/AssignmentEnums xl/util/ga xl/util/standbyHandler xl/util/stringUtils xl/dijit/Standby xl/player/dialogs/KeyboardDialog".split(" "),function(s,
q,l,h,n,f,m,c,e,b,d,k,r,a,t,u,v,D,z,B,F,A,x,w,C,E,J,H,G,I){l.boxModel="border-box";return s("xl.player.PlayerApp",[q,x],{baseClass:"playerApp",_viewer:null,_keyboard:null,_currentHash:null,_playerGuid:null,disableStandbyIndicator:!1,viewerType:"player",isTdx2:!1,constructor:function(){this._playerGuid=H.guid()},postCreate:function(){this.inherited(arguments);var c=new e({baseUrl:"/api/v1/"}),c=new b({service:c}),d=D.create("div",{"class":"playerViewerHolder"},this.domNode);this._viewerHolder=d;var d=
D.create("div",{id:"playerViewer"},d),h=this._viewer="highered"===this.viewerType?new m({controller:c,isTdx2:this.isTdx2},d):new f({controller:c},d);this._setupKeyboard();D.place(this._keyboard.domNode,document.body);this._viewer.setupKeyboard(this._keyboard);h.on("resultsposted",t.hitch(this,this._resultsPosted));h.on("saveresultcancelled",t.hitch(this,this._saveResultCancelled));h.on("submitgrade",t.hitch(this,this._submitGrade));h.on("navigate",t.hitch(this,this._navigate));h.on("loadquestion",
t.hitch(this,this._loadQuestion));h.on("assignedmediaclicked",t.hitch(this,this._assignedMediaClicked));h.on("reloadquestion",t.hitch(this,this._reloadQuestion));h.on("closeactivity",t.hitch(this,this._closeActivity));h.on("commandcomplete",t.hitch(this,this._commandComplete));h.on("assignmentcommand",t.hitch(this,this._assignmentCommand));h.on("openoverview",t.hitch(this,this._openOverview));h.on("closeoverview",t.hitch(this,this._closeOverview));h.on(C.EVENT_ASSIGNMENT_ACTION,t.hitch(this,this._assignmentAction));
h.on("questionstatuschanged",t.hitch(this,this._questionStatusChanged));v.subscribe("/dojo/hashchange",t.hitch(this,this._hashChanged));v.subscribe("openOverview",t.hitch(this,this._openOverview));v.subscribe("closeOverview",t.hitch(this,this._closeOverview));this.own(J.registerStandbyNotify(t.hitch(this,this._standbyToggle)));this.own(J.registerModalNotify(t.hitch(this,this._modalToggle)));h.on("input_changed",t.hitch(this,this._inputChanged));h.on("returntohomeclickedmessage",t.hitch(this,this._higheredReturnedToHomeClicked));
this._keyboard.startup();h.startup();var l=this,n=function(a){var b=H.parsePostMessage(a.data);if(a=b["x-authorization"])h.piToken=a;switch(b["@type"]){case "SequenceNode":b.targetActivity&&(l._currentHash=b.targetActivity,u(b.targetActivity,!0));h.loadSequence(b).then(function(a){a={"@type":"SequenceNodeLoaded",sequenceNodeId:b["@id"],targetActivity:b.targetActivity,statusCode:a.statusCode,status:a.status,messageId:b.messageId};l._viewer.checkAllDigitsLoaded();l._postAssignmentMessage(a)});break;
case "ItemAttempt":h.loadItemAttempt(b).then(function(a){a={"@type":"ItemAttemptLoaded",attempId:b.attemptId,itemId:b.itemId,messageId:b.messageId};l._viewer.checkAllDigitsLoaded();l._postAssignmentMessage(a)});break;case "NodeResultRequest":h.postNodeResultRequest(b);break;case "SaveResultRequest":l.saveResultRequest(b);break;case "UpdateResult":h.updateResultIcon(b.correctness);h.updateGradePanel({score:b.score,graded:!0});break;case "UpdateMastery":h.updateMasteryInfo(b);break;case "ShowTdxInfo":h.showTdxInfo();
break;case "UploadGuidedSolution":h.postCommand("loadguidedsolution",{gsiUri:b.gsUri});break;case "GuidedSolution":h.postCommand("loadguidedsolution",{gsiUri:b.targetActivity});break;case "ClearDisplay":h.initViewer();break;case "ChangeLanguage":a=b.locale;h.postCommand("changelanguage",{locale:a}).then(function(){h.resize()});z.changeLocale(a);break;case "ChangeAccessibility":h.postCommand("changeaccessibility",{value:b.value});break;case "ChangeUseOsk":h.postCommand("changeuseosk",{value:b.value});
break;case "ChangeUseMobileUI":h.postCommand("changeusemobileui",{value:b.value});break;case "PlayerCommand":h.playerCommand(b.command,b.arguments);break;case "PlayerGetProperty":h.getProperty(b.property).then(function(a){l._postAssignmentMessage({"@type":"GetPropertyResponse",messageId:b.messageId,property:a.property,value:a.value})});break;case "LaunchMediaQuestion":h.emit("assignedmediaclicked",{mediaInfo:{questionId:b.questionId},partnerGraded:b.partnerGraded});break;case "TdxInfoLoaded":h.tdxInfoLoaded();
break;case "JavascriptError":h.doJavascriptError(b.type);break;case "PiToken":h.piToken=b.token;break;case "SkipNavigation":h.contentPanel.focusFirstPanel();break;case "WidgetsLoaded":l._postAssignmentMessage({"@type":"RenderCompleted"});break;case "UpdateEmbeddedAssignmentControls":h.updateEmbeddedAssignmentControls(b);break;case "UpdatePlayerNavigationData":h._initAssignmentReviewNav(b.playMode,b.assignmentReviewNavData,b.currentQuestion);break;case "UpdateTime":h._updateTime&&h._updateTime(b.timeData);
break;case "setRemediationTitles":h.setRemediationTitles(b.actionArgs);break;case "updateOverviewText":h.updateOverviewText(b.stats);break;case "toolAction":h.playToolAction(b);break;case "OverviewClosed":h.onOverviewClosed(b.closeButtonClicked);break;case "UpdateAttempt":h.updateAttempt(b.attempt,b.currentQuestion)}l._setPlayerHeight(!0)};r(window,"message",n);window.fakePostMessage=function(a){n({data:a})};(c=u())?(this._currentHash=c,h.loadActivity(c,k.queryToObject(location.search.substring(1))).then(function(){l._viewer.checkAllDigitsLoaded()})):
(c=location.search.substring(1),0<c.length&&(d=k.queryToObject(c),(d.type&&"local"===d.type||d.bookCode)&&h.loadProblem(k.queryToObject(c)).then(function(){l._viewer.checkAllDigitsLoaded()})));window.playerViewer=h;window.parent.postMessage(a.stringify({"@context":"http://purl.org/pearson/paf/v1/ctx/core/PlayerReady","@type":"PlayerReady"}),"*")},saveResultRequest:function(a){a={"@type":"NodeResultRequest","@context":"http://purl.org/pearson/paf/v1/ctx/core/NodeResultRequest",msgId:a.messageId,requestedNode:null,
skipCompleteCheck:a.force};this._useAttemptController=!0;this._viewer.postNodeResultRequest(a)},_setupKeyboard:function(){var a=this._keyboard=new I({});a.on("show",t.hitch(this,this._keyboardShown));a.on("hide",t.hitch(this,this._keyboardHidden));a.on("sizechanged",t.hitch(this,this._keyboardSizeChanged))},_setAssignmentHandlesLocaleAttr:function(a){this.assignmentHandlesLocale=a;this._viewer&&(this._viewer.assignmentHandlesLocale=a)},_getAssignmentHandlesLocaleAttr:function(){return this.assignmentHandlesLocale},
_keyboardShown:function(){this._viewer.domNode.dojoClick=!0;h.set(document.body,{position:"relative"});this._layout()},_keyboardHidden:function(){this._viewer.domNode.dojoClick=!1;h.set(document.body,{position:null});this._layout()},_keyboardSizeChanged:function(){this._layout()},_modalToggle:function(a){this._postAssignmentMessage({"@type":w.EVENT_TOGGLE_UI,enableUI:!a.state,playerId:this._playerGuid})},_standbyToggle:function(a){this._toggleStandbyIndicator(a.state);a=t.mixin({"@type":w.EVENT_TOGGLE_STANDBY,
playerId:this._playerGuid},a);this._postAssignmentMessage(a)},_openOverview:function(){this._postAssignmentMessage({"@type":w.EVENT_OPEN_OVERVIEW})},_closeOverview:function(){this._postAssignmentMessage({"@type":w.EVENT_CLOSE_OVERVIEW})},_hashChanged:function(a){if(a&&a!==this._currentHash){this._currentHash=a;var b=this;this._viewer.loadActivity(a,k.queryToObject(location.search)).then(function(){b._viewer.checkAllDigitsLoaded()})}},_resultsPosted:function(a){a.nodeResultResponse&&(a=a.nodeResultResponse,
this._useAttemptController&&(a={"@type":"SaveResultResponse",response:"Saved",messageId:a.originalMsgId,result:a.requestedResult}),this._postAssignmentMessage(a))},_saveResultCancelled:function(a){this._postAssignmentMessage(a.msg)},_closeActivity:function(a){a&&this._postAssignmentMessage({"@type":"CloseActivity",reason:a.reason})},_submitGrade:function(a){a&&this._postAssignmentMessage({"@type":"SubmitGrade",info:a.info})},_navigate:function(a){this._postAssignmentMessage({"@type":"Navigate",direction:a.direction,
eventAction:a.eventAction,previousCorrect:a.previousCorrect})},_loadQuestion:function(a){this._postAssignmentMessage({"@type":"LoadQuestion",questionIndex:a.questionIndex})},_assignedMediaClicked:function(a){this._postHostMessage({"@type":"AssignedMediaClicked",mediaInfo:a.mediaInfo,partnerGraded:a.partnerGraded||!1})},_reloadQuestion:function(){this._postAssignmentMessage({"@type":"Navigate",direction:"reload"})},_assignmentCommand:function(a){this._postAssignmentMessage({"@type":w.EVENT_ASSIGNMENT_COMMAND,
command:a.command,arguments:a.arguments})},_assignmentAction:function(a){this._postAssignmentMessage({"@type":C.EVENT_ASSIGNMENT_ACTION,action:a.action})},_higheredReturnedToHomeClicked:function(a){this._postAssignmentMessage({"@type":C.EVENT_RETURN_TO_ASSIGNMENT,command:a.command,arguments:a.commandArgs})},_postAssignmentMessage:function(b){window.parent.postMessage(a.stringify(b),"*")},_postHostMessage:function(b){window.parent.parent.postMessage(a.stringify(b),"*")},_postNodeResult:function(){},
_layout:function(){var a=l.getContentBox(this.domNode);this._viewer.resize({w:a.w,h:a.h});this._setPlayerHeight()},heightAdjusted:function(a){this._viewer.viewerResizedByWindow=!0;this._layout()},_initStandbyIndicator:function(){this.standbyDijit=new G({target:this.id,duration:0});this.disableStandbyIndicator&&(this.standbyDijit.set("opacity",0),this.standbyDijit.set("imageOpacity",0));document.body.appendChild(this.standbyDijit.domNode);this.standbyDijit.startup()},_standbyDisplayed:!1,_toggleStandbyIndicator:function(a){a!==
this._standbyDisplayed&&(this._standbyDisplayed=a,this.standbyDijit||this._initStandbyIndicator(),!0===a?this.standbyDijit.show():this.standbyDijit.hide())},_commandComplete:function(a){this._postAssignmentMessage({"@type":"PlayerCommandComplete",command:a.command,response:a.response})},_questionStatusChanged:function(a){a.detail.widget===this._viewer&&this._postAssignmentMessage({"@type":"QuestionStatusChanged",questionStatus:a.questionStatus})},_inputChanged:function(){this._setPlayerHeight()},
_postedPlayerHeight:-1,_setPlayerHeight:function(b){if(this._viewer.autoHeight){var c=this._viewer.keyboard.getHeight(),d=this._viewer.messagePanelContentPane?l.getMarginBox(this._viewer.messagePanelContentPane.domNode).h:0,e=this._viewer.statusPanel?l.getMarginBox(this._viewer.statusPanel.domNode).h:0,f=this._viewer.mathPalette?l.getMarginBox(this._viewer.mathPalette.domNode).h:0,h=this._viewer.controlPanel?l.getMarginBox(this._viewer.controlPanel.domNode).h:0,k=this._viewer.contentPanel?this._viewer.contentPanel.getInnerContentHeight():
0,c=c+d+e+f+h+k+24;if(0<c&&(c!==this._postedPlayerHeight||b))this._postedPlayerHeight=c,window.parent.postMessage(a.stringify({"@type":"PlayerResized",height:c}),"*")}},getMinHeight:function(){return 300}})});
//@ sourceMappingURL=PlayerApp.js.map